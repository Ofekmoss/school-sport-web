define(["templates/manage","manage/dal","dialog"],function(t,e,i){var a={edit:1,new:2,view:3};return Vue.extend({template:t["new-player2"],data:function(){return{states:a,record:{},studentBirthDate:new Date,changed:!1,state:0,adminStatuses:[{Id:2,Name:"מאושר"},{Id:1,Name:"רשום"},{Id:3,Name:"לא מאושר"}]}},mounted:function(){this.state!==this.states.new&&(this.studentBirthDate=new Date(this.record.Student.BirthDate))},methods:{cancel:function(){this.$emit("close")},confirm:function(){this.$emit("close")},isValid:function(){},setBirthDate:function(t){this.record.studentBirthDate=t},changeRecord:function(){this.changed=!0},validatePlayer:function(){this.isValid=!0},uploadPicture:function(){this.state==this.states.notLoaded||this.state==this.states.loading||this.external||$("#fiPicture").click()},uploadIdSlip:function(){this.state==this.states.notLoaded||this.state==this.states.loading||this.external||$("#fiIdSlip").click()},uploadMedicalApproval:function(){this.state==this.states.notLoaded||this.state==this.states.loading||this.external||$("#fiMedicalApproval").click()}},watch:{record:{deep:!0,handler:function(t,e){this.validatePlayer(),e.Id&&(this.changed=!0)}}}})});