define(["templates/manage","manage/dal","utils","manage/filters-championships","manage/new-championship","manage/data-table2","components/multiselect"],function(e,i,t){var a=[{key:"Name",name:"שם",active:!0,type:"text"},{key:"IsOpen",name:"האם פתוחה",active:!0,type:"text"},{key:"Status",name:"סטטוס",active:!0,type:"text"},{key:"Region.Name",name:"מחוז",active:!0,type:"text"},{key:"Sport.Name",name:"כדורסל",active:!0,type:"text"},{key:"Categories",name:"קטגוריות",active:!0,type:"championship-categories"},{key:"Supervisor.Name",name:"מפקח",active:!1,type:"text"},{key:"Supervisor.Email",name:"אימייל מפקח",active:!1,type:"text"},{key:"Dates.LastRegistration",name:"סיום הרשמה",active:!0,type:"text"},{key:"Dates.Start",name:"התחלה",active:!1,type:"text"},{key:"Dates.End",name:"סיום",active:!1,type:"text"},{key:"Dates.AltStart",name:"התחלה 2",active:!1,type:"text"},{key:"Dates.AltEnd",name:"התחלה 2",active:!1,type:"text"},{key:"Dates.Finals",name:"Finals",active:!1,type:"text"},{key:"Dates.AltFinals",name:"AltFinals",active:!1,type:"text"}];return Vue.extend({template:e.championships,data:function(){return{tabName:"אליפויות",caption:"אליפויות",image:"img/icon-championships.svg",records:[],columns:a,selectedRecord:null,initFilters:{}}},props:{region:{},sport:{}},mounted:function(){this.region=this.region?parseInt(this.region):"",this.sport=this.sport?parseInt(this.sport):"",this.initFilters={sport:this.sport,region:this.region}},methods:{updateCaption:function(e){this.caption=e},saveRecord:function(){console.log("saving... ",this.selectedRecord)},refresh:function(e){this.loading=!0,e&&(this.updateCaption(e.description),this.sport=e.sport?e.sport.id:null,this.region=e.region?e.region.id:null);var t=this;i.getChampionships(e).then(function(e){t.records=e})},onRecordSelect:function(e){this.selectedRecord=t.mergeDeep({},e)},onNewChampionshipClick:function(){this.selectedRecord={Coach:{},Manager:{},Teacher:{}}}}})});