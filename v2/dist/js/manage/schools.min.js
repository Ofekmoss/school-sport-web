define(["templates/manage","manage/dal","utils","manage/filters-schools","manage/new-school","manage/data-table2","components/multiselect"],function(e,i,t){var a=[{key:"Name",name:"שם",active:!0,type:"text"},{key:"Symbol",name:"סמל",active:!0,type:"text"},{key:"Address",name:"כתובת",active:!0,type:"text"},{key:"ZipCode",name:"מיקוד",active:!0,type:"text"},{key:"Email",name:"אימייל",active:!0,type:"text"},{key:"PhoneNumber",name:"טלפון",active:!0,type:"text"},{key:"FaxNumber",name:"פקס",active:!0,type:"text"},{key:"Principal.Name",name:"מנהל",active:!0,type:"text"},{key:"Principal.Email",name:"אימייל מנהל",active:!0,type:"text"},{key:"Principal.PhoneNumber",name:" טלפון מנהל",active:!0,type:"text"},{key:"Chairman.Name",name:'יו"ר',active:!0,type:"text"},{key:"Chairman.Email",name:'אימייל יו"ר',active:!0,type:"text"},{key:"Chairman.PhoneNumber",name:' טלפון יו"ר',active:!0,type:"text"},{key:"Coordinator.Name",name:"רכז",active:!0,type:"text"},{key:"Coordinator.Email",name:"אימייל רכז",active:!0,type:"text"},{key:"Coordinator.PhoneNumber",name:" טלפון רכז",active:!0,type:"text"},{key:"Representative.Name",name:"נציג מטעם הרשות",active:!0,type:"text"},{key:"Representative.Email",name:"אימייל נציג מטעם הרשות",active:!0,type:"text"},{key:"Representative.PhoneNumber",name:" טלפון נציג מטעם הרשות",active:!0,type:"text"},{key:"Region.Name",name:"מחוז",active:!0,type:"text"},{key:"City.Name",name:"עיר",active:!0,type:"text"},{key:"Registration.AssociationNumber",name:"עמותה",active:!0,type:"text"}];return Vue.extend({template:e.schools,data:function(){return{tabName:"בתי ספר",caption:"בתי ספר",image:"img/icon-schools.svg",records:[],columns:a,selectedRecord:null,initFilters:{}}},props:{region:{},city:{}},mounted:function(){this.city=this.city?parseInt(this.city):"",this.region=this.region?parseInt(this.region):"",this.initFilters={city:this.city,region:this.region}},methods:{updateCaption:function(e){this.caption=e},saveRecord:function(){console.log("saving... ",this.selectedRecord)},refresh:function(e){e&&(this.updateCaption(e.description),this.city=e.city&&-1!=e.city.id?e.city.id:"",this.region=e.region&&-1!=e.region.id?e.region.id:"");var t=this;i.getSchools(e).then(function(e){t.records=e.data})},onRecordSelect:function(e){this.selectedRecord=t.mergeDeep({},e[0])},onNewTeamClick:function(){this.selectedRecord={Coach:{},Manager:{},Teacher:{}}}}})});