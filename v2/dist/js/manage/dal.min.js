define([],function(){var e=[{id:1,name:"א"},{id:2,name:"ב"},{id:3,name:"ג"},{id:4,name:"ד"},{id:5,name:"ה"},{id:6,name:"ו"},{id:7,name:"ז"},{id:8,name:"ח"},{id:9,name:"ט"},{id:10,name:"י"},{id:11,name:'י"א'},{id:12,name:'י"ב'}];function a(t){return 0<=t&&t<e.length?e[t].name:""}function r(t){return null===t||0===t?"":1===t?"בן":"בת"}function i(t){return t?(t=new Date(t),isNaN(t)?null:("0"+t.getDate()).slice(-2)+"/"+("0"+(t.getMonth()+1)).slice(-2)+"/"+("000"+t.getFullYear()).slice(-4)):t}return{getDateText:i,getChampionships:function(t){var e="";return t&&(null!==t.region&&0<=t.region&&(0<e.length&&(e+="&"),e+="region="+t.region),null!==t.sport&&0<t.sport&&(0<e.length&&(e+="&"),e+="sport="+t.sport)),Vue.http.get("/api/v2/manage/championships?"+e).then(function(t){return t.data.filter(function(t){return!0}).map(function(t){return t.IsOpen=t.IsOpen?"פתוחה":"סגורה",t.Dates&&(t.Dates.LastRegistration=i(t.Dates.LastRegistration),t.Dates.Start=i(t.Dates.Start),t.Dates.End=i(t.Dates.End),t.Dates.AltStart=i(t.Dates.AltStart),t.Dates.AltEnd=i(t.Dates.AltEnd),t.Dates.Finals=i(t.Dates.Finals),t.Dates.AltFinals=i(t.Dates.AltFinals)),t.id=t.Id,t.name=t.Name,t.isClubs=t.IsClub,t.isLeague=t.IsLeague,t.isOpen=t.IsOpen,t.status=t.Status,t})})},getTeams:function(t){var e="";t.championship&&(e+="championship="+t.championship),t.category&&(e+="&category="+t.category),void 0!==t.region&&null!=t.region&&(e+="&region="+t.region),t.sport&&(e+="&sport="+t.sport);var n="/api/v2/manage/teams?"+e;return Vue.http.get(n).then(function(t){return t.data.map(function(t){return t.Coach&&(t.Coach.certification=null===t.Coach.Certification?"":t.Coach.Certification?"כן":"לא"),null!=t.CreatedAt&&(t.createdAt=i(t.CreatedAt),t.CreatedAt=new Date(t.CreatedAt)),t.registrationDate=i(t.RegistrationDate),t.RegistrationDate=new Date(t.RegistrationDate),null!=t.ConfirmationDate&&(t.confirmationDate=i(t.ConfirmationDate),t.ConfirmationDate=new Date(t.ConfirmationDate)),t.AdminStatus&&(t.AdminStatus_value=[{Id:0,Name:"לא פעילה"},{Id:1,Name:"קבוצה פעילה"},{Id:2,Name:"מאושרת על ידי רכז התאחדות"}][t.AdminStatus].Name),t})})},getTeamNumbers:function(t,e){var n="/api/v2/manage/teams/"+t+"/"+e+"/team-numbers";return Vue.http.get(n).then(function(t){return t.data.map(function(t){return t})})},getSchoolRegistrationData:function(t){var e="/api/v2/manage/schools/"+t;return Vue.http.get(e).then(function(t){return t.data.Registration})},getPlayers:function(e){if(!e.team)return Promise.reject("missing team id");var n=[];return Object.keys(e).forEach(function(t){null!==e[t]&&n.push(t+"="+e[t])}),Vue.http.get("/api/v2/manage/players?"+n.join("&")).then(function(t){return t.data.map(function(t){if(t.Student&&(t.Student.Grade=a(t.Student.Grade),t.Student.Gender=r(t.Student.Gender),t.BirthDate=i(t.Student.BirthDate)),t.Player)switch(t.Player.RegistrationDate=i(t.Player.RegistrationDate),t.Player.AdminStatus){case 3:t.Status="לא מאושר",t.Remarks&&(t.Status+=" ("+t.Remarks+")");break;case 2:t.Status="מאושר";break;case 1:t.Status="רשום"}return t.Student&&t.Student.School&&t.Student.School.Name&&(t.TeamName=t.Student.School.Name+(t.TeamNumber||" - "+t.TeamNumber)),t})})},getStudents:function(t){var e="";if(t&&t.school)return e+="school="+t.school,Vue.http.get("/api/v2/manage/students?"+e).then(function(t){return t.data=t.data.filter(function(t){return t.Grade<=14}).map(function(t){return t.Grade=a(t.Grade),t.BirthDate=i(t.BirthDate),t.Gender=r(t.Gender),t}),t})},getRegions:function(){return Vue.http.get("/api/v2/manage/regions").then(function(t){return t.data.map(function(t){return t.id=t.Id,t.name=t.Name,t})})},getRegionsWithChampionships:function(){return Vue.http.get("/api/v2/manage/regions?withchampionships=1").then(function(t){return t.data.map(function(t){return t.id=t.Id,t.name=t.Name,t})})},getSeasons:function(){return Vue.http.get("/api/v2/manage/seasons").then(function(t){return t.data.map(function(t){return t.id=t.Id,t.name=t.Name,t})})},getSports:function(t){var e="";return void 0!==t&&(e="region="+t),Vue.http.get("/api/v2/manage/sports?"+e).then(function(t){return t.data.map(function(t){return t.id=t.Id,t.name=t.Name,t})})},getSportsWithChampionships:function(t){var e="withchampionships=1";return void 0!==t&&(e+="&region="+t),Vue.http.get("/api/v2/manage/sports?"+e).then(function(t){return t.data.map(function(t){return t.id=t.Id,t.name=t.Name,t})})},getCategoryNames:function(t,e,n){var a=[];return void 0!==t&&null!=t&&a.push("region="+t),void 0!==e&&null!=e&&a.push("sport="+e),void 0!==n&&null!=n&&a.push("season="+n),Vue.http.get("/api/v2/manage/category-names?"+a.join("&")).then(function(t){return t.data.map(function(t){return{id:t.Id,name:t.Name}})})},getCategories:function(t){var e="";if(t&&t.championship)return e+="championship="+t.championship,Vue.http.get("/api/v2/manage/categories?"+e).then(function(t){return t.data})},getSchools:function(t){var e="";return t&&(0<=t.region&&(0<e.length&&(e+="&"),e+="region="+t.region),0<t.city&&(0<e.length&&(e+="&"),e+="city="+t.city)),Vue.http.get("/api/v2/manage/schools?"+e).then(function(t){return t.data.map(function(t){return t.id=t.Id,t.name=t.Name,t.symbol=t.Symbol,t})})},getCities:function(t){var e="";return t&&0<=t.region&&(0<e.length&&(e+="&"),e+="region="+t.region),Vue.http.get("/api/v2/cities?"+e).then(function(t){return t.data})},getGrades:function(){return e},getFacilities:function(e){var n=[];return Object.keys(e).forEach(function(t){null!==e[t]&&n.push(t+"="+e[t])}),Vue.http.get("/api/v2/manage/facilities?"+n.join("&")).then(function(t){return t.data})},getEvents:function(e){var n=[];return Object.keys(e).forEach(function(t){null!==e[t]&&n.push(t+"="+e[t])}),Vue.http.get("/api/v2/manage/upcoming-events?"+n.join("&")).then(function(t){return t.data})},getGeneralData:function(){return Vue.http.get("/api/v2/general-data").then(function(t){return t.data})},deleteTeam:function(e){var n=[];return Object.keys(e).forEach(function(t){null!==e[t]&&n.push(t+"="+e[t])}),Vue.http.delete("/api/v2/manage/teams?"+n.join("&"))},deletePlayer:function(t){if(t)return Vue.http.delete("/api/v2/manage/players/"+t)},editTeam:function(t){return Vue.http.put("/api/v2/manage/teams",t)},addTeam:function(t){return Vue.http.post("/api/v2/manage/teams",t)},getDashboardData:function(e){var n=[];return Object.keys(e).forEach(function(t){null!==e[t]&&n.push(t+"="+e[t])}),Vue.http.get("/api/v2/manage/dashboard?"+n.join("&")).then(function(t){return t.data})},getUsers:function(t){var e="";return t.type&&(e+="type="+t.type),Vue.http.get("/api/v2/manage/users?"+e).then(function(t){return t.data})},getPeleAppliedTeamsBySport:function(e){var n=[];return Object.keys(e).forEach(function(t){null!==e[t]&&n.push(t+"="+e[t])}),Vue.http.get("/api/v2/manage/dashboard/pele/sports-all-teams?"+n.join("&")).then(function(t){return t.data})},getPeleApprovedTeamsBySport:function(e){var n=[];return Object.keys(e).forEach(function(t){null!==e[t]&&n.push(t+"="+e[t])}),Vue.http.get("/api/v2/manage/dashboard/pele/sports-approved-teams?"+n.join("&")).then(function(t){return t.data})},getTeamsByRegion:function(e){var n=[];return Object.keys(e).forEach(function(t){null!==e[t]&&n.push(t+"="+e[t])}),Vue.http.get("/api/v2/manage/dashboard/pele/regions?"+n.join("&")).then(function(t){return t.data})},getTeamsByCity:function(e){var n=[];return Object.keys(e).forEach(function(t){null!==e[t]&&n.push(t+"="+e[t])}),Vue.http.get("/api/v2/manage/dashboard/pele/cities?"+n.join("&")).then(function(t){return t.data})},getApprovedPlayersBySport:function(e){var n=[];return Object.keys(e).forEach(function(t){null!==e[t]&&n.push(t+"="+e[t])}),Vue.http.get("/api/v2/manage/dashboard/pele/sports-all-players?"+n.join("&")).then(function(t){return t.data})},getPelePlayersBySport:function(e){var n=[];return Object.keys(e).forEach(function(t){null!==e[t]&&n.push(t+"="+e[t])}),Vue.http.get("/api/v2/manage/dashboard/pele/sports-pele-players?"+n.join("&")).then(function(t){return t.data})},getTeamsCount:function(){return Vue.http.get("/api/v2/manage/teams/counts").then(function(t){return t.data})}}});