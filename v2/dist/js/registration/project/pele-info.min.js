define(["templates/registration","services/access","registration/project/pele-details","registration/project/pele-teams","registration/project/pele-players"],function(t,e,n,s,a){return Vue.extend({template:t["pele-info"],data:function(){return{user:e.user,currentPage:null,pages:[n,s,a],page:null,stage:null,seasons:null}},computed:{},mounted:function(){var e=this;Vue.http.get("/api/v2/seasons").then(function(t){e.seasons=t.data}),Vue.http.get("/api/v2/login").then(function(t){e.username=t.data.name,Vue.http.get("/api/v2/registration/project/3").then(function(t){e.goToPage(t.data.status,!0),e.stage=t.data.status})},function(t){console.log(t)})},methods:{getSeason:function(){var e=this;if(e.user&&e.user.season&&e.seasons){var t=e.seasons.find(function(t){return t.id===e.user.season});if(null!=t)return t.name}return""},logout:function(){e.logout()},goToPage:function(t,e){void 0===e&&(e=!1),!e&&t>this.stage||(this.currentPage=t,this.page=this.pages[t])},handlePage:function(t){var e=this,n=this.currentPage+1;this.stage<n&&Vue.http.put("/api/v2/registration/project/3",{id:t,status:n}).then(function(){e.stage=n}),this.currentPage=n,this.page=this.pages[this.currentPage]}},watch:{}})});