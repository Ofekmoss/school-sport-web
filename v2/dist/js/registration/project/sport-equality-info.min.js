define(["templates/registration","services/access","registration/project/sport-equality-details","registration/project/sport-equality-teams","registration/project/sport-equality-players"],function(t,e,s,n,a){return Vue.extend({template:t["sport-equality-info"],data:function(){return{user:e.user,currentPage:null,pages:[s,n,a],page:null,stage:null,seasons:null}},computed:{},mounted:function(){var e=this;Vue.http.get("/api/v2/seasons").then(function(t){e.seasons=t.data}),Vue.http.get("/api/v2/login").then(function(t){e.username=t.data.name,Vue.http.get("/api/v2/registration/project/5").then(function(t){e.goToPage(t.data.status,!0),e.stage=t.data.status})},function(t){console.log(t)})},methods:{getSeason:function(){var e=this;if(e.user&&e.user.season&&e.seasons){var t=e.seasons.find(function(t){return t.id===e.user.season});if(null!=t)return t.name}return""},logout:function(){e.logout()},goToPage:function(t,e){void 0===e&&(e=!1),!e&&t>this.stage||(this.currentPage=t,this.page=this.pages[t])},handlePage:function(t){var e=this,s=this.currentPage+1;this.stage<s&&Vue.http.put("/api/v2/registration/project/5",{id:t,status:s}).then(function(){e.stage=s}),this.currentPage=s,this.page=this.pages[this.currentPage]}},watch:{}})});