define(["templates/registration"],function(t){return Vue.extend({template:t["league-team-dialog"],data:function(){return{team:null,newTeam:!1,facilities:[],sports:[],sportIndex:null,categoryIndex:null,hours:[]}},watch:{sportIndex:function(){this.team.sport=null==this.sportIndex?null:this.sports[this.sportIndex];var t=null;if(this.team.sport&&this.team.category)for(var e=0;e<this.team.sport.categories.length;e++){if(this.team.sport.categories[e].category===this.team.category.category){t=e;break}}this.categoryIndex=t},categoryIndex:function(){this.team.category=null==this.team.sport||null==this.categoryIndex?null:this.team.sport.categories[this.categoryIndex]}},computed:{endHours:function(){if(this.team){if(this.team.activity.startTime){for(var t=0;t<this.hours.length&&this.hours[t].value<=this.team.activity.startTime;)t++;return this.hours.slice(t)}return this.hours}return[]}},mounted:function(){var t=this;null==t.team?(t.newTeam=!0,t.team={coachHelper:{},manager:{},teacher:{},coach:{},activity:[{}]}):null!=t.team.activity&&t.team.activity.length||(t.team.activity=[{}]);for(var e=0;e<24;e++)this.hours.push({value:60*e,text:("0"+e).slice(-2)+":00"}),this.hours.push({value:60*e+30,text:("0"+e).slice(-2)+":30"});if(!t.newTeam)for(var i=0;i<t.sports.length;i++){var a=t.sports[i];if(a.id===t.team.sport.id){t.sportIndex=i,t.team.sport=a;for(var r=0;r<a.categories.length;r++){var s=a.categories[r];if(s.id===t.team.category.id){t.team.category=s,t.categoryIndex=r;break}}break}}},methods:{addActivityDay:function(){this.team.activity.push({})},removeActivityDay:function(t){this.team.activity.splice(t,1)},cancel:function(){this.$emit("close")},confirm:function(){this.$emit("close",this.team)}}})});