define(["templates/admin"],function(s){return Vue.extend({template:s["edit-city-user"],data:function(){return{city:null,hasUser:!1,login:null,password:null}},mounted:function(){this.hasUser=!!this.city.user,this.password=null,this.login=this.city.user?this.city.user.login:""},methods:{close:function(){this.$emit("close")},confirm:function(){var t=this;if(!this.hasUser||this.login!==this.city.user.login||this.password&&0!==this.password.length){var s={login:this.login};this.password&&0<this.password.length&&(s.password=this.password),Vue.http.post("/api/v2/cities/"+this.city.id+"/user",s).then(function(s){t.$emit("close",s.body)},function(s){console.log(s)})}else this.$emit("close",this.city.user)}}})});