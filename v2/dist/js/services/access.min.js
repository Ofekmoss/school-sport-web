define([],function(){var t=new Vue({});return t.user=null,t.get=function(u){t.user?u(null,t.user):Vue.http.get("/api/v2/login").then(function(n){n.body&&(t.user=n.body,u(null,t.user))},function(n){u(n)})},t.login=function(n,u){Vue.http.post("/api/v2/login",n).then(function(n){t.user=n.data,t.$emit("login",t.user),u()},function(n){u(n.body)})},t.logout=function(){Vue.http.post("/api/v2/logout").then(function(n){null!=t.user&&null!=t.user.delegatedUser?(t.user=n.data,t.$emit("login",t.user)):t.$emit("logout")})},t});