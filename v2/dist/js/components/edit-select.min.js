define([],function(){var t=Vue.extend({template:"<div class='edit'>   <div v-if='isStatic' class='static' tabindex='0' v-on:keydown='onStaticKeyDown' v-on:click='showDropDown = !showDropDown'>       <div v-if='value' v-html='getDisplayValue(value)'></div>       <div v-else>           <div style='padding: 0px 20px; border-radius: 2px;'>{{placeholder}}&nbsp;</div>       </div>   </div>   <div v-else class='input'>       <input type='text' v-bind:value='editValue'            v-bind:placeholder='placeholder'            v-on:input='onEditValueChange' v-on:keydown='onInputKeyDown'>   </div>   <div class='buttons'>       <span v-if='showDropDown && optionList.length > 0' class='fa fa-caret-up' v-on:click='showDropDown = false'></span>       <span v-if='!showDropDown && optionList.length > 0' class='fa fa-caret-down' v-on:click='openDropDown()'></span>   </div>   <div id='options' v-if='showDropDown' class='edit-drop-down' style='margin-top: -3px; padding: 4px; z-index: 101'>       <div v-if='value != null && isClearable' class='option' v-bind:class='{\"text-soft\": selected != null, highlight: selected == null}' v-on:mouseenter='selected = null;' v-on:click='selectOption(null)'>Clear</div>       <div class='option' v-bind:class='{highlight: option == selected}' v-on:mouseenter='selected = option;'           v-for='option in optionList' v-on:click='selectOption(option)' v-html='getDisplayValue(option)'>       </div>   </div></div>",props:{id:{},placeholder:{},value:{},nameField:{type:String,default:"name"},display:{},sort:{type:Boolean,default:!0},static:{type:Boolean,default:!1},clearable:{},options:{}},data:function(){return{showDropDown:!1,editValue:null,knownValue:null,knownSearch:null,selected:null,error:null,optionList:[]}},mounted:function(){this.options&&this.setOptionList(this.options),this.knownValue=this.value,this.value&&(this.editValue=this.knownSearch=this.getDisplayValue(this.value,!0)),this.$emit("search",null,this.optionList,this.id)},computed:{isClearable:function(){return!0===this.clearable||"true"===this.clearable||"1"===this.clearable},isStatic:function(){return!0===this.static||"true"===this.static||"1"===this.static},sorted:function(){return!0===this.sort||"true"===this.sort||"1"===this.sort}},methods:{setOptionList:function(t){if(null==t)this.optionList=[];else if("object"==typeof t){for(var i in this.optionList=[],t)this.optionList.push(t[i]);this.sorted&&this.optionList.sort((e=this,function(t,i){return e.getDisplayValue(t,!0).localeCompare(e.getDisplayValue(i,!0))}))}else this.optionList=t.slice();var e},getDisplayValue:function(t,i){return t?!i&&this.display instanceof Function?this.display(t,t[this.nameField]):t[this.nameField]:""},openDropDown:function(){this.showDropDown=!0,this.focusInput()},focusInput:function(){var i;setTimeout((i=this.$el,function(){var t=i.querySelector("input");t&&(t.focus(),t.select())}),0)},selectOption:function(t){this.setValue(t)},onStaticKeyDown:function(t){113!==t.keyCode&&45!==t.keyCode||this.edit()},onInputKeyDown:function(t){if(27===t.keyCode)this.discard();else if(13===t.keyCode)this.selected&&this.setValue(this.selected);else if(38===t.keyCode){if(this.showDropDown){if(0<this.optionList.length){if(0<(e=null==this.selected?-1:this.optionList.indexOf(this.selected))?e--:e=this.optionList.length-1,this.selected=this.optionList[e],o=this.$el.querySelector("#options"))if((s=o.childNodes[e])&&1==s.nodeType){var i=o.getBoundingClientRect();(n=s.getBoundingClientRect()).bottom>i.bottom?s.scrollIntoView(!1):n.top<i.top&&s.scrollIntoView(!0)}}}else this.showDropDown=!0;t.preventDefault()}else if(40===t.keyCode){if(this.showDropDown){if(0<this.optionList.length){var e,o,s;if((e=null==this.selected?-1:this.optionList.indexOf(this.selected))<this.optionList.length-1?e++:e=0,this.selected=this.optionList[e],o=this.$el.querySelector("#options"))if(s=o.childNodes[e]){var n;i=o.getBoundingClientRect();(n=s.getBoundingClientRect()).bottom>i.bottom?s.scrollIntoView(!1):n.top<i.top&&s.scrollIntoView(!0)}}}else this.showDropDown=!0;t.preventDefault()}},setValue:function(t){var i;void 0!==t&&(this.knownValue=this.value=t,this.knownSearch=this.editValue=this.getDisplayValue(this.value,!0)),setTimeout((i=this,function(){i.showDropDown=!1}),0),this.$emit("update:editing",this.editing),this.$emit("input",t)},onEditValueChange:function(t){this.editValue=t.target.value,this.showDropDown=!0,this.knownSearch!==this.editValue&&(this.knownSearch=null,this.$emit("search",this.editValue,this.optionList,this.id))}},watch:{id:function(){this.$emit("search",this.editValue,this.optionList,this.id)},value:function(){this.editValue=this.knownSearch=this.value?this.getDisplayValue(this.value,!0):""},options:function(){this.options?this.setOptionList(this.options):this.optionList=[]}}});Vue.component("edit-select",t)});