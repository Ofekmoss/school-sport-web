define(["VueChartJs","views"],function(e,d){var t=Vue.extend({extends:e.Bar,props:{data:Object},data:function(){return{views:[],plain:!1,legendBoxWidth:0}},mounted:function(){},methods:{},watch:{data:function(){var i=this,e={labels:this.data.labels,datasets:this.data.datasets,views:null},t=i.data.plain||!1,a=i.data.legendBoxWidth||0,s=0,n={display:!1};t?n={position:"top",display:!0,labels:{usePointStyle:!1,boxWidth:30}}:(s=20,5<this.data.labels.length&&(s-=Math.floor(this.data.labels.length/5)),s<10&&(s=10));var l={responsive:!0,maintainAspectRatio:!1,stacked:!0,legend:n,dataLabels:{},scales:{yAxes:[{display:!0,ticks:{fontSize:s},stacked:t}],xAxes:[{display:!0,ticks:{fontSize:s},stacked:t}]},tooltips:{enabled:!0,callbacks:{title:function(e,t){var a=e[0].label;if(a){var s=a.split(" ");a=(s=s.filter(function(e){return 0<e.length&&(0!==e.indexOf("(")&&e.indexOf(")")!==e.length-1)})).join(" ")}return a}}},onClick:function(e,t){if(i.data.views&&0<t.length){var a=t[0]._index;if(0<=a&&a<i.data.views.length){var s=i.data.views[a];null!=s&&d.openView(s.Link,s.Parameters)}}}};t&&(l.scales.xAxes.barThickness=60),a&&(l.legend.labels||(l.legend.labels={}),l.legend.labels.boxWidth=a),this.renderChart(e,l),this.$refs.canvas.style.width="100%",this.$refs.canvas.parentNode.style.width="100%"}}});Vue.component("bar-chart",t)});