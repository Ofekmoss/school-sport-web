define(["templates/default","services/access"],function(n,e){return Vue.extend({template:n.login,data:function(){return{username:"",password:"",errorMessage:null,passwordLogin:!1,tokenLogin:!1,token:null,comsigndocid:null}},mounted:function(){var n=this;if(n.token?n.tokenLogin=!0:n.passwordLogin=!0,null!=n.comsigndocid&&10<n.comsigndocid.length){var o={documentId:n.comsigndocid};Vue.http.post("/api/common/digital-signature",o)}},methods:{login:function(){var o=this,n={};this.token?(n.token=this.token,n.code=this.password):(n.username=this.username,n.password=this.password),e.login(n,function(n){n&&(console.log(n),o.errorMessage="string"==typeof n?n:"שגיאה בהתחברות")})},keyUp:function(n){13===n.keyCode&&$("#btnLogin").click()}}})});