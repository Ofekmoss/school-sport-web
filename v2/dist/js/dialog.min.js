define(["templates/default"],function(e){var h={},i={name:null,current:null,instance:null,open:function(e,n,t){var l={name:e,result:null};"function"==typeof t?(l.callback=t,l.params=n):"function"==typeof n?(l.callback=n,l.params=null):l.params=n,i.instance=l},close:function(){this.instance=null}};var n=Vue.extend({template:e.dialog,data:function(){return i},watch:{instance:function(e,n){var a,r=this.$el;if(n&&n.callback&&n.callback(null,n.result),e){var t={};if(e.params)for(var l in e.params)t[l]=e.params[l];var i=e.name.indexOf("?");if(0<=i){for(var s=e.name.slice(i+1).split("&"),c=0;c<s.length;c++){var o=s[c],u=o.indexOf("=");0<u?t[decodeURIComponent(o.slice(0,u))]=decodeURIComponent(o.slice(u+1)):t[decodeURIComponent(o)]=!0}e.name=e.name.slice(0,i)}var d=this;!function(n,t){var e=h[n];e?t(null,e):require([n],function(e){h[n]=e,t(null,e)})}(e.name,(a=t,function(e,n){if(e)console.log(e);else{r.style.display="block";for(var t=r.lastChild;t.firstChild;)t.removeChild(t.firstChild);var l=document.createElement("div");t.appendChild(l);var i=new n({el:l,created:function(){for(var e in a)this[e]=a[e]},mounted:function(){if(this.$el&&this.$el.querySelector){var e=this.$el.querySelector("[autofocus]");e&&e.focus()}}});i.$on("close",function(e){d.instance.result=e,d.instance=null}),d.current&&d.current.$destroy(),d.current=i}}))}else{r.style.display="none";for(var f=r.lastChild;f.firstChild;)f.removeChild(f.firstChild);this.current&&this.current.$destroy(),this.current=null}}},methods:{dialogContainerClick:function(e){e.target===this.$el.lastChild&&this.instance.params&&!this.instance.params.disableClickOutside&&(this.current&&this.current.cancel(),this.instance=null)}}});return Vue.component("dialog-slot",n),i});