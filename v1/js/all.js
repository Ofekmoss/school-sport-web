/* jquery.modernizr.js */
/* Modernizr 2.8.2 (Custom Build) | MIT & BSD
 * Build: http://modernizr.com/download/#-cssanimations-csstransforms3d-csstransitions-svg-touch-shiv-cssclasses-addtest-prefixed-teststyles-testprop-testallprops-hasevent-prefixes-domprefixes-css_pointerevents-load
 */
;window.Modernizr=function(a,b,c){function B(a){j.cssText=a}function C(a,b){return B(m.join(a+";")+(b||""))}function D(a,b){return typeof a===b}function E(a,b){return!!~(""+a).indexOf(b)}function F(a,b){for(var d in a){var e=a[d];if(!E(e,"-")&&j[e]!==c)return b=="pfx"?e:!0}return!1}function G(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:D(f,"function")?f.bind(d||b):f}return!1}function H(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+o.join(d+" ")+d).split(" ");return D(b,"string")||D(b,"undefined")?F(e,b):(e=(a+" "+p.join(d+" ")+d).split(" "),G(e,b,c))}var d="2.8.2",e={},f=!0,g=b.documentElement,h="modernizr",i=b.createElement(h),j=i.style,k,l={}.toString,m=" -webkit- -moz- -o- -ms- ".split(" "),n="Webkit Moz O ms",o=n.split(" "),p=n.toLowerCase().split(" "),q={svg:"http://www.w3.org/2000/svg"},r={},s={},t={},u=[],v=u.slice,w,x=function(a,c,d,e){var f,i,j,k,l=b.createElement("div"),m=b.body,n=m||b.createElement("body");if(parseInt(d,10))while(d--)j=b.createElement("div"),j.id=e?e[d]:h+(d+1),l.appendChild(j);return f=["&#173;",'<style id="s',h,'">',a,"</style>"].join(""),l.id=h,(m?l:n).innerHTML+=f,n.appendChild(l),m||(n.style.background="",n.style.overflow="hidden",k=g.style.overflow,g.style.overflow="hidden",g.appendChild(n)),i=c(l,a),m?l.parentNode.removeChild(l):(n.parentNode.removeChild(n),g.style.overflow=k),!!i},y=function(){function d(d,e){e=e||b.createElement(a[d]||"div"),d="on"+d;var f=d in e;return f||(e.setAttribute||(e=b.createElement("div")),e.setAttribute&&e.removeAttribute&&(e.setAttribute(d,""),f=D(e[d],"function"),D(e[d],"undefined")||(e[d]=c),e.removeAttribute(d))),e=null,f}var a={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return d}(),z={}.hasOwnProperty,A;!D(z,"undefined")&&!D(z.call,"undefined")?A=function(a,b){return z.call(a,b)}:A=function(a,b){return b in a&&D(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=v.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(v.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(v.call(arguments)))};return e}),r.touch=function(){var c;return"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:x(["@media (",m.join("touch-enabled),("),h,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=a.offsetTop===9}),c},r.cssanimations=function(){return H("animationName")},r.csstransforms3d=function(){var a=!!H("perspective");return a&&"webkitPerspective"in g.style&&x("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b,c){a=b.offsetLeft===9&&b.offsetHeight===3}),a},r.csstransitions=function(){return H("transition")},r.svg=function(){return!!b.createElementNS&&!!b.createElementNS(q.svg,"svg").createSVGRect};for(var I in r)A(r,I)&&(w=I.toLowerCase(),e[w]=r[I](),u.push((e[w]?"":"no-")+w));return e.addTest=function(a,b){if(typeof a=="object")for(var d in a)A(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b=="function"?b():b,typeof f!="undefined"&&f&&(g.className+=" "+(b?"":"no-")+a),e[a]=b}return e},B(""),i=k=null,function(a,b){function l(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function m(){var a=s.elements;return typeof a=="string"?a.split(" "):a}function n(a){var b=j[a[h]];return b||(b={},i++,a[h]=i,j[i]=b),b}function o(a,c,d){c||(c=b);if(k)return c.createElement(a);d||(d=n(c));var g;return d.cache[a]?g=d.cache[a].cloneNode():f.test(a)?g=(d.cache[a]=d.createElem(a)).cloneNode():g=d.createElem(a),g.canHaveChildren&&!e.test(a)&&!g.tagUrn?d.frag.appendChild(g):g}function p(a,c){a||(a=b);if(k)return a.createDocumentFragment();c=c||n(a);var d=c.frag.cloneNode(),e=0,f=m(),g=f.length;for(;e<g;e++)d.createElement(f[e]);return d}function q(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return s.shivMethods?o(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+m().join().replace(/[\w\-]+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(s,b.frag)}function r(a){a||(a=b);var c=n(a);return s.shivCSS&&!g&&!c.hasCSS&&(c.hasCSS=!!l(a,"article,aside,dialog,div,div,footer,header,hgroup,main,nav,div{display:block}mark{background:#FF0;color:#000}template{display:none}")),k||q(a,c),a}var c="3.7.0",d=a.html5||{},e=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,g,h="_html5shiv",i=0,j={},k;(function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",g="hidden"in a,k=a.childNodes.length==1||function(){b.createElement("a");var a=b.createDocumentFragment();return typeof a.cloneNode=="undefined"||typeof a.createDocumentFragment=="undefined"||typeof a.createElement=="undefined"}()}catch(c){g=!0,k=!0}})();var s={elements:d.elements||"abbr article aside audio bdi canvas data datalist details dialog div div footer header hgroup main mark meter nav output progress div summary template time video",version:c,shivCSS:d.shivCSS!==!1,supportsUnknownElements:k,shivMethods:d.shivMethods!==!1,type:"default",shivDocument:r,createElement:o,createDocumentFragment:p};a.html5=s,r(b)}(this,b),e._version=d,e._prefixes=m,e._domPrefixes=p,e._cssomPrefixes=o,e.hasEvent=y,e.testProp=function(a){return F([a])},e.testAllProps=H,e.testStyles=x,e.prefixed=function(a,b,c){return b?H(a,b,c):H(a,"pfx")},g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+u.join(" "):""),e}(this,this.document),function(a,b,c){function d(a){return"[object Function]"==o.call(a)}function e(a){return"string"==typeof a}function f(){}function g(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function h(){var a=p.shift();q=1,a?a.t?m(function(){("c"==a.t?B.injectCss:B.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),h()):q=0}function i(a,c,d,e,f,i,j){function k(b){if(!o&&g(l.readyState)&&(u.r=o=1,!q&&h(),l.onload=l.onreadystatechange=null,b)){"img"!=a&&m(function(){t.removeChild(l)},50);for(var d in y[c])y[c].hasOwnProperty(d)&&y[c][d].onload()}}var j=j||B.errorTimeout,l=b.createElement(a),o=0,r=0,u={t:d,s:c,e:f,a:i,x:j};1===y[c]&&(r=1,y[c]=[]),"object"==a?l.data=c:(l.src=c,l.type=a),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,r)},p.splice(e,0,u),"img"!=a&&(r||2===y[c]?(t.insertBefore(l,s?null:n),m(k,j)):y[c].push(l))}function j(a,b,c,d,f){return q=0,b=b||"j",e(a)?i("c"==b?v:u,a,b,this.i++,c,d,f):(p.splice(this.i++,0,a),1==p.length&&h()),this}function k(){var a=B;return a.loader={load:j,i:0},a}var l=b.documentElement,m=a.setTimeout,n=b.getElementsByTagName("script")[0],o={}.toString,p=[],q=0,r="MozAppearance"in l.style,s=r&&!!b.createRange().compareNode,t=s?l:n.parentNode,l=a.opera&&"[object Opera]"==o.call(a.opera),l=!!b.attachEvent&&!l,u=r?"object":l?"script":"img",v=l?"script":u,w=Array.isArray||function(a){return"[object Array]"==o.call(a)},x=[],y={},z={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},A,B;B=function(a){function b(a){var a=a.split("!"),b=x.length,c=a.pop(),d=a.length,c={url:c,origUrl:c,prefixes:a},e,f,g;for(f=0;f<d;f++)g=a[f].split("="),(e=z[g.shift()])&&(c=e(c,g));for(f=0;f<b;f++)c=x[f](c);return c}function g(a,e,f,g,h){var i=b(a),j=i.autoCallback;i.url.split(".").pop().split("?").shift(),i.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]),i.instead?i.instead(a,e,f,g,h):(y[i.url]?i.noexec=!0:y[i.url]=1,f.load(i.url,i.forceCSS||!i.forceJS&&"css"==i.url.split(".").pop().split("?").shift()?"c":c,i.noexec,i.attrs,i.timeout),(d(e)||d(j))&&f.load(function(){k(),e&&e(i.origUrl,h,g),j&&j(i.origUrl,h,g),y[i.url]=2})))}function h(a,b){function c(a,c){if(a){if(e(a))c||(j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}),g(a,j,b,0,h);else if(Object(a)===a)for(n in m=function(){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(n)&&(!c&&!--m&&(d(j)?j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}:j[n]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),l()}}(k[n])),g(a[n],j,b,n,h))}else!c&&l()}var h=!!a.test,i=a.load||a.both,j=a.callback||f,k=j,l=a.complete||f,m,n;c(h?a.yep:a.nope,!!i),i&&c(i)}var i,j,l=this.yepnope.loader;if(e(a))g(a,0,l,0);else if(w(a))for(i=0;i<a.length;i++)j=a[i],e(j)?g(j,0,l,0):w(j)?B(j):Object(j)===j&&h(j,l);else Object(a)===a&&h(a,l)},B.addPrefix=function(a,b){z[a]=b},B.addFilter=function(a){x.push(a)},B.errorTimeout=1e4,null==b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",A=function(){b.removeEventListener("DOMContentLoaded",A,0),b.readyState="complete"},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var k=b.createElement("script"),l,o,e=e||B.errorTimeout;k.src=a;for(o in d)k.setAttribute(o,d[o]);c=j?h:c||f,k.onreadystatechange=k.onload=function(){!l&&g(k.readyState)&&(l=1,c(),k.onload=k.onreadystatechange=null)},m(function(){l||(l=1,c(1))},e),i?k.onload():n.parentNode.insertBefore(k,n)},a.yepnope.injectCss=function(a,c,d,e,g,i){var e=b.createElement("link"),j,c=i?h:c||f;e.href=a,e.rel="stylesheet",e.type="text/css";for(j in d)e.setAttribute(j,d[j]);g||(n.parentNode.insertBefore(e,n),m(c,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},Modernizr.addTest("pointerevents",function(){var a=document.createElement("x"),b=document.documentElement,c=window.getComputedStyle,d;return"pointerEvents"in a.style?(a.style.pointerEvents="auto",a.style.pointerEvents="x",b.appendChild(a),d=c&&c(a,"").pointerEvents==="auto",b.removeChild(a),!!d):!1});
/* jquery-ui.min.js */
/*! jQuery UI - v1.10.4 - 2014-01-17
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.effect.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js, jquery.ui.menu.js, jquery.ui.progressbar.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.slider.js, jquery.ui.sortable.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */

(function(e,t){function i(t,i){var s,a,o,r=t.nodeName.toLowerCase();return"area"===r?(s=t.parentNode,a=s.name,t.href&&a&&"map"===s.nodeName.toLowerCase()?(o=e("img[usemap=#"+a+"]")[0],!!o&&n(o)):!1):(/input|select|textarea|button|object/.test(r)?!t.disabled:"a"===r?t.href||i:i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var s=0,a=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_sectionIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(i,n){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),n&&n.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var n,s,a=e(this[0]);a.length&&a[0]!==document;){if(n=a.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(s=parseInt(a.css("zIndex"),10),!isNaN(s)&&0!==s))return s;a=a.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++s)})},removeUniqueId:function(){return this.each(function(){a.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),s=isNaN(n);return(s||n>=0)&&i(t,!s)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(i,n){function s(t,i,n,s){return e.each(a,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var a="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),r={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(i){return i===t?r["inner"+n].call(this):this.each(function(){e(this).css(o,s(this,i)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?r["outer"+n].call(this,t):this.each(function(){e(this).css(o,s(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,i,n){var s,a=e.ui[t].prototype;for(s in n)a.plugins[s]=a.plugins[s]||[],a.plugins[s].push([i,n[s]])},call:function(e,t,i){var n,s=e.plugins[t];if(s&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(n=0;s.length>n;n++)e.options[s[n][0]]&&s[n][1].apply(e.element,i)}},hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",s=!1;return t[n]>0?!0:(t[n]=1,s=t[n]>0,t[n]=0,s)}})})(jQuery);(function(t,e){var i=0,s=Array.prototype.slice,n=t.cleanData;t.cleanData=function(e){for(var i,s=0;null!=(i=e[s]);s++)try{t(i).triggerHandler("remove")}catch(o){}n(e)},t.widget=function(i,s,n){var o,a,r,h,l={},c=i.split(".")[0];i=i.split(".")[1],o=c+"-"+i,n||(n=s,s=t.Widget),t.expr[":"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[c]=t[c]||{},a=t[c][i],r=t[c][i]=function(t,i){return this._createWidget?(arguments.length&&this._createWidget(t,i),e):new r(t,i)},t.extend(r,a,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),h=new s,h.options=t.widget.extend({},h.options),t.each(n,function(i,n){return t.isFunction(n)?(l[i]=function(){var t=function(){return s.prototype[i].apply(this,arguments)},e=function(t){return s.prototype[i].apply(this,t)};return function(){var i,s=this._super,o=this._superApply;return this._super=t,this._superApply=e,i=n.apply(this,arguments),this._super=s,this._superApply=o,i}}(),e):(l[i]=n,e)}),r.prototype=t.widget.extend(h,{widgetEventPrefix:a?h.widgetEventPrefix||i:i},l,{constructor:r,namespace:c,widgetName:i,widgetFullName:o}),a?(t.each(a._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,r,i._proto)}),delete a._childConstructors):s._childConstructors.push(r),t.widget.bridge(i,r)},t.widget.extend=function(i){for(var n,o,a=s.call(arguments,1),r=0,h=a.length;h>r;r++)for(n in a[r])o=a[r][n],a[r].hasOwnProperty(n)&&o!==e&&(i[n]=t.isPlainObject(o)?t.isPlainObject(i[n])?t.widget.extend({},i[n],o):t.widget.extend({},o):o);return i},t.widget.bridge=function(i,n){var o=n.prototype.widgetFullName||i;t.fn[i]=function(a){var r="string"==typeof a,h=s.call(arguments,1),l=this;return a=!r&&h.length?t.widget.extend.apply(null,[a].concat(h)):a,r?this.each(function(){var s,n=t.data(this,o);return n?t.isFunction(n[a])&&"_"!==a.charAt(0)?(s=n[a].apply(n,h),s!==n&&s!==e?(l=s&&s.jquery?l.pushStack(s.get()):s,!1):e):t.error("no such method '"+a+"' for "+i+" widget instance"):t.error("cannot call methods on "+i+" prior to initialization; "+"attempted to call method '"+a+"'")}):this.each(function(){var e=t.data(this,o);e?e.option(a||{})._init():t.data(this,o,new n(a,this))}),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),s!==this&&(t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(i,s){var n,o,a,r=i;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof i)if(r={},n=i.split("."),i=n.shift(),n.length){for(o=r[i]=t.widget.extend({},this.options[i]),a=0;n.length-1>a;a++)o[n[a]]=o[n[a]]||{},o=o[n[a]];if(i=n.pop(),1===arguments.length)return o[i]===e?null:o[i];o[i]=s}else{if(1===arguments.length)return this.options[i]===e?null:this.options[i];r[i]=s}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,s,n){var o,a=this;"boolean"!=typeof i&&(n=s,s=i,i=!1),n?(s=o=t(s),this.bindings=this.bindings.add(s)):(n=s,s=this.element,o=this.widget()),t.each(n,function(n,r){function h(){return i||a.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof r?a[r]:r).apply(a,arguments):e}"string"!=typeof r&&(h.guid=r.guid=r.guid||h.guid||t.guid++);var l=n.match(/^(\w+)\s*(.*)$/),c=l[1]+a.eventNamespace,u=l[2];u?o.delegate(u,c,h):s.bind(c,h)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}})})(jQuery);(function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):undefined}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var s=this,n=1===i.which,a="string"==typeof this.options.cancel&&i.target.nodeName?t(i.target).closest(this.options.cancel).length:!1;return n&&!a&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===t.data(i.target,this.widgetName+".preventClickEvent")&&t.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return s._mouseMove(t)},this._mouseUpDelegate=function(t){return s._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);(function(t,e){function i(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)]}function s(e,i){return parseInt(t.css(e,i),10)||0}function n(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var a,o=Math.max,r=Math.abs,l=Math.round,h=/left|center|right/,c=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(a!==e)return a;var i,s,n=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=n.children()[0];return t("body").append(n),i=o.offsetWidth,n.css("overflow","scroll"),s=o.offsetWidth,i===s&&(s=n[0].clientWidth),n.remove(),a=i-s},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),s=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),n="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,a="scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight;return{width:a?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:s,isDocument:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s?i.width():i.outerWidth(),height:s?i.height():i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return f.apply(this,arguments);e=t.extend({},e);var a,p,g,m,v,_,b=t(e.of),y=t.position.getWithinInfo(e.within),k=t.position.getScrollInfo(y),w=(e.collision||"flip").split(" "),D={};return _=n(b),b[0].preventDefault&&(e.at="left top"),p=_.width,g=_.height,m=_.offset,v=t.extend({},m),t.each(["my","at"],function(){var t,i,s=(e[this]||"").split(" ");1===s.length&&(s=h.test(s[0])?s.concat(["center"]):c.test(s[0])?["center"].concat(s):["center","center"]),s[0]=h.test(s[0])?s[0]:"center",s[1]=c.test(s[1])?s[1]:"center",t=u.exec(s[0]),i=u.exec(s[1]),D[this]=[t?t[0]:0,i?i[0]:0],e[this]=[d.exec(s[0])[0],d.exec(s[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===e.at[0]?v.left+=p:"center"===e.at[0]&&(v.left+=p/2),"bottom"===e.at[1]?v.top+=g:"center"===e.at[1]&&(v.top+=g/2),a=i(D.at,p,g),v.left+=a[0],v.top+=a[1],this.each(function(){var n,h,c=t(this),u=c.outerWidth(),d=c.outerHeight(),f=s(this,"marginLeft"),_=s(this,"marginTop"),x=u+f+s(this,"marginRight")+k.width,C=d+_+s(this,"marginBottom")+k.height,M=t.extend({},v),T=i(D.my,c.outerWidth(),c.outerHeight());"right"===e.my[0]?M.left-=u:"center"===e.my[0]&&(M.left-=u/2),"bottom"===e.my[1]?M.top-=d:"center"===e.my[1]&&(M.top-=d/2),M.left+=T[0],M.top+=T[1],t.support.offsetFractions||(M.left=l(M.left),M.top=l(M.top)),n={marginLeft:f,marginTop:_},t.each(["left","top"],function(i,s){t.ui.position[w[i]]&&t.ui.position[w[i]][s](M,{targetWidth:p,targetHeight:g,elemWidth:u,elemHeight:d,collisionPosition:n,collisionWidth:x,collisionHeight:C,offset:[a[0]+T[0],a[1]+T[1]],my:e.my,at:e.at,within:y,elem:c})}),e.using&&(h=function(t){var i=m.left-M.left,s=i+p-u,n=m.top-M.top,a=n+g-d,l={target:{element:b,left:m.left,top:m.top,width:p,height:g},element:{element:c,left:M.left,top:M.top,width:u,height:d},horizontal:0>s?"left":i>0?"right":"center",vertical:0>a?"top":n>0?"bottom":"middle"};u>p&&p>r(i+s)&&(l.horizontal="center"),d>g&&g>r(n+a)&&(l.vertical="middle"),l.important=o(r(i),r(s))>o(r(n),r(a))?"horizontal":"vertical",e.using.call(this,t,l)}),c.offset(t.extend(M,{using:h}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=t.left-e.collisionPosition.marginLeft,l=n-r,h=r+e.collisionWidth-a-n;e.collisionWidth>a?l>0&&0>=h?(i=t.left+l+e.collisionWidth-a-n,t.left+=l-i):t.left=h>0&&0>=l?n:l>h?n+a-e.collisionWidth:n:l>0?t.left+=l:h>0?t.left-=h:t.left=o(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,a=e.within.height,r=t.top-e.collisionPosition.marginTop,l=n-r,h=r+e.collisionHeight-a-n;e.collisionHeight>a?l>0&&0>=h?(i=t.top+l+e.collisionHeight-a-n,t.top+=l-i):t.top=h>0&&0>=l?n:l>h?n+a-e.collisionHeight:n:l>0?t.top+=l:h>0?t.top-=h:t.top=o(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,a=n.offset.left+n.scrollLeft,o=n.width,l=n.isWindow?n.scrollLeft:n.offset.left,h=t.left-e.collisionPosition.marginLeft,c=h-l,u=h+e.collisionWidth-o-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(i=t.left+d+p+f+e.collisionWidth-o-a,(0>i||r(c)>i)&&(t.left+=d+p+f)):u>0&&(s=t.left-e.collisionPosition.marginLeft+d+p+f-l,(s>0||u>r(s))&&(t.left+=d+p+f))},top:function(t,e){var i,s,n=e.within,a=n.offset.top+n.scrollTop,o=n.height,l=n.isWindow?n.scrollTop:n.offset.top,h=t.top-e.collisionPosition.marginTop,c=h-l,u=h+e.collisionHeight-o-l,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>c?(s=t.top+p+f+g+e.collisionHeight-o-a,t.top+p+f+g>c&&(0>s||r(c)>s)&&(t.top+=p+f+g)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+g-l,t.top+p+f+g>u&&(i>0||u>r(i))&&(t.top+=p+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,s,n,a,o=document.getElementsByTagName("body")[0],r=document.createElement("div");e=document.createElement(o?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&t.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(a in s)e.style[a]=s[a];e.appendChild(r),i=o||document.documentElement,i.insertBefore(e,i.firstChild),r.style.cssText="position: absolute; left: 10.7432222px;",n=t(r).offset().left,t.support.offsetFractions=n>10&&11>n,e.innerHTML="",i.removeChild(e)}()})(jQuery);(function(e){var t=0,i={},a={};i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="hide",a.height=a.paddingTop=a.paddingBottom=a.borderTopWidth=a.borderBottomWidth="show",e.widget("ui.accordion",{version:"1.10.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),0>t.active&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e(),content:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?(this._activate(t),undefined):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),"disabled"===e&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t),undefined)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,a=this.headers.length,s=this.headers.index(t.target),n=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:n=this.headers[(s+1)%a];break;case i.LEFT:case i.UP:n=this.headers[(s-1+a)%a];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:n=this.headers[0];break;case i.END:n=this.headers[a-1]}n&&(e(t.target).attr("tabIndex",-1),e(n).attr("tabIndex",0),n.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var i,a=this.options,s=a.heightStyle,n=this.element.parent(),r=this.accordionId="ui-accordion-"+(this.element.attr("id")||++t);this.active=this._findActive(a.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(t){var i=e(this),a=i.attr("id"),s=i.next(),n=s.attr("id");a||(a=r+"-header-"+t,i.attr("id",a)),n||(n=r+"-panel-"+t,s.attr("id",n)),i.attr("aria-controls",n),s.attr("aria-labelledby",a)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(a.event),"fill"===s?(i=n.height(),this.element.siblings(":visible").each(function(){var t=e(this),a=t.css("position");"absolute"!==a&&"fixed"!==a&&(i-=t.outerHeight(!0))}),this.headers.each(function(){i-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===s&&(i=0,this.headers.next().each(function(){i=Math.max(i,e(this).css("height","").height())}).height(i))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,a=this.active,s=e(t.currentTarget),n=s[0]===a[0],r=n&&i.collapsible,o=r?e():s.next(),h=a.next(),d={oldHeader:a,oldPanel:h,newHeader:r?e():s,newPanel:o};t.preventDefault(),n&&!i.collapsible||this._trigger("beforeActivate",t,d)===!1||(i.active=r?!1:this.headers.index(s),this.active=n?e():s,this._toggle(d),a.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&a.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),n||(s.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&s.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),s.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,a=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=a,this.options.animate?this._animate(i,a,t):(a.hide(),i.show(),this._toggleComplete(t)),a.attr({"aria-hidden":"true"}),a.prev().attr("aria-selected","false"),i.length&&a.length?a.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(e,t,s){var n,r,o,h=this,d=0,c=e.length&&(!t.length||e.index()<t.index()),l=this.options.animate||{},u=c&&l.down||l,v=function(){h._toggleComplete(s)};return"number"==typeof u&&(o=u),"string"==typeof u&&(r=u),r=r||u.easing||l.easing,o=o||u.duration||l.duration,t.length?e.length?(n=e.show().outerHeight(),t.animate(i,{duration:o,easing:r,step:function(e,t){t.now=Math.round(e)}}),e.hide().animate(a,{duration:o,easing:r,complete:v,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?d+=i.now:"content"!==h.options.heightStyle&&(i.now=Math.round(n-t.outerHeight()-d),d=0)}}),undefined):t.animate(i,o,r,v):e.animate(a,o,r,v)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}})})(jQuery);(function(e){e.widget("ui.autocomplete",{version:"1.10.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,s,n=this.element[0].nodeName.toLowerCase(),a="textarea"===n,o="input"===n;this.isMultiLine=a?!0:o?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[a||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return t=!0,s=!0,i=!0,undefined;t=!1,s=!1,i=!1;var a=e.ui.keyCode;switch(n.keyCode){case a.PAGE_UP:t=!0,this._move("previousPage",n);break;case a.PAGE_DOWN:t=!0,this._move("nextPage",n);break;case a.UP:t=!0,this._keyEvent("previous",n);break;case a.DOWN:t=!0,this._keyEvent("next",n);break;case a.ENTER:case a.NUMPAD_ENTER:this.menu.active&&(t=!0,n.preventDefault(),this.menu.select(n));break;case a.TAB:this.menu.active&&this.menu.select(n);break;case a.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(t)return t=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault(),undefined;if(!i){var n=e.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(e){return s?(s=!1,e.preventDefault(),undefined):(this._searchTimeout(e),undefined)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,undefined):(clearTimeout(this.searching),this.close(e),this._change(e),undefined)}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(s){s.target===t.element[0]||s.target===i||e.contains(i,s.target)||t.close()})})},menufocus:function(t,i){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)}),undefined;var s=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",t,{item:s})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(s.value):this.liveRegion.text(s.value)},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),s=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,s=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,s){s(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,n){s.xhr&&s.xhr.abort(),s.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){n(e)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):undefined},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var s=this;e.each(i,function(e,i){s._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").append(e("<a>").text(i.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),this.menu.blur(),undefined):(this.menu[e](t),undefined):(this.search(null,t),undefined)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var s=RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return s.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})})(jQuery);(function(e){var t,i="ui-button ui-widget ui-state-default ui-corner-all",n="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",s=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},a=function(t){var i=t.name,n=t.form,s=e([]);return i&&(i=i.replace(/'/g,"\\'"),s=n?e(n).find("[name='"+i+"']"):e("[name='"+i+"']",t.ownerDocument).filter(function(){return!this.form})),s};e.widget("ui.button",{version:"1.10.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,s),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var n=this,o=this.options,r="checkbox"===this.type||"radio"===this.type,h=r?"":"ui-state-active";null===o.label&&(o.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(i).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){o.disabled||this===t&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){o.disabled||e(this).removeClass(h)}).bind("click"+this.eventNamespace,function(e){o.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),r&&this.element.bind("change"+this.eventNamespace,function(){n.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return o.disabled?!1:undefined}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(o.disabled)return!1;e(this).addClass("ui-state-active"),n.buttonElement.attr("aria-pressed","true");var t=n.element[0];a(t).not(t).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return o.disabled?!1:(e(this).addClass("ui-state-active"),t=this,n.document.one("mouseup",function(){t=null}),undefined)}).bind("mouseup"+this.eventNamespace,function(){return o.disabled?!1:(e(this).removeClass("ui-state-active"),undefined)}).bind("keydown"+this.eventNamespace,function(t){return o.disabled?!1:((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"),undefined)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",o.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(i+" ui-state-active "+n).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.element.prop("disabled",!!t),t&&this.buttonElement.removeClass("ui-state-focus"),undefined):(this._resetButton(),undefined)},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?a(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),undefined;var t=this.buttonElement.removeClass(n),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),s=this.options.icons,a=s.primary&&s.secondary,o=[];s.primary||s.secondary?(this.options.text&&o.push("ui-button-text-icon"+(a?"s":s.primary?"-primary":"-secondary")),s.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+s.primary+"'></span>"),s.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+s.secondary+"'></span>"),this.options.text||(o.push(a?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):o.push("ui-button-text-only"),t.addClass(o.join(" "))}}),e.widget("ui.buttonset",{version:"1.10.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})})(jQuery);(function(e,t){function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.dpDiv=a(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function a(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){e.datepicker._isDisabledDatepicker(n.inline?t.parent()[0]:n.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))})}function s(t,i){e.extend(t,i);for(var a in i)null==i[a]&&(t[a]=i[a]);return t}e.extend(e.ui,{datepicker:{version:"1.10.4"}});var n,r="datepicker";e.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return s(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var a,s,n;a=t.nodeName.toLowerCase(),s="div"===a||"span"===a,t.id||(this.uuid+=1,t.id="dp"+this.uuid),n=this._newInst(e(t),s),n.settings=e.extend({},i||{}),"input"===a?this._connectDatepicker(t,n):s&&this._inlineDatepicker(t,n)},_newInst:function(t,i){var s=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?a(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var a=e(t);i.append=e([]),i.trigger=e([]),a.hasClass(this.markerClassName)||(this._attachments(a,i),a.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,r,i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var a,s,n,r=this._get(i,"appendText"),o=this._get(i,"isRTL");i.append&&i.append.remove(),r&&(i.append=e("<span class='"+this._appendClass+"'>"+r+"</span>"),t[o?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),a=this._get(i,"showOn"),("focus"===a||"both"===a)&&t.focus(this._showDatepicker),("button"===a||"both"===a)&&(s=this._get(i,"buttonText"),n=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:n,alt:s,title:s}):e("<button type='button'></button>").addClass(this._triggerClass).html(n?e("<img/>").attr({src:n,alt:s,title:s}):s)),t[o?"before":"after"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,a,s,n=new Date(2009,11,20),r=this._get(e,"dateFormat");r.match(/[DM]/)&&(t=function(e){for(i=0,a=0,s=0;e.length>s;s++)e[s].length>i&&(i=e[s].length,a=s);return a},n.setMonth(t(this._get(e,r.match(/MM/)?"monthNames":"monthNamesShort"))),n.setDate(t(this._get(e,r.match(/DD/)?"dayNames":"dayNamesShort"))+20-n.getDay())),e.input.attr("size",this._formatDate(e,n).length)}},_inlineDatepicker:function(t,i){var a=e(t);a.hasClass(this.markerClassName)||(a.addClass(this.markerClassName).append(i.dpDiv),e.data(t,r,i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,a,n,o){var u,c,h,l,d,p=this._dialogInst;return p||(this.uuid+=1,u="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+u+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},e.data(this._dialogInput[0],r,p)),s(p.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(p,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(c=document.documentElement.clientWidth,h=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+l,h/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=a,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],r,p),this},_destroyDatepicker:function(t){var i,a=e(t),s=e.data(t,r);a.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,r),"input"===i?(s.append.remove(),s.trigger.remove(),a.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&a.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var i,a,s=e(t),n=e.data(t,r);s.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,n.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(a=s.children("."+this._inlineClass),a.children().removeClass("ui-state-disabled"),a.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,a,s=e(t),n=e.data(t,r);s.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,n.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(a=s.children("."+this._inlineClass),a.children().addClass("ui-state-disabled"),a.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,r)}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(i,a,n){var r,o,u,c,h=this._getInst(i);return 2===arguments.length&&"string"==typeof a?"defaults"===a?e.extend({},e.datepicker._defaults):h?"all"===a?e.extend({},h.settings):this._get(h,a):null:(r=a||{},"string"==typeof a&&(r={},r[a]=n),h&&(this._curInst===h&&this._hideDatepicker(),o=this._getDateDatepicker(i,!0),u=this._getMinMaxDate(h,"min"),c=this._getMinMaxDate(h,"max"),s(h.settings,r),null!==u&&r.dateFormat!==t&&r.minDate===t&&(h.settings.minDate=this._formatDate(h,u)),null!==c&&r.dateFormat!==t&&r.maxDate===t&&(h.settings.maxDate=this._formatDate(h,c)),"disabled"in r&&(r.disabled?this._disableDatepicker(i):this._enableDatepicker(i)),this._attachments(e(i),h),this._autoSize(h),this._setDate(h,o),this._updateAlternate(h),this._updateDatepicker(h)),t)},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,a,s,n=e.datepicker._getInst(t.target),r=!0,o=n.dpDiv.is(".ui-datepicker-rtl");if(n._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),r=!1;break;case 13:return s=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",n.dpDiv),s[0]&&e.datepicker._selectDay(t.target,n.selectedMonth,n.selectedYear,s[0]),i=e.datepicker._get(n,"onSelect"),i?(a=e.datepicker._formatDate(n),i.apply(n.input?n.input[0]:null,[a,n])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(n,"stepBigMonths"):-e.datepicker._get(n,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(n,"stepBigMonths"):+e.datepicker._get(n,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?1:-1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(n,"stepBigMonths"):-e.datepicker._get(n,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?-1:1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(n,"stepBigMonths"):+e.datepicker._get(n,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),r=t.ctrlKey||t.metaKey;break;default:r=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(i){var a,s,n=e.datepicker._getInst(i.target);return e.datepicker._get(n,"constrainInput")?(a=e.datepicker._possibleChars(e.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==i.charCode?i.keyCode:i.charCode),i.ctrlKey||i.metaKey||" ">s||!a||a.indexOf(s)>-1):t},_doKeyUp:function(t){var i,a=e.datepicker._getInst(t.target);if(a.input.val()!==a.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,e.datepicker._getFormatConfig(a)),i&&(e.datepicker._setDateFromField(a),e.datepicker._updateAlternate(a),e.datepicker._updateDatepicker(a))}catch(s){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,a,n,r,o,u,c;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),a=e.datepicker._get(i,"beforeShow"),n=a?a.apply(t,[t,i]):{},n!==!1&&(s(i.settings,n),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),r=!1,e(t).parents().each(function(){return r|="fixed"===e(this).css("position"),!r}),o={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),o=e.datepicker._checkOffset(i,o,r),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":r?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),i.inline||(u=e.datepicker._get(i,"showAnim"),c=e.datepicker._get(i,"duration"),i.dpDiv.zIndex(e(t).zIndex()+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[u]?i.dpDiv.show(u,e.datepicker._get(i,"showOptions"),c):i.dpDiv[u||"show"](u?c:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,n=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i,a=this._getNumberOfMonths(t),s=a[1],r=17;t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),s>1&&t.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",r*s+"em"),t.dpDiv[(1!==a[0]||1!==a[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,a){var s=t.dpDiv.outerWidth(),n=t.dpDiv.outerHeight(),r=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,u=document.documentElement.clientWidth+(a?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(a?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?s-r:0,i.left-=a&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=a&&i.top===t.input.offset().top+o?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+s>u&&u>s?Math.abs(i.left+s-u):0),i.top-=Math.min(i.top,i.top+n>c&&c>n?Math.abs(n+o):0),i},_findPos:function(t){for(var i,a=this._getInst(t),s=this._get(a,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[s?"previousSibling":"nextSibling"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,a,s,n,o=this._curInst;!o||t&&o!==e.data(t,r)||this._datepickerShowing&&(i=this._get(o,"showAnim"),a=this._get(o,"duration"),s=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[i]||e.effects[i])?o.dpDiv.hide(i,e.datepicker._get(o,"showOptions"),a,s):o.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?a:null,s),i||s(),this._datepickerShowing=!1,n=this._get(o,"onClose"),n&&n.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),a=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents("#"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==a)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,a){var s=e(t),n=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(n,i+("M"===a?this._get(n,"showCurrentAtPos"):0),a),this._updateDatepicker(n))},_gotoToday:function(t){var i,a=e(t),s=this._getInst(a[0]);this._get(s,"gotoCurrent")&&s.currentDay?(s.selectedDay=s.currentDay,s.drawMonth=s.selectedMonth=s.currentMonth,s.drawYear=s.selectedYear=s.currentYear):(i=new Date,s.selectedDay=i.getDate(),s.drawMonth=s.selectedMonth=i.getMonth(),s.drawYear=s.selectedYear=i.getFullYear()),this._notifyChange(s),this._adjustDate(a)},_selectMonthYear:function(t,i,a){var s=e(t),n=this._getInst(s[0]);n["selected"+("M"===a?"Month":"Year")]=n["draw"+("M"===a?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(n),this._adjustDate(s)},_selectDay:function(t,i,a,s){var n,r=e(t);e(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(r[0])||(n=this._getInst(r[0]),n.selectedDay=n.currentDay=e("a",s).html(),n.selectedMonth=n.currentMonth=i,n.selectedYear=n.currentYear=a,this._selectDate(t,this._formatDate(n,n.currentDay,n.currentMonth,n.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var a,s=e(t),n=this._getInst(s[0]);i=null!=i?i:this._formatDate(n),n.input&&n.input.val(i),this._updateAlternate(n),a=this._get(n,"onSelect"),a?a.apply(n.input?n.input[0]:null,[i,n]):n.input&&n.input.trigger("change"),n.inline?this._updateDatepicker(n):(this._hideDatepicker(),this._lastInput=n.input[0],"object"!=typeof n.input[0]&&n.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,a,s,n=this._get(t,"altField");n&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),a=this._getDate(t),s=this.formatDate(i,a,this._getFormatConfig(t)),e(n).each(function(){e(this).val(s)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(i,a,s){if(null==i||null==a)throw"Invalid arguments";if(a="object"==typeof a?""+a:a+"",""===a)return null;var n,r,o,u,c=0,h=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,l="string"!=typeof h?h:(new Date).getFullYear()%100+parseInt(h,10),d=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,p=(s?s.dayNames:null)||this._defaults.dayNames,g=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,m=(s?s.monthNames:null)||this._defaults.monthNames,f=-1,_=-1,v=-1,k=-1,y=!1,b=function(e){var t=i.length>n+1&&i.charAt(n+1)===e;return t&&n++,t},D=function(e){var t=b(e),i="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,s=RegExp("^\\d{1,"+i+"}"),n=a.substring(c).match(s);if(!n)throw"Missing number at position "+c;return c+=n[0].length,parseInt(n[0],10)},w=function(i,s,n){var r=-1,o=e.map(b(i)?n:s,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(o,function(e,i){var s=i[1];return a.substr(c,s.length).toLowerCase()===s.toLowerCase()?(r=i[0],c+=s.length,!1):t}),-1!==r)return r+1;throw"Unknown name at position "+c},M=function(){if(a.charAt(c)!==i.charAt(n))throw"Unexpected literal at position "+c;c++};for(n=0;i.length>n;n++)if(y)"'"!==i.charAt(n)||b("'")?M():y=!1;else switch(i.charAt(n)){case"d":v=D("d");break;case"D":w("D",d,p);break;case"o":k=D("o");break;case"m":_=D("m");break;case"M":_=w("M",g,m);break;case"y":f=D("y");break;case"@":u=new Date(D("@")),f=u.getFullYear(),_=u.getMonth()+1,v=u.getDate();break;case"!":u=new Date((D("!")-this._ticksTo1970)/1e4),f=u.getFullYear(),_=u.getMonth()+1,v=u.getDate();break;case"'":b("'")?M():y=!0;break;default:M()}if(a.length>c&&(o=a.substr(c),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===f?f=(new Date).getFullYear():100>f&&(f+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l>=f?0:-100)),k>-1)for(_=1,v=k;;){if(r=this._getDaysInMonth(f,_-1),r>=v)break;_++,v-=r}if(u=this._daylightSavingAdjust(new Date(f,_-1,v)),u.getFullYear()!==f||u.getMonth()+1!==_||u.getDate()!==v)throw"Invalid date";return u},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,i){if(!t)return"";var a,s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,n=(i?i.dayNames:null)||this._defaults.dayNames,r=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,o=(i?i.monthNames:null)||this._defaults.monthNames,u=function(t){var i=e.length>a+1&&e.charAt(a+1)===t;return i&&a++,i},c=function(e,t,i){var a=""+t;if(u(e))for(;i>a.length;)a="0"+a;return a},h=function(e,t,i,a){return u(e)?a[t]:i[t]},l="",d=!1;if(t)for(a=0;e.length>a;a++)if(d)"'"!==e.charAt(a)||u("'")?l+=e.charAt(a):d=!1;else switch(e.charAt(a)){case"d":l+=c("d",t.getDate(),2);break;case"D":l+=h("D",t.getDay(),s,n);break;case"o":l+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=c("m",t.getMonth()+1,2);break;case"M":l+=h("M",t.getMonth(),r,o);break;case"y":l+=u("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":l+=t.getTime();break;case"!":l+=1e4*t.getTime()+this._ticksTo1970;break;case"'":u("'")?l+="'":d=!0;break;default:l+=e.charAt(a)}return l},_possibleChars:function(e){var t,i="",a=!1,s=function(i){var a=e.length>t+1&&e.charAt(t+1)===i;return a&&t++,a};for(t=0;e.length>t;t++)if(a)"'"!==e.charAt(t)||s("'")?i+=e.charAt(t):a=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":s("'")?i+="'":a=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,i){return e.settings[i]!==t?e.settings[i]:this._defaults[i]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),a=e.lastVal=e.input?e.input.val():null,s=this._getDefaultDate(e),n=s,r=this._getFormatConfig(e);try{n=this.parseDate(i,a,r)||s}catch(o){a=t?"":a}e.selectedDay=n.getDate(),e.drawMonth=e.selectedMonth=n.getMonth(),e.drawYear=e.selectedYear=n.getFullYear(),e.currentDay=a?n.getDate():0,e.currentMonth=a?n.getMonth():0,e.currentYear=a?n.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,a){var s=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},n=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(a){}for(var s=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,n=s.getFullYear(),r=s.getMonth(),o=s.getDate(),u=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,c=u.exec(i);c;){switch(c[2]||"d"){case"d":case"D":o+=parseInt(c[1],10);break;case"w":case"W":o+=7*parseInt(c[1],10);break;case"m":case"M":r+=parseInt(c[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(n,r));break;case"y":case"Y":n+=parseInt(c[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(n,r))}c=u.exec(i)}return new Date(n,r,o)},r=null==i||""===i?a:"string"==typeof i?n(i):"number"==typeof i?isNaN(i)?a:s(i):new Date(i.getTime());return r=r&&"Invalid Date"==""+r?a:r,r&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var a=!t,s=e.selectedMonth,n=e.selectedYear,r=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=r.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=r.getMonth(),e.drawYear=e.selectedYear=e.currentYear=r.getFullYear(),s===e.selectedMonth&&n===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(a?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),a="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(a,-i,"M")},next:function(){e.datepicker._adjustDate(a,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(a)},selectDay:function(){return e.datepicker._selectDay(a,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(a,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(a,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,a,s,n,r,o,u,c,h,l,d,p,g,m,f,_,v,k,y,b,D,w,M,C,x,I,N,T,A,E,S,Y,F,P,O,j,K,R,H=new Date,W=this._daylightSavingAdjust(new Date(H.getFullYear(),H.getMonth(),H.getDate())),L=this._get(e,"isRTL"),U=this._get(e,"showButtonPanel"),B=this._get(e,"hideIfNoPrevNext"),z=this._get(e,"navigationAsDateFormat"),q=this._getNumberOfMonths(e),G=this._get(e,"showCurrentAtPos"),J=this._get(e,"stepMonths"),Q=1!==q[0]||1!==q[1],V=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),$=this._getMinMaxDate(e,"min"),X=this._getMinMaxDate(e,"max"),Z=e.drawMonth-G,et=e.drawYear;if(0>Z&&(Z+=12,et--),X)for(t=this._daylightSavingAdjust(new Date(X.getFullYear(),X.getMonth()-q[0]*q[1]+1,X.getDate())),t=$&&$>t?$:t;this._daylightSavingAdjust(new Date(et,Z,1))>t;)Z--,0>Z&&(Z=11,et--);for(e.drawMonth=Z,e.drawYear=et,i=this._get(e,"prevText"),i=z?this.formatDate(i,this._daylightSavingAdjust(new Date(et,Z-J,1)),this._getFormatConfig(e)):i,a=this._canAdjustMonth(e,-1,et,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(L?"e":"w")+"'>"+i+"</span></a>":B?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(L?"e":"w")+"'>"+i+"</span></a>",s=this._get(e,"nextText"),s=z?this.formatDate(s,this._daylightSavingAdjust(new Date(et,Z+J,1)),this._getFormatConfig(e)):s,n=this._canAdjustMonth(e,1,et,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(L?"w":"e")+"'>"+s+"</span></a>":B?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(L?"w":"e")+"'>"+s+"</span></a>",r=this._get(e,"currentText"),o=this._get(e,"gotoCurrent")&&e.currentDay?V:W,r=z?this.formatDate(r,o,this._getFormatConfig(e)):r,u=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=U?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(L?u:"")+(this._isInRange(e,o)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+r+"</button>":"")+(L?"":u)+"</div>":"",h=parseInt(this._get(e,"firstDay"),10),h=isNaN(h)?0:h,l=this._get(e,"showWeek"),d=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),g=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),f=this._get(e,"beforeShowDay"),_=this._get(e,"showOtherMonths"),v=this._get(e,"selectOtherMonths"),k=this._getDefaultDate(e),y="",D=0;q[0]>D;D++){for(w="",this.maxRows=4,M=0;q[1]>M;M++){if(C=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),x=" ui-corner-all",I="",Q){if(I+="<div class='ui-datepicker-group",q[1]>1)switch(M){case 0:I+=" ui-datepicker-group-first",x=" ui-corner-"+(L?"right":"left");break;case q[1]-1:I+=" ui-datepicker-group-last",x=" ui-corner-"+(L?"left":"right");break;default:I+=" ui-datepicker-group-middle",x=""}I+="'>"}for(I+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+x+"'>"+(/all|left/.test(x)&&0===D?L?n:a:"")+(/all|right/.test(x)&&0===D?L?a:n:"")+this._generateMonthYearHeader(e,Z,et,$,X,D>0||M>0,g,m)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",N=l?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",b=0;7>b;b++)T=(b+h)%7,N+="<th"+((b+h+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+d[T]+"'>"+p[T]+"</span></th>";for(I+=N+"</tr></thead><tbody>",A=this._getDaysInMonth(et,Z),et===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,A)),E=(this._getFirstDayOfMonth(et,Z)-h+7)%7,S=Math.ceil((E+A)/7),Y=Q?this.maxRows>S?this.maxRows:S:S,this.maxRows=Y,F=this._daylightSavingAdjust(new Date(et,Z,1-E)),P=0;Y>P;P++){for(I+="<tr>",O=l?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(F)+"</td>":"",b=0;7>b;b++)j=f?f.apply(e.input?e.input[0]:null,[F]):[!0,""],K=F.getMonth()!==Z,R=K&&!v||!j[0]||$&&$>F||X&&F>X,O+="<td class='"+((b+h+6)%7>=5?" ui-datepicker-week-end":"")+(K?" ui-datepicker-other-month":"")+(F.getTime()===C.getTime()&&Z===e.selectedMonth&&e._keyEvent||k.getTime()===F.getTime()&&k.getTime()===C.getTime()?" "+this._dayOverClass:"")+(R?" "+this._unselectableClass+" ui-state-disabled":"")+(K&&!_?"":" "+j[1]+(F.getTime()===V.getTime()?" "+this._currentClass:"")+(F.getTime()===W.getTime()?" ui-datepicker-today":""))+"'"+(K&&!_||!j[2]?"":" title='"+j[2].replace(/'/g,"&#39;")+"'")+(R?"":" data-handler='selectDay' data-event='click' data-month='"+F.getMonth()+"' data-year='"+F.getFullYear()+"'")+">"+(K&&!_?"&#xa0;":R?"<span class='ui-state-default'>"+F.getDate()+"</span>":"<a class='ui-state-default"+(F.getTime()===W.getTime()?" ui-state-highlight":"")+(F.getTime()===V.getTime()?" ui-state-active":"")+(K?" ui-priority-secondary":"")+"' href='#'>"+F.getDate()+"</a>")+"</td>",F.setDate(F.getDate()+1),F=this._daylightSavingAdjust(F);I+=O+"</tr>"}Z++,Z>11&&(Z=0,et++),I+="</tbody></table>"+(Q?"</div>"+(q[0]>0&&M===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),w+=I}y+=w}return y+=c,e._keyEvent=!1,y},_generateMonthYearHeader:function(e,t,i,a,s,n,r,o){var u,c,h,l,d,p,g,m,f=this._get(e,"changeMonth"),_=this._get(e,"changeYear"),v=this._get(e,"showMonthAfterYear"),k="<div class='ui-datepicker-title'>",y="";if(n||!f)y+="<span class='ui-datepicker-month'>"+r[t]+"</span>";else{for(u=a&&a.getFullYear()===i,c=s&&s.getFullYear()===i,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",h=0;12>h;h++)(!u||h>=a.getMonth())&&(!c||s.getMonth()>=h)&&(y+="<option value='"+h+"'"+(h===t?" selected='selected'":"")+">"+o[h]+"</option>");y+="</select>"}if(v||(k+=y+(!n&&f&&_?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",n||!_)k+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(l=this._get(e,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?d+parseInt(e,10):parseInt(e,10);
return isNaN(t)?d:t},g=p(l[0]),m=Math.max(g,p(l[1]||"")),g=a?Math.max(g,a.getFullYear()):g,m=s?Math.min(m,s.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=g;g++)e.yearshtml+="<option value='"+g+"'"+(g===i?" selected='selected'":"")+">"+g+"</option>";e.yearshtml+="</select>",k+=e.yearshtml,e.yearshtml=null}return k+=this._get(e,"yearSuffix"),v&&(k+=(!n&&f&&_?"":"&#xa0;")+y),k+="</div>"},_adjustInstDate:function(e,t,i){var a=e.drawYear+("Y"===i?t:0),s=e.drawMonth+("M"===i?t:0),n=Math.min(e.selectedDay,this._getDaysInMonth(a,s))+("D"===i?t:0),r=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(a,s,n)));e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),a=this._getMinMaxDate(e,"max"),s=i&&i>t?i:t;return a&&s>a?a:s},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,a){var s=this._getNumberOfMonths(e),n=this._daylightSavingAdjust(new Date(i,a+(0>t?t:s[0]*s[1]),1));return 0>t&&n.setDate(this._getDaysInMonth(n.getFullYear(),n.getMonth())),this._isInRange(e,n)},_isInRange:function(e,t){var i,a,s=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),r=null,o=null,u=this._get(e,"yearRange");return u&&(i=u.split(":"),a=(new Date).getFullYear(),r=parseInt(i[0],10),o=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(r+=a),i[1].match(/[+\-].*/)&&(o+=a)),(!s||t.getTime()>=s.getTime())&&(!n||t.getTime()<=n.getTime())&&(!r||t.getFullYear()>=r)&&(!o||o>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,a){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var s=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(a,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),s,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new i,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.10.4"})(jQuery);(function(e){var t={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},i={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};e.widget("ui.dialog",{version:"1.10.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;0>i&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i,a=this;if(this._isOpen&&this._trigger("beforeClose",t)!==!1){if(this._isOpen=!1,this._destroyOverlay(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement,i&&"body"!==i.nodeName.toLowerCase()&&e(i).blur()}catch(s){}this._hide(this.uiDialog,this.options.hide,function(){a._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,t){var i=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return i&&!t&&this._trigger("focus",e),i},open:function(){var t=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),undefined):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._trigger("open"),undefined)},_focusTabbable:function(){var e=this.element.find("[autofocus]");e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),this.close(t),undefined;if(t.keyCode===e.ui.keyCode.TAB){var i=this.uiDialog.find(":tabbable"),a=i.filter(":first"),s=i.filter(":last");t.target!==s[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==a[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(s.focus(1),t.preventDefault()):(a.focus(1),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?(this.uiDialog.removeClass("ui-dialog-buttons"),undefined):(e.each(i,function(i,a){var s,n;a=e.isFunction(a)?{click:a,text:i}:a,a=e.extend({type:"button"},a),s=a.click,a.click=function(){s.apply(t.element[0],arguments)},n={icons:a.icons,text:a.showText},delete a.icons,delete a.showText,e("<button></button>",a).button(n).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),undefined)},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,a=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(a,s){e(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",a,t(s))},drag:function(e,a){i._trigger("drag",e,t(a))},stop:function(s,n){a.position=[n.position.left-i.document.scrollLeft(),n.position.top-i.document.scrollTop()],e(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",s,t(n))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,a=this.options,s=a.resizable,n=this.uiDialog.css("position"),r="string"==typeof s?s:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:a.maxWidth,maxHeight:a.maxHeight,minWidth:a.minWidth,minHeight:this._minHeight(),handles:r,start:function(a,s){e(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",a,t(s))},resize:function(e,a){i._trigger("resize",e,t(a))},stop:function(s,n){a.height=e(this).height(),a.width=e(this).width(),e(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",s,t(n))}}).css("position",n)},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(a){var s=this,n=!1,r={};e.each(a,function(e,a){s._setOption(e,a),e in t&&(n=!0),e in i&&(r[e]=a)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,t){var i,a,s=this.uiDialog;"dialogClass"===e&&s.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(i=s.is(":data(ui-draggable)"),i&&!t&&s.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(a=s.is(":data(ui-resizable)"),a&&!t&&s.resizable("destroy"),a&&"string"==typeof t&&s.resizable("option","handles",t),a||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,a=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),a.minWidth>a.width&&(a.width=a.minWidth),e=this.uiDialog.css({height:"auto",width:a.width}).outerHeight(),t=Math.max(0,a.minHeight-e),i="number"==typeof a.maxHeight?Math.max(0,a.maxHeight-e):"none","auto"===a.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,a.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return e(t.target).closest(".ui-dialog").length?!0:!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=this,i=this.widgetFullName;e.ui.dialog.overlayInstances||this._delay(function(){e.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(a){t._allowInteraction(a)||(a.preventDefault(),e(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable())})}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),e.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(e.ui.dialog.overlayInstances--,e.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),e.ui.dialog.overlayInstances=0,e.uiBackCompat!==!1&&e.widget("ui.dialog",e.ui.dialog,{_position:function(){var t,i=this.options.position,a=[],s=[0,0];i?(("string"==typeof i||"object"==typeof i&&"0"in i)&&(a=i.split?i.split(" "):[i[0],i[1]],1===a.length&&(a[1]=a[0]),e.each(["left","top"],function(e,t){+a[e]===a[e]&&(s[e]=a[e],a[e]=t)}),i={my:a[0]+(0>s[0]?s[0]:"+"+s[0])+" "+a[1]+(0>s[1]?s[1]:"+"+s[1]),at:a.join(" ")}),i=e.extend({},e.ui.dialog.prototype.options.position,i)):i=e.ui.dialog.prototype.options.position,t=this.uiDialog.is(":visible"),t||this.uiDialog.show(),this.uiDialog.position(i),t||this.uiDialog.hide()}})})(jQuery);(function(t){t.widget("ui.draggable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(t(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",e,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"original"!==this.options.helper||t.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1):!1},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return s.parents("body").length||s.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s[0]===this.element[0]||/(fixed|absolute)/.test(s.css("position"))||s.css("position","absolute"),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;return n.containment?"window"===n.containment?(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):"document"===n.containment?(this.containment=[0,0,t(document).width()-this.helperProportions.width-this.margins.left,(t(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):n.containment.constructor===Array?(this.containment=n.containment,undefined):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=t(n.containment),s=i[0],s&&(e="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i),undefined):(this.containment=null,undefined)},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:n.scrollTop(),left:n.scrollLeft()}),{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*s}},_generatePosition:function(e){var i,s,n,a,o=this.options,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=e.pageX,h=e.pageY;return this.offset.scroll||(this.offset.scroll={top:r.scrollTop(),left:r.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(s=this.relative_container.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),o.grid&&(n=o.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,h=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-o.grid[1]:n+o.grid[1]:n,a=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,l=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-o.grid[0]:a+o.grid[0]:a)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s]),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i){var s=t(this).data("ui-draggable"),n=s.options,a=t.extend({},i,{item:s.element});s.sortables=[],t(n.connectToSortable).each(function(){var i=t.data(this,"ui-sortable");i&&!i.options.disabled&&(s.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",e,a))})},stop:function(e,i){var s=t(this).data("ui-draggable"),n=t.extend({},i,{item:s.element});t.each(s.sortables,function(){this.instance.isOver?(this.instance.isOver=0,s.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===s.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,n))})},drag:function(e,i){var s=t(this).data("ui-draggable"),n=this;t.each(s.sortables,function(){var a=!1,o=this;this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(a=!0,t.each(s.sortables,function(){return this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this!==o&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(o.instance.element[0],this.instance.element[0])&&(a=!1),a})),a?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(n).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=s.offset.click.top,this.instance.offset.click.left=s.offset.click.left,this.instance.offset.parent.left-=s.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=s.offset.parent.top-this.instance.offset.parent.top,s._trigger("toSortable",e),s.dropped=this.instance.element,s.currentItem=s.element,this.instance.fromOutside=s),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),s._trigger("fromSortable",e),s.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),i=t(this).data("ui-draggable").options;e.css("cursor")&&(i._cursor=e.css("cursor")),e.css("cursor",i.cursor)},stop:function(){var e=t(this).data("ui-draggable").options;e._cursor&&t("body").css("cursor",e._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i){var s=t(i.helper),n=t(this).data("ui-draggable").options;s.css("opacity")&&(n._opacity=s.css("opacity")),s.css("opacity",n.opacity)},stop:function(e,i){var s=t(this).data("ui-draggable").options;s._opacity&&t(i.helper).css("opacity",s._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("ui-draggable");e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var i=t(this).data("ui-draggable"),s=i.options,n=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(s.axis&&"x"===s.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?i.scrollParent[0].scrollTop=n=i.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-i.overflowOffset.top<s.scrollSensitivity&&(i.scrollParent[0].scrollTop=n=i.scrollParent[0].scrollTop-s.scrollSpeed)),s.axis&&"y"===s.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?i.scrollParent[0].scrollLeft=n=i.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-i.overflowOffset.left<s.scrollSensitivity&&(i.scrollParent[0].scrollLeft=n=i.scrollParent[0].scrollLeft-s.scrollSpeed))):(s.axis&&"x"===s.axis||(e.pageY-t(document).scrollTop()<s.scrollSensitivity?n=t(document).scrollTop(t(document).scrollTop()-s.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<s.scrollSensitivity&&(n=t(document).scrollTop(t(document).scrollTop()+s.scrollSpeed))),s.axis&&"y"===s.axis||(e.pageX-t(document).scrollLeft()<s.scrollSensitivity?n=t(document).scrollLeft(t(document).scrollLeft()-s.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<s.scrollSensitivity&&(n=t(document).scrollLeft(t(document).scrollLeft()+s.scrollSpeed)))),n!==!1&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("ui-draggable"),i=e.options;e.snapElements=[],t(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=t(this),s=i.offset();this!==e.element[0]&&e.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:s.top,left:s.left})})},drag:function(e,i){var s,n,a,o,r,l,h,c,u,d,p=t(this).data("ui-draggable"),g=p.options,f=g.snapTolerance,m=i.offset.left,_=m+p.helperProportions.width,v=i.offset.top,b=v+p.helperProportions.height;for(u=p.snapElements.length-1;u>=0;u--)r=p.snapElements[u].left,l=r+p.snapElements[u].width,h=p.snapElements[u].top,c=h+p.snapElements[u].height,r-f>_||m>l+f||h-f>b||v>c+f||!t.contains(p.snapElements[u].item.ownerDocument,p.snapElements[u].item)?(p.snapElements[u].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=!1):("inner"!==g.snapMode&&(s=f>=Math.abs(h-b),n=f>=Math.abs(c-v),a=f>=Math.abs(r-_),o=f>=Math.abs(l-m),s&&(i.position.top=p._convertPositionTo("relative",{top:h-p.helperProportions.height,left:0}).top-p.margins.top),n&&(i.position.top=p._convertPositionTo("relative",{top:c,left:0}).top-p.margins.top),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:r-p.helperProportions.width}).left-p.margins.left),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l}).left-p.margins.left)),d=s||n||a||o,"outer"!==g.snapMode&&(s=f>=Math.abs(h-v),n=f>=Math.abs(c-b),a=f>=Math.abs(r-m),o=f>=Math.abs(l-_),s&&(i.position.top=p._convertPositionTo("relative",{top:h,left:0}).top-p.margins.top),n&&(i.position.top=p._convertPositionTo("relative",{top:c-p.helperProportions.height,left:0}).top-p.margins.top),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:r}).left-p.margins.left),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[u].snapping&&(s||n||a||o||d)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=s||n||a||o||d)}}),t.ui.plugin.add("draggable","stack",{start:function(){var e,i=this.data("ui-draggable").options,s=t.makeArray(t(i.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});s.length&&(e=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each(function(i){t(this).css("zIndex",e+i)}),this.css("zIndex",e+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i){var s=t(i.helper),n=t(this).data("ui-draggable").options;s.css("zIndex")&&(n._zIndex=s.css("zIndex")),s.css("zIndex",n.zIndex)},stop:function(e,i){var s=t(this).data("ui-draggable").options;s._zIndex&&t(i.helper).css("zIndex",s._zIndex)}})})(jQuery);(function(t){function e(t,e,i){return t>e&&e+i>t}t.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(s)?s:function(t){return t.is(s)},this.proportions=function(){return arguments.length?(e=arguments[0],undefined):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},t.ui.ddmanager.droppables[i.scope]=t.ui.ddmanager.droppables[i.scope]||[],t.ui.ddmanager.droppables[i.scope].push(this),i.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var e=0,i=t.ui.ddmanager.droppables[this.options.scope];i.length>e;e++)i[e]===this&&i.splice(e,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,i){"accept"===e&&(this.accept=t.isFunction(i)?i:function(t){return t.is(i)}),t.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var s=i||t.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=t.data(this,"ui-droppable");return e.options.greedy&&!e.options.disabled&&e.options.scope===s.options.scope&&e.accept.call(e.element[0],s.currentItem||s.element)&&t.ui.intersect(s,t.extend(e,{offset:e.element.offset()}),e.options.tolerance)?(n=!0,!1):undefined}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(s)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(t,i,s){if(!i.offset)return!1;var n,a,o=(t.positionAbs||t.position.absolute).left,r=(t.positionAbs||t.position.absolute).top,l=o+t.helperProportions.width,h=r+t.helperProportions.height,c=i.offset.left,u=i.offset.top,d=c+i.proportions().width,p=u+i.proportions().height;switch(s){case"fit":return o>=c&&d>=l&&r>=u&&p>=h;case"intersect":return o+t.helperProportions.width/2>c&&d>l-t.helperProportions.width/2&&r+t.helperProportions.height/2>u&&p>h-t.helperProportions.height/2;case"pointer":return n=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,a=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,e(a,u,i.proportions().height)&&e(n,c,i.proportions().width);case"touch":return(r>=u&&p>=r||h>=u&&p>=h||u>r&&h>p)&&(o>=c&&d>=o||l>=c&&d>=l||c>o&&l>d);default:return!1}},t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var s,n,a=t.ui.ddmanager.droppables[e.options.scope]||[],o=i?i.type:null,r=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(s=0;a.length>s;s++)if(!(a[s].options.disabled||e&&!a[s].accept.call(a[s].element[0],e.currentItem||e.element))){for(n=0;r.length>n;n++)if(r[n]===a[s].element[0]){a[s].proportions().height=0;continue t}a[s].visible="none"!==a[s].element.css("display"),a[s].visible&&("mousedown"===o&&a[s]._activate.call(a[s],i),a[s].offset=a[s].element.offset(),a[s].proportions({width:a[s].element[0].offsetWidth,height:a[s].element[0].offsetHeight}))}},drop:function(e,i){var s=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,a,o=t.ui.intersect(e,this,this.options.tolerance),r=!o&&this.isover?"isout":o&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,a=this.element.parents(":data(ui-droppable)").filter(function(){return t.data(this,"ui-droppable").options.scope===n}),a.length&&(s=t.data(a[0],"ui-droppable"),s.greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}}})(jQuery);(function(t,e){var i="ui-effects-";t.effects={effect:{}},function(t,e){function i(t,e,i){var s=u[e.type]||{};return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:0>t?0:t>s.max?s.max:t)}function s(i){var s=h(),n=s._rgba=[];return i=i.toLowerCase(),f(l,function(t,a){var o,r=a.re.exec(i),l=r&&a.parse(r),h=a.space||"rgba";return l?(o=s[h](l),s[c[h].cache]=o[c[h].cache],n=s._rgba=o._rgba,!1):e}),n.length?("0,0,0,0"===n.join()&&t.extend(n,a.transparent),s):a[i]}function n(t,e,i){return i=(i+1)%1,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+6*(e-t)*(2/3-i):t}var a,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],h=t.Color=function(e,i,s,n){return new t.Color.fn.parse(e,i,s,n)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=h.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),h.fn=t.extend(h.prototype,{parse:function(n,o,r,l){if(n===e)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=t(n).css(o),o=e);var u=this,d=t.type(n),p=this._rgba=[];return o!==e&&(n=[n,o,r,l],d="array"),"string"===d?this.parse(s(n)||a._default):"array"===d?(f(c.rgba.props,function(t,e){p[e.idx]=i(n[e.idx],e)}),this):"object"===d?(n instanceof h?f(c,function(t,e){n[e.cache]&&(u[e.cache]=n[e.cache].slice())}):f(c,function(e,s){var a=s.cache;f(s.props,function(t,e){if(!u[a]&&s.to){if("alpha"===t||null==n[t])return;u[a]=s.to(u._rgba)}u[a][e.idx]=i(n[t],e,!0)}),u[a]&&0>t.inArray(null,u[a].slice(0,3))&&(u[a][3]=1,s.from&&(u._rgba=s.from(u[a])))}),this):e},is:function(t){var i=h(t),s=!0,n=this;return f(c,function(t,a){var o,r=i[a.cache];return r&&(o=n[a.cache]||a.to&&a.to(n._rgba)||[],f(a.props,function(t,i){return null!=r[i.idx]?s=r[i.idx]===o[i.idx]:e})),s}),s},_space:function(){var t=[],e=this;return f(c,function(i,s){e[s.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var s=h(t),n=s._space(),a=c[n],o=0===this.alpha()?h("transparent"):this,r=o[a.cache]||a.to(o._rgba),l=r.slice();return s=s[a.cache],f(a.props,function(t,n){var a=n.idx,o=r[a],h=s[a],c=u[n.type]||{};null!==h&&(null===o?l[a]=h:(c.mod&&(h-o>c.mod/2?o+=c.mod:o-h>c.mod/2&&(o-=c.mod)),l[a]=i((h-o)*e+o,n)))}),this[n](l)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=h(e)._rgba;return h(t.map(i,function(t,e){return(1-s)*n[e]+s*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),s=i.pop();return e&&i.push(~~(255*s)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),h.fn.parse.prototype=h.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,s=t[0]/255,n=t[1]/255,a=t[2]/255,o=t[3],r=Math.max(s,n,a),l=Math.min(s,n,a),h=r-l,c=r+l,u=.5*c;return e=l===r?0:s===r?60*(n-a)/h+360:n===r?60*(a-s)/h+120:60*(s-n)/h+240,i=0===h?0:.5>=u?h/c:h/(2-c),[Math.round(e)%360,i,u,null==o?1:o]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],s=t[2],a=t[3],o=.5>=s?s*(1+i):s+i-s*i,r=2*s-o;return[Math.round(255*n(r,o,e+1/3)),Math.round(255*n(r,o,e)),Math.round(255*n(r,o,e-1/3)),a]},f(c,function(s,n){var a=n.props,o=n.cache,l=n.to,c=n.from;h.fn[s]=function(s){if(l&&!this[o]&&(this[o]=l(this._rgba)),s===e)return this[o].slice();var n,r=t.type(s),u="array"===r||"object"===r?s:arguments,d=this[o].slice();return f(a,function(t,e){var s=u["object"===r?t:e.idx];null==s&&(s=d[e.idx]),d[e.idx]=i(s,e)}),c?(n=h(c(d)),n[o]=d,n):h(d)},f(a,function(e,i){h.fn[e]||(h.fn[e]=function(n){var a,o=t.type(n),l="alpha"===e?this._hsla?"hsla":"rgba":s,h=this[l](),c=h[i.idx];return"undefined"===o?c:("function"===o&&(n=n.call(this,c),o=t.type(n)),null==n&&i.empty?this:("string"===o&&(a=r.exec(n),a&&(n=c+parseFloat(a[2])*("+"===a[1]?1:-1))),h[i.idx]=n,this[l](h)))})})}),h.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,n){var a,o,r="";if("transparent"!==n&&("string"!==t.type(n)||(a=s(n)))){if(n=h(a||n),!d.rgba&&1!==n._rgba[3]){for(o="backgroundColor"===i?e.parentNode:e;(""===r||"transparent"===r)&&o&&o.style;)try{r=t.css(o,"backgroundColor"),o=o.parentNode}catch(l){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{e.style[i]=n}catch(l){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=h(e.elem,i),e.end=h(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},h.hook(o),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,s){e["border"+s+"Color"]=t}),e}},a=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(e){var i,s,n=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,a={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)i=n[s],"string"==typeof n[i]&&(a[t.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(a[i]=n[i]);return a}function s(e,i){var s,n,o={};for(s in i)n=i[s],e[s]!==n&&(a[s]||(t.fx.step[s]||!isNaN(parseFloat(n)))&&(o[s]=n));return o}var n=["add","remove","toggle"],a={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(jQuery.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(e,a,o,r){var l=t.speed(a,o,r);return this.queue(function(){var a,o=t(this),r=o.attr("class")||"",h=l.children?o.find("*").addBack():o;h=h.map(function(){var e=t(this);return{el:e,start:i(this)}}),a=function(){t.each(n,function(t,i){e[i]&&o[i+"Class"](e[i])})},a(),h=h.map(function(){return this.end=i(this.el[0]),this.diff=s(this.start,this.end),this}),o.attr("class",r),h=h.map(function(){var e=this,i=t.Deferred(),s=t.extend({},l,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,s),i.promise()}),t.when.apply(t,h.get()).done(function(){a(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(o[0])})})},t.fn.extend({addClass:function(e){return function(i,s,n,a){return s?t.effects.animateClass.call(this,{add:i},s,n,a):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,s,n,a){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},s,n,a):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(i){return function(s,n,a,o,r){return"boolean"==typeof n||n===e?a?t.effects.animateClass.call(this,n?{add:s}:{remove:s},a,o,r):i.apply(this,arguments):t.effects.animateClass.call(this,{toggle:s},n,a,o)}}(t.fn.toggleClass),switchClass:function(e,i,s,n,a){return t.effects.animateClass.call(this,{add:i,remove:e},s,n,a)}})}(),function(){function s(e,i,s,n){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(n=s,s=i,i={}),t.isFunction(s)&&(n=s,s=null),i&&t.extend(e,i),s=s||i.duration,e.duration=t.fx.off?0:"number"==typeof s?s:s in t.fx.speeds?t.fx.speeds[s]:t.fx.speeds._default,e.complete=n||i.complete,e}function n(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=typeof e||e.effect?!1:!0:!0}t.extend(t.effects,{version:"1.10.4",save:function(t,e){for(var s=0;e.length>s;s++)null!==e[s]&&t.data(i+e[s],t[0].style[e[s]])},restore:function(t,s){var n,a;for(a=0;s.length>a;a++)null!==s[a]&&(n=t.data(i+s[a]),n===e&&(n=""),t.css(s[a],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,s;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=t[1]/e.width}return{x:s,y:i}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},s=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:e.width(),height:e.height()},a=document.activeElement;try{a.id}catch(o){a=document.body}return e.wrap(s),(e[0]===a||t.contains(e[0],a))&&t(a).focus(),s=e.parent(),"static"===e.css("position")?(s.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,s){i[s]=e.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(n),s.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).focus()),e},setTransition:function(e,i,s,n){return n=n||{},t.each(i,function(t,i){var a=e.cssUnit(i);a[0]>0&&(n[i]=a[0]*s+a[1])}),n}}),t.fn.extend({effect:function(){function e(e){function s(){t.isFunction(a)&&a.call(n[0]),t.isFunction(e)&&e()}var n=t(this),a=i.complete,r=i.mode;(n.is(":hidden")?"hide"===r:"show"===r)?(n[r](),s()):o.call(n[0],i,s)}var i=s.apply(this,arguments),n=i.mode,a=i.queue,o=t.effects.effect[i.effect];return t.fx.off||!o?n?this[n](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):a===!1?this.each(e):this.queue(a||"fx",e)},show:function(t){return function(e){if(n(e))return t.apply(this,arguments);var i=s.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(t.fn.show),hide:function(t){return function(e){if(n(e))return t.apply(this,arguments);var i=s.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(t.fn.hide),toggle:function(t){return function(e){if(n(e)||"boolean"==typeof e)return t.apply(this,arguments);var i=s.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),s=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(s=[parseFloat(i),e])}),s}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;((e=Math.pow(2,--i))-1)/11>t;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}()})(jQuery);(function(t){var e=/up|down|vertical/,i=/up|left|vertical|horizontal/;t.effects.effect.blind=function(s,n){var a,o,r,l=t(this),h=["position","top","bottom","left","right","height","width"],c=t.effects.setMode(l,s.mode||"hide"),u=s.direction||"up",d=e.test(u),p=d?"height":"width",f=d?"top":"left",g=i.test(u),m={},v="show"===c;l.parent().is(".ui-effects-wrapper")?t.effects.save(l.parent(),h):t.effects.save(l,h),l.show(),a=t.effects.createWrapper(l).css({overflow:"hidden"}),o=a[p](),r=parseFloat(a.css(f))||0,m[p]=v?o:0,g||(l.css(d?"bottom":"right",0).css(d?"top":"left","auto").css({position:"absolute"}),m[f]=v?r:o+r),v&&(a.css(p,0),g||a.css(f,r+o)),a.animate(m,{duration:s.duration,easing:s.easing,queue:!1,complete:function(){"hide"===c&&l.hide(),t.effects.restore(l,h),t.effects.removeWrapper(l),n()}})}})(jQuery);(function(t){t.effects.effect.bounce=function(e,i){var s,n,a,o=t(this),r=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(o,e.mode||"effect"),h="hide"===l,c="show"===l,u=e.direction||"up",d=e.distance,p=e.times||5,f=2*p+(c||h?1:0),g=e.duration/f,m=e.easing,v="up"===u||"down"===u?"top":"left",_="up"===u||"left"===u,b=o.queue(),y=b.length;for((c||h)&&r.push("opacity"),t.effects.save(o,r),o.show(),t.effects.createWrapper(o),d||(d=o["top"===v?"outerHeight":"outerWidth"]()/3),c&&(a={opacity:1},a[v]=0,o.css("opacity",0).css(v,_?2*-d:2*d).animate(a,g,m)),h&&(d/=Math.pow(2,p-1)),a={},a[v]=0,s=0;p>s;s++)n={},n[v]=(_?"-=":"+=")+d,o.animate(n,g,m).animate(a,g,m),d=h?2*d:d/2;h&&(n={opacity:0},n[v]=(_?"-=":"+=")+d,o.animate(n,g,m)),o.queue(function(){h&&o.hide(),t.effects.restore(o,r),t.effects.removeWrapper(o),i()}),y>1&&b.splice.apply(b,[1,0].concat(b.splice(y,f+1))),o.dequeue()}})(jQuery);(function(t){t.effects.effect.clip=function(e,i){var s,n,a,o=t(this),r=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(o,e.mode||"hide"),h="show"===l,c=e.direction||"vertical",u="vertical"===c,d=u?"height":"width",p=u?"top":"left",f={};t.effects.save(o,r),o.show(),s=t.effects.createWrapper(o).css({overflow:"hidden"}),n="IMG"===o[0].tagName?s:o,a=n[d](),h&&(n.css(d,0),n.css(p,a/2)),f[d]=h?a:0,f[p]=h?0:a/2,n.animate(f,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){h||o.hide(),t.effects.restore(o,r),t.effects.removeWrapper(o),i()}})}})(jQuery);(function(t){t.effects.effect.drop=function(e,i){var s,n=t(this),a=["position","top","bottom","left","right","opacity","height","width"],o=t.effects.setMode(n,e.mode||"hide"),r="show"===o,l=e.direction||"left",h="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l?"pos":"neg",u={opacity:r?1:0};t.effects.save(n,a),n.show(),t.effects.createWrapper(n),s=e.distance||n["top"===h?"outerHeight":"outerWidth"](!0)/2,r&&n.css("opacity",0).css(h,"pos"===c?-s:s),u[h]=(r?"pos"===c?"+=":"-=":"pos"===c?"-=":"+=")+s,n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&n.hide(),t.effects.restore(n,a),t.effects.removeWrapper(n),i()}})}})(jQuery);(function(t){t.effects.effect.explode=function(e,i){function s(){b.push(this),b.length===u*d&&n()}function n(){p.css({visibility:"visible"}),t(b).remove(),g||p.hide(),i()}var a,o,r,l,h,c,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=u,p=t(this),f=t.effects.setMode(p,e.mode||"hide"),g="show"===f,m=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/d),_=Math.ceil(p.outerHeight()/u),b=[];for(a=0;u>a;a++)for(l=m.top+a*_,c=a-(u-1)/2,o=0;d>o;o++)r=m.left+o*v,h=o-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*v,top:-a*_}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:_,left:r+(g?h*v:0),top:l+(g?c*_:0),opacity:g?0:1}).animate({left:r+(g?0:h*v),top:l+(g?0:c*_),opacity:g?1:0},e.duration||500,e.easing,s)}})(jQuery);(function(t){t.effects.effect.fade=function(e,i){var s=t(this),n=t.effects.setMode(s,e.mode||"toggle");s.animate({opacity:n},{queue:!1,duration:e.duration,easing:e.easing,complete:i})}})(jQuery);(function(t){t.effects.effect.fold=function(e,i){var s,n,a=t(this),o=["position","top","bottom","left","right","height","width"],r=t.effects.setMode(a,e.mode||"hide"),l="show"===r,h="hide"===r,c=e.size||15,u=/([0-9]+)%/.exec(c),d=!!e.horizFirst,p=l!==d,f=p?["width","height"]:["height","width"],g=e.duration/2,m={},v={};t.effects.save(a,o),a.show(),s=t.effects.createWrapper(a).css({overflow:"hidden"}),n=p?[s.width(),s.height()]:[s.height(),s.width()],u&&(c=parseInt(u[1],10)/100*n[h?0:1]),l&&s.css(d?{height:0,width:c}:{height:c,width:0}),m[f[0]]=l?n[0]:c,v[f[1]]=l?n[1]:0,s.animate(m,g,e.easing).animate(v,g,e.easing,function(){h&&a.hide(),t.effects.restore(a,o),t.effects.removeWrapper(a),i()})}})(jQuery);(function(t){t.effects.effect.highlight=function(e,i){var s=t(this),n=["backgroundImage","backgroundColor","opacity"],a=t.effects.setMode(s,e.mode||"show"),o={backgroundColor:s.css("backgroundColor")};"hide"===a&&(o.opacity=0),t.effects.save(s,n),s.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(o,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===a&&s.hide(),t.effects.restore(s,n),i()}})}})(jQuery);(function(t){t.effects.effect.pulsate=function(e,i){var s,n=t(this),a=t.effects.setMode(n,e.mode||"show"),o="show"===a,r="hide"===a,l=o||"hide"===a,h=2*(e.times||5)+(l?1:0),c=e.duration/h,u=0,d=n.queue(),p=d.length;for((o||!n.is(":visible"))&&(n.css("opacity",0).show(),u=1),s=1;h>s;s++)n.animate({opacity:u},c,e.easing),u=1-u;n.animate({opacity:u},c,e.easing),n.queue(function(){r&&n.hide(),i()}),p>1&&d.splice.apply(d,[1,0].concat(d.splice(p,h+1))),n.dequeue()}})(jQuery);(function(t){t.effects.effect.puff=function(e,i){var s=t(this),n=t.effects.setMode(s,e.mode||"hide"),a="hide"===n,o=parseInt(e.percent,10)||150,r=o/100,l={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:n,complete:i,percent:a?o:100,from:a?l:{height:l.height*r,width:l.width*r,outerHeight:l.outerHeight*r,outerWidth:l.outerWidth*r}}),s.effect(e)},t.effects.effect.scale=function(e,i){var s=t(this),n=t.extend(!0,{},e),a=t.effects.setMode(s,e.mode||"effect"),o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===a?0:100),r=e.direction||"both",l=e.origin,h={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},c={y:"horizontal"!==r?o/100:1,x:"vertical"!==r?o/100:1};n.effect="size",n.queue=!1,n.complete=i,"effect"!==a&&(n.origin=l||["middle","center"],n.restore=!0),n.from=e.from||("show"===a?{height:0,width:0,outerHeight:0,outerWidth:0}:h),n.to={height:h.height*c.y,width:h.width*c.x,outerHeight:h.outerHeight*c.y,outerWidth:h.outerWidth*c.x},n.fade&&("show"===a&&(n.from.opacity=0,n.to.opacity=1),"hide"===a&&(n.from.opacity=1,n.to.opacity=0)),s.effect(n)},t.effects.effect.size=function(e,i){var s,n,a,o=t(this),r=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],h=["width","height","overflow"],c=["fontSize"],u=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=t.effects.setMode(o,e.mode||"effect"),f=e.restore||"effect"!==p,g=e.scale||"both",m=e.origin||["middle","center"],v=o.css("position"),_=f?r:l,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&o.show(),s={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},"toggle"===e.mode&&"show"===p?(o.from=e.to||b,o.to=e.from||s):(o.from=e.from||("show"===p?b:s),o.to=e.to||("hide"===p?b:s)),a={from:{y:o.from.height/s.height,x:o.from.width/s.width},to:{y:o.to.height/s.height,x:o.to.width/s.width}},("box"===g||"both"===g)&&(a.from.y!==a.to.y&&(_=_.concat(u),o.from=t.effects.setTransition(o,u,a.from.y,o.from),o.to=t.effects.setTransition(o,u,a.to.y,o.to)),a.from.x!==a.to.x&&(_=_.concat(d),o.from=t.effects.setTransition(o,d,a.from.x,o.from),o.to=t.effects.setTransition(o,d,a.to.x,o.to))),("content"===g||"both"===g)&&a.from.y!==a.to.y&&(_=_.concat(c).concat(h),o.from=t.effects.setTransition(o,c,a.from.y,o.from),o.to=t.effects.setTransition(o,c,a.to.y,o.to)),t.effects.save(o,_),o.show(),t.effects.createWrapper(o),o.css("overflow","hidden").css(o.from),m&&(n=t.effects.getBaseline(m,s),o.from.top=(s.outerHeight-o.outerHeight())*n.y,o.from.left=(s.outerWidth-o.outerWidth())*n.x,o.to.top=(s.outerHeight-o.to.outerHeight)*n.y,o.to.left=(s.outerWidth-o.to.outerWidth)*n.x),o.css(o.from),("content"===g||"both"===g)&&(u=u.concat(["marginTop","marginBottom"]).concat(c),d=d.concat(["marginLeft","marginRight"]),h=r.concat(u).concat(d),o.find("*[width]").each(function(){var i=t(this),s={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&t.effects.save(i,h),i.from={height:s.height*a.from.y,width:s.width*a.from.x,outerHeight:s.outerHeight*a.from.y,outerWidth:s.outerWidth*a.from.x},i.to={height:s.height*a.to.y,width:s.width*a.to.x,outerHeight:s.height*a.to.y,outerWidth:s.width*a.to.x},a.from.y!==a.to.y&&(i.from=t.effects.setTransition(i,u,a.from.y,i.from),i.to=t.effects.setTransition(i,u,a.to.y,i.to)),a.from.x!==a.to.x&&(i.from=t.effects.setTransition(i,d,a.from.x,i.from),i.to=t.effects.setTransition(i,d,a.to.x,i.to)),i.css(i.from),i.animate(i.to,e.duration,e.easing,function(){f&&t.effects.restore(i,h)})})),o.animate(o.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===o.to.opacity&&o.css("opacity",o.from.opacity),"hide"===p&&o.hide(),t.effects.restore(o,_),f||("static"===v?o.css({position:"relative",top:o.to.top,left:o.to.left}):t.each(["top","left"],function(t,e){o.css(e,function(e,i){var s=parseInt(i,10),n=t?o.to.left:o.to.top;return"auto"===i?n+"px":s+n+"px"})})),t.effects.removeWrapper(o),i()}})}})(jQuery);(function(t){t.effects.effect.shake=function(e,i){var s,n=t(this),a=["position","top","bottom","left","right","height","width"],o=t.effects.setMode(n,e.mode||"effect"),r=e.direction||"left",l=e.distance||20,h=e.times||3,c=2*h+1,u=Math.round(e.duration/c),d="up"===r||"down"===r?"top":"left",p="up"===r||"left"===r,f={},g={},m={},v=n.queue(),_=v.length;for(t.effects.save(n,a),n.show(),t.effects.createWrapper(n),f[d]=(p?"-=":"+=")+l,g[d]=(p?"+=":"-=")+2*l,m[d]=(p?"-=":"+=")+2*l,n.animate(f,u,e.easing),s=1;h>s;s++)n.animate(g,u,e.easing).animate(m,u,e.easing);n.animate(g,u,e.easing).animate(f,u/2,e.easing).queue(function(){"hide"===o&&n.hide(),t.effects.restore(n,a),t.effects.removeWrapper(n),i()}),_>1&&v.splice.apply(v,[1,0].concat(v.splice(_,c+1))),n.dequeue()}})(jQuery);(function(t){t.effects.effect.slide=function(e,i){var s,n=t(this),a=["position","top","bottom","left","right","width","height"],o=t.effects.setMode(n,e.mode||"show"),r="show"===o,l=e.direction||"left",h="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l,u={};t.effects.save(n,a),n.show(),s=e.distance||n["top"===h?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(n).css({overflow:"hidden"}),r&&n.css(h,c?isNaN(s)?"-"+s:-s:s),u[h]=(r?c?"+=":"-=":c?"-=":"+=")+s,n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&n.hide(),t.effects.restore(n,a),t.effects.removeWrapper(n),i()}})}})(jQuery);(function(t){t.effects.effect.transfer=function(e,i){var s=t(this),n=t(e.to),a="fixed"===n.css("position"),o=t("body"),r=a?o.scrollTop():0,l=a?o.scrollLeft():0,h=n.offset(),c={top:h.top-r,left:h.left-l,height:n.innerHeight(),width:n.innerWidth()},u=s.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:u.top-r,left:u.left-l,height:s.innerHeight(),width:s.innerWidth(),position:a?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){d.remove(),i()})}})(jQuery);(function(t){t.widget("ui.menu",{version:"1.10.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,t.proxy(function(t){this.options.disabled&&t.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(t){t.preventDefault()},"click .ui-state-disabled > a":function(t){t.preventDefault()},"click .ui-menu-item:has(a)":function(e){var i=t(e.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&t(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var i=t(e.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(e,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.children(".ui-menu-item").eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){t(e.target).closest(".ui-menu").length||this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var s,n,a,o,r,l=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:l=!1,n=this.previousFilter||"",a=String.fromCharCode(e.keyCode),o=!1,clearTimeout(this.filterTimer),a===n?o=!0:a=n+a,r=RegExp("^"+i(a),"i"),s=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(t(this).children("a").text())}),s=o&&-1!==s.index(this.active.next())?this.active.nextAll(".ui-menu-item"):s,s.length||(a=String.fromCharCode(e.keyCode),r=RegExp("^"+i(a),"i"),s=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(t(this).children("a").text())})),s.length?(this.focus(e,s),s.length>1?(this.previousFilter=a,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i=this.options.icons.submenu,s=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),s.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),s=e.prev("a"),n=t("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);s.attr("aria-haspopup","true").prepend(n),e.attr("aria-labelledby",s.attr("id"))}),e=s.add(this.element),e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),e.children(":not(.ui-menu-item)").each(function(){var e=t(this);/[^\-\u2014\u2013\s]/.test(e.text())||e.addClass("ui-widget-content ui-menu-divider")}),e.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),this._super(t,e)},focus:function(t,e){var i,s;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,s,n,a,o,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,a=this.activeMenu.scrollTop(),o=this.activeMenu.height(),r=e.height(),0>n?this.activeMenu.scrollTop(a+n):n+r>o&&this.activeMenu.scrollTop(a+n-o+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(e),this.activeMenu=s},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var s;this.active&&(s="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.children(".ui-menu-item")[e]()),this.focus(i,s)},nextPage:function(e){var i,s,n;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),0>i.offset().top-s-n}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())),undefined):(this.next(e),undefined)},previousPage:function(e){var i,s,n;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-s+n>0}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item").first())),undefined):(this.next(e),undefined)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)}})})(jQuery);(function(t,e){t.widget("ui.progressbar",{version:"1.10.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){return t===e?this.options.value:(this.options.value=this._constrainedValue(t),this._refreshValue(),e)},_constrainedValue:function(t){return t===e&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}})})(jQuery);(function(t){function e(t){return parseInt(t,10)||0}function i(t){return!isNaN(parseInt(t,10))}t.widget("ui.resizable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var e,i,s,n,a,o=this,r=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;e.length>i;i++)s=t.trim(e[i]),a="ui-resizable-"+s,n=t("<div class='ui-resizable-handle "+a+"'></div>"),n.css({zIndex:r.zIndex}),"se"===s&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(n);this._renderAxis=function(e){var i,s,n,a;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=t(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(s=t(this.handles[i],this.element),a=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(n,a),this._proportionallyResize()),t(this.handles[i]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=n&&n[1]?n[1]:"se")}),r.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(t(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){r.disabled||o.resizing||(t(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,s,n=!1;for(i in this.handles)s=t(this.handles[i])[0],(s===e.target||t.contains(s,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(i){var s,n,a,o=this.options,r=this.element.position(),h=this.element;return this.resizing=!0,/absolute/.test(h.css("position"))?h.css({position:"absolute",top:h.css("top"),left:h.css("left")}):h.is(".ui-draggable")&&h.css({position:"absolute",top:r.top,left:r.left}),this._renderProxy(),s=e(this.helper.css("left")),n=e(this.helper.css("top")),o.containment&&(s+=t(o.containment).scrollLeft()||0,n+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:s,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:h.width(),height:h.height()},this.originalSize=this._helper?{width:h.outerWidth(),height:h.outerHeight()}:{width:h.width(),height:h.height()},this.originalPosition={left:s,top:n},this.sizeDiff={width:h.outerWidth()-h.width(),height:h.outerHeight()-h.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,a=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===a?this.axis+"-resize":a),h.addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(e){var i,s=this.helper,n={},a=this.originalMousePosition,o=this.axis,r=this.position.top,h=this.position.left,l=this.size.width,c=this.size.height,u=e.pageX-a.left||0,d=e.pageY-a.top||0,p=this._change[o];return p?(i=p.apply(this,[e,u,d]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),this.position.top!==r&&(n.top=this.position.top+"px"),this.position.left!==h&&(n.left=this.position.left+"px"),this.size.width!==l&&(n.width=this.size.width+"px"),this.size.height!==c&&(n.height=this.size.height+"px"),s.css(n),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||this._trigger("resize",e,this.ui()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,s,n,a,o,r,h,l=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&t.ui.hasScroll(i[0],"left")?0:c.sizeDiff.height,a=s?0:c.sizeDiff.width,o={width:c.helper.width()-a,height:c.helper.height()-n},r=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,h=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,l.animate||this.element.css(t.extend(o,{top:h,left:r})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,s,n,a,o,r=this.options;o={minWidth:i(r.minWidth)?r.minWidth:0,maxWidth:i(r.maxWidth)?r.maxWidth:1/0,minHeight:i(r.minHeight)?r.minHeight:0,maxHeight:i(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,n=o.minWidth/this.aspectRatio,s=o.maxHeight*this.aspectRatio,a=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),n>o.minHeight&&(o.minHeight=n),o.maxWidth>s&&(o.maxWidth=s),o.maxHeight>a&&(o.maxHeight=a)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),i(t.left)&&(this.position.left=t.left),i(t.top)&&(this.position.top=t.top),i(t.height)&&(this.size.height=t.height),i(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,s=this.size,n=this.axis;return i(t.height)?t.width=t.height*this.aspectRatio:i(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===n&&(t.left=e.left+(s.width-t.width),t.top=null),"nw"===n&&(t.top=e.top+(s.height-t.height),t.left=e.left+(s.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,s=this.axis,n=i(t.width)&&e.maxWidth&&e.maxWidth<t.width,a=i(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=i(t.width)&&e.minWidth&&e.minWidth>t.width,r=i(t.height)&&e.minHeight&&e.minHeight>t.height,h=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(s),u=/nw|ne|n/.test(s);return o&&(t.width=e.minWidth),r&&(t.height=e.minHeight),n&&(t.width=e.maxWidth),a&&(t.height=e.maxHeight),o&&c&&(t.left=h-e.minWidth),n&&c&&(t.left=h-e.maxWidth),r&&u&&(t.top=l-e.minHeight),a&&u&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var t,e,i,s,n,a=this.helper||this.element;for(t=0;this._proportionallyResizeElements.length>t;t++){if(n=this._proportionallyResizeElements[t],!this.borderDif)for(this.borderDif=[],i=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],s=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")],e=0;i.length>e;e++)this.borderDif[e]=(parseInt(i[e],10)||0)+(parseInt(s[e],10)||0);n.css({height:a.height()-this.borderDif[0]-this.borderDif[2]||0,width:a.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,s=this.originalPosition;return{left:s.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).data("ui-resizable"),s=i.options,n=i._proportionallyResizeElements,a=n.length&&/textarea/i.test(n[0].nodeName),o=a&&t.ui.hasScroll(n[0],"left")?0:i.sizeDiff.height,r=a?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-o},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,c=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(h,c&&l?{top:c,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&t(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var i,s,n,a,o,r,h,l=t(this).data("ui-resizable"),c=l.options,u=l.element,d=c.containment,p=d instanceof t?d.get(0):/parent/.test(d)?u.parent().get(0):d;p&&(l.containerElement=t(p),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(i=t(p),s=[],t(["Top","Right","Left","Bottom"]).each(function(t,n){s[t]=e(i.css("padding"+n))}),l.containerOffset=i.offset(),l.containerPosition=i.position(),l.containerSize={height:i.innerHeight()-s[3],width:i.innerWidth()-s[1]},n=l.containerOffset,a=l.containerSize.height,o=l.containerSize.width,r=t.ui.hasScroll(p,"left")?p.scrollWidth:o,h=t.ui.hasScroll(p)?p.scrollHeight:a,l.parentData={element:p,left:n.left,top:n.top,width:r,height:h}))},resize:function(e){var i,s,n,a,o=t(this).data("ui-resizable"),r=o.options,h=o.containerOffset,l=o.position,c=o._aspectRatio||e.shiftKey,u={top:0,left:0},d=o.containerElement;d[0]!==document&&/static/.test(d.css("position"))&&(u=h),l.left<(o._helper?h.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-h.left:o.position.left-u.left),c&&(o.size.height=o.size.width/o.aspectRatio),o.position.left=r.helper?h.left:0),l.top<(o._helper?h.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-h.top:o.position.top),c&&(o.size.width=o.size.height*o.aspectRatio),o.position.top=o._helper?h.top:0),o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top,i=Math.abs((o._helper?o.offset.left-u.left:o.offset.left-u.left)+o.sizeDiff.width),s=Math.abs((o._helper?o.offset.top-u.top:o.offset.top-h.top)+o.sizeDiff.height),n=o.containerElement.get(0)===o.element.parent().get(0),a=/relative|absolute/.test(o.containerElement.css("position")),n&&a&&(i-=Math.abs(o.parentData.left)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,c&&(o.size.height=o.size.width/o.aspectRatio)),s+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-s,c&&(o.size.width=o.size.height*o.aspectRatio))},stop:function(){var e=t(this).data("ui-resizable"),i=e.options,s=e.containerOffset,n=e.containerPosition,a=e.containerElement,o=t(e.helper),r=o.offset(),h=o.outerWidth()-e.sizeDiff.width,l=o.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(a.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l}),e._helper&&!i.animate&&/static/.test(a.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,s=function(e){t(e).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?s(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],s(i.alsoResize)):t.each(i.alsoResize,function(t){s(t)})},resize:function(e,i){var s=t(this).data("ui-resizable"),n=s.options,a=s.originalSize,o=s.originalPosition,r={height:s.size.height-a.height||0,width:s.size.width-a.width||0,top:s.position.top-o.top||0,left:s.position.left-o.left||0},h=function(e,s){t(e).each(function(){var e=t(this),n=t(this).data("ui-resizable-alsoresize"),a={},o=s&&s.length?s:e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var i=(n[e]||0)+(r[e]||0);i&&i>=0&&(a[e]=i||null)}),e.css(a)})};"object"!=typeof n.alsoResize||n.alsoResize.nodeType?h(n.alsoResize):t.each(n.alsoResize,function(t,e){h(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,s=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).data("ui-resizable");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).data("ui-resizable");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e=t(this).data("ui-resizable"),i=e.options,s=e.size,n=e.originalSize,a=e.originalPosition,o=e.axis,r="number"==typeof i.grid?[i.grid,i.grid]:i.grid,h=r[0]||1,l=r[1]||1,c=Math.round((s.width-n.width)/h)*h,u=Math.round((s.height-n.height)/l)*l,d=n.width+c,p=n.height+u,f=i.maxWidth&&d>i.maxWidth,g=i.maxHeight&&p>i.maxHeight,m=i.minWidth&&i.minWidth>d,v=i.minHeight&&i.minHeight>p;i.grid=r,m&&(d+=h),v&&(p+=l),f&&(d-=h),g&&(p-=l),/^(se|s|e)$/.test(o)?(e.size.width=d,e.size.height=p):/^(ne)$/.test(o)?(e.size.width=d,e.size.height=p,e.position.top=a.top-u):/^(sw)$/.test(o)?(e.size.width=d,e.size.height=p,e.position.left=a.left-c):(p-l>0?(e.size.height=p,e.position.top=a.top-u):(e.size.height=l,e.position.top=a.top+n.height-l),d-h>0?(e.size.width=d,e.position.left=a.left-c):(e.size.width=h,e.position.left=a.left+n.width-h))}})})(jQuery);(function(t){t.widget("ui.selectable",t.ui.mouse,{version:"1.10.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e=t(i.options.filter,i.element[0]),e.addClass("ui-selectee"),e.each(function(){var e=t(this),i=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:i.left,top:i.top,right:i.left+e.outerWidth(),bottom:i.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var i=this,s=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(s.filter,this.element[0]),this._trigger("start",e),t(s.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=t.data(this,"selectable-item");s.startselected=!0,e.metaKey||e.ctrlKey||(s.$element.removeClass("ui-selected"),s.selected=!1,s.$element.addClass("ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",e,{unselecting:s.element}))}),t(e.target).parents().addBack().each(function(){var s,n=t.data(this,"selectable-item");return n?(s=!e.metaKey&&!e.ctrlKey||!n.$element.hasClass("ui-selected"),n.$element.removeClass(s?"ui-unselecting":"ui-selected").addClass(s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",e,{selecting:n.element}):i._trigger("unselecting",e,{unselecting:n.element}),!1):undefined}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,a=this.opos[0],o=this.opos[1],r=e.pageX,l=e.pageY;return a>r&&(i=r,r=a,a=i),o>l&&(i=l,l=o,o=i),this.helper.css({left:a,top:o,width:r-a,height:l-o}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),h=!1;i&&i.element!==s.element[0]&&("touch"===n.tolerance?h=!(i.left>r||a>i.right||i.top>l||o>i.bottom):"fit"===n.tolerance&&(h=i.left>a&&r>i.right&&i.top>o&&l>i.bottom),h?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,s._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");s.$element.removeClass("ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",e,{unselected:s.element})}),t(".ui-selecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");s.$element.removeClass("ui-selecting").addClass("ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",e,{selected:s.element})}),this._trigger("stop",e),this.helper.remove(),!1}})})(jQuery);(function(t){var e=5;t.widget("ui.slider",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,s=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",o=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),e=n.length;i>e;e++)o.push(a);this.handles=n.add(t(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,i="";e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){var t=this.handles.add(this.range).filter("a");this._off(t),this._on(t,this._handleEvents),this._hoverable(t),this._focusable(t)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,s,n,a,o,r,l,h,u=this,c=this.options;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(s-u.values(e));(n>i||n===i&&(e===u._lastChangedValue||u.values(e)===c.min))&&(n=i,a=t(this),o=e)}),r=this._start(e,o),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,a.addClass("ui-state-active").focus(),l=a.offset(),h=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=h?{left:0,top:0}:{left:e.pageX-l.left-a.width()/2,top:e.pageY-l.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,o,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,s,n,a;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/e,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),a=this._valueMin()+s*n,this._trimAlignValue(a)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var s,n,a;this.options.values&&this.options.values.length?(s=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&i>s||1===e&&s>i)&&(i=s),i!==this.values(e)&&(n=this.values(),n[e]=i,a=this._trigger("slide",t,{handle:this.handles[e],value:i,values:n}),s=this.values(e?0:1),a!==!1&&this.values(e,i))):i!==this.value()&&(a=this._trigger("slide",t,{handle:this.handles[e],value:i}),a!==!1&&this.value(i))},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),this._change(null,0),undefined):this._value()},values:function(e,i){var s,n,a;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),this._change(null,e),undefined;if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(s=this.options.values,n=arguments[0],a=0;s.length>a;a+=1)s[a]=this._trimAlignValue(n[a]),this._change(null,a);this._refreshValue()},_setOption:function(e,i){var s,n=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(n=this.options.values.length),t.Widget.prototype._setOption.apply(this,arguments),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=0;n>s;s+=1)this._change(null,s);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,s;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,i,s,n,a,o=this.options.range,r=this.options,l=this,h=this._animateOff?!1:r.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=100*((l.values(s)-l._valueMin())/(l._valueMax()-l._valueMin())),u["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[h?"animate":"css"](u,r.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===s&&l.range.stop(1,1)[h?"animate":"css"]({left:i+"%"},r.animate),1===s&&l.range[h?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===s&&l.range.stop(1,1)[h?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&l.range[h?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i}):(s=this.value(),n=this._valueMin(),a=this._valueMax(),i=a!==n?100*((s-n)/(a-n)):0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[h?"animate":"css"](u,r.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({width:i+"%"},r.animate),"max"===o&&"horizontal"===this.orientation&&this.range[h?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({height:i+"%"},r.animate),"max"===o&&"vertical"===this.orientation&&this.range[h?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(i){var s,n,a,o,r=t(i.target).data("ui-slider-handle-index");switch(i.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(i.target).addClass("ui-state-active"),s=this._start(i,r),s===!1))return}switch(o=this.options.step,n=a=this.options.values&&this.options.values.length?this.values(r):this.value(),i.keyCode){case t.ui.keyCode.HOME:a=this._valueMin();break;case t.ui.keyCode.END:a=this._valueMax();break;case t.ui.keyCode.PAGE_UP:a=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.PAGE_DOWN:a=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;a=this._trimAlignValue(n+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;a=this._trimAlignValue(n-o)}this._slide(i,r,a)},click:function(t){t.preventDefault()},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))}}})})(jQuery);(function(t){function e(t,e,i){return t>e&&e+i>t}function i(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))}t.widget("ui.sortable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===t.axis||i(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,i){"disabled"===e?(this.options[e]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,i){var s=null,n=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(s=t(this),!1):undefined}),t.data(e.target,o.widgetName+"-item")===o&&(s=t(e.target)),s?!this.options.handle||i||(t(this.options.handle,s).find("*").addBack().each(function(){this===e.target&&(n=!0)}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(e,i,s){var n,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,n,o,a=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-t(document).scrollTop()<a.scrollSensitivity?r=t(document).scrollTop(t(document).scrollTop()-a.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<a.scrollSensitivity&&(r=t(document).scrollTop(t(document).scrollTop()+a.scrollSpeed)),e.pageX-t(document).scrollLeft()<a.scrollSensitivity?r=t(document).scrollLeft(t(document).scrollLeft()-a.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<a.scrollSensitivity&&(r=t(document).scrollLeft(t(document).scrollLeft()+a.scrollSpeed))),r!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],o=this._intersectsWithPointer(s),o&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==n&&!t.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],n):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,a=o+t.width,r=t.top,h=r+t.height,l=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||s+l>r&&h>s+l,d="y"===this.options.axis||e+c>o&&a>e+c,p=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:e+this.helperProportions.width/2>o&&a>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&h>n-this.helperProportions.height/2},_intersectsWithPointer:function(t){var i="x"===this.options.axis||e(this.positionAbs.top+this.offset.click.top,t.top,t.height),s="y"===this.options.axis||e(this.positionAbs.left+this.offset.click.left,t.left,t.width),n=i&&s,o=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return n?this.floating?a&&"right"===a||"down"===o?2:1:o&&("down"===o?2:1):!1},_intersectsWithSides:function(t){var i=e(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),s=e(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&s||"left"===o&&!s:n&&("down"===n&&i||"up"===n&&!i)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){r.push(this)}var s,n,o,a,r=[],h=[],l=this._connectWith();if(l&&e)for(s=l.length-1;s>=0;s--)for(o=t(l[s]),n=o.length-1;n>=0;n--)a=t.data(o[n],this.widgetFullName),a&&a!==this&&!a.options.disabled&&h.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(h.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=h.length-1;s>=0;s--)h[s][0].each(i);return t(r)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,n,o,a,r,h,l,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=t(d[i]),s=n.length-1;s>=0;s--)o=t.data(n[s],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(u.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)for(a=u[i][1],r=u[i][0],s=0,l=r.length;l>s;s++)h=t(r[s]),h.data(this.widgetName+"-item",a),c.push({item:h,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,o;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),o=n.offset(),s.left=o.left,s.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t("<"+s+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===s?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)}):"img"===s&&n.attr("src",e.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(t,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_contactContainers:function(s){var n,o,a,r,h,l,c,u,d,p,f=null,g=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(f&&t.contains(this.containers[n].element[0],f.element[0]))continue;f=this.containers[n],g=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",s,this._uiHash(this)),this.containers[n].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[g].containerCache.over||(this.containers[g]._trigger("over",s,this._uiHash(this)),this.containers[g].containerCache.over=1);else{for(a=1e4,r=null,p=f.floating||i(this.currentItem),h=p?"left":"top",l=p?"width":"height",c=this.positionAbs[h]+this.offset.click[h],o=this.items.length-1;o>=0;o--)t.contains(this.containers[g].element[0],this.items[o].item[0])&&this.items[o].item[0]!==this.currentItem[0]&&(!p||e(this.positionAbs.top+this.offset.click.top,this.items[o].top,this.items[o].height))&&(u=this.items[o].item.offset()[h],d=!1,Math.abs(u-c)>Math.abs(u+this.items[o][l]-c)&&(d=!0,u+=this.items[o][l]),a>Math.abs(u-c)&&(a=Math.abs(u-c),r=this.items[o],this.direction=d?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[g])return;r?this._rearrange(s,r,null,!0):this._rearrange(s,null,this.containers[g].element,!0),this._trigger("change",s,this._uiHash()),this.containers[g]._trigger("change",s,this._uiHash(this)),this.currentContainer=this.containers[g],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[g]._trigger("over",s,this._uiHash(this)),this.containers[g].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===n.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===n.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*s}},_generatePosition:function(e){var i,s,n=this.options,o=e.pageX,a=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)e||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),s=0;n.length>s;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(s=0;n.length>s;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})})(jQuery);(function(t){function e(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.widget("ui.spinner",{version:"1.10.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},i=this.element;return t.each(["min","max","step"],function(t,s){var n=i.attr(s);void 0!==n&&n.length&&(e[s]=n)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t),void 0)},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){var t=this.element[0]===this.document[0].activeElement;t||(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?this._start(e)===!1?!1:(this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&t.height()>0&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(e){var i=this.options,s=t.ui.keyCode;switch(e.keyCode){case s.UP:return this._repeat(null,1,e),!0;case s.DOWN:return this._repeat(null,-1,e),!0;case s.PAGE_UP:return this._repeat(null,i.page,e),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>"},_start:function(t){return this.spinning||this._trigger("start",t)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,s=this.options;return e=null!==s.min?s.min:0,i=t-e,i=Math.round(i/s.step)*s.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==s.max&&t>s.max?s.max:null!==s.min&&s.min>t?s.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var i=this._parse(this.element.val());return this.options[t]=e,this.element.val(this._format(i)),void 0}("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(t,e),"disabled"===t&&(e?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:e(function(t){this._super(t),this._value(this.element.val())}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(t,e){var i;""!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:e(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:e(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:e(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:e(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?(e(this._value).call(this,t),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})})(jQuery);(function(t,e){function i(){return++n}function s(t){return t=t.cloneNode(!1),t.hash.length>1&&decodeURIComponent(t.href.replace(a,""))===decodeURIComponent(location.href.replace(a,""))}var n=0,a=/#.*$/;t.widget("ui.tabs",{version:"1.10.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var e=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var i=this.options.active,s=this.options.collapsible,n=location.hash.substring(1);return null===i&&(n&&this.tabs.each(function(s,a){return t(a).attr("aria-controls")===n?(i=s,!1):e}),null===i&&(i=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===i||-1===i)&&(i=this.tabs.length?0:!1)),i!==!1&&(i=this.tabs.index(this.tabs.eq(i)),-1===i&&(i=s?!1:0)),!s&&i===!1&&this.anchors.length&&(i=0),i},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(i){var s=t(this.document[0].activeElement).closest("li"),n=this.tabs.index(s),a=!0;if(!this._handlePageNav(i)){switch(i.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:n++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:a=!1,n--;break;case t.ui.keyCode.END:n=this.anchors.length-1;break;case t.ui.keyCode.HOME:n=0;break;case t.ui.keyCode.SPACE:return i.preventDefault(),clearTimeout(this.activating),this._activate(n),e;case t.ui.keyCode.ENTER:return i.preventDefault(),clearTimeout(this.activating),this._activate(n===this.options.active?!1:n),e;default:return}i.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,a),i.ctrlKey||(s.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(i){return i.altKey&&i.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):i.altKey&&i.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):e},_findNextTab:function(e,i){function s(){return e>n&&(e=0),0>e&&(e=n),e}for(var n=this.tabs.length-1;-1!==t.inArray(s(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,i){return"active"===t?(this._activate(i),e):"disabled"===t?(this._setupDisabled(i),e):(this._super(t,i),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",i),i||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(i),"heightStyle"===t&&this._setupHeightStyle(i),e)},_tabId:function(t){return t.attr("aria-controls")||"ui-tabs-"+i()},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(i,n){var a,o,r,h=t(n).uniqueId().attr("id"),l=t(n).closest("li"),c=l.attr("aria-controls");s(n)?(a=n.hash,o=e.element.find(e._sanitizeSelector(a))):(r=e._tabId(l),a="#"+r,o=e.element.find(a),o.length||(o=e._createPanel(r),o.insertAfter(e.panels[i-1]||e.tablist)),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),c&&l.data("ui-tabs-aria-controls",c),l.attr({"aria-controls":a.substring(1),"aria-labelledby":h}),o.attr("aria-labelledby",h)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var i,s=0;i=this.tabs[s];s++)e===!0||-1!==t.inArray(s,e)?t(i).addClass("ui-state-disabled").attr("aria-disabled","true"):t(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var i={click:function(t){t.preventDefault()}};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,s=this.element.parent();"fill"===e?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),s=e.css("position");"absolute"!==s&&"fixed"!==s&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,s=this.active,n=t(e.currentTarget),a=n.closest("li"),o=a[0]===s[0],r=o&&i.collapsible,h=r?t():this._getPanelForTab(a),l=s.length?this._getPanelForTab(s):t(),c={oldTab:s,oldPanel:l,newTab:r?t():a,newPanel:h};e.preventDefault(),a.hasClass("ui-state-disabled")||a.hasClass("ui-tabs-loading")||this.running||o&&!i.collapsible||this._trigger("beforeActivate",e,c)===!1||(i.active=r?!1:this.tabs.index(a),this.active=o?t():a,this.xhr&&this.xhr.abort(),l.length||h.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(a),e),this._toggle(e,c))},_toggle:function(e,i){function s(){a.running=!1,a._trigger("activate",e,i)}function n(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&a.options.show?a._show(o,a.options.show,s):(o.show(),s())}var a=this,o=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),n()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),n()),r.attr({"aria-expanded":"false","aria-hidden":"true"}),i.oldTab.attr("aria-selected","false"),o.length&&r.length?i.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr({"aria-expanded":"true","aria-hidden":"false"}),i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(e){var i,s=this._findActive(e);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var s=this.options.disabled;s!==!1&&(i===e?s=!1:(i=this._getIndex(i),s=t.isArray(s)?t.map(s,function(t){return t!==i?t:null}):t.map(this.tabs,function(t,e){return e!==i?e:null})),this._setupDisabled(s))},disable:function(i){var s=this.options.disabled;if(s!==!0){if(i===e)s=!0;else{if(i=this._getIndex(i),-1!==t.inArray(i,s))return;s=t.isArray(s)?t.merge([i],s).sort():[i]}this._setupDisabled(s)}},load:function(e,i){e=this._getIndex(e);var n=this,a=this.tabs.eq(e),o=a.find(".ui-tabs-anchor"),r=this._getPanelForTab(a),h={tab:a,panel:r};s(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,i,h)),this.xhr&&"canceled"!==this.xhr.statusText&&(a.addClass("ui-tabs-loading"),r.attr("aria-busy","true"),this.xhr.success(function(t){setTimeout(function(){r.html(t),n._trigger("load",i,h)},1)}).complete(function(t,e){setTimeout(function(){"abort"===e&&n.panels.stop(!1,!0),a.removeClass("ui-tabs-loading"),r.removeAttr("aria-busy"),t===n.xhr&&delete n.xhr},1)})))},_ajaxSettings:function(e,i,s){var n=this;return{url:e.attr("href"),beforeSend:function(e,a){return n._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:a},s))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})})(jQuery);(function(t){function e(e,i){var s=(e.attr("aria-describedby")||"").split(/\s+/);s.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(s.join(" ")))}function i(e){var i=e.data("ui-tooltip-id"),s=(e.attr("aria-describedby")||"").split(/\s+/),n=t.inArray(i,s);-1!==n&&s.splice(n,1),e.removeData("ui-tooltip-id"),s=t.trim(s.join(" ")),s?e.attr("aria-describedby",s):e.removeAttr("aria-describedby")}var s=0;t.widget("ui.tooltip",{version:"1.10.4",options:{content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(e,i){var s=this;return"disabled"===e?(this[i?"_disable":"_enable"](),this.options[e]=i,void 0):(this._super(e,i),"content"===e&&t.each(this.tooltips,function(t,e){s._updateContent(e)}),void 0)},_disable:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur");n.target=n.currentTarget=s[0],e.close(n,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var i=this,s=t(e?e.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&s.parents().each(function(){var e,s=t(this);s.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))}),this._updateContent(s,e))},_updateContent:function(t,e){var i,s=this.options.content,n=this,o=e?e.type:null;return"string"==typeof s?this._open(e,t,s):(i=s.call(t[0],function(i){t.data("ui-tooltip-open")&&n._delay(function(){e&&(e.type=o),this._open(e,t,i)})}),i&&this._open(e,t,i),void 0)},_open:function(i,s,n){function o(t){l.of=t,a.is(":hidden")||a.position(l)}var a,r,h,l=t.extend({},this.options.position);if(n){if(a=this._find(s),a.length)return a.find(".ui-tooltip-content").html(n),void 0;s.is("[title]")&&(i&&"mouseover"===i.type?s.attr("title",""):s.removeAttr("title")),a=this._tooltip(s),e(s,a.attr("id")),a.find(".ui-tooltip-content").html(n),this.options.track&&i&&/^mouse/.test(i.type)?(this._on(this.document,{mousemove:o}),o(i)):a.position(t.extend({of:s},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.show&&this.options.show.delay&&(h=this.delayedShow=setInterval(function(){a.is(":visible")&&(o(l.of),clearInterval(h))},t.fx.interval)),this._trigger("open",i,{tooltip:a}),r={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=s[0],this.close(i,!0)}},remove:function(){this._removeTooltip(a)}},i&&"mouseover"!==i.type||(r.mouseleave="close"),i&&"focusin"!==i.type||(r.focusout="close"),this._on(!0,s,r)}},close:function(e){var s=this,n=t(e?e.currentTarget:this.element),o=this._find(n);this.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&n.attr("title",n.data("ui-tooltip-title")),i(n),o.stop(!0),this._hide(o,this.options.hide,function(){s._removeTooltip(t(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete s.parents[e]}),this.closing=!0,this._trigger("close",e,{tooltip:o}),this.closing=!1)},_tooltip:function(e){var i="ui-tooltip-"+s++,n=t("<div>").attr({id:i,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return t("<div>").addClass("ui-tooltip-content").appendTo(n),n.appendTo(this.document[0].body),this.tooltips[i]=e,n},_find:function(e){var i=e.data("ui-tooltip-id");return i?t("#"+i):t()},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur");n.target=n.currentTarget=s[0],e.close(n,!0),t("#"+i).remove(),s.data("ui-tooltip-title")&&(s.attr("title",s.data("ui-tooltip-title")),s.removeData("ui-tooltip-title"))})}})})(jQuery);
/* plugins.min.js */
function revslider_showDoubleJqueryError(t){var e="Revolution Slider Error: You have some jquery.js library include that comes after the revolution files js include.";e+="<br> This includes make eliminates the revolution slider libraries, and make it not work.",e+="<br><br> To fix it you can:<br>&nbsp;&nbsp;&nbsp; 1. In the Slider Settings -> Troubleshooting set option:  <strong><b>Put JS Includes To Body</b></strong> option to true.",e+="<br>&nbsp;&nbsp;&nbsp; 2. Find the double jquery.js include and remove it.",e="<span style='font-size:16px;color:#BC0C06;'>"+e+"</span>",jQuery(t).show().html(e)}if(function(){var t,e,i,n,a,o,r,s,l=[].slice,d={}.hasOwnProperty,h=function(t,e){function i(){this.constructor=t}for(var n in e)d.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};r=function(){},e=function(){function t(){}return t.prototype.addEventListener=t.prototype.on,t.prototype.on=function(t,e){return this._callbacks=this._callbacks||{},this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(e),this},t.prototype.emit=function(){var t,e,i,n,a,o;if(n=arguments[0],t=2<=arguments.length?l.call(arguments,1):[],this._callbacks=this._callbacks||{},i=this._callbacks[n])for(a=0,o=i.length;a<o;a++)e=i[a],e.apply(this,t);return this},t.prototype.removeListener=t.prototype.off,t.prototype.removeAllListeners=t.prototype.off,t.prototype.removeEventListener=t.prototype.off,t.prototype.off=function(t,e){var i,n,a,o;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(!(i=this._callbacks[t]))return this;if(1===arguments.length)return delete this._callbacks[t],this;for(n=a=0,o=i.length;a<o;n=++a)if(i[n]===e){i.splice(n,1);break}return this},t}(),t=function(t){function i(t,e){var a,o,r;if(this.element=t,this.version=i.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(i.instances.push(this),this.element.dropzone=this,a=null!=(r=i.optionsForElement(this.element))?r:{},this.options=n({},this.defaultOptions,a,null!=e?e:{}),this.options.forceFallback||!i.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(o=this.getExistingFallback())&&o.parentNode&&o.parentNode.removeChild(o),!1!==this.options.previewsContainer&&(this.options.previewsContainer?this.previewsContainer=i.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(!0===this.options.clickable?this.clickableElements=[this.element]:this.clickableElements=i.getElements(this.options.clickable,"clickable")),this.init()}var n,a;return h(i,t),i.prototype.Emitter=e,i.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],i.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(t,e){return e()},init:function(){return r},forceFallback:!1,fallback:function(){var t,e,n,a,o,r;for(this.element.className=this.element.className+" dz-browser-not-supported",r=this.element.getElementsByTagName("div"),a=0,o=r.length;a<o;a++)t=r[a],/(^| )dz-message($| )/.test(t.className)&&(e=t,t.className="dz-message");return e||(e=i.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(e)),n=e.getElementsByTagName("span")[0],n&&(null!=n.textContent?n.textContent=this.options.dictFallbackMessage:null!=n.innerText&&(n.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(t){var e,i,n;return e={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height},i=t.width/t.height,e.optWidth=this.options.thumbnailWidth,e.optHeight=this.options.thumbnailHeight,null==e.optWidth&&null==e.optHeight?(e.optWidth=e.srcWidth,e.optHeight=e.srcHeight):null==e.optWidth?e.optWidth=i*e.optHeight:null==e.optHeight&&(e.optHeight=1/i*e.optWidth),n=e.optWidth/e.optHeight,t.height<e.optHeight||t.width<e.optWidth?(e.trgHeight=e.srcHeight,e.trgWidth=e.srcWidth):i>n?(e.srcHeight=t.height,e.srcWidth=e.srcHeight*n):(e.srcWidth=t.width,e.srcHeight=e.srcWidth/n),e.srcX=(t.width-e.srcWidth)/2,e.srcY=(t.height-e.srcHeight)/2,e},drop:function(t){return this.element.classList.remove("dz-drag-hover")},dragstart:r,dragend:function(t){return this.element.classList.remove("dz-drag-hover")},dragenter:function(t){return this.element.classList.add("dz-drag-hover")},dragover:function(t){return this.element.classList.add("dz-drag-hover")},dragleave:function(t){return this.element.classList.remove("dz-drag-hover")},paste:r,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(t){var e,n,a,o,r,s,l,d,h,c,p,u,f;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(t.previewElement=i.createElement(this.options.previewTemplate.trim()),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement),c=t.previewElement.querySelectorAll("[data-dz-name]"),o=0,l=c.length;o<l;o++)e=c[o],e.textContent=this._renameFilename(t.name);for(p=t.previewElement.querySelectorAll("[data-dz-size]"),r=0,d=p.length;r<d;r++)e=p[r],e.innerHTML=this.filesize(t.size);for(this.options.addRemoveLinks&&(t._removeLink=i.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),t.previewElement.appendChild(t._removeLink)),n=function(e){return function(n){return n.preventDefault(),n.stopPropagation(),t.status===i.UPLOADING?i.confirm(e.options.dictCancelUploadConfirmation,function(){return e.removeFile(t)}):e.options.dictRemoveFileConfirmation?i.confirm(e.options.dictRemoveFileConfirmation,function(){return e.removeFile(t)}):e.removeFile(t)}}(this),u=t.previewElement.querySelectorAll("[data-dz-remove]"),f=[],s=0,h=u.length;s<h;s++)a=u[s],f.push(a.addEventListener("click",n));return f}},removedfile:function(t){var e;return t.previewElement&&null!=(e=t.previewElement)&&e.parentNode.removeChild(t.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(t,e){var i,n,a,o;if(t.previewElement){for(t.previewElement.classList.remove("dz-file-preview"),o=t.previewElement.querySelectorAll("[data-dz-thumbnail]"),n=0,a=o.length;n<a;n++)i=o[n],i.alt=t.name,i.src=e;return setTimeout(function(e){return function(){return t.previewElement.classList.add("dz-image-preview")}}(),1)}},error:function(t,e){var i,n,a,o,r;if(t.previewElement){for(t.previewElement.classList.add("dz-error"),"String"!=typeof e&&e.error&&(e=e.error),o=t.previewElement.querySelectorAll("[data-dz-errormessage]"),r=[],n=0,a=o.length;n<a;n++)i=o[n],r.push(i.textContent=e);return r}},errormultiple:r,processing:function(t){if(t.previewElement&&(t.previewElement.classList.add("dz-processing"),t._removeLink))return t._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:r,uploadprogress:function(t,e,i){var n,a,o,r,s;if(t.previewElement){for(r=t.previewElement.querySelectorAll("[data-dz-uploadprogress]"),s=[],a=0,o=r.length;a<o;a++)n=r[a],"PROGRESS"===n.nodeName?s.push(n.value=e):s.push(n.style.width=e+"%");return s}},totaluploadprogress:r,sending:r,sendingmultiple:r,success:function(t){if(t.previewElement)return t.previewElement.classList.add("dz-success")},successmultiple:r,canceled:function(t){return this.emit("error",t,"Upload canceled.")},canceledmultiple:r,complete:function(t){if(t._removeLink&&(t._removeLink.textContent=this.options.dictRemoveFile),t.previewElement)return t.previewElement.classList.add("dz-complete")},completemultiple:r,maxfilesexceeded:r,maxfilesreached:r,queuecomplete:r,addedfiles:r,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},n=function(){var t,e,i,n,a,o,r;for(n=arguments[0],i=2<=arguments.length?l.call(arguments,1):[],o=0,r=i.length;o<r;o++){e=i[o];for(t in e)a=e[t],n[t]=a}return n},i.prototype.getAcceptedFiles=function(){var t,e,i,n,a;for(n=this.files,a=[],e=0,i=n.length;e<i;e++)t=n[e],t.accepted&&a.push(t);return a},i.prototype.getRejectedFiles=function(){var t,e,i,n,a;for(n=this.files,a=[],e=0,i=n.length;e<i;e++)t=n[e],t.accepted||a.push(t);return a},i.prototype.getFilesWithStatus=function(t){var e,i,n,a,o;for(a=this.files,o=[],i=0,n=a.length;i<n;i++)e=a[i],e.status===t&&o.push(e);return o},i.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(i.QUEUED)},i.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(i.UPLOADING)},i.prototype.getAddedFiles=function(){return this.getFilesWithStatus(i.ADDED)},i.prototype.getActiveFiles=function(){var t,e,n,a,o;for(a=this.files,o=[],e=0,n=a.length;e<n;e++)t=a[e],t.status!==i.UPLOADING&&t.status!==i.QUEUED||o.push(t);return o},i.prototype.init=function(){var t,e,n,a,o,r,s;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(i.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(n=function(t){return function(){return t.hiddenFileInput&&t.hiddenFileInput.parentNode.removeChild(t.hiddenFileInput),t.hiddenFileInput=document.createElement("input"),t.hiddenFileInput.setAttribute("type","file"),(null==t.options.maxFiles||t.options.maxFiles>1)&&t.hiddenFileInput.setAttribute("multiple","multiple"),t.hiddenFileInput.className="dz-hidden-input",null!=t.options.acceptedFiles&&t.hiddenFileInput.setAttribute("accept",t.options.acceptedFiles),null!=t.options.capture&&t.hiddenFileInput.setAttribute("capture",t.options.capture),t.hiddenFileInput.style.visibility="hidden",t.hiddenFileInput.style.position="absolute",t.hiddenFileInput.style.top="0",t.hiddenFileInput.style.left="0",t.hiddenFileInput.style.height="0",t.hiddenFileInput.style.width="0",document.querySelector(t.options.hiddenInputContainer).appendChild(t.hiddenFileInput),t.hiddenFileInput.addEventListener("change",function(){var e,i,a,o;if(i=t.hiddenFileInput.files,i.length)for(a=0,o=i.length;a<o;a++)e=i[a],t.addFile(e);return t.emit("addedfiles",i),n()})}}(this))(),this.URL=null!=(r=window.URL)?r:window.webkitURL,s=this.events,a=0,o=s.length;a<o;a++)t=s[a],this.on(t,this.options[t]);return this.on("uploadprogress",function(t){return function(){return t.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(t){return function(){return t.updateTotalUploadProgress()}}(this)),this.on("canceled",function(t){return function(e){return t.emit("complete",e)}}(this)),this.on("complete",function(t){return function(e){if(0===t.getAddedFiles().length&&0===t.getUploadingFiles().length&&0===t.getQueuedFiles().length)return setTimeout(function(){return t.emit("queuecomplete")},0)}}(this)),e=function(t){return t.stopPropagation(),t.preventDefault?t.preventDefault():t.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(t){return function(e){return t.emit("dragstart",e)}}(this),dragenter:function(t){return function(i){return e(i),t.emit("dragenter",i)}}(this),dragover:function(t){return function(i){var n;try{n=i.dataTransfer.effectAllowed}catch(t){}return i.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",e(i),t.emit("dragover",i)}}(this),dragleave:function(t){return function(e){return t.emit("dragleave",e)}}(this),drop:function(t){return function(i){return e(i),t.drop(i)}}(this),dragend:function(t){return function(e){return t.emit("dragend",e)}}(this)}}],this.clickableElements.forEach(function(t){return function(e){return t.listeners.push({element:e,events:{click:function(n){return(e!==t.element||n.target===t.element||i.elementInside(n.target,t.element.querySelector(".dz-message")))&&t.hiddenFileInput.click(),!0}}})}}(this)),this.enable(),this.options.init.call(this)},i.prototype.destroy=function(){var t;return this.disable(),this.removeAllFiles(!0),(null!=(t=this.hiddenFileInput)?t.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,i.instances.splice(i.instances.indexOf(this),1)},i.prototype.updateTotalUploadProgress=function(){var t,e,i,n,a,o,r,s;if(n=0,i=0,t=this.getActiveFiles(),t.length){for(s=this.getActiveFiles(),o=0,r=s.length;o<r;o++)e=s[o],n+=e.upload.bytesSent,i+=e.upload.total;a=100*n/i}else a=100;return this.emit("totaluploadprogress",a,i,n)},i.prototype._getParamName=function(t){return"function"==typeof this.options.paramName?this.options.paramName(t):this.options.paramName+(this.options.uploadMultiple?"["+t+"]":"")},i.prototype._renameFilename=function(t){return"function"!=typeof this.options.renameFilename?t:this.options.renameFilename(t)},i.prototype.getFallbackForm=function(){var t,e,n,a;return(t=this.getExistingFallback())?t:(n='<div class="dz-fallback">',this.options.dictFallbackText&&(n+="<p>"+this.options.dictFallbackText+"</p>"),n+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',e=i.createElement(n),"FORM"!==this.element.tagName?(a=i.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),a.appendChild(e)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=a?a:e)},i.prototype.getExistingFallback=function(){var t,e,i,n,a,o;for(e=function(t){var e,i,n;for(i=0,n=t.length;i<n;i++)if(e=t[i],/(^| )fallback($| )/.test(e.className))return e},o=["div","form"],n=0,a=o.length;n<a;n++)if(i=o[n],t=e(this.element.getElementsByTagName(i)))return t},i.prototype.setupEventListeners=function(){var t,e,i,n,a,o,r;for(o=this.listeners,r=[],n=0,a=o.length;n<a;n++)t=o[n],r.push(function(){var n,a;n=t.events,a=[];for(e in n)i=n[e],a.push(t.element.addEventListener(e,i,!1));return a}());return r},i.prototype.removeEventListeners=function(){var t,e,i,n,a,o,r;for(o=this.listeners,r=[],n=0,a=o.length;n<a;n++)t=o[n],r.push(function(){var n,a;n=t.events,a=[];for(e in n)i=n[e],a.push(t.element.removeEventListener(e,i,!1));return a}());return r},i.prototype.disable=function(){var t,e,i,n,a;for(this.clickableElements.forEach(function(t){return t.classList.remove("dz-clickable")}),this.removeEventListeners(),n=this.files,a=[],e=0,i=n.length;e<i;e++)t=n[e],a.push(this.cancelUpload(t));return a},i.prototype.enable=function(){return this.clickableElements.forEach(function(t){return t.classList.add("dz-clickable")}),this.setupEventListeners()},i.prototype.filesize=function(t){var e,i,n,a,o,r,s,l;if(n=0,a="b",t>0){for(r=["TB","GB","MB","KB","b"],i=s=0,l=r.length;s<l;i=++s)if(o=r[i],e=Math.pow(this.options.filesizeBase,4-i)/10,t>=e){n=t/Math.pow(this.options.filesizeBase,4-i),a=o;break}n=Math.round(10*n)/10}return"<strong>"+n+"</strong> "+a},i.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},i.prototype.drop=function(t){var e,i;t.dataTransfer&&(this.emit("drop",t),e=t.dataTransfer.files,this.emit("addedfiles",e),e.length&&(i=t.dataTransfer.items,i&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(e)))},i.prototype.paste=function(t){var e,i;if(null!=(null!=t&&null!=(i=t.clipboardData)?i.items:void 0))return this.emit("paste",t),e=t.clipboardData.items,e.length?this._addFilesFromItems(e):void 0},i.prototype.handleFiles=function(t){var e,i,n,a;for(a=[],i=0,n=t.length;i<n;i++)e=t[i],a.push(this.addFile(e));return a},i.prototype._addFilesFromItems=function(t){var e,i,n,a,o;for(o=[],n=0,a=t.length;n<a;n++)i=t[n],null!=i.webkitGetAsEntry&&(e=i.webkitGetAsEntry())?e.isFile?o.push(this.addFile(i.getAsFile())):e.isDirectory?o.push(this._addFilesFromDirectory(e,e.name)):o.push(void 0):null!=i.getAsFile&&(null==i.kind||"file"===i.kind)?o.push(this.addFile(i.getAsFile())):o.push(void 0);return o},i.prototype._addFilesFromDirectory=function(t,e){var i,n,a;return i=t.createReader(),n=function(t){return void 0!==console&&null!==console&&"function"==typeof console.log?console.log(t):void 0},(a=function(t){return function(){return i.readEntries(function(i){var n,o,r;if(i.length>0){for(o=0,r=i.length;o<r;o++)n=i[o],n.isFile?n.file(function(i){if(!t.options.ignoreHiddenFiles||"."!==i.name.substring(0,1))return i.fullPath=e+"/"+i.name,t.addFile(i)}):n.isDirectory&&t._addFilesFromDirectory(n,e+"/"+n.name);a()}return null},n)}}(this))()},i.prototype.accept=function(t,e){return t.size>1024*this.options.maxFilesize*1024?e(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):i.isValidFile(t,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(e(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",t)):this.options.accept.call(this,t,e):e(this.options.dictInvalidFileType)},i.prototype.addFile=function(t){return t.upload={progress:0,total:t.size,bytesSent:0},this.files.push(t),t.status=i.ADDED,this.emit("addedfile",t),this._enqueueThumbnail(t),this.accept(t,function(e){return function(i){return i?(t.accepted=!1,e._errorProcessing([t],i)):(t.accepted=!0,e.options.autoQueue&&e.enqueueFile(t)),e._updateMaxFilesReachedClass()}}(this))},i.prototype.enqueueFiles=function(t){var e,i,n;for(i=0,n=t.length;i<n;i++)e=t[i],this.enqueueFile(e);return null},i.prototype.enqueueFile=function(t){if(t.status!==i.ADDED||!0!==t.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(t.status=i.QUEUED,this.options.autoProcessQueue)return setTimeout(function(t){return function(){return t.processQueue()}}(this),0)},i.prototype._thumbnailQueue=[],i.prototype._processingThumbnail=!1,i.prototype._enqueueThumbnail=function(t){if(this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(t),setTimeout(function(t){return function(){return t._processThumbnailQueue()}}(this),0)},i.prototype._processThumbnailQueue=function(){if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(t){return function(){return t._processingThumbnail=!1,t._processThumbnailQueue()}}(this))},i.prototype.removeFile=function(t){if(t.status===i.UPLOADING&&this.cancelUpload(t),this.files=s(this.files,t),this.emit("removedfile",t),0===this.files.length)return this.emit("reset")},i.prototype.removeAllFiles=function(t){var e,n,a,o;for(null==t&&(t=!1),o=this.files.slice(),n=0,a=o.length;n<a;n++)e=o[n],(e.status!==i.UPLOADING||t)&&this.removeFile(e);return null},i.prototype.createThumbnail=function(t,e){var i;return i=new FileReader,i.onload=function(n){return function(){return"image/svg+xml"===t.type?(n.emit("thumbnail",t,i.result),void(null!=e&&e())):n.createThumbnailFromUrl(t,i.result,e)}}(this),i.readAsDataURL(t)},i.prototype.createThumbnailFromUrl=function(t,e,i,n){var a;return a=document.createElement("img"),n&&(a.crossOrigin=n),a.onload=function(e){return function(){var n,r,s,l,d,h,c,p;if(t.width=a.width,t.height=a.height,s=e.options.resize.call(e,t),null==s.trgWidth&&(s.trgWidth=s.optWidth),null==s.trgHeight&&(s.trgHeight=s.optHeight),n=document.createElement("canvas"),r=n.getContext("2d"),n.width=s.trgWidth,n.height=s.trgHeight,o(r,a,null!=(d=s.srcX)?d:0,null!=(h=s.srcY)?h:0,s.srcWidth,s.srcHeight,null!=(c=s.trgX)?c:0,null!=(p=s.trgY)?p:0,s.trgWidth,s.trgHeight),l=n.toDataURL("image/png"),e.emit("thumbnail",t,l),null!=i)return i()}}(this),null!=i&&(a.onerror=i),a.src=e},i.prototype.processQueue=function(){var t,e,i,n;if(e=this.options.parallelUploads,i=this.getUploadingFiles().length,t=i,!(i>=e)&&(n=this.getQueuedFiles(),n.length>0)){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,e-i));for(;t<e;){if(!n.length)return;this.processFile(n.shift()),t++}}},i.prototype.processFile=function(t){return this.processFiles([t])},i.prototype.processFiles=function(t){var e,n,a;for(n=0,a=t.length;n<a;n++)e=t[n],e.processing=!0,e.status=i.UPLOADING,this.emit("processing",e);return this.options.uploadMultiple&&this.emit("processingmultiple",t),this.uploadFiles(t)},i.prototype._getFilesWithXhr=function(t){var e;return function(){var i,n,a,o;for(a=this.files,o=[],i=0,n=a.length;i<n;i++)e=a[i],e.xhr===t&&o.push(e);return o}.call(this)},i.prototype.cancelUpload=function(t){var e,n,a,o,r,s,l;if(t.status===i.UPLOADING){for(n=this._getFilesWithXhr(t.xhr),a=0,r=n.length;a<r;a++)e=n[a],e.status=i.CANCELED;for(t.xhr&&t.xhr.abort(),o=0,s=n.length;o<s;o++)e=n[o],this.emit("canceled",e);this.options.uploadMultiple&&this.emit("canceledmultiple",n)}else(l=t.status)!==i.ADDED&&l!==i.QUEUED||(t.status=i.CANCELED,this.emit("canceled",t),this.options.uploadMultiple&&this.emit("canceledmultiple",[t]));if(this.options.autoProcessQueue)return this.processQueue()},a=function(){var t,e;return e=arguments[0],t=2<=arguments.length?l.call(arguments,1):[],"function"==typeof e?e.apply(this,t):e},i.prototype.uploadFile=function(t){return this.uploadFiles([t])},i.prototype.uploadFiles=function(t){var e,o,r,s,l,d,h,c,p,u,f,g,m,v,w,y,b,x,_,T,k,C,S,L,P,A,O,z,M,E,I,F,D,R;for(_=new XMLHttpRequest,T=0,L=t.length;T<L;T++)e=t[T],e.xhr=_;g=a(this.options.method,t),b=a(this.options.url,t),_.open(g,b,!0),_.withCredentials=!!this.options.withCredentials,w=null,r=function(i){return function(){var n,a,o;for(o=[],n=0,a=t.length;n<a;n++)e=t[n],o.push(i._errorProcessing(t,w||i.options.dictResponseError.replace("{{statusCode}}",_.status),_));return o}}(this),y=function(i){return function(n){var a,o,r,s,l,d,h,c,p;if(null!=n)for(o=100*n.loaded/n.total,r=0,d=t.length;r<d;r++)e=t[r],e.upload={progress:o,total:n.total,bytesSent:n.loaded};else{for(a=!0,o=100,s=0,h=t.length;s<h;s++)e=t[s],100===e.upload.progress&&e.upload.bytesSent===e.upload.total||(a=!1),e.upload.progress=o,e.upload.bytesSent=e.upload.total;if(a)return}for(p=[],l=0,c=t.length;l<c;l++)e=t[l],p.push(i.emit("uploadprogress",e,o,e.upload.bytesSent));return p}}(this),_.onload=function(e){return function(n){var a;if(t[0].status!==i.CANCELED&&4===_.readyState){if(w=_.responseText,_.getResponseHeader("content-type")&&~_.getResponseHeader("content-type").indexOf("application/json"))try{w=JSON.parse(w)}catch(t){n=t,w="Invalid JSON response from server."}return y(),200<=(a=_.status)&&a<300?e._finished(t,w,n):r()}}}(this),_.onerror=function(e){return function(){if(t[0].status!==i.CANCELED)return r()}}(),v=null!=(M=_.upload)?M:_,v.onprogress=y,d={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&n(d,this.options.headers);for(s in d)(l=d[s])&&_.setRequestHeader(s,l);if(o=new FormData,this.options.params){E=this.options.params;for(f in E)x=E[f],o.append(f,x)}for(k=0,P=t.length;k<P;k++)e=t[k],this.emit("sending",e,_,o);if(this.options.uploadMultiple&&this.emit("sendingmultiple",t,_,o),"FORM"===this.element.tagName)for(I=this.element.querySelectorAll("input, textarea, select, button"),C=0,A=I.length;C<A;C++)if(c=I[C],p=c.getAttribute("name"),u=c.getAttribute("type"),"SELECT"===c.tagName&&c.hasAttribute("multiple"))for(F=c.options,S=0,O=F.length;S<O;S++)m=F[S],m.selected&&o.append(p,m.value);else(!u||"checkbox"!==(D=u.toLowerCase())&&"radio"!==D||c.checked)&&o.append(p,c.value);for(h=z=0,R=t.length-1;0<=R?z<=R:z>=R;h=0<=R?++z:--z)o.append(this._getParamName(h),t[h],this._renameFilename(t[h].name));return this.submitRequest(_,o,t)},i.prototype.submitRequest=function(t,e,i){return t.send(e)},i.prototype._finished=function(t,e,n){var a,o,r;for(o=0,r=t.length;o<r;o++)a=t[o],a.status=i.SUCCESS,this.emit("success",a,e,n),this.emit("complete",a);if(this.options.uploadMultiple&&(this.emit("successmultiple",t,e,n),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()},i.prototype._errorProcessing=function(t,e,n){var a,o,r;for(o=0,r=t.length;o<r;o++)a=t[o],a.status=i.ERROR,this.emit("error",a,e,n),this.emit("complete",a);if(this.options.uploadMultiple&&(this.emit("errormultiple",t,e,n),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()},i}(e),t.version="4.3.0",t.options={},t.optionsForElement=function(e){return e.getAttribute("id")?t.options[i(e.getAttribute("id"))]:void 0},t.instances=[],t.forElement=function(t){if("string"==typeof t&&(t=document.querySelector(t)),null==(null!=t?t.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return t.dropzone},t.autoDiscover=!0,t.discover=function(){var e,i,n,a,o,r;for(document.querySelectorAll?n=document.querySelectorAll(".dropzone"):(n=[],e=function(t){var e,i,a,o;for(o=[],i=0,a=t.length;i<a;i++)e=t[i],/(^| )dropzone($| )/.test(e.className)?o.push(n.push(e)):o.push(void 0);return o},e(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))),r=[],a=0,o=n.length;a<o;a++)i=n[a],!1!==t.optionsForElement(i)?r.push(new t(i)):r.push(void 0);return r},t.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],t.isBrowserSupported=function(){var e,i,n,a,o;if(e=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(o=t.blacklistedBrowsers,n=0,a=o.length;n<a;n++)i=o[n],i.test(navigator.userAgent)&&(e=!1);else e=!1;else e=!1;return e},s=function(t,e){var i,n,a,o;for(o=[],n=0,a=t.length;n<a;n++)(i=t[n])!==e&&o.push(i);return o},i=function(t){return t.replace(/[\-_](\w)/g,function(t){return t.charAt(1).toUpperCase()})},t.createElement=function(t){var e;return e=document.createElement("div"),e.innerHTML=t,e.childNodes[0]},t.elementInside=function(t,e){if(t===e)return!0;for(;t=t.parentNode;)if(t===e)return!0;return!1},t.getElement=function(t,e){var i;if("string"==typeof t?i=document.querySelector(t):null!=t.nodeType&&(i=t),null==i)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector or a plain HTML element.");return i},t.getElements=function(t,e){var i,n,a,o,r,s,l;if(t instanceof Array){n=[];try{for(a=0,r=t.length;a<r;a++)i=t[a],n.push(this.getElement(i,e))}catch(t){t,n=null}}else if("string"==typeof t)for(n=[],l=document.querySelectorAll(t),
o=0,s=l.length;o<s;o++)i=l[o],n.push(i);else null!=t.nodeType&&(n=[t]);if(null==n||!n.length)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return n},t.confirm=function(t,e,i){return window.confirm(t)?e():null!=i?i():void 0},t.isValidFile=function(t,e){var i,n,a,o,r;if(!e)return!0;for(e=e.split(","),n=t.type,i=n.replace(/\/.*$/,""),o=0,r=e.length;o<r;o++)if(a=e[o],a=a.trim(),"."===a.charAt(0)){if(-1!==t.name.toLowerCase().indexOf(a.toLowerCase(),t.name.length-a.length))return!0}else if(/\/\*$/.test(a)){if(i===a.replace(/\/.*$/,""))return!0}else if(n===a)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each(function(){return new t(this,e)})}),"undefined"!=typeof module&&null!==module?module.exports=t:window.Dropzone=t,t.ADDED="added",t.QUEUED="queued",t.ACCEPTED=t.QUEUED,t.UPLOADING="uploading",t.PROCESSING=t.UPLOADING,t.CANCELED="canceled",t.ERROR="error",t.SUCCESS="success",a=function(t){var e,i,n,a,o,r,s,l,d;for(t.naturalWidth,r=t.naturalHeight,i=document.createElement("canvas"),i.width=1,i.height=r,n=i.getContext("2d"),n.drawImage(t,0,0),a=n.getImageData(0,0,1,r).data,d=0,o=r,s=r;s>d;)e=a[4*(s-1)+3],0===e?o=s:d=s,s=o+d>>1;return l=s/r,0===l?1:l},o=function(t,e,i,n,o,r,s,l,d,h){var c;return c=a(e),t.drawImage(e,i,n,o,r,s,l,d,h/c)},n=function(t,e){var i,n,a,o,r,s,l,d,h;if(a=!1,h=!0,n=t.document,d=n.documentElement,i=n.addEventListener?"addEventListener":"attachEvent",l=n.addEventListener?"removeEventListener":"detachEvent",s=n.addEventListener?"":"on",o=function(i){if("readystatechange"!==i.type||"complete"===n.readyState)return("load"===i.type?t:n)[l](s+i.type,o,!1),!a&&(a=!0)?e.call(t,i.type||i):void 0},r=function(){try{d.doScroll("left")}catch(t){return t,void setTimeout(r,50)}return o("poll")},"complete"!==n.readyState){if(n.createEventObject&&d.doScroll){try{h=!t.frameElement}catch(t){}h&&r()}return n[i](s+"DOMContentLoaded",o,!1),n[i](s+"readystatechange",o,!1),t[i](s+"load",o,!1)}},t._autoDiscoverFunction=function(){if(t.autoDiscover)return t.discover()},n(window,t._autoDiscoverFunction)}.call(this),function(t){jQuery.browser={},jQuery.browser.mozilla=/mozilla/.test(navigator.userAgent.toLowerCase())&&!/webkit/.test(navigator.userAgent.toLowerCase()),jQuery.browser.webkit=/webkit/.test(navigator.userAgent.toLowerCase()),jQuery.browser.opera=/opera/.test(navigator.userAgent.toLowerCase()),jQuery.browser.msie=/msie/.test(navigator.userAgent.toLowerCase()),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var e=this.length>>>0,i=Number(arguments[1])||0;for(i=i<0?Math.ceil(i):Math.floor(i),i<0&&(i+=e);i<e;i++)if(i in this&&this[i]===t)return i;return-1});var e=[],i=0,n=!1,a="",o="",r="",s="",l=0,d=0,h={onComplete:function(){},backgroundColor:"#000",barColor:"#fff",overlayId:"qLoverlay",barHeight:1,percentage:!1,deepSearch:!0,completeAnimation:"fade",minimumTime:500,onLoadComplete:function(){t("#"+h.overlayId).fadeOut(500,function(){h.onComplete&&h.onComplete()})}},c=function(){var t=new Date;d=t.getTime(),e.length>0?(p(),m()):g()},p=function(){a=t("<div></div>").appendTo("body").css({display:"none",width:0,height:0,overflow:"hidden"});for(var i=0;e.length>i;i++);},u=function(){i++;var e=i/l*100;t(r).stop().animate({width:e+"%",minWidth:e+"%"},200),1==h.percentage&&t(s).text(Math.ceil(e)+"%"),i>=l&&g()};window.setInterval(function(){if(window.qL_step_finished&&(window.qL_step_finished=null,u()),window.qL_Init&&(window.qL_Init=null,f()),window.qL_Finish_Now&&(window.qL_Finish_Now=null,i=l-1,u()),window.qL_steps_amount){var t=parseInt(window.qL_steps_amount);window.qL_steps_amount=null,!isNaN(t)&&t>0&&(l=t,f())}},50);var f=function(){n=!1,i=0,t("#"+h.overlayId).show(),h.onInit&&h.onInit()},g=function(){t(a).remove(),h.onLoadComplete(),n=!0},m=function(){o=t("<div id='"+h.overlayId+"'></div>").css({width:"100%",height:"100%",backgroundColor:h.backgroundColor,backgroundPosition:"fixed",position:"fixed",zIndex:666999,top:0,left:0}).appendTo("body"),r=t("<div id='qLbar'></div>").css({height:h.barHeight+"px",backgroundColor:h.barColor,width:"0%",position:"absolute",top:"0"}).appendTo(o),1==h.percentage&&(s=t("<div id='qLpercentage'></div>").text("0%").css({height:"40px",width:"100px",position:"absolute",fontSize:"4em",top:"50%",left:"50%",marginTop:"-"+(59+h.barHeight)+"px",textAlign:"center",marginLeft:"-50px",color:h.barColor}).appendTo(o)),e.length||g()},v=function(i){var n="";if("none"!=t(i).css("background-image"))var n=t(i).css("background-image");else if(void 0!==t(i).attr("src")&&"img"==i.nodeName.toLowerCase())var n=t(i).attr("src");if(-1==n.indexOf("gradient")){n=n.replace(/url\(\"/g,""),n=n.replace(/url\(/g,""),n=n.replace(/\"\)/g,""),n=n.replace(/\)/g,"");for(var a=n.split(", "),o=0;o<a.length;o++)if(a[o].length>0&&-1==e.indexOf(a[o])&&!a[o].match(/^(data:)/i)){var r="";t.browser.msie&&t.browser.version<9&&(r="?"+Math.floor(3e3*Math.random())),e.push(a[o]+r)}}};t.fn.queryLoader2=function(e){return e&&t.extend(h,e),this.addToCounter=function(){l++},this.each(function(){v(this),1==h.deepSearch&&t(this).find("*:not(script)").each(function(){v(this)})}),c(),this};var w={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version",this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(t){for(var e=0;e<t.length;e++){var i=t[e].string,n=t[e].prop;if(this.versionSearchString=t[e].versionSearch||t[e].identity,i){if(-1!=i.indexOf(t[e].subString))return t[e].identity}else if(n)return t[e].identity}},searchVersion:function(t){var e=t.indexOf(this.versionSearchString);if(-1!=e)return parseFloat(t.substring(e+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};w.init(),jQuery.browser.version=w.version}(jQuery),function(t,e){t.extend({browserSelector:function(){var t=e.userAgent,i=t.toLowerCase(),n=function(t){return i.indexOf(t)>-1},a="gecko",o="webkit",r="safari",s="opera",l=document.documentElement,d=[!/opera|webtv/i.test(i)&&/msie\s(\d)/.test(i)?"ie ie"+parseFloat(e.appVersion.split("MSIE")[1]):n("firefox/2")?a+" ff2":n("firefox/3.5")?a+" ff3 ff3_5":n("firefox/3")?a+" ff3":n("gecko/")?a:n("opera")?s+(/version\/(\d+)/.test(i)?" "+s+RegExp.jQuery1:/opera(\s|\/)(\d+)/.test(i)?" "+s+RegExp.jQuery2:""):n("konqueror")?"konqueror":n("chrome")?o+" chrome":n("iron")?o+" iron":n("applewebkit/")?o+" "+r+(/version\/(\d+)/.test(i)?" "+r+RegExp.jQuery1:""):n("mozilla/")?a:"",n("j2me")?"mobile":n("iphone")?"iphone":n("ipod")?"ipod":n("mac")?"mac":n("darwin")?"mac":n("webtv")?"webtv":n("win")?"win":n("freebsd")?"freebsd":n("x11")||n("linux")?"linux":"","js"],h=d.join(" ");l.className+=" "+h}})}(jQuery,navigator),function(){$.searchClick=function(t,e){this.el=$(t),this.init(e)},$.searchClick.DEFAULTS={key_esc:27},$.searchClick.prototype={init:function(t){var e=this;e.o=$.extend({},$.searchClick.DEFAULTS,t),e.key_esc=e.o.key_esc,e.searchWrap=$(".searchform_wrap"),e.searchBtn=$(".search_button",e.el),e.searchClose=$(".close_search_form",e.el),e.searchField=$("#s",e.el),e.event=Modernizr.touch?"touchstart":"click",e.set(),e.bind()},set:function(){var t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};this.transEndEventName=t[Modernizr.prefixed("transition")],this.animations=Modernizr.csstransitions},hide:function(){var t=this;t.searchWrap.addClass("closed").removeClass("opened");var e=function(){t.searchWrap.removeClass("closed")};t.animations?t.searchWrap.on(t.transEndEventName,e):onEndAnimationFn()},bind:function(){this.searchBtn.on(this.event,$.proxy(this.display_show,this)),this.searchClose.on(this.event,$.proxy(function(t){this.display_hide(t,this.key_esc)},this)),this.keyDownHandler(this.key_esc)},display_show:function(t){t.preventDefault(),this.searchWrap.hasClass("opened")||(this.searchWrap.addClass("opened"),setTimeout(function(t){return function(){t.focus()}}(this.searchField),100))},display_hide:function(t,e){var i=this;i.searchWrap.hasClass("opened")&&(t.type==i.event||"keydown"==t.type&&t.keyCode===e)&&(t.preventDefault(),i.hide(),i.searchField.blur())},keyDownHandler:function(t){$(window).on("keydown",$.proxy(function(e){this.display_hide(e,t)},this))}},$.fn.extend({searchClick:function(t){return this.length?this.each(function(){var e=$(this),i=e.data("searchClick"),n="object"==typeof t&&t;i||e.data("searchClick",new $.searchClick(this,n))}):this}})}(),function(t){t.extend({smoothScroll:function(){function t(){var t=!1;if(document.URL.indexOf("google.com/reader/view")>-1&&(t=!0),y.excluded){var e=y.excluded.split(/[,\n] ?/);e.push("mail.google.com");for(var i=e.length;i--;)if(document.URL.indexOf(e[i])>-1){v&&v.disconnect(),d("mousewheel",n),t=!0,b=!0;break}}t&&d("keydown",a),y.keyboardSupport&&!t&&l("keydown",a)}function e(){if(document.body){var e=document.body,i=document.documentElement,n=window.innerHeight,a=e.scrollHeight;if(k=document.compatMode.indexOf("CSS")>=0?i:e,m=e,t(),T=!0,top!=self)x=!0;else if(a>n&&(e.offsetHeight<=n||i.offsetHeight<=n)){var o=!1,r=function(){o||i.scrollHeight==document.height||(o=!0,setTimeout(function(){i.style.height=document.height+"px",o=!1},500))};i.style.height="auto",setTimeout(r,10);var s={attributes:!0,childList:!0,characterData:!1};if(v=new I(r),v.observe(e,s),k.offsetHeight<=n){var l=document.createElement("div");l.style.clear="both",e.appendChild(l)}}if(document.URL.indexOf("mail.google.com")>-1){var d=document.createElement("style");d.innerHTML=".iu { visibility: hidden }",(document.getElementsByTagName("head")[0]||i).appendChild(d)}else if(document.URL.indexOf("www.facebook.com")>-1){var h=document.getElementById("home_stream");h&&(h.style.webkitTransform="translateZ(0)")}y.fixedBackground||b||(e.style.backgroundAttachment="scroll",i.style.backgroundAttachment="scroll")}}function i(t,e,i,n){if(n||(n=1e3),c(e,i),1!=y.accelerationMax){var a=+new Date,o=a-A;if(o<y.accelerationDelta){var r=(1+30/o)/2;r>1&&(r=Math.min(r,y.accelerationMax),e*=r,i*=r)}A=+new Date}if(L.push({x:e,y:i,lastX:e<0?.99:-.99,lastY:i<0?.99:-.99,start:+new Date}),!P){var s=t===document.body,l=function(a){for(var o=+new Date,r=0,d=0,h=0;h<L.length;h++){var c=L[h],p=o-c.start,u=p>=y.animationTime,f=u?1:p/y.animationTime;y.pulseAlgorithm&&(f=g(f));var m=c.x*f-c.lastX>>0,v=c.y*f-c.lastY>>0;r+=m,d+=v,c.lastX+=m,c.lastY+=v,u&&(L.splice(h,1),h--)}s?window.scrollBy(r,d):(r&&(t.scrollLeft+=r),d&&(t.scrollTop+=d)),e||i||(L=[]),L.length?E(l,t,n/y.frameRate+1):P=!1};E(l,t,0),P=!0}}function n(t){T||e();var n=t.target,a=s(n);if(!a||t.defaultPrevented||h(m,"embed")||h(n,"embed")&&/\.pdf/i.test(n.src))return!0;var o=t.wheelDeltaX||0,r=t.wheelDeltaY||0;if(o||r||(r=t.wheelDelta||0),!y.touchpadSupport&&p(r))return!0;Math.abs(o)>1.2&&(o*=y.stepSize/120),Math.abs(r)>1.2&&(r*=y.stepSize/120),i(a,-o,-r),t.preventDefault()}function a(t){var e=t.target,n=t.ctrlKey||t.altKey||t.metaKey||t.shiftKey&&t.keyCode!==S.spacebar;if(/input|textarea|select|embed/i.test(e.nodeName)||e.isContentEditable||t.defaultPrevented||n)return!0;if(h(e,"button")&&t.keyCode===S.spacebar)return!0;var a,o=0,r=0,l=s(m)||document.body,d=l.clientHeight;switch(l==document.body&&(d=window.innerHeight),t.keyCode){case S.up:r=-y.arrowScroll;break;case S.down:r=y.arrowScroll;break;case S.spacebar:a=t.shiftKey?1:-1,r=-a*d*.9;break;case S.pageup:r=.9*-d;break;case S.pagedown:r=.9*d;break;case S.home:r=-l.scrollTop;break;case S.end:var c=l.scrollHeight-l.scrollTop-d;r=c>0?c+10:0;break;case S.left:o=-y.arrowScroll;break;case S.right:o=y.arrowScroll;break;default:return!0}i(l,o,r),t.preventDefault()}function o(t){m=t.target}function r(t,e){for(var i=t.length;i--;)O[M(t[i])]=e;return e}function s(t){var e=[],i=k.scrollHeight;do{var n=O[M(t)];if(n)return r(e,n);if(e.push(t),i===t.scrollHeight){if(!x||k.clientHeight+10<i)return r(e,document.body)}else if(t.clientHeight+10<t.scrollHeight&&(overflow=getComputedStyle(t,"").getPropertyValue("overflow-y"),"scroll"===overflow||"auto"===overflow))return r(e,t)}while(t=t.parentNode)}function l(t,e,i){window.addEventListener(t,e,i||!1)}function d(t,e,i){window.removeEventListener(t,e,i||!1)}function h(t,e){return(t.nodeName||"").toLowerCase()===e.toLowerCase()}function c(t,e){t=t>0?1:-1,e=e>0?1:-1,_.x===t&&_.y===e||(_.x=t,_.y=e,L=[],A=0)}function p(t){if(t){t=Math.abs(t),C.push(t),C.shift(),clearTimeout(z);var e=C[0]==C[1]&&C[1]==C[2],i=u(C[0],120)&&u(C[1],120)&&u(C[2],120);return!(e||i)}}function u(t,e){return Math.floor(t/e)==t/e}function f(t){var e,i,n;return t*=y.pulseScale,t<1?e=t-(1-Math.exp(-t)):(i=Math.exp(-1),t-=1,n=1-Math.exp(-t),e=i+n*(1-i)),e*y.pulseNormalize}function g(t){return t>=1?1:t<=0?0:(1==y.pulseNormalize&&(y.pulseNormalize/=f(1)),f(t))}var m,v,w={frameRate:150,animationTime:700,stepSize:80,pulseAlgorithm:!0,pulseScale:8,pulseNormalize:1,accelerationDelta:20,accelerationMax:1,keyboardSupport:!0,arrowScroll:50,touchpadSupport:!0,fixedBackground:!0,excluded:""},y=w,b=!1,x=!1,_={x:0,y:0},T=!1,k=document.documentElement,C=[120,120,120],S={left:37,up:38,right:39,down:40,spacebar:32,pageup:33,pagedown:34,end:35,home:36},L=[],P=!1,A=+new Date,O={};setInterval(function(){O={}},1e4);var z,M=function(){var t=0;return function(e){return e.uniqueID||(e.uniqueID=t++)}}(),E=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t,e,i){window.setTimeout(t,i||1e3/60)}}(),I=window.MutationObserver||window.WebKitMutationObserver;l("mousedown",o),l("mousewheel",n),l("load",e)}})}(jQuery),$.fn.css3Animate=function(t){return $(this).on("click",function(e){var i=t;$(this).toggleClass("active"),e.preventDefault(),i.hasClass("opened")?(i.removeClass("opened").addClass("closed"),setTimeout(function(){i.removeClass("closed")},500)):i.addClass("opened")})},function(){function t(){}function e(t){return o.retinaImageSuffix+t}function i(t,i){if(this.path=t||"",void 0!==i&&null!==i)this.at_2x_path=i,this.perform_check=!1;else{if(void 0!==document.createElement){var n=document.createElement("a");n.href=this.path,n.pathname=n.pathname.replace(r,e),this.at_2x_path=n.href}else{var a=this.path.split("?");a[0]=a[0].replace(r,e),this.at_2x_path=a.join("?")}this.perform_check=!0}}function n(t){this.el=t}var a="undefined"==typeof exports?window:exports,o={retinaImageSuffix:"@2x",check_mime_type:!0,force_original_dimensions:!0};a.Retina=t,t.condiv=function(t){null===t&&(t={});for(var e in t)t.hasOwnProperty(e)&&(o[e]=t[e])},t.init=function(t){null===t&&(t=a);var e=t.onload||function(){};t.onload=function(){var t,i,a=document.getElementsByTagName("img"),o=[];for(t=0;t<a.length;t+=1)i=a[t],i.getAttributeNode("data-no-retina")||o.push(new n(i));e()}},t.isRetina=function(){return a.devicePixelRatio>1||!(!a.matchMedia||!a.matchMedia("(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)").matches)};var r=/\.\w+$/;a.RetinaImagePath=i,i.confirmed_paths=[],i.prototype.is_external=function(){return!(!this.path.match(/^https?\:/i)||this.path.match("//"+document.domain))},i.prototype.check_2x_variant=function(t){var e,n=this;return this.is_external()?t(!1):this.perform_check||void 0===this.at_2x_path||null===this.at_2x_path?this.at_2x_path in i.confirmed_paths?t(!0):(e=new XMLHttpRequest,e.open("HEAD",this.at_2x_path),e.onreadystatechange=function(){if(4!==e.readyState)return t(!1);if(e.status>=200&&e.status<=399){if(o.check_mime_type){var a=e.getResponseHeader("Content-Type");if(null===a||!a.match(/^image/i))return t(!1)}return i.confirmed_paths.push(n.at_2x_path),t(!0)}return t(!1)},e.send(),void 0):t(!0)},a.RetinaImage=n,n.prototype.swap=function(t){function e(){i.el.complete?(o.force_original_dimensions&&(i.el.setAttribute("width",i.el.offsetWidth),i.el.setAttribute("height",i.el.offsetHeight)),i.el.setAttribute("src",t)):setTimeout(e,5)}void 0===t&&(t=this.path.at_2x_path);var i=this;e()},t.isRetina()&&t.init(a)}(),function(t){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],t):t(jQuery)}(function(t){function e(e){return!e||void 0!==e.allowPageScroll||void 0===e.swipe&&void 0===e.swipeStatus||(e.allowPageScroll=d),void 0!==e.click&&void 0===e.tap&&(e.tap=e.click),e||(e={}),e=t.extend({},t.fn.swipe.defaults,e),this.each(function(){var n=t(this),a=n.data(L);a||(a=new i(this,e),n.data(L,a))})}function i(e,i){function P(e){if(!(dt()||t(e.target).closest(i.excludedElements,Bt).length>0)){var n,a=e.originalEvent?e.originalEvent:e,o=k?a.touches[0]:a;return Ut=b,(k?qt=a.touches.length:e.preventDefault(),Ft=0,Dt=null,jt=null,Rt=0,Ht=0,Wt=0,Nt=1,Xt=0,Vt=ft(),Yt=vt(),st(),!k||qt===i.fingers||i.fingers===w||Y()?(ct(0,o),Qt=St(),2==qt&&(ct(1,a.touches[1]),Ht=Wt=bt(Vt[0].start,Vt[1].start)),(i.swipeStatus||i.pinchStatus)&&(n=F(a,Ut))):n=!1,!1===n)?(Ut=T,F(a,Ut),n):(i.hold&&(te=setTimeout(t.proxy(function(){Bt.trigger("hold",[a.target]),i.hold&&(n=i.hold.call(Bt,a,a.target))},this),i.longTapThreshold)),ht(!0),null)}}function A(t){var e=t.originalEvent?t.originalEvent:t;if(Ut!==_&&Ut!==T&&!lt()){var n,a=k?e.touches[0]:e,o=pt(a);if(Gt=St(),k&&(qt=e.touches.length),i.hold&&clearTimeout(te),Ut=x,2==qt&&(0==Ht?(ct(1,e.touches[1]),Ht=Wt=bt(Vt[0].start,Vt[1].start)):(pt(e.touches[1]),Wt=bt(Vt[0].end,Vt[1].end),jt=_t(Vt[0].end,Vt[1].end)),Nt=xt(Ht,Wt),Xt=Math.abs(Ht-Wt)),qt===i.fingers||i.fingers===w||!k||Y()){if(Dt=Ct(o.start,o.end),X(t,Dt),Ft=Tt(o.start,o.end),Rt=yt(),gt(Dt,Ft),(i.swipeStatus||i.pinchStatus)&&(n=F(e,Ut)),!i.triggerOnTouchEnd||i.triggerOnTouchLeave){var r=!0;if(i.triggerOnTouchLeave){var s=Lt(this);r=Pt(o.end,s)}!i.triggerOnTouchEnd&&r?Ut=I(x):i.triggerOnTouchLeave&&!r&&(Ut=I(_)),Ut!=T&&Ut!=_||F(e,Ut)}}else Ut=T,F(e,Ut);!1===n&&(Ut=T,F(e,Ut))}}function O(t){var e=t.originalEvent;return k&&e.touches.length>0?(rt(),!0):(lt()&&(qt=Zt),Gt=St(),Rt=yt(),H()||!R()?(Ut=T,F(e,Ut)):i.triggerOnTouchEnd||0==i.triggerOnTouchEnd&&Ut===x?(t.preventDefault(),Ut=_,F(e,Ut)):!i.triggerOnTouchEnd&&$()?(Ut=_,D(e,Ut,u)):Ut===x&&(Ut=T,F(e,Ut)),ht(!1),null)}function z(){qt=0,Gt=0,Qt=0,Ht=0,Wt=0,Nt=1,st(),ht(!1)}function M(t){var e=t.originalEvent;i.triggerOnTouchLeave&&(Ut=I(_),F(e,Ut))}function E(){Bt.unbind(Ot,P),Bt.unbind(It,z),Bt.unbind(zt,A),Bt.unbind(Mt,O),Et&&Bt.unbind(Et,M),ht(!1)}function I(t){var e=t,n=N(),a=R(),o=H();return!n||o?e=T:!a||t!=x||i.triggerOnTouchEnd&&!i.triggerOnTouchLeave?!a&&t==_&&i.triggerOnTouchLeave&&(e=T):e=_,e}function F(t,e){var i=void 0;return V()||q()?i=D(t,e,c):(B()||Y())&&!1!==i&&(i=D(t,e,p)),at()&&!1!==i?i=D(t,e,f):ot()&&!1!==i?i=D(t,e,g):nt()&&!1!==i&&(i=D(t,e,u)),e===T&&z(t),e===_&&(k?0==t.touches.length&&z(t):z(t)),i}function D(e,d,h){var m=void 0;if(h==c){if(Bt.trigger("swipeStatus",[d,Dt||null,Ft||0,Rt||0,qt,Vt]),i.swipeStatus&&!1===(m=i.swipeStatus.call(Bt,e,d,Dt||null,Ft||0,Rt||0,qt,Vt)))return!1;if(d==_&&U()){if(Bt.trigger("swipe",[Dt,Ft,Rt,qt,Vt]),i.swipe&&!1===(m=i.swipe.call(Bt,e,Dt,Ft,Rt,qt,Vt)))return!1;switch(Dt){case n:Bt.trigger("swipeLeft",[Dt,Ft,Rt,qt,Vt]),i.swipeLeft&&(m=i.swipeLeft.call(Bt,e,Dt,Ft,Rt,qt,Vt));break;case a:Bt.trigger("swipeRight",[Dt,Ft,Rt,qt,Vt]),i.swipeRight&&(m=i.swipeRight.call(Bt,e,Dt,Ft,Rt,qt,Vt));break;case o:Bt.trigger("swipeUp",[Dt,Ft,Rt,qt,Vt]),i.swipeUp&&(m=i.swipeUp.call(Bt,e,Dt,Ft,Rt,qt,Vt));break;case r:Bt.trigger("swipeDown",[Dt,Ft,Rt,qt,Vt]),i.swipeDown&&(m=i.swipeDown.call(Bt,e,Dt,Ft,Rt,qt,Vt))}}}if(h==p){if(Bt.trigger("pinchStatus",[d,jt||null,Xt||0,Rt||0,qt,Nt,Vt]),i.pinchStatus&&!1===(m=i.pinchStatus.call(Bt,e,d,jt||null,Xt||0,Rt||0,qt,Nt,Vt)))return!1;if(d==_&&j())switch(jt){case s:Bt.trigger("pinchIn",[jt||null,Xt||0,Rt||0,qt,Nt,Vt]),i.pinchIn&&(m=i.pinchIn.call(Bt,e,jt||null,Xt||0,Rt||0,qt,Nt,Vt));break;case l:Bt.trigger("pinchOut",[jt||null,Xt||0,Rt||0,qt,Nt,Vt]),i.pinchOut&&(m=i.pinchOut.call(Bt,e,jt||null,Xt||0,Rt||0,qt,Nt,Vt))}}return h==u?d!==T&&d!==_||(clearTimeout(Jt),clearTimeout(te),Z()&&!tt()?(Kt=St(),Jt=setTimeout(t.proxy(function(){Kt=null,Bt.trigger("tap",[e.target]),i.tap&&(m=i.tap.call(Bt,e,e.target))},this),i.doubleTapThreshold)):(Kt=null,Bt.trigger("tap",[e.target]),i.tap&&(m=i.tap.call(Bt,e,e.target)))):h==f?d!==T&&d!==_||(clearTimeout(Jt),Kt=null,Bt.trigger("doubletap",[e.target]),i.doubleTap&&(m=i.doubleTap.call(Bt,e,e.target))):h==g&&(d!==T&&d!==_||(clearTimeout(Jt),Kt=null,Bt.trigger("longtap",[e.target]),i.longTap&&(m=i.longTap.call(Bt,e,e.target)))),m}function R(){var t=!0;return null!==i.threshold&&(t=Ft>=i.threshold),t}function H(){var t=!1;return null!==i.cancelThreshold&&null!==Dt&&(t=mt(Dt)-Ft>=i.cancelThreshold),t}function W(){return null===i.pinchThreshold||Xt>=i.pinchThreshold}function N(){return!i.maxTimeThreshold||!(Rt>=i.maxTimeThreshold)}function X(t,e){if(i.allowPageScroll===d||Y())t.preventDefault();else{var s=i.allowPageScroll===h;switch(e){case n:(i.swipeLeft&&s||!s&&i.allowPageScroll!=m)&&t.preventDefault();break;case a:(i.swipeRight&&s||!s&&i.allowPageScroll!=m)&&t.preventDefault();break;case o:(i.swipeUp&&s||!s&&i.allowPageScroll!=v)&&t.preventDefault();break;case r:(i.swipeDown&&s||!s&&i.allowPageScroll!=v)&&t.preventDefault()}}}function j(){var t=Q(),e=G(),i=W();return t&&e&&i}function Y(){return!!(i.pinchStatus||i.pinchIn||i.pinchOut)}function B(){return!(!j()||!Y())}function U(){var t=N(),e=R(),i=Q(),n=G();return!H()&&n&&i&&e&&t}function q(){return!!(i.swipe||i.swipeStatus||i.swipeLeft||i.swipeRight||i.swipeUp||i.swipeDown)}function V(){return!(!U()||!q())}function Q(){return qt===i.fingers||i.fingers===w||!k}function G(){return 0!==Vt[0].end.x}function $(){return!!i.tap}function Z(){return!!i.doubleTap}function K(){return!!i.longTap}function J(){if(null==Kt)return!1;var t=St();return Z()&&t-Kt<=i.doubleTapThreshold}function tt(){return J()}function et(){return(1===qt||!k)&&(isNaN(Ft)||Ft<i.threshold)}function it(){return Rt>i.longTapThreshold&&Ft<y}function nt(){return!(!et()||!$())}function at(){return!(!J()||!Z())}function ot(){return!(!it()||!K())}function rt(){$t=St(),Zt=event.touches.length+1}function st(){$t=0,Zt=0}function lt(){var t=!1;if($t){St()-$t<=i.fingerReleaseThreshold&&(t=!0)}return t}function dt(){return!(!0!==Bt.data(L+"_intouch"))}function ht(t){!0===t?(Bt.bind(zt,A),Bt.bind(Mt,O),Et&&Bt.bind(Et,M)):(Bt.unbind(zt,A,!1),Bt.unbind(Mt,O,!1),Et&&Bt.unbind(Et,M,!1)),Bt.data(L+"_intouch",!0===t)}function ct(t,e){var i=void 0!==e.identifier?e.identifier:0;return Vt[t].identifier=i,Vt[t].start.x=Vt[t].end.x=e.pageX||e.clientX,Vt[t].start.y=Vt[t].end.y=e.pageY||e.clientY,Vt[t]}function pt(t){var e=void 0!==t.identifier?t.identifier:0,i=ut(e);return i.end.x=t.pageX||t.clientX,i.end.y=t.pageY||t.clientY,i}function ut(t){for(var e=0;e<Vt.length;e++)if(Vt[e].identifier==t)return Vt[e]}function ft(){for(var t=[],e=0;e<=5;e++)t.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return t}function gt(t,e){e=Math.max(e,mt(t)),Yt[t].distance=e}function mt(t){if(Yt[t])return Yt[t].distance}function vt(){var t={};return t[n]=wt(n),t[a]=wt(a),t[o]=wt(o),t[r]=wt(r),t}function wt(t){return{direction:t,distance:0}}function yt(){return Gt-Qt}function bt(t,e){var i=Math.abs(t.x-e.x),n=Math.abs(t.y-e.y);return Math.round(Math.sqrt(i*i+n*n))}function xt(t,e){return(e/t*1).toFixed(2)}function _t(){return Nt<1?l:s}function Tt(t,e){return Math.round(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)))}function kt(t,e){var i=t.x-e.x,n=e.y-t.y,a=Math.atan2(n,i),o=Math.round(180*a/Math.PI);return o<0&&(o=360-Math.abs(o)),o}function Ct(t,e){var i=kt(t,e);return i<=45&&i>=0?n:i<=360&&i>=315?n:i>=135&&i<=225?a:i>45&&i<135?r:o}function St(){return(new Date).getTime()}function Lt(e){e=t(e);var i=e.offset();return{left:i.left,right:i.left+e.outerWidth(),top:i.top,bottom:i.top+e.outerHeight()}}function Pt(t,e){return t.x>e.left&&t.x<e.right&&t.y>e.top&&t.y<e.bottom}var At=k||S||!i.fallbackToMouseEvents,Ot=At?S?C?"MSPointerDown":"pointerdown":"touchstart":"mousedown",zt=At?S?C?"MSPointerMove":"pointermove":"touchmove":"mousemove",Mt=At?S?C?"MSPointerUp":"pointerup":"touchend":"mouseup",Et=At?null:"mouseleave",It=S?C?"MSPointerCancel":"pointercancel":"touchcancel",Ft=0,Dt=null,Rt=0,Ht=0,Wt=0,Nt=1,Xt=0,jt=0,Yt=null,Bt=t(e),Ut="start",qt=0,Vt=null,Qt=0,Gt=0,$t=0,Zt=0,Kt=0,Jt=null,te=null;try{Bt.bind(Ot,P),Bt.bind(It,z)}catch(e){t.error("events not supported "+Ot+","+It+" on jQuery.swipe")}this.enable=function(){return Bt.bind(Ot,P),Bt.bind(It,z),Bt},this.disable=function(){return E(),Bt},this.destroy=function(){return E(),Bt.data(L,null),Bt},this.option=function(e,n){if(void 0!==i[e]){if(void 0===n)return i[e];i[e]=n}else t.error("Option "+e+" does not exist on jQuery.swipe.options");return null}}var n="left",a="right",o="up",r="down",s="in",l="out",d="none",h="auto",c="swipe",p="pinch",u="tap",f="doubletap",g="longtap",m="horizontal",v="vertical",w="all",y=10,b="start",x="move",_="end",T="cancel",k="ontouchstart"in window,C=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,S=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,L="TouchSwipe",P={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe"};t.fn.swipe=function(i){var n=t(this),a=n.data(L);if(a&&"string"==typeof i){if(a[i])return a[i].apply(this,Array.prototype.slice.call(arguments,1));t.error("Method "+i+" does not exist on jQuery.swipe")}else if(!(a||"object"!=typeof i&&i))return e.apply(this,arguments);return n},t.fn.swipe.defaults=P,t.fn.swipe.phases={PHASE_START:b,PHASE_MOVE:x,PHASE_END:_,PHASE_CANCEL:T},t.fn.swipe.directions={LEFT:n,RIGHT:a,UP:o,DOWN:r,IN:s,OUT:l},t.fn.swipe.pageScroll={NONE:d,HORIZONTAL:m,VERTICAL:v,AUTO:h},t.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:w}}),void 0===console){var console={};console.log=console.error=console.info=console.debug=console.warn=console.trace=console.dir=console.dirxml=console.group=console.groupEnd=console.time=console.timeEnd=console.assert=console.profile=console.groupCollapsed=function(){}}if(1==window.tplogs)try{console.groupCollapsed("ThemePunch GreenSocks Logs")}catch(t){}var oldgs=window.GreenSockGlobals;oldgs_queue=window._gsQueue;var punchgs=window.GreenSockGlobals={};if(1==window.tplogs)try{console.info("Build GreenSock SandBox for ThemePunch Plugins"),console.info("GreenSock TweenLite Engine Initalised by ThemePunch Plugin")}catch(t){}!function(t,e){"use strict";var i=t.GreenSockGlobals=t.GreenSockGlobals||t;if(!i.TweenLite){var n,a,o,r,s,l=function(t){var e,n=t.split("."),a=i;for(e=0;n.length>e;e++)a[n[e]]=a=a[n[e]]||{};return a},d=l("com.greensock"),h=1e-10,c=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},p=function(){},u=function(){var t=Object.prototype.toString,e=t.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&t.call(i)===e)}}(),f={},g=function(e,n,a,o){this.sc=f[e]?f[e].sc:[],f[e]=this,this.gsClass=null,this.func=a;var r=[];this.check=function(s){for(var d,h,c,p,u=n.length,m=u;--u>-1;)(d=f[n[u]]||new g(n[u],[])).gsClass?(r[u]=d.gsClass,m--):s&&d.sc.push(this);if(0===m&&a)for(h=("com.greensock."+e).split("."),c=h.pop(),p=l(h.join("."))[c]=this.gsClass=a.apply(a,r),o&&(i[c]=p,"function"==typeof define&&define.amd?define((t.GreenSockAMDPath?t.GreenSockAMDPath+"/":"")+e.split(".").pop(),[],function(){return p}):"TweenLite"===e&&"undefined"!=typeof module&&module.exports&&(module.exports=p)),u=0;this.sc.length>u;u++)this.sc[u].check()},this.check(!0)},m=t._gsDefine=function(t,e,i,n){return new g(t,e,i,n)},v=d._class=function(t,e,i){return e=e||function(){},m(t,[],function(){return e},i),e};m.globals=i;var w=[0,0,1,1],y=[],b=v("easing.Ease",function(t,e,i,n){this._func=t,this._type=i||0,this._power=n||0,this._params=e?w.concat(e):w},!0),x=b.map={},_=b.register=function(t,e,i,n){for(var a,o,r,s,l=e.split(","),h=l.length,c=(i||"easeIn,easeOut,easeInOut").split(",");--h>-1;)for(o=l[h],a=n?v("easing."+o,null,!0):d.easing[o]||{},r=c.length;--r>-1;)s=c[r],x[o+"."+s]=x[s+o]=a[s]=t.getRatio?t:t[s]||new t};for(o=b.prototype,o._calcEnd=!1,o.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,n=1===e?1-t:2===e?t:.5>t?2*t:2*(1-t);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===e?1-n:2===e?n:.5>t?n/2:1-n/2},n=["Linear","Quad","Cubic","Quart","Quint,Strong"],a=n.length;--a>-1;)o=n[a]+",Power"+a,_(new b(null,null,1,a),o,"easeOut",!0),_(new b(null,null,2,a),o,"easeIn"+(0===a?",easeNone":"")),_(new b(null,null,3,a),o,"easeInOut");x.linear=d.easing.Linear.easeIn,x.swing=d.easing.Quad.easeInOut;var T=v("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});o=T.prototype,o.addEventListener=function(t,e,i,n,a){a=a||0;var o,l,d=this._listeners[t],h=0;for(null==d&&(this._listeners[t]=d=[]),l=d.length;--l>-1;)o=d[l],o.c===e&&o.s===i?d.splice(l,1):0===h&&a>o.pr&&(h=l+1);d.splice(h,0,{c:e,s:i,up:n,pr:a}),this!==r||s||r.wake()},o.removeEventListener=function(t,e){var i,n=this._listeners[t];if(n)for(i=n.length;--i>-1;)if(n[i].c===e)return void n.splice(i,1)},o.dispatchEvent=function(t){var e,i,n,a=this._listeners[t];if(a)for(e=a.length,i=this._eventTarget;--e>-1;)n=a[e],n.up?n.c.call(n.s||i,{type:t,target:i}):n.c.call(n.s||i)};var k=t.requestAnimationFrame,C=t.cancelAnimationFrame,S=Date.now||function(){return(new Date).getTime()},L=S();for(n=["ms","moz","webkit","o"],a=n.length;--a>-1&&!k;)k=t[n[a]+"RequestAnimationFrame"],C=t[n[a]+"CancelAnimationFrame"]||t[n[a]+"CancelRequestAnimationFrame"];v("Ticker",function(t,e){var i,n,a,o,l,d=this,c=S(),u=!1!==e&&k,f=500,g=33,m=function(t){var e,r,s=S()-L;s>f&&(c+=s-g),L+=s,d.time=(L-c)/1e3,e=d.time-l,(!i||e>0||!0===t)&&(d.frame++,l+=e+(e>=o?.004:o-e),r=!0),!0!==t&&(a=n(m)),r&&d.dispatchEvent("tick")};T.call(d),d.time=d.frame=0,d.tick=function(){m(!0)},d.lagSmoothing=function(t,e){f=t||1/h,g=Math.min(e,f,0)},d.sleep=function(){null!=a&&(u&&C?C(a):clearTimeout(a),n=p,a=null,d===r&&(s=!1))},d.wake=function(){null!==a?d.sleep():d.frame>10&&(L=S()-f+5),n=0===i?p:u&&k?k:function(t){return setTimeout(t,0|1e3*(l-d.time)+1)},d===r&&(s=!0),m(2)},d.fps=function(t){return arguments.length?(i=t,o=1/(i||60),l=this.time+o,void d.wake()):i},d.useRAF=function(t){return arguments.length?(d.sleep(),u=t,void d.fps(i)):u},d.fps(t),setTimeout(function(){
u&&(!a||5>d.frame)&&d.useRAF(!1)},1500)}),o=d.Ticker.prototype=new d.events.EventDispatcher,o.constructor=d.Ticker;var P=v("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=!0===e.immediateRender,this.data=e.data,this._reversed=!0===e.reversed,Y){s||r.wake();var i=this.vars.useFrames?j:Y;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});r=P.ticker=new d.Ticker,o=P.prototype,o._dirty=o._gc=o._initted=o._paused=!1,o._totalTime=o._time=0,o._rawPrevTime=-1,o._next=o._last=o._onUpdate=o._timeline=o.timeline=null,o._paused=!1;var A=function(){s&&S()-L>2e3&&r.wake(),setTimeout(A,2e3)};A(),o.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},o.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},o.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},o.seek=function(t,e){return this.totalTime(Number(t),!1!==e)},o.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,!1!==e,!0)},o.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},o.render=function(){},o.invalidate=function(){return this},o.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=i&&i+this.totalDuration()/this._timeScale>t},o._enabled=function(t,e){return s||r.wake(),this._gc=!t,this._active=this.isActive(),!0!==e&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},o._kill=function(){return this._enabled(!1,!1)},o.kill=function(t,e){return this._kill(t,e),this},o._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},o._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();--e>-1;)"{self}"===t[e]&&(i[e]=this);return i},o.eventCallback=function(t,e,i,n){if("on"===(t||"").substr(0,2)){var a=this.vars;if(1===arguments.length)return a[t];null==e?delete a[t]:(a[t]=e,a[t+"Params"]=u(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,a[t+"Scope"]=n),"onUpdate"===t&&(this._onUpdate=e)}return this},o.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},o.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},o.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},o.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},o.totalTime=function(t,e,i){if(s||r.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>t&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,a=this._timeline;if(t>n&&!i&&(t=n),this._startTime=(this._paused?this._pauseTime:a._time)-(this._reversed?n-t:t)/this._timeScale,a._dirty||this._uncache(!1),a._timeline)for(;a._timeline;)a._timeline._time!==(a._startTime+a._totalTime)/a._timeScale&&a.totalTime(a._totalTime,!0),a=a._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==t||0===this._duration)&&(this.render(t,e,!1),I.length&&B())}return this},o.progress=o.totalProgress=function(t,e){return arguments.length?this.totalTime(this.duration()*t,e):this._time/this.duration()},o.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},o.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||h,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,i=e||0===e?e:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},o.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},o.paused=function(t){if(!arguments.length)return this._paused;if(t!=this._paused&&this._timeline){s||t||r.wake();var e=this._timeline,i=e.rawTime(),n=i-this._pauseTime;!t&&e.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=t?i:null,this._paused=t,this._active=this.isActive(),!t&&0!==n&&this._initted&&this.duration()&&this.render(e.smoothChildTiming?this._totalTime:(i-this._startTime)/this._timeScale,!0,!0)}return this._gc&&!t&&this._enabled(!0,!1),this};var O=v("core.SimpleTimeline",function(t){P.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});o=O.prototype=new P,o.constructor=O,o.kill()._gc=!1,o._first=o._last=null,o._sortChildren=!1,o.add=o.insert=function(t,e){var i,n;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),i=this._last,this._sortChildren)for(n=t._startTime;i&&i._startTime>n;)i=i._prev;return i?(t._next=i._next,i._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=i,this._timeline&&this._uncache(!0),this},o._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,this._timeline&&this._uncache(!0)),this},o.render=function(t,e,i){var n,a=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;a;)n=a._next,(a._active||t>=a._startTime&&!a._paused)&&(a._reversed?a.render((a._dirty?a.totalDuration():a._totalDuration)-(t-a._startTime)*a._timeScale,e,i):a.render((t-a._startTime)*a._timeScale,e,i)),a=n},o.rawTime=function(){return s||r.wake(),this._totalTime};var z=v("TweenLite",function(e,i,n){if(P.call(this,i,n),this.render=z.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:z.selector(e)||e;var a,o,r,s=e.jquery||e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?X[z.defaultOverwrite]:"number"==typeof l?l>>0:X[l],(s||e instanceof Array||e.push&&u(e))&&"number"!=typeof e[0])for(this._targets=r=c(e),this._propLookup=[],this._siblings=[],a=0;r.length>a;a++)o=r[a],o?"string"!=typeof o?o.length&&o!==t&&o[0]&&(o[0]===t||o[0].nodeType&&o[0].style&&!o.nodeType)?(r.splice(a--,1),this._targets=r=r.concat(c(o))):(this._siblings[a]=U(o,this,!1),1===l&&this._siblings[a].length>1&&q(o,this,null,1,this._siblings[a])):"string"==typeof(o=r[a--]=z.selector(o))&&r.splice(a+1,1):r.splice(a--,1);else this._propLookup={},this._siblings=U(e,this,!1),1===l&&this._siblings.length>1&&q(e,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-h,this.render(-this._delay))},!0),M=function(e){return e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType)},E=function(t,e){var i,n={};for(i in t)N[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!R[i]||R[i]&&R[i]._autoCSS)||(n[i]=t[i],delete t[i]);t.css=n};o=z.prototype=new P,o.constructor=z,o.kill()._gc=!1,o.ratio=0,o._firstPT=o._targets=o._overwrittenProps=o._startAt=null,o._notifyPluginsOfEnabled=o._lazy=!1,z.version="1.13.1",z.defaultEase=o._ease=new b(null,null,1,1),z.defaultOverwrite="auto",z.ticker=r,z.autoSleep=!0,z.lagSmoothing=function(t,e){r.lagSmoothing(t,e)},z.selector=t.$||t.jQuery||function(e){var i=t.$||t.jQuery;return i?(z.selector=i,i(e)):"undefined"==typeof document?e:document.querySelectorAll?document.querySelectorAll(e):document.getElementById("#"===e.charAt(0)?e.substr(1):e)};var I=[],F={},D=z._internals={isArray:u,isSelector:M,lazyTweens:I},R=z._plugins={},H=D.tweenLookup={},W=0,N=D.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1},X={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},j=P._rootFramesTimeline=new O,Y=P._rootTimeline=new O,B=D.lazyRender=function(){var t=I.length;for(F={};--t>-1;)(n=I[t])&&!1!==n._lazy&&(n.render(n._lazy,!1,!0),n._lazy=!1);I.length=0};Y._startTime=r.time,j._startTime=r.frame,Y._active=j._active=!0,setTimeout(B,1),P._updateRoot=z.render=function(){var t,e,i;if(I.length&&B(),Y.render((r.time-Y._startTime)*Y._timeScale,!1,!1),j.render((r.frame-j._startTime)*j._timeScale,!1,!1),I.length&&B(),!(r.frame%120)){for(i in H){for(e=H[i].tweens,t=e.length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete H[i]}if((!(i=Y._first)||i._paused)&&z.autoSleep&&!j._first&&1===r._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||r.sleep()}}},r.addEventListener("tick",P._updateRoot);var U=function(t,e,i){var n,a,o=t._gsTweenID;if(H[o||(t._gsTweenID=o="t"+W++)]||(H[o]={target:t,tweens:[]}),e&&(n=H[o].tweens,n[a=n.length]=e,i))for(;--a>-1;)n[a]===e&&n.splice(a,1);return H[o].tweens},q=function(t,e,i,n,a){var o,r,s,l;if(1===n||n>=4){for(l=a.length,o=0;l>o;o++)if((s=a[o])!==e)s._gc||s._enabled(!1,!1)&&(r=!0);else if(5===n)break;return r}var d,c=e._startTime+h,p=[],u=0,f=0===e._duration;for(o=a.length;--o>-1;)(s=a[o])===e||s._gc||s._paused||(s._timeline!==e._timeline?(d=d||V(e,0,f),0===V(s,d,f)&&(p[u++]=s)):c>=s._startTime&&s._startTime+s.totalDuration()/s._timeScale>c&&((f||!s._initted)&&2e-10>=c-s._startTime||(p[u++]=s)));for(o=u;--o>-1;)s=p[o],2===n&&s._kill(i,t)&&(r=!0),(2!==n||!s._firstPT&&s._initted)&&s._enabled(!1,!1)&&(r=!0);return r},V=function(t,e,i){for(var n=t._timeline,a=n._timeScale,o=t._startTime;n._timeline;){if(o+=n._startTime,a*=n._timeScale,n._paused)return-100;n=n._timeline}return o/=a,o>e?o-e:i&&o===e||!t._initted&&2*h>o-e?h:(o+=t.totalDuration()/t._timeScale/a)>e+h?0:o-e-h};o._init=function(){var t,e,i,n,a,o=this.vars,r=this._overwrittenProps,s=this._duration,l=!!o.immediateRender,d=o.ease;if(o.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),a={};for(n in o.startAt)a[n]=o.startAt[n];if(a.overwrite=!1,a.immediateRender=!0,a.lazy=l&&!1!==o.lazy,a.startAt=a.delay=null,this._startAt=z.to(this.target,0,a),l)if(this._time>0)this._startAt=null;else if(0!==s)return}else if(o.runBackwards&&0!==s)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{i={};for(n in o)N[n]&&"autoCSS"!==n||(i[n]=o[n]);if(i.overwrite=0,i.data="isFromStart",i.lazy=l&&!1!==o.lazy,i.immediateRender=l,this._startAt=z.to(this.target,0,i),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1)}if(this._ease=d=d?d instanceof b?d:"function"==typeof d?new b(d,o.easeParams):x[d]||z.defaultEase:z.defaultEase,o.easeParams instanceof Array&&d.config&&(this._ease=d.config.apply(d,o.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(t=this._targets.length;--t>-1;)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],r?r[t]:null)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,r);if(e&&z._onPluginEvent("_onInitAllProps",this),r&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),o.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=o.onUpdate,this._initted=!0},o._initProps=function(e,i,n,a){var o,r,s,l,d,h;if(null==e)return!1;F[e._gsTweenID]&&B(),this.vars.css||e.style&&e!==t&&e.nodeType&&R.css&&!1!==this.vars.autoCSS&&E(this.vars,e);for(o in this.vars){if(h=this.vars[o],N[o])h&&(h instanceof Array||h.push&&u(h))&&-1!==h.join("").indexOf("{self}")&&(this.vars[o]=h=this._swapSelfInParams(h,this));else if(R[o]&&(l=new R[o])._onInitTween(e,this.vars[o],this)){for(this._firstPT=d={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:!0,n:o,pg:!0,pr:l._priority},r=l._overwriteProps.length;--r>-1;)i[l._overwriteProps[r]]=this._firstPT;(l._priority||l._onInitAllProps)&&(s=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=i[o]=d={_next:this._firstPT,t:e,p:o,f:"function"==typeof e[o],n:o,pg:!1,pr:0},d.s=d.f?e[o.indexOf("set")||"function"!=typeof e["get"+o.substr(3)]?o:"get"+o.substr(3)]():parseFloat(e[o]),d.c="string"==typeof h&&"="===h.charAt(1)?parseInt(h.charAt(0)+"1",10)*Number(h.substr(2)):Number(h)-d.s||0;d&&d._next&&(d._next._prev=d)}return a&&this._kill(a,e)?this._initProps(e,i,n,a):this._overwrite>1&&this._firstPT&&n.length>1&&q(e,this,i,this._overwrite,n)?(this._kill(i,e),this._initProps(e,i,n,a)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(F[e._gsTweenID]=!0),s)},o.render=function(t,e,i){var n,a,o,r,s=this._time,l=this._duration,d=this._rawPrevTime;if(t>=l)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,a="onComplete"),0===l&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(0===t||0>d||d===h)&&d!==t&&(i=!0,d>h&&(a="onReverseComplete")),this._rawPrevTime=r=!e||t||d===t?t:h);else if(1e-7>t)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==s||0===l&&d>0&&d!==h)&&(a="onReverseComplete",n=this._reversed),0>t?(this._active=!1,0===l&&(this._initted||!this.vars.lazy||i)&&(d>=0&&(i=!0),this._rawPrevTime=r=!e||t||d===t?t:h)):this._initted||(i=!0);else if(this._totalTime=this._time=t,this._easeType){var c=t/l,p=this._easeType,u=this._easePower;(1===p||3===p&&c>=.5)&&(c=1-c),3===p&&(c*=2),1===u?c*=c:2===u?c*=c*c:3===u?c*=c*c*c:4===u&&(c*=c*c*c*c),this.ratio=1===p?1-c:2===p?c:.5>t/l?c/2:1-c/2}else this.ratio=this._ease.getRatio(t/l);if(this._time!==s||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=s,this._rawPrevTime=d,I.push(this),void(this._lazy=t);this._time&&!n?this.ratio=this._ease.getRatio(this._time/l):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==s&&t>=0&&(this._active=!0),0===s&&(this._startAt&&(t>=0?this._startAt.render(t,e,i):a||(a="_dummyGS")),this.vars.onStart&&(0!==this._time||0===l)&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||y))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(0>t&&this._startAt&&this._startTime&&this._startAt.render(t,e,i),e||(this._time!==s||n)&&this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||y)),a&&(!this._gc||i)&&(0>t&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,e,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[a]&&this.vars[a].apply(this.vars[a+"Scope"]||this,this.vars[a+"Params"]||y),0===l&&this._rawPrevTime===h&&r!==h&&(this._rawPrevTime=0))}},o._kill=function(t,e){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:z.selector(e)||e;var i,n,a,o,r,s,l,d;if((u(e)||M(e))&&"number"!=typeof e[0])for(i=e.length;--i>-1;)this._kill(t,e[i])&&(s=!0);else{if(this._targets){for(i=this._targets.length;--i>-1;)if(e===this._targets[i]){r=this._propLookup[i]||{},this._overwrittenProps=this._overwrittenProps||[],n=this._overwrittenProps[i]=t?this._overwrittenProps[i]||{}:"all";break}}else{if(e!==this.target)return!1;r=this._propLookup,n=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(r){l=t||r,d=t!==n&&"all"!==n&&t!==r&&("object"!=typeof t||!t._tempKill);for(a in l)(o=r[a])&&(o.pg&&o.t._kill(l)&&(s=!0),o.pg&&0!==o.t._overwriteProps.length||(o._prev?o._prev._next=o._next:o===this._firstPT&&(this._firstPT=o._next),o._next&&(o._next._prev=o._prev),o._next=o._prev=null),delete r[a]),d&&(n[a]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return s},o.invalidate=function(){return this._notifyPluginsOfEnabled&&z._onPluginEvent("_onDisable",this),this._firstPT=null,this._overwrittenProps=null,this._onUpdate=null,this._startAt=null,this._initted=this._active=this._notifyPluginsOfEnabled=this._lazy=!1,this._propLookup=this._targets?{}:[],this},o._enabled=function(t,e){if(s||r.wake(),t&&this._gc){var i,n=this._targets;if(n)for(i=n.length;--i>-1;)this._siblings[i]=U(n[i],this,!0);else this._siblings=U(this.target,this,!0)}return P.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&z._onPluginEvent(t?"_onEnable":"_onDisable",this)},z.to=function(t,e,i){return new z(t,e,i)},z.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new z(t,e,i)},z.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new z(t,e,n)},z.delayedCall=function(t,e,i,n,a){return new z(e,0,{delay:t,onComplete:e,onCompleteParams:i,onCompleteScope:n,onReverseComplete:e,onReverseCompleteParams:i,onReverseCompleteScope:n,immediateRender:!1,useFrames:a,overwrite:0})},z.set=function(t,e){return new z(t,0,e)},z.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:z.selector(t)||t;var i,n,a,o;if((u(t)||M(t))&&"number"!=typeof t[0]){for(i=t.length,n=[];--i>-1;)n=n.concat(z.getTweensOf(t[i],e));for(i=n.length;--i>-1;)for(o=n[i],a=i;--a>-1;)o===n[a]&&n.splice(i,1)}else for(n=U(t).concat(),i=n.length;--i>-1;)(n[i]._gc||e&&!n[i].isActive())&&n.splice(i,1);return n},z.killTweensOf=z.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var n=z.getTweensOf(t,e),a=n.length;--a>-1;)n[a]._kill(i,t)};var Q=v("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=Q.prototype},!0);if(o=Q.prototype,Q.version="1.10.1",Q.API=2,o._firstPT=null,o._addTween=function(t,e,i,n,a,o){var r,s;return null!=n&&(r="number"==typeof n||"="!==n.charAt(1)?Number(n)-i:parseInt(n.charAt(0)+"1",10)*Number(n.substr(2)))?(this._firstPT=s={_next:this._firstPT,t:t,p:e,s:i,c:r,f:"function"==typeof t[e],n:a||e,r:o},s._next&&(s._next._prev=s),s):void 0},o.setRatio=function(t){for(var e,i=this._firstPT;i;)e=i.c*t+i.s,i.r?e=Math.round(e):1e-6>e&&e>-1e-6&&(e=0),i.f?i.t[i.p](e):i.t[i.p]=e,i=i._next},o._kill=function(t){var e,i=this._overwriteProps,n=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;--e>-1;)null!=t[i[e]]&&i.splice(e,1);for(;n;)null!=t[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},o._roundProps=function(t,e){for(var i=this._firstPT;i;)(t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&(i.r=e),i=i._next},z._onPluginEvent=function(t,e){var i,n,a,o,r,s=e._firstPT;if("_onInitAllProps"===t){for(;s;){for(r=s._next,n=a;n&&n.pr>s.pr;)n=n._next;(s._prev=n?n._prev:o)?s._prev._next=s:a=s,(s._next=n)?n._prev=s:o=s,s=r}s=e._firstPT=a}for(;s;)s.pg&&"function"==typeof s.t[t]&&s.t[t]()&&(i=!0),s=s._next;return i},Q.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===Q.API&&(R[(new t[e])._propName]=t[e]);return!0},m.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,n=t.priority||0,a=t.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},r=v("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){Q.call(this,i,n),this._overwriteProps=a||[]},!0===t.global),s=r.prototype=new Q(i);s.constructor=r,r.API=t.API;for(e in o)"function"==typeof t[e]&&(s[o[e]]=t[e]);return r.version=t.version,Q.activate([r]),r},n=t._gsQueue){for(a=0;n.length>a;a++)n[a]();for(o in f)f[o].func||t.console.log("GSAP encountered missing dependency: com.greensock."+o)}s=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window);var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var n=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=!0===this.vars.autoRemoveChildren,this.smoothChildTiming=!0===this.vars.smoothChildTiming,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,n,a=this.vars;for(n in a)i=a[n],s(i)&&-1!==i.join("").indexOf("{self}")&&(a[n]=this._swapSelfInParams(i));s(a.tweens)&&this.add(a.tweens,0,a.align,a.stagger)},a=1e-10,o=i._internals,r=o.isSelector,s=o.isArray,l=o.lazyTweens,d=o.lazyRender,h=[],c=_gsScope._gsDefine.globals,p=function(t){var e,i={};for(e in t)i[e]=t[e];return i},u=function(t,e,i,n){t._timeline.pause(t._startTime),e&&e.apply(n||t._timeline,i||h)},f=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},g=n.prototype=new e;return n.version="1.13.1",g.constructor=n,g.kill()._gc=!1,g.to=function(t,e,n,a){var o=n.repeat&&c.TweenMax||i;return e?this.add(new o(t,e,n),a):this.set(t,n,a)},g.from=function(t,e,n,a){return this.add((n.repeat&&c.TweenMax||i).from(t,e,n),a)},g.fromTo=function(t,e,n,a,o){var r=a.repeat&&c.TweenMax||i;return e?this.add(r.fromTo(t,e,n,a),o):this.set(t,a,o)},g.staggerTo=function(t,e,a,o,s,l,d,h){var c,u=new n({onComplete:l,onCompleteParams:d,onCompleteScope:h,smoothChildTiming:this.smoothChildTiming});for("string"==typeof t&&(t=i.selector(t)||t),r(t)&&(t=f(t)),o=o||0,c=0;t.length>c;c++)a.startAt&&(a.startAt=p(a.startAt)),u.to(t[c],e,p(a),c*o);return this.add(u,s)},g.staggerFrom=function(t,e,i,n,a,o,r,s){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,n,a,o,r,s)},g.staggerFromTo=function(t,e,i,n,a,o,r,s,l){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,n,a,o,r,s,l)},g.call=function(t,e,n,a){return this.add(i.delayedCall(0,t,e,n),a)},g.set=function(t,e,n){return n=this._parseTimeOrLabel(n,0,!0),null==e.immediateRender&&(e.immediateRender=n===this._time&&!this._paused),this.add(new i(t,0,e),n)},n.exportRoot=function(t,e){t=t||{},null==t.smoothChildTiming&&(t.smoothChildTiming=!0);var a,o,r=new n(t),s=r._timeline;for(null==e&&(e=!0),s._remove(r,!0),r._startTime=0,r._rawPrevTime=r._time=r._totalTime=s._time,a=s._first;a;)o=a._next,e&&a instanceof i&&a.target===a.vars.onComplete||r.add(a,a._startTime-a._delay),a=o;return s.add(r,0),r},g.add=function(a,o,r,l){var d,h,c,p,u,f;if("number"!=typeof o&&(o=this._parseTimeOrLabel(o,0,!0,a)),!(a instanceof t)){if(a instanceof Array||a&&a.push&&s(a)){for(r=r||"normal",l=l||0,d=o,h=a.length,c=0;h>c;c++)s(p=a[c])&&(p=new n({tweens:p})),this.add(p,d),"string"!=typeof p&&"function"!=typeof p&&("sequence"===r?d=p._startTime+p.totalDuration()/p._timeScale:"start"===r&&(p._startTime-=p.delay())),d+=l;return this._uncache(!0)}if("string"==typeof a)return this.addLabel(a,o);if("function"!=typeof a)throw"Cannot add "+a+" into the timeline; it is not a tween, timeline, function, or string.";a=i.delayedCall(0,a)}if(e.prototype.add.call(this,a,o),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(u=this,f=u.rawTime()>a._startTime;u._timeline;)f&&u._timeline.smoothChildTiming?u.totalTime(u._totalTime,!0):u._gc&&u._enabled(!0,!1),u=u._timeline;return this},g.remove=function(e){if(e instanceof t)return this._remove(e,!1);if(e instanceof Array||e&&e.push&&s(e)){for(var i=e.length;--i>-1;)this.remove(e[i]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},g._remove=function(t,i){e.prototype._remove.call(this,t,i);var n=this._last;return n?this._time>n._startTime+n._totalDuration/n._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},g.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},g.insert=g.insertMultiple=function(t,e,i,n){return this.add(t,e||0,i,n)},g.appendMultiple=function(t,e,i,n){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,n)},g.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},g.addPause=function(t,e,i,n){return this.call(u,["{self}",e,i,n],this,t)},g.removeLabel=function(t){return delete this._labels[t],this},g.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},g._parseTimeOrLabel=function(e,i,n,a){var o;if(a instanceof t&&a.timeline===this)this.remove(a);else if(a&&(a instanceof Array||a.push&&s(a)))for(o=a.length;--o>-1;)a[o]instanceof t&&a[o].timeline===this&&this.remove(a[o]);if("string"==typeof i)return this._parseTimeOrLabel(i,n&&"number"==typeof e&&null==this._labels[i]?e-this.duration():0,n);if(i=i||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=this.duration());else{if(-1===(o=e.indexOf("=")))return null==this._labels[e]?n?this._labels[e]=this.duration()+i:i:this._labels[e]+i;i=parseInt(e.charAt(o-1)+"1",10)*Number(e.substr(o+1)),e=o>1?this._parseTimeOrLabel(e.substr(0,o-1),0,n):this.duration()}return Number(e)+i},g.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),!1!==e)},g.stop=function(){return this.paused(!0)},g.gotoAndPlay=function(t,e){return this.play(t,e)},g.gotoAndStop=function(t,e){return this.pause(t,e)},g.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,o,r,s,c,p=this._dirty?this.totalDuration():this._totalDuration,u=this._time,f=this._startTime,g=this._timeScale,m=this._paused;if(t>=p?(this._totalTime=this._time=p,this._reversed||this._hasPausedChild()||(o=!0,s="onComplete",0===this._duration&&(0===t||0>this._rawPrevTime||this._rawPrevTime===a)&&this._rawPrevTime!==t&&this._first&&(c=!0,this._rawPrevTime>a&&(s="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:a,t=p+1e-4):1e-7>t?(this._totalTime=this._time=0,(0!==u||0===this._duration&&this._rawPrevTime!==a&&(this._rawPrevTime>0||0>t&&this._rawPrevTime>=0))&&(s="onReverseComplete",o=this._reversed),0>t?(this._active=!1,this._rawPrevTime>=0&&this._first&&(c=!0),this._rawPrevTime=t):(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:a,t=0,this._initted||(c=!0))):this._totalTime=this._time=this._rawPrevTime=t,this._time!==u&&this._first||i||c){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==u&&t>0&&(this._active=!0),0===u&&this.vars.onStart&&0!==this._time&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||h)),this._time>=u)for(n=this._first;n&&(r=n._next,!this._paused||m);)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=r;else for(n=this._last;n&&(r=n._prev,!this._paused||m);)(n._active||u>=n._startTime&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=r;this._onUpdate&&(e||(l.length&&d(),this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||h))),s&&(this._gc||(f===this._startTime||g!==this._timeScale)&&(0===this._time||p>=this.totalDuration())&&(o&&(l.length&&d(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[s]&&this.vars[s].apply(this.vars[s+"Scope"]||this,this.vars[s+"Params"]||h)))}},g._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof n&&t._hasPausedChild())return!0;t=t._next}return!1},g.getChildren=function(t,e,n,a){a=a||-9999999999;for(var o=[],r=this._first,s=0;r;)a>r._startTime||(r instanceof i?!1!==e&&(o[s++]=r):(!1!==n&&(o[s++]=r),!1!==t&&(o=o.concat(r.getChildren(!0,e,n)),s=o.length))),r=r._next;return o},g.getTweensOf=function(t,e){var n,a,o=this._gc,r=[],s=0;for(o&&this._enabled(!0,!0),n=i.getTweensOf(t),a=n.length;--a>-1;)(n[a].timeline===this||e&&this._contains(n[a]))&&(r[s++]=n[a]);return o&&this._enabled(!1,!0),r},g._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},g.shiftChildren=function(t,e,i){i=i||0;for(var n,a=this._first,o=this._labels;a;)a._startTime>=i&&(a._startTime+=t),a=a._next;if(e)for(n in o)o[n]>=i&&(o[n]+=t);return this._uncache(!0)},g._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),n=i.length,a=!1;--n>-1;)i[n]._kill(t,e)&&(a=!0);return a},g.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;--i>-1;)e[i]._enabled(!1,!1);return!1!==t&&(this._labels={}),this._uncache(!0)},g.invalidate=function(){for(var t=this._first;t;)t.invalidate(),t=t._next;return this},g._enabled=function(t,i){if(t===this._gc)for(var n=this._first;n;)n._enabled(t,!0),n=n._next;return e.prototype._enabled.call(this,t,i)},g.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},g.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,i,n=0,a=this._last,o=999999999999;a;)e=a._prev,a._dirty&&a.totalDuration(),a._startTime>o&&this._sortChildren&&!a._paused?this.add(a,a._startTime-a._delay):o=a._startTime,0>a._startTime&&!a._paused&&(n-=a._startTime,this._timeline.smoothChildTiming&&(this._startTime+=a._startTime/this._timeScale),this.shiftChildren(-a._startTime,!1,-9999999999),o=0),i=a._startTime+a._totalDuration/a._timeScale,i>n&&(n=i),a=e;this._duration=this._totalDuration=n,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==t&&this.timeScale(this._totalDuration/t),this},g.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},g.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},n},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(t){"use strict";var e=function(){return(_gsScope.GreenSockGlobals||_gsScope).TimelineLite};"function"==typeof define&&define.amd?define(["TweenLite"],e):"undefined"!=typeof module&&module.exports&&(require("./TweenLite.js"),module.exports=e())}();var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("easing.Back",["easing.Ease"],function(t){var e,i,n,a=_gsScope.GreenSockGlobals||_gsScope,o=a.com.greensock,r=2*Math.PI,s=Math.PI/2,l=o._class,d=function(e,i){var n=l("easing."+e,function(){},!0),a=n.prototype=new t;return a.constructor=n,a.getRatio=i,n},h=t.register||function(){},c=function(t,e,i,n){var a=l("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new n},!0);return h(a,t),a},p=function(t,e,i){this.t=t,this.v=e,i&&(this.next=i,i.prev=this,this.c=i.v-e,this.gap=i.t-t)},u=function(e,i){var n=l("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),a=n.prototype=new t;return a.constructor=n,a.getRatio=i,
a.config=function(t){return new n(t)},n},f=c("Back",u("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),u("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),u("BackInOut",function(t){return 1>(t*=2)?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),g=l("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=!0===i},!0),m=g.prototype=new t;return m.constructor=g,m.getRatio=function(t){var e=t+(.5-t)*this._p;return this._p1>t?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},g.ease=new g(.7,.7),m.config=g.config=function(t,e,i){return new g(t,e,i)},e=l("easing.SteppedEase",function(t){t=t||1,this._p1=1/t,this._p2=t+1},!0),m=e.prototype=new t,m.constructor=e,m.getRatio=function(t){return 0>t?t=0:t>=1&&(t=.999999999),(this._p2*t>>0)*this._p1},m.config=e.config=function(t){return new e(t)},i=l("easing.RoughEase",function(e){e=e||{};for(var i,n,a,o,r,s,l=e.taper||"none",d=[],h=0,c=0|(e.points||20),u=c,f=!1!==e.randomize,g=!0===e.clamp,m=e.template instanceof t?e.template:null,v="number"==typeof e.strength?.4*e.strength:.4;--u>-1;)i=f?Math.random():1/c*u,n=m?m.getRatio(i):i,"none"===l?a=v:"out"===l?(o=1-i,a=o*o*v):"in"===l?a=i*i*v:.5>i?(o=2*i,a=.5*o*o*v):(o=2*(1-i),a=.5*o*o*v),f?n+=Math.random()*a-.5*a:u%2?n+=.5*a:n-=.5*a,g&&(n>1?n=1:0>n&&(n=0)),d[h++]={x:i,y:n};for(d.sort(function(t,e){return t.x-e.x}),s=new p(1,1,null),u=c;--u>-1;)r=d[u],s=new p(r.x,r.y,s);this._prev=new p(0,0,0!==s.t?s:s.next)},!0),m=i.prototype=new t,m.constructor=i,m.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&e.t>=t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},m.config=function(t){return new i(t)},i.ease=new i,c("Bounce",d("BounceOut",function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),d("BounceIn",function(t){return 1/2.75>(t=1-t)?1-7.5625*t*t:2/2.75>t?1-(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),d("BounceInOut",function(t){var e=.5>t;return t=e?1-2*t:2*t-1,t=1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),c("Circ",d("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),d("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),d("CircInOut",function(t){return 1>(t*=2)?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),n=function(e,i,n){var a=l("easing."+e,function(t,e){this._p1=t||1,this._p2=e||n,this._p3=this._p2/r*(Math.asin(1/this._p1)||0)},!0),o=a.prototype=new t;return o.constructor=a,o.getRatio=i,o.config=function(t,e){return new a(t,e)},a},c("Elastic",n("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*r/this._p2)+1},.3),n("ElasticIn",function(t){return-this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*r/this._p2)},.3),n("ElasticInOut",function(t){return 1>(t*=2)?-.5*this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*r/this._p2):.5*this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*r/this._p2)+1},.45)),c("Expo",d("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),d("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),d("ExpoInOut",function(t){return 1>(t*=2)?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),c("Sine",d("SineOut",function(t){return Math.sin(t*s)}),d("SineIn",function(t){return 1-Math.cos(t*s)}),d("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),l("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),h(a.SlowMo,"SlowMo","ease,"),h(i,"RoughEase","ease,"),h(e,"SteppedEase","ease,"),f},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()();var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var i,n,a,o,r=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=r.prototype.setRatio},s={},l=r.prototype=new t("css");l.constructor=r,r.version="1.13.0",r.API=2,r.defaultTransformPerspective=0,r.defaultSkewType="compensated",l="px",r.suffixMap={top:l,right:l,bottom:l,left:l,width:l,height:l,fontSize:l,padding:l,margin:l,perspective:l,lineHeight:""};var d,h,c,p,u,f,g=/(?:\d|\-\d|\.\d|\-\.\d)+/g,m=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,v=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,w=/[^\d\-\.]/g,y=/(?:\d|\-|\+|=|#|\.)*/g,b=/opacity *= *([^)]*)/i,x=/opacity:([^;]*)/i,_=/alpha\(opacity *=.+?\)/i,T=/^(rgb|hsl)/,k=/([A-Z])/g,C=/-([a-z])/gi,S=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,L=function(t,e){return e.toUpperCase()},P=/(?:Left|Right|Width)/i,A=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,O=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,z=/,(?=[^\)]*(?:\(|$))/gi,M=Math.PI/180,E=180/Math.PI,I={},F=document,D=F.createElement("div"),R=F.createElement("img"),H=r._internals={_specialProps:s},W=navigator.userAgent,N=function(){var t,e=W.indexOf("Android"),i=F.createElement("div");return c=-1!==W.indexOf("Safari")&&-1===W.indexOf("Chrome")&&(-1===e||Number(W.substr(e+8,1))>3),u=c&&6>Number(W.substr(W.indexOf("Version/")+8,1)),p=-1!==W.indexOf("Firefox"),/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(W)&&(f=parseFloat(RegExp.$1)),i.innerHTML="<a style='top:1px;opacity:.55;'>a</a>",!!(t=i.getElementsByTagName("a")[0])&&/^0.55/.test(t.style.opacity)}(),X=function(t){return b.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},j=function(t){window.console&&console.log(t)},Y="",B="",U=function(t,e){e=e||D;var i,n,a=e.style;if(void 0!==a[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],n=5;--n>-1&&void 0===a[i[n]+t];);return n>=0?(B=3===n?"ms":i[n],Y="-"+B.toLowerCase()+"-",B+t):null},q=F.defaultView?F.defaultView.getComputedStyle:function(){},V=r.getStyle=function(t,e,i,n,a){var o;return N||"opacity"!==e?(!n&&t.style[e]?o=t.style[e]:(i=i||q(t))?o=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(k,"-$1").toLowerCase()):t.currentStyle&&(o=t.currentStyle[e]),null==a||o&&"none"!==o&&"auto"!==o&&"auto auto"!==o?o:a):X(t)},Q=H.convertToPixels=function(t,i,n,a,o){if("px"===a||!a)return n;if("auto"===a||!n)return 0;var s,l,d,h=P.test(i),c=t,p=D.style,u=0>n;if(u&&(n=-n),"%"===a&&-1!==i.indexOf("border"))s=n/100*(h?t.clientWidth:t.clientHeight);else{if(p.cssText="border:0 solid red;position:"+V(t,"position")+";line-height:0;","%"!==a&&c.appendChild)p[h?"borderLeftWidth":"borderTopWidth"]=n+a;else{if(c=t.parentNode||F.body,l=c._gsCache,d=e.ticker.frame,l&&h&&l.time===d)return l.width*n/100;p[h?"width":"height"]=n+a}c.appendChild(D),s=parseFloat(D[h?"offsetWidth":"offsetHeight"]),c.removeChild(D),h&&"%"===a&&!1!==r.cacheWidths&&(l=c._gsCache=c._gsCache||{},l.time=d,l.width=s/n*100),0!==s||o||(s=Q(t,i,n,a,!0))}return u?-s:s},G=H.calculateOffset=function(t,e,i){if("absolute"!==V(t,"position",i))return 0;var n="left"===e?"Left":"Top",a=V(t,"margin"+n,i);return t["offset"+n]-(Q(t,e,parseFloat(a),a.replace(y,""))||0)},$=function(t,e){var i,n,a={};if(e=e||q(t,null))if(i=e.length)for(;--i>-1;)a[e[i].replace(C,L)]=e.getPropertyValue(e[i]);else for(i in e)a[i]=e[i];else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===a[i]&&(a[i.replace(C,L)]=e[i]);return N||(a.opacity=X(t)),n=Tt(t,e,!1),a.rotation=n.rotation,a.skewX=n.skewX,a.scaleX=n.scaleX,a.scaleY=n.scaleY,a.x=n.x,a.y=n.y,xt&&(a.z=n.z,a.rotationX=n.rotationX,a.rotationY=n.rotationY,a.scaleZ=n.scaleZ),a.filters&&delete a.filters,a},Z=function(t,e,i,n,a){var o,r,s,l={},d=t.style;for(r in i)"cssText"!==r&&"length"!==r&&isNaN(r)&&(e[r]!==(o=i[r])||a&&a[r])&&-1===r.indexOf("Origin")&&("number"==typeof o||"string"==typeof o)&&(l[r]="auto"!==o||"left"!==r&&"top"!==r?""!==o&&"auto"!==o&&"none"!==o||"string"!=typeof e[r]||""===e[r].replace(w,"")?o:0:G(t,r),void 0!==d[r]&&(s=new ct(d,r,d[r],s)));if(n)for(r in n)"className"!==r&&(l[r]=n[r]);return{difs:l,firstMPT:s}},K={width:["Left","Right"],height:["Top","Bottom"]},J=["marginLeft","marginRight","marginTop","marginBottom"],tt=function(t,e,i){var n=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),a=K[e],o=a.length;for(i=i||q(t,null);--o>-1;)n-=parseFloat(V(t,"padding"+a[o],i,!0))||0,n-=parseFloat(V(t,"border"+a[o]+"Width",i,!0))||0;return n},et=function(t,e){(null==t||""===t||"auto"===t||"auto auto"===t)&&(t="0 0");var i=t.split(" "),n=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":i[0],a=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":i[1];return null==a?a="0":"center"===a&&(a="50%"),("center"===n||isNaN(parseFloat(n))&&-1===(n+"").indexOf("="))&&(n="50%"),e&&(e.oxp=-1!==n.indexOf("%"),e.oyp=-1!==a.indexOf("%"),e.oxr="="===n.charAt(1),e.oyr="="===a.charAt(1),e.ox=parseFloat(n.replace(w,"")),e.oy=parseFloat(a.replace(w,""))),n+" "+a+(i.length>2?" "+i[2]:"")},it=function(t,e){return"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)},nt=function(t,e){return null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*Number(t.substr(2))+e:parseFloat(t)},at=function(t,e,i,n){var a,o,r,s;return null==t?s=e:"number"==typeof t?s=t:(a=360,o=t.split("_"),r=Number(o[0].replace(w,""))*(-1===t.indexOf("rad")?1:E)-("="===t.charAt(1)?0:e),o.length&&(n&&(n[i]=e+r),-1!==t.indexOf("short")&&(r%=a)!==r%(a/2)&&(r=0>r?r+a:r-a),-1!==t.indexOf("_cw")&&0>r?r=(r+9999999999*a)%a-(0|r/a)*a:-1!==t.indexOf("ccw")&&r>0&&(r=(r-9999999999*a)%a-(0|r/a)*a)),s=e+r),1e-6>s&&s>-1e-6&&(s=0),s},ot={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},rt=function(t,e,i){return t=0>t?t+1:t>1?t-1:t,0|255*(1>6*t?e+6*(i-e)*t:.5>t?i:2>3*t?e+6*(i-e)*(2/3-t):e)+.5},st=function(t){var e,i,n,a,o,r;return t&&""!==t?"number"==typeof t?[t>>16,255&t>>8,255&t]:(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),ot[t]?ot[t]:"#"===t.charAt(0)?(4===t.length&&(e=t.charAt(1),i=t.charAt(2),n=t.charAt(3),t="#"+e+e+i+i+n+n),t=parseInt(t.substr(1),16),[t>>16,255&t>>8,255&t]):"hsl"===t.substr(0,3)?(t=t.match(g),a=Number(t[0])%360/360,o=Number(t[1])/100,r=Number(t[2])/100,i=.5>=r?r*(o+1):r+o-r*o,e=2*r-i,t.length>3&&(t[3]=Number(t[3])),t[0]=rt(a+1/3,e,i),t[1]=rt(a,e,i),t[2]=rt(a-1/3,e,i),t):(t=t.match(g)||ot.transparent,t[0]=Number(t[0]),t[1]=Number(t[1]),t[2]=Number(t[2]),t.length>3&&(t[3]=Number(t[3])),t)):ot.black},lt="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(l in ot)lt+="|"+l+"\\b";lt=RegExp(lt+")","gi");var dt=function(t,e,i,n){if(null==t)return function(t){return t};var a,o=e?(t.match(lt)||[""])[0]:"",r=t.split(o).join("").match(v)||[],s=t.substr(0,t.indexOf(r[0])),l=")"===t.charAt(t.length-1)?")":"",d=-1!==t.indexOf(" ")?" ":",",h=r.length,c=h>0?r[0].replace(g,""):"";return h?a=e?function(t){var e,p,u,f;if("number"==typeof t)t+=c;else if(n&&z.test(t)){for(f=t.replace(z,"|").split("|"),u=0;f.length>u;u++)f[u]=a(f[u]);return f.join(",")}if(e=(t.match(lt)||[o])[0],p=t.split(e).join("").match(v)||[],u=p.length,h>u--)for(;h>++u;)p[u]=i?p[0|(u-1)/2]:r[u];return s+p.join(d)+d+e+l+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,o,p;if("number"==typeof t)t+=c;else if(n&&z.test(t)){for(o=t.replace(z,"|").split("|"),p=0;o.length>p;p++)o[p]=a(o[p]);return o.join(",")}if(e=t.match(v)||[],p=e.length,h>p--)for(;h>++p;)e[p]=i?e[0|(p-1)/2]:r[p];return s+e.join(d)+l}:function(t){return t}},ht=function(t){return t=t.split(","),function(e,i,n,a,o,r,s){var l,d=(i+"").split(" ");for(s={},l=0;4>l;l++)s[t[l]]=d[l]=d[l]||d[(l-1)/2>>0];return a.parse(e,s,o,r)}},ct=(H._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,n,a,o=this.data,r=o.proxy,s=o.firstMPT;s;)e=r[s.v],s.r?e=Math.round(e):1e-6>e&&e>-1e-6&&(e=0),s.t[s.p]=e,s=s._next;if(o.autoRotate&&(o.autoRotate.rotation=r.rotation),1===t)for(s=o.firstMPT;s;){if(i=s.t,i.type){if(1===i.type){for(a=i.xs0+i.s+i.xs1,n=1;i.l>n;n++)a+=i["xn"+n]+i["xs"+(n+1)];i.e=a}}else i.e=i.s+i.xs0;s=s._next}},function(t,e,i,n,a){this.t=t,this.p=e,this.v=i,this.r=a,n&&(n._prev=this,this._next=n)}),pt=(H._parseToProxy=function(t,e,i,n,a,o){var r,s,l,d,h,c=n,p={},u={},f=i._transform,g=I;for(i._transform=null,I=e,n=h=i.parse(t,e,n,a),I=g,o&&(i._transform=f,c&&(c._prev=null,c._prev&&(c._prev._next=null)));n&&n!==c;){if(1>=n.type&&(s=n.p,u[s]=n.s+n.c,p[s]=n.s,o||(d=new ct(n,"s",s,d,n.r),n.c=0),1===n.type))for(r=n.l;--r>0;)l="xn"+r,s=n.p+"_"+l,u[s]=n.data[l],p[s]=n[l],o||(d=new ct(n,l,s,d,n.rxp[l]));n=n._next}return{proxy:p,end:u,firstMPT:d,pt:h}},H.CSSPropTween=function(t,e,n,a,r,s,l,d,h,c,p){this.t=t,this.p=e,this.s=n,this.c=a,this.n=l||e,t instanceof pt||o.push(this.n),this.r=d,this.type=s||0,h&&(this.pr=h,i=!0),this.b=void 0===c?n:c,this.e=void 0===p?n+a:p,r&&(this._next=r,r._prev=this)}),ut=r.parseComplex=function(t,e,i,n,a,o,r,s,l,h){i=i||o||"",r=new pt(t,e,0,0,r,h?2:1,null,!1,s,i,n),n+="";var c,p,u,f,v,w,y,b,x,_,k,C,S=i.split(", ").join(",").split(" "),L=n.split(", ").join(",").split(" "),P=S.length,A=!1!==d;for((-1!==n.indexOf(",")||-1!==i.indexOf(","))&&(S=S.join(" ").replace(z,", ").split(" "),L=L.join(" ").replace(z,", ").split(" "),P=S.length),P!==L.length&&(S=(o||"").split(" "),P=S.length),r.plugin=l,r.setRatio=h,c=0;P>c;c++)if(f=S[c],v=L[c],(b=parseFloat(f))||0===b)r.appendXtra("",b,it(v,b),v.replace(m,""),A&&-1!==v.indexOf("px"),!0);else if(a&&("#"===f.charAt(0)||ot[f]||T.test(f)))C=","===v.charAt(v.length-1)?"),":")",f=st(f),v=st(v),x=f.length+v.length>6,x&&!N&&0===v[3]?(r["xs"+r.l]+=r.l?" transparent":"transparent",r.e=r.e.split(L[c]).join("transparent")):(N||(x=!1),r.appendXtra(x?"rgba(":"rgb(",f[0],v[0]-f[0],",",!0,!0).appendXtra("",f[1],v[1]-f[1],",",!0).appendXtra("",f[2],v[2]-f[2],x?",":C,!0),x&&(f=4>f.length?1:f[3],r.appendXtra("",f,(4>v.length?1:v[3])-f,C,!1)));else if(w=f.match(g)){if(!(y=v.match(m))||y.length!==w.length)return r;for(u=0,p=0;w.length>p;p++)k=w[p],_=f.indexOf(k,u),r.appendXtra(f.substr(u,_-u),Number(k),it(y[p],k),"",A&&"px"===f.substr(_+k.length,2),0===p),u=_+k.length;r["xs"+r.l]+=f.substr(u)}else r["xs"+r.l]+=r.l?" "+f:f;if(-1!==n.indexOf("=")&&r.data){for(C=r.xs0+r.data.s,c=1;r.l>c;c++)C+=r["xs"+c]+r.data["xn"+c];r.e=C+r["xs"+c]}return r.l||(r.type=-1,r.xs0=r.e),r.xfirst||r},ft=9;for(l=pt.prototype,l.l=l.pr=0;--ft>0;)l["xn"+ft]=0,l["xs"+ft]="";l.xs0="",l._next=l._prev=l.xfirst=l.data=l.plugin=l.setRatio=l.rxp=null,l.appendXtra=function(t,e,i,n,a,o){var r=this,s=r.l;return r["xs"+s]+=o&&s?" "+t:t||"",i||0===s||r.plugin?(r.l++,r.type=r.setRatio?2:1,r["xs"+r.l]=n||"",s>0?(r.data["xn"+s]=e+i,r.rxp["xn"+s]=a,r["xn"+s]=e,r.plugin||(r.xfirst=new pt(r,"xn"+s,e,i,r.xfirst||r,0,r.n,a,r.pr),r.xfirst.xs0=0),r):(r.data={s:e+i},r.rxp={},r.s=e,r.c=i,r.r=a,r)):(r["xs"+s]+=e+(n||""),r)};var gt=function(t,e){e=e||{},this.p=e.prefix?U(t)||t:t,s[t]=s[this.p]=this,this.format=e.formatter||dt(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},mt=H._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var n,a=t.split(","),o=e.defaultValue;for(i=i||[o],n=0;a.length>n;n++)e.prefix=0===n&&e.prefix,e.defaultValue=i[n]||o,new gt(a[n],e)};l=gt.prototype,l.parseComplex=function(t,e,i,n,a,o){var r,s,l,d,h,c,p=this.keyword;if(this.multi&&(z.test(i)||z.test(e)?(s=e.replace(z,"|").split("|"),l=i.replace(z,"|").split("|")):p&&(s=[e],l=[i])),l){for(d=l.length>s.length?l.length:s.length,r=0;d>r;r++)e=s[r]=s[r]||this.dflt,i=l[r]=l[r]||this.dflt,p&&(h=e.indexOf(p),c=i.indexOf(p),h!==c&&(i=-1===c?l:s,i[r]+=" "+p));e=s.join(", "),i=l.join(", ")}return ut(t,this.p,e,i,this.clrs,this.dflt,n,this.pr,a,o)},l.parse=function(t,e,i,n,o,r){return this.parseComplex(t.style,this.format(V(t,this.p,a,!1,this.dflt)),this.format(e),o,r)},r.registerSpecialProp=function(t,e,i){mt(t,{parser:function(t,n,a,o,r,s){var l=new pt(t,a,0,0,r,2,a,!1,i);return l.plugin=s,l.setRatio=e(t,n,o._tween,a),l},priority:i})};var vt="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),wt=U("transform"),yt=Y+"transform",bt=U("transformOrigin"),xt=null!==U("perspective"),_t=H.Transform=function(){this.skewY=0},Tt=H.getTransform=function(t,e,i,n){if(t._gsTransform&&i&&!n)return t._gsTransform;var a,o,s,l,d,h,c,p,u,f,g,m,v,w=i?t._gsTransform||new _t:new _t,y=0>w.scaleX,b=2e-5,x=1e5,_=179.99,T=_*M,k=xt?parseFloat(V(t,bt,e,!1,"0 0 0").split(" ")[2])||w.zOrigin||0:0;if(wt?a=V(t,yt,e,!0):t.currentStyle&&(a=t.currentStyle.filter.match(A),a=a&&4===a.length?[a[0].substr(4),Number(a[2].substr(4)),Number(a[1].substr(4)),a[3].substr(4),w.x||0,w.y||0].join(","):""),a&&"none"!==a&&"matrix(1, 0, 0, 1, 0, 0)"!==a){for(o=(a||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],s=o.length;--s>-1;)l=Number(o[s]),o[s]=(d=l-(l|=0))?(0|d*x+(0>d?-.5:.5))/x+l:l;if(16===o.length){var C=o[8],S=o[9],L=o[10],P=o[12],O=o[13],z=o[14];if(w.zOrigin&&(z=-w.zOrigin,P=C*z-o[12],O=S*z-o[13],z=L*z+w.zOrigin-o[14]),!i||n||null==w.rotationX){var I,F,D,R,H,W,N,X=o[0],j=o[1],Y=o[2],B=o[3],U=o[4],q=o[5],Q=o[6],G=o[7],$=o[11],Z=Math.atan2(Q,L),K=-T>Z||Z>T;w.rotationX=Z*E,Z&&(R=Math.cos(-Z),H=Math.sin(-Z),I=U*R+C*H,F=q*R+S*H,D=Q*R+L*H,C=U*-H+C*R,S=q*-H+S*R,L=Q*-H+L*R,$=G*-H+$*R,U=I,q=F,Q=D),Z=Math.atan2(C,X),w.rotationY=Z*E,Z&&(W=-T>Z||Z>T,R=Math.cos(-Z),H=Math.sin(-Z),I=X*R-C*H,F=j*R-S*H,D=Y*R-L*H,S=j*H+S*R,L=Y*H+L*R,$=B*H+$*R,X=I,j=F,Y=D),Z=Math.atan2(j,q),w.rotation=Z*E,Z&&(N=-T>Z||Z>T,R=Math.cos(-Z),H=Math.sin(-Z),X=X*R+U*H,F=j*R+q*H,q=j*-H+q*R,Q=Y*-H+Q*R,j=F),N&&K?w.rotation=w.rotationX=0:N&&W?w.rotation=w.rotationY=0:W&&K&&(w.rotationY=w.rotationX=0),w.scaleX=(0|Math.sqrt(X*X+j*j)*x+.5)/x,w.scaleY=(0|Math.sqrt(q*q+S*S)*x+.5)/x,w.scaleZ=(0|Math.sqrt(Q*Q+L*L)*x+.5)/x,w.skewX=0,w.perspective=$?1/(0>$?-$:$):0,w.x=P,w.y=O,w.z=z}}else if(!(xt&&!n&&o.length&&w.x===o[4]&&w.y===o[5]&&(w.rotationX||w.rotationY)||void 0!==w.x&&"none"===V(t,"display",e))){var J=o.length>=6,tt=J?o[0]:1,et=o[1]||0,it=o[2]||0,nt=J?o[3]:1;w.x=o[4]||0,w.y=o[5]||0,h=Math.sqrt(tt*tt+et*et),c=Math.sqrt(nt*nt+it*it),p=tt||et?Math.atan2(et,tt)*E:w.rotation||0,u=it||nt?Math.atan2(it,nt)*E+p:w.skewX||0,f=h-Math.abs(w.scaleX||0),g=c-Math.abs(w.scaleY||0),Math.abs(u)>90&&270>Math.abs(u)&&(y?(h*=-1,u+=0>=p?180:-180,p+=0>=p?180:-180):(c*=-1,u+=0>=u?180:-180)),m=(p-w.rotation)%180,v=(u-w.skewX)%180,(void 0===w.skewX||f>b||-b>f||g>b||-b>g||m>-_&&_>m&&!1|m*x||v>-_&&_>v&&!1|v*x)&&(w.scaleX=h,w.scaleY=c,w.rotation=p,w.skewX=u),xt&&(w.rotationX=w.rotationY=w.z=0,w.perspective=parseFloat(r.defaultTransformPerspective)||0,w.scaleZ=1)}w.zOrigin=k;for(s in w)b>w[s]&&w[s]>-b&&(w[s]=0)}else w={x:0,y:0,z:0,scaleX:1,scaleY:1,scaleZ:1,skewX:0,perspective:0,rotation:0,rotationX:0,rotationY:0,zOrigin:0};return i&&(t._gsTransform=w),w.xPercent=w.yPercent=0,w},kt=function(t){var e,i,n=this.data,a=-n.rotation*M,o=a+n.skewX*M,r=1e5,s=(0|Math.cos(a)*n.scaleX*r)/r,l=(0|Math.sin(a)*n.scaleX*r)/r,d=(0|Math.sin(o)*-n.scaleY*r)/r,h=(0|Math.cos(o)*n.scaleY*r)/r,c=this.t.style,p=this.t.currentStyle;if(p){i=l,l=-d,d=-i,e=p.filter,c.filter="";var u,g,m=this.t.offsetWidth,v=this.t.offsetHeight,w="absolute"!==p.position,x="progid:DXImageTransform.Microsoft.Matrix(M11="+s+", M12="+l+", M21="+d+", M22="+h,_=n.x+m*n.xPercent/100,T=n.y+v*n.yPercent/100;if(null!=n.ox&&(u=(n.oxp?.01*m*n.ox:n.ox)-m/2,g=(n.oyp?.01*v*n.oy:n.oy)-v/2,_+=u-(u*s+g*l),T+=g-(u*d+g*h)),w?(u=m/2,g=v/2,x+=", Dx="+(u-(u*s+g*l)+_)+", Dy="+(g-(u*d+g*h)+T)+")"):x+=", sizingMethod='auto expand')",c.filter=-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?e.replace(O,x):x+" "+e,(0===t||1===t)&&1===s&&0===l&&0===d&&1===h&&(w&&-1===x.indexOf("Dx=0, Dy=0")||b.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf(e.indexOf("Alpha"))&&c.removeAttribute("filter")),!w){var k,C,S,L=8>f?1:-1;for(u=n.ieOffsetX||0,g=n.ieOffsetY||0,n.ieOffsetX=Math.round((m-((0>s?-s:s)*m+(0>l?-l:l)*v))/2+_),n.ieOffsetY=Math.round((v-((0>h?-h:h)*v+(0>d?-d:d)*m))/2+T),ft=0;4>ft;ft++)C=J[ft],k=p[C],i=-1!==k.indexOf("px")?parseFloat(k):Q(this.t,C,parseFloat(k),k.replace(y,""))||0,S=i!==n[C]?2>ft?-n.ieOffsetX:-n.ieOffsetY:2>ft?u-n.ieOffsetX:g-n.ieOffsetY,c[C]=(n[C]=Math.round(i-S*(0===ft||2===ft?1:L)))+"px"}}},Ct=H.set3DTransformRatio=function(t){var e,i,n,a,o,r,s,l,d,h,c,u,f,g,m,v,w,y,b,x,_,T,k,C=this.data,S=this.t.style,L=C.rotation*M,P=C.scaleX,A=C.scaleY,O=C.scaleZ,z=C.x,E=C.y,I=C.z,F=C.perspective;if(!(1!==t&&0!==t||"auto"!==C.force3D||C.rotationY||C.rotationX||1!==O||F||I))return void St.call(this,t);if(p){var D=1e-4;D>P&&P>-D&&(P=O=2e-5),D>A&&A>-D&&(A=O=2e-5),!F||C.z||C.rotationX||C.rotationY||(F=0)}if(L||C.skewX)y=Math.cos(L),b=Math.sin(L),e=y,o=b,C.skewX&&(L-=C.skewX*M,y=Math.cos(L),b=Math.sin(L),"simple"===C.skewType&&(x=Math.tan(C.skewX*M),x=Math.sqrt(1+x*x),y*=x,b*=x)),i=-b,r=y;else{if(!(C.rotationY||C.rotationX||1!==O||F))return void(S[wt]=(C.xPercent||C.yPercent?"translate("+C.xPercent+"%,"+C.yPercent+"%) translate3d(":"translate3d(")+z+"px,"+E+"px,"+I+"px)"+(1!==P||1!==A?" scale("+P+","+A+")":""));e=r=1,i=o=0}c=1,n=a=s=l=d=h=u=f=g=0,m=F?-1/F:0,v=C.zOrigin,w=1e5,L=C.rotationY*M,L&&(y=Math.cos(L),b=Math.sin(L),d=c*-b,f=m*-b,n=e*b,s=o*b,c*=y,m*=y,e*=y,o*=y),L=C.rotationX*M,L&&(y=Math.cos(L),b=Math.sin(L),x=i*y+n*b,_=r*y+s*b,T=h*y+c*b,k=g*y+m*b,n=i*-b+n*y,s=r*-b+s*y,c=h*-b+c*y,m=g*-b+m*y,i=x,r=_,h=T,g=k),1!==O&&(n*=O,s*=O,c*=O,m*=O),1!==A&&(i*=A,r*=A,h*=A,g*=A),1!==P&&(e*=P,o*=P,d*=P,f*=P),v&&(u-=v,a=n*u,l=s*u,u=c*u+v),a=(x=(a+=z)-(a|=0))?(0|x*w+(0>x?-.5:.5))/w+a:a,l=(x=(l+=E)-(l|=0))?(0|x*w+(0>x?-.5:.5))/w+l:l,u=(x=(u+=I)-(u|=0))?(0|x*w+(0>x?-.5:.5))/w+u:u,S[wt]=(C.xPercent||C.yPercent?"translate("+C.xPercent+"%,"+C.yPercent+"%) matrix3d(":"matrix3d(")+[(0|e*w)/w,(0|o*w)/w,(0|d*w)/w,(0|f*w)/w,(0|i*w)/w,(0|r*w)/w,(0|h*w)/w,(0|g*w)/w,(0|n*w)/w,(0|s*w)/w,(0|c*w)/w,(0|m*w)/w,a,l,u,F?1+-u/F:1].join(",")+")"},St=H.set2DTransformRatio=function(t){var e,i,n,a,o,r=this.data,s=this.t,l=s.style,d=r.x,h=r.y;return r.rotationX||r.rotationY||r.z||!0===r.force3D||"auto"===r.force3D&&1!==t&&0!==t?(this.setRatio=Ct,void Ct.call(this,t)):void(r.rotation||r.skewX?(e=r.rotation*M,i=e-r.skewX*M,n=1e5,a=r.scaleX*n,o=r.scaleY*n,l[wt]=(r.xPercent||r.yPercent?"translate("+r.xPercent+"%,"+r.yPercent+"%) matrix(":"matrix(")+(0|Math.cos(e)*a)/n+","+(0|Math.sin(e)*a)/n+","+(0|Math.sin(i)*-o)/n+","+(0|Math.cos(i)*o)/n+","+d+","+h+")"):l[wt]=(r.xPercent||r.yPercent?"translate("+r.xPercent+"%,"+r.yPercent+"%) matrix(":"matrix(")+r.scaleX+",0,0,"+r.scaleY+","+d+","+h+")")};mt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent",{parser:function(t,e,i,n,o,s,l){if(n._transform)return o;var d,h,c,p,u,f,g,m=n._transform=Tt(t,a,!0,l.parseTransform),v=t.style,w=vt.length,y=l,b={};if("string"==typeof y.transform&&wt)c=D.style,c[wt]=y.transform,c.display="block",c.position="absolute",F.body.appendChild(D),d=Tt(D,null,!1),F.body.removeChild(D);else if("object"==typeof y){if(d={scaleX:nt(null!=y.scaleX?y.scaleX:y.scale,m.scaleX),scaleY:nt(null!=y.scaleY?y.scaleY:y.scale,m.scaleY),scaleZ:nt(y.scaleZ,m.scaleZ),x:nt(y.x,m.x),y:nt(y.y,m.y),z:nt(y.z,m.z),xPercent:nt(y.xPercent,m.xPercent),yPercent:nt(y.yPercent,m.yPercent),perspective:nt(y.transformPerspective,m.perspective)},null!=(g=y.directionalRotation))if("object"==typeof g)for(c in g)y[c]=g[c];else y.rotation=g;"string"==typeof y.x&&-1!==y.x.indexOf("%")&&(d.x=0,d.xPercent=nt(y.x,m.xPercent)),"string"==typeof y.y&&-1!==y.y.indexOf("%")&&(d.y=0,d.yPercent=nt(y.y,m.yPercent)),d.rotation=at("rotation"in y?y.rotation:"shortRotation"in y?y.shortRotation+"_short":"rotationZ"in y?y.rotationZ:m.rotation,m.rotation,"rotation",b),xt&&(d.rotationX=at("rotationX"in y?y.rotationX:"shortRotationX"in y?y.shortRotationX+"_short":m.rotationX||0,m.rotationX,"rotationX",b),d.rotationY=at("rotationY"in y?y.rotationY:"shortRotationY"in y?y.shortRotationY+"_short":m.rotationY||0,m.rotationY,"rotationY",b)),d.skewX=null==y.skewX?m.skewX:at(y.skewX,m.skewX),d.skewY=null==y.skewY?m.skewY:at(y.skewY,m.skewY),(h=d.skewY-m.skewY)&&(d.skewX+=h,d.rotation+=h)}for(xt&&null!=y.force3D&&(m.force3D=y.force3D,f=!0),m.skewType=y.skewType||m.skewType||r.defaultSkewType,(u=m.force3D||m.z||m.rotationX||m.rotationY||d.z||d.rotationX||d.rotationY||d.perspective)||null==y.scale||(d.scaleZ=1);--w>-1;)i=vt[w],((p=d[i]-m[i])>1e-6||-1e-6>p||null!=I[i])&&(f=!0,o=new pt(m,i,m[i],p,o),i in b&&(o.e=b[i]),o.xs0=0,o.plugin=s,n._overwriteProps.push(o.n));return p=y.transformOrigin,(p||xt&&u&&m.zOrigin)&&(wt?(f=!0,i=bt,p=(p||V(t,i,a,!1,"50% 50%"))+"",o=new pt(v,i,0,0,o,-1,"transformOrigin"),o.b=v[i],o.plugin=s,xt?(c=m.zOrigin,p=p.split(" "),m.zOrigin=(p.length>2&&(0===c||"0px"!==p[2])?parseFloat(p[2]):c)||0,o.xs0=o.e=p[0]+" "+(p[1]||"50%")+" 0px",o=new pt(m,"zOrigin",0,0,o,-1,o.n),o.b=c,o.xs0=o.e=m.zOrigin):o.xs0=o.e=p):et(p+"",m)),f&&(n._transformType=u||3===this._transformType?3:2),o},prefix:!0}),mt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),mt("borderRadius",{defaultValue:"0px",parser:function(t,e,i,o,r){e=this.format(e);var s,l,d,h,c,p,u,f,g,m,v,w,y,b,x,_,T=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],k=t.style;for(g=parseFloat(t.offsetWidth),m=parseFloat(t.offsetHeight),s=e.split(" "),l=0;T.length>l;l++)this.p.indexOf("border")&&(T[l]=U(T[l])),c=h=V(t,T[l],a,!1,"0px"),-1!==c.indexOf(" ")&&(h=c.split(" "),c=h[0],h=h[1]),p=d=s[l],u=parseFloat(c),w=c.substr((u+"").length),y="="===p.charAt(1),y?(f=parseInt(p.charAt(0)+"1",10),p=p.substr(2),f*=parseFloat(p),v=p.substr((f+"").length-(0>f?1:0))||""):(f=parseFloat(p),v=p.substr((f+"").length)),""===v&&(v=n[i]||w),v!==w&&(b=Q(t,"borderLeft",u,w),x=Q(t,"borderTop",u,w),"%"===v?(c=b/g*100+"%",h=x/m*100+"%"):"em"===v?(_=Q(t,"borderLeft",1,"em"),c=b/_+"em",h=x/_+"em"):(c=b+"px",h=x+"px"),y&&(p=parseFloat(c)+f+v,d=parseFloat(h)+f+v)),r=ut(k,T[l],c+" "+h,p+" "+d,!1,"0px",r);return r},prefix:!0,formatter:dt("0px 0px 0px 0px",!1,!0)}),mt("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,n,o,r){var s,l,d,h,c,p,u="background-position",g=a||q(t,null),m=this.format((g?f?g.getPropertyValue(u+"-x")+" "+g.getPropertyValue(u+"-y"):g.getPropertyValue(u):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),v=this.format(e);if(-1!==m.indexOf("%")!=(-1!==v.indexOf("%"))&&(p=V(t,"backgroundImage").replace(S,""))&&"none"!==p){for(s=m.split(" "),l=v.split(" "),R.setAttribute("src",p),d=2;--d>-1;)m=s[d],(h=-1!==m.indexOf("%"))!==(-1!==l[d].indexOf("%"))&&(c=0===d?t.offsetWidth-R.width:t.offsetHeight-R.height,s[d]=h?parseFloat(m)/100*c+"px":parseFloat(m)/c*100+"%");m=s.join(" ")}return this.parseComplex(t.style,m,v,o,r)},formatter:et}),mt("backgroundSize",{defaultValue:"0 0",formatter:et}),mt("perspective",{defaultValue:"0px",prefix:!0}),mt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),mt("transformStyle",{prefix:!0}),mt("backfaceVisibility",{prefix:!0}),mt("userSelect",{prefix:!0}),mt("margin",{parser:ht("marginTop,marginRight,marginBottom,marginLeft")}),mt("padding",{parser:ht("paddingTop,paddingRight,paddingBottom,paddingLeft")}),mt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,n,o,r){var s,l,d;return 9>f?(l=t.currentStyle,d=8>f?" ":",",s="rect("+l.clipTop+d+l.clipRight+d+l.clipBottom+d+l.clipLeft+")",e=this.format(e).split(",").join(d)):(s=this.format(V(t,this.p,a,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,s,e,o,r)}}),mt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),mt("autoRound,strictUnits",{parser:function(t,e,i,n,a){return a}}),mt("border",{defaultValue:"0px solid #000",parser:function(t,e,i,n,o,r){return this.parseComplex(t.style,this.format(V(t,"borderTopWidth",a,!1,"0px")+" "+V(t,"borderTopStyle",a,!1,"solid")+" "+V(t,"borderTopColor",a,!1,"#000")),this.format(e),o,r)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(lt)||["#000"])[0]}}),mt("borderWidth",{parser:ht("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),mt("float,cssFloat,styleFloat",{parser:function(t,e,i,n,a){var o=t.style,r="cssFloat"in o?"cssFloat":"styleFloat";return new pt(o,r,0,0,a,-1,i,!1,0,o[r],e)}});var Lt=function(t){var e,i=this.t,n=i.filter||V(this.data,"filter"),a=0|this.s+this.c*t;100===a&&(-1===n.indexOf("atrix(")&&-1===n.indexOf("radient(")&&-1===n.indexOf("oader(")?(i.removeAttribute("filter"),e=!V(this.data,"filter")):(i.filter=n.replace(_,""),e=!0)),e||(this.xn1&&(i.filter=n=n||"alpha(opacity="+a+")"),-1===n.indexOf("pacity")?0===a&&this.xn1||(i.filter=n+" alpha(opacity="+a+")"):i.filter=n.replace(b,"opacity="+a))};mt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,n,o,r){var s=parseFloat(V(t,"opacity",a,!1,"1")),l=t.style,d="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+s),d&&1===s&&"hidden"===V(t,"visibility",a)&&0!==e&&(s=0),N?o=new pt(l,"opacity",s,e-s,o):(o=new pt(l,"opacity",100*s,100*(e-s),o),o.xn1=d?1:0,l.zoom=1,o.type=2,o.b="alpha(opacity="+o.s+")",o.e="alpha(opacity="+(o.s+o.c)+")",o.data=t,o.plugin=r,o.setRatio=Lt),d&&(o=new pt(l,"visibility",0,0,o,-1,null,!1,0,0!==s?"inherit":"hidden",0===e?"hidden":"inherit"),o.xs0="inherit",n._overwriteProps.push(o.n),n._overwriteProps.push(i)),o}});var Pt=function(t,e){e&&(t.removeProperty?("ms"===e.substr(0,2)&&(e="M"+e.substr(1)),t.removeProperty(e.replace(k,"-$1").toLowerCase())):t.removeAttribute(e))},At=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:Pt(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};mt("className",{parser:function(t,e,n,o,r,s,l){var d,h,c,p,u,f=t.getAttribute("class")||"",g=t.style.cssText;if(r=o._classNamePT=new pt(t,n,0,0,r,2),r.setRatio=At,r.pr=-11,i=!0,r.b=f,h=$(t,a),c=t._gsClassPT){for(p={},u=c.data;u;)p[u.p]=1,u=u._next;c.setRatio(1)}return t._gsClassPT=r,r.e="="!==e.charAt(1)?e:f.replace(RegExp("\\s*\\b"+e.substr(2)+"\\b"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),o._tween._duration&&(t.setAttribute("class",r.e),d=Z(t,h,$(t),l,p),t.setAttribute("class",f),r.data=d.firstMPT,t.style.cssText=g,r=r.xfirst=o.parse(t,d.difs,r,s)),r}});var Ot=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,n,a,o=this.t.style,r=s.transform.parse;if("all"===this.e)o.cssText="",a=!0;else for(e=this.e.split(","),n=e.length;--n>-1;)i=e[n],s[i]&&(s[i].parse===r?a=!0:i="transformOrigin"===i?bt:s[i].p),Pt(o,i);a&&(Pt(o,wt),this.t._gsTransform&&delete this.t._gsTransform)}};for(mt("clearProps",{parser:function(t,e,n,a,o){return o=new pt(t,n,0,0,o,2),o.setRatio=Ot,o.e=e,o.pr=-10,o.data=a._tween,i=!0,o}}),l="bezier,throwProps,physicsProps,physics2D".split(","),ft=l.length;ft--;)!function(t){if(!s[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";mt(t,{parser:function(t,i,n,a,o,r,l){var d=(_gsScope.GreenSockGlobals||_gsScope).com.greensock.plugins[e]
;return d?(d._cssRegister(),s[n].parse(t,i,n,a,o,r,l)):(j("Error: "+e+" js file not loaded."),o)}})}}(l[ft]);l=r.prototype,l._firstPT=null,l._onInitTween=function(t,e,s){if(!t.nodeType)return!1;this._target=t,this._tween=s,this._vars=e,d=e.autoRound,i=!1,n=e.suffixMap||r.suffixMap,a=q(t,""),o=this._overwriteProps;var l,p,f,g,m,v,w,y,b,_=t.style;if(h&&""===_.zIndex&&("auto"===(l=V(t,"zIndex",a))||""===l)&&this._addLazySet(_,"zIndex",0),"string"==typeof e&&(g=_.cssText,l=$(t,a),_.cssText=g+";"+e,l=Z(t,l,$(t)).difs,!N&&x.test(e)&&(l.opacity=parseFloat(RegExp.$1)),e=l,_.cssText=g),this._firstPT=p=this.parse(t,e,null),this._transformType){for(b=3===this._transformType,wt?c&&(h=!0,""===_.zIndex&&("auto"===(w=V(t,"zIndex",a))||""===w)&&this._addLazySet(_,"zIndex",0),u&&this._addLazySet(_,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(b?"visible":"hidden"))):_.zoom=1,f=p;f&&f._next;)f=f._next;y=new pt(t,"transform",0,0,null,2),this._linkCSSP(y,null,f),y.setRatio=b&&xt?Ct:wt?St:kt,y.data=this._transform||Tt(t,a,!0),o.pop()}if(i){for(;p;){for(v=p._next,f=g;f&&f.pr>p.pr;)f=f._next;(p._prev=f?f._prev:m)?p._prev._next=p:g=p,(p._next=f)?f._prev=p:m=p,p=v}this._firstPT=g}return!0},l.parse=function(t,e,i,o){var r,l,h,c,p,u,f,g,m,v,w=t.style;for(r in e)u=e[r],l=s[r],l?i=l.parse(t,u,r,this,i,o,e):(p=V(t,r,a)+"",m="string"==typeof u,"color"===r||"fill"===r||"stroke"===r||-1!==r.indexOf("Color")||m&&T.test(u)?(m||(u=st(u),u=(u.length>3?"rgba(":"rgb(")+u.join(",")+")"),i=ut(w,r,p,u,!0,"transparent",i,0,o)):!m||-1===u.indexOf(" ")&&-1===u.indexOf(",")?(h=parseFloat(p),f=h||0===h?p.substr((h+"").length):"",(""===p||"auto"===p)&&("width"===r||"height"===r?(h=tt(t,r,a),f="px"):"left"===r||"top"===r?(h=G(t,r,a),f="px"):(h="opacity"!==r?0:1,f="")),v=m&&"="===u.charAt(1),v?(c=parseInt(u.charAt(0)+"1",10),u=u.substr(2),c*=parseFloat(u),g=u.replace(y,"")):(c=parseFloat(u),g=m?u.substr((c+"").length)||"":""),""===g&&(g=r in n?n[r]:f),u=c||0===c?(v?c+h:c)+g:e[r],f!==g&&""!==g&&(c||0===c)&&h&&(h=Q(t,r,h,f),"%"===g?(h/=Q(t,r,100,"%")/100,!0!==e.strictUnits&&(p=h+"%")):"em"===g?h/=Q(t,r,1,"em"):"px"!==g&&(c=Q(t,r,c,g),g="px"),v&&(c||0===c)&&(u=c+h+g)),v&&(c+=h),!h&&0!==h||!c&&0!==c?void 0!==w[r]&&(u||"NaN"!=u+""&&null!=u)?(i=new pt(w,r,c||h||0,0,i,-1,r,!1,0,p,u),i.xs0="none"!==u||"display"!==r&&-1===r.indexOf("Style")?u:p):j("invalid "+r+" tween value: "+e[r]):(i=new pt(w,r,h,c-h,i,0,r,!1!==d&&("px"===g||"zIndex"===r),0,p,u),i.xs0=g)):i=ut(w,r,p,u,!0,null,i,0,o)),o&&i&&!i.plugin&&(i.plugin=o);return i},l.setRatio=function(t){var e,i,n,a=this._firstPT;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;a;){if(e=a.c*t+a.s,a.r?e=Math.round(e):1e-6>e&&e>-1e-6&&(e=0),a.type)if(1===a.type)if(2===(n=a.l))a.t[a.p]=a.xs0+e+a.xs1+a.xn1+a.xs2;else if(3===n)a.t[a.p]=a.xs0+e+a.xs1+a.xn1+a.xs2+a.xn2+a.xs3;else if(4===n)a.t[a.p]=a.xs0+e+a.xs1+a.xn1+a.xs2+a.xn2+a.xs3+a.xn3+a.xs4;else if(5===n)a.t[a.p]=a.xs0+e+a.xs1+a.xn1+a.xs2+a.xn2+a.xs3+a.xn3+a.xs4+a.xn4+a.xs5;else{for(i=a.xs0+e+a.xs1,n=1;a.l>n;n++)i+=a["xn"+n]+a["xs"+(n+1)];a.t[a.p]=i}else-1===a.type?a.t[a.p]=a.xs0:a.setRatio&&a.setRatio(t);else a.t[a.p]=e+a.xs0;a=a._next}else for(;a;)2!==a.type?a.t[a.p]=a.b:a.setRatio(t),a=a._next;else for(;a;)2!==a.type?a.t[a.p]=a.e:a.setRatio(t),a=a._next},l._enableTransforms=function(t){this._transformType=t||3===this._transformType?3:2,this._transform=this._transform||Tt(this._target,a,!0)};var zt=function(){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};l._addLazySet=function(t,e,i){var n=this._firstPT=new pt(t,e,0,0,this._firstPT,2);n.e=i,n.setRatio=zt,n.data=this},l._linkCSSP=function(t,e,i,n){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,n=!0),i?i._next=t:n||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},l._kill=function(e){var i,n,a,o=e;if(e.autoAlpha||e.alpha){o={};for(n in e)o[n]=e[n];o.opacity=1,o.autoAlpha&&(o.visibility=1)}return e.className&&(i=this._classNamePT)&&(a=i.xfirst,a&&a._prev?this._linkCSSP(a._prev,i._next,a._prev._prev):a===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,a._prev),this._classNamePT=null),t.prototype._kill.call(this,o)};var Mt=function(t,e,i){var n,a,o,r;if(t.slice)for(a=t.length;--a>-1;)Mt(t[a],e,i);else for(n=t.childNodes,a=n.length;--a>-1;)o=n[a],r=o.type,o.style&&(e.push($(o)),i&&i.push(o)),1!==r&&9!==r&&11!==r||!o.childNodes.length||Mt(o,e,i)};return r.cascadeTo=function(t,i,n){var a,o,r,s=e.to(t,i,n),l=[s],d=[],h=[],c=[],p=e._internals.reservedProps;for(t=s._targets||s.target,Mt(t,d,c),s.render(i,!0),Mt(t,h),s.render(0,!0),s._enabled(!0),a=c.length;--a>-1;)if(o=Z(c[a],d[a],h[a]),o.firstMPT){o=o.difs;for(r in n)p[r]&&(o[r]=n[r]);l.push(e.to(c[a],i,o))}return l},t.activate([r]),r},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(t){"use strict";var e=function(){return(_gsScope.GreenSockGlobals||_gsScope).CSSPlugin};"function"==typeof define&&define.amd?define(["TweenLite"],e):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),module.exports=e())}();var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(function(t){"use strict";var e=t.GreenSockGlobals||t,i=function(t){var i,n=t.split("."),a=e;for(i=0;n.length>i;i++)a[n[i]]=a=a[n[i]]||{};return a}("com.greensock.utils"),n=function(t){var e=t.nodeType,i="";if(1===e||9===e||11===e){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=n(t)}else if(3===e||4===e)return t.nodeValue;return i},a=document,o=a.defaultView?a.defaultView.getComputedStyle:function(){},r=/([A-Z])/g,s=function(t,e,i,n){var a;return(i=i||o(t,null))?(t=i.getPropertyValue(e.replace(r,"-$1").toLowerCase()),a=t||i.length?t:i[e]):t.currentStyle&&(i=t.currentStyle,a=i[e]),n?a:parseInt(a,10)||0},l=function(t){return!!(t.length&&t[0]&&(t[0].nodeType&&t[0].style&&!t.nodeType||t[0].length&&t[0][0]))},d=function(t){var e,i,n,a=[],o=t.length;for(e=0;o>e;e++)if(i=t[e],l(i))for(n=i.length,n=0;i.length>n;n++)a.push(i[n]);else a.push(i);return a},h=")eefec303079ad17405c",c=/(?:<br>|<br\/>|<br \/>)/gi,p=a.all&&!a.addEventListener,u="<div style='position:relative;display:inline-block;"+(p?"*display:inline;*zoom:1;'":"'"),f=function(t){t=t||"";var e=-1!==t.indexOf("++"),i=1;return e&&(t=t.split("++").join("")),function(){return u+(t?" class='"+t+(e?i++:"")+"'>":">")}},g=i.SplitText=e.SplitText=function(t,e){if("string"==typeof t&&(t=g.selector(t)),!t)throw"cannot split a null element.";this.elements=l(t)?d(t):[t],this.chars=[],this.words=[],this.lines=[],this._originals=[],this.vars=e||{},this.split(e)},m=function(t,e,i,r,l){c.test(t.innerHTML)&&(t.innerHTML=t.innerHTML.replace(c,h));var d,p,u,g,m,v,w,y,b,x,_,T,k,C=n(t),S=e.type||e.split||"chars,words,lines",L=-1!==S.indexOf("lines")?[]:null,P=-1!==S.indexOf("words"),A=-1!==S.indexOf("chars"),O="absolute"===e.position||!0===e.absolute,z=O?"&#173; ":" ",M=-999,E=o(t),I=s(t,"paddingLeft",E),F=s(t,"borderBottomWidth",E)+s(t,"borderTopWidth",E),D=s(t,"borderLeftWidth",E)+s(t,"borderRightWidth",E),R=s(t,"paddingTop",E)+s(t,"paddingBottom",E),H=s(t,"paddingLeft",E)+s(t,"paddingRight",E),W=s(t,"textAlign",E,!0),N=t.clientHeight,X=t.clientWidth,j=C.length,Y="</div>",B=f(e.wordsClass),U=f(e.charsClass),q=-1!==(e.linesClass||"").indexOf("++"),V=e.linesClass;for(q&&(V=V.split("++").join("")),u=B(),g=0;j>g;g++)v=C.charAt(g),")"===v&&C.substr(g,20)===h?(u+=Y+"<BR/>",g!==j-1&&(u+=" "+B()),g+=19):" "===v&&" "!==C.charAt(g-1)&&g!==j-1?(u+=Y,g!==j-1&&(u+=z+B())):u+=A&&" "!==v?U()+v+"</div>":v;for(t.innerHTML=u+Y,m=t.getElementsByTagName("*"),j=m.length,w=[],g=0;j>g;g++)w[g]=m[g];if(L||O)for(g=0;j>g;g++)y=w[g],((p=y.parentNode===t)||O||A&&!P)&&(b=y.offsetTop,L&&p&&b!==M&&"BR"!==y.nodeName&&(d=[],L.push(d),M=b),O&&(y._x=y.offsetLeft,y._y=b,y._w=y.offsetWidth,y._h=y.offsetHeight),L&&(P!==p&&A||(d.push(y),y._x-=I),p&&g&&(w[g-1]._wordEnd=!0)));for(g=0;j>g;g++)y=w[g],p=y.parentNode===t,"BR"!==y.nodeName?(O&&(_=y.style,P||p||(y._x+=y.parentNode._x,y._y+=y.parentNode._y),_.left=y._x+"px",_.top=y._y+"px",_.position="absolute",_.display="block",_.width=y._w+1+"px",_.height=y._h+"px"),P?p?r.push(y):A&&i.push(y):p?(t.removeChild(y),w.splice(g--,1),j--):!p&&A&&(b=!L&&!O&&y.nextSibling,t.appendChild(y),b||t.appendChild(a.createTextNode(" ")),i.push(y))):L||O?(t.removeChild(y),w.splice(g--,1),j--):P||t.appendChild(y);if(L){for(O&&(x=a.createElement("div"),t.appendChild(x),T=x.offsetWidth+"px",b=x.offsetParent===t?0:t.offsetLeft,t.removeChild(x)),_=t.style.cssText,t.style.cssText="display:none;";t.firstChild;)t.removeChild(t.firstChild);for(k=!O||!P&&!A,g=0;L.length>g;g++){for(d=L[g],x=a.createElement("div"),x.style.cssText="display:block;text-align:"+W+";position:"+(O?"absolute;":"relative;"),V&&(x.className=V+(q?g+1:"")),l.push(x),j=d.length,m=0;j>m;m++)"BR"!==d[m].nodeName&&(y=d[m],x.appendChild(y),k&&(y._wordEnd||P)&&x.appendChild(a.createTextNode(" ")),O&&(0===m&&(x.style.top=y._y+"px",x.style.left=I+b+"px"),y.style.top="0px",b&&(y.style.left=y._x-b+"px")));P||A||(x.innerHTML=n(x).split(String.fromCharCode(160)).join(" ")),O&&(x.style.width=T,x.style.height=y._h+"px"),t.appendChild(x)}t.style.cssText=_}O&&(N>t.clientHeight&&(t.style.height=N-R+"px",N>t.clientHeight&&(t.style.height=N+F+"px")),X>t.clientWidth&&(t.style.width=X-H+"px",X>t.clientWidth&&(t.style.width=X+D+"px")))},v=g.prototype;v.split=function(t){this.isSplit&&this.revert(),this.vars=t||this.vars,this._originals.length=this.chars.length=this.words.length=this.lines.length=0;for(var e=0;this.elements.length>e;e++)this._originals[e]=this.elements[e].innerHTML,m(this.elements[e],this.vars,this.chars,this.words,this.lines);return this.isSplit=!0,this},v.revert=function(){if(!this._originals)throw"revert() call wasn't scoped properly.";for(var t=this._originals.length;--t>-1;)this.elements[t].innerHTML=this._originals[t];return this.chars=[],this.words=[],this.lines=[],this.isSplit=!1,this},g.selector=t.$||t.jQuery||function(e){return t.$?(g.selector=t.$,t.$(e)):a?a.getElementById("#"===e.charAt(0)?e.substr(1):e):e},g.version="0.2.4"})(_gsScope),function(t){"use strict";var e=function(){return(_gsScope.GreenSockGlobals||_gsScope).SplitText};"function"==typeof define&&define.amd?define(["TweenLite"],e):"undefined"!=typeof module&&module.exports&&(module.exports=e())}();try{window.GreenSockGobals=null,window._gsQueue=null,delete window.GreenSockGlobals,delete window._gsQueue}catch(t){}try{window.GreenSockGlobals=oldgs,window._gsQueue=oldgs_queue}catch(t){}if(1==window.tplogs)try{console.groupEnd()}catch(t){}!function(t,e){t.waitForImages={hasImageProperties:["backgroundImage","listStyleImage","borderImage","borderCornerImage"]},t.expr[":"].uncached=function(e){var i=document.createElement("img");return i.src=e.src,t(e).is('img[src!=""]')&&!i.complete},t.fn.waitForImages=function(e,i,n){if(t.isPlainObject(arguments[0])&&(i=e.each,n=e.waitForAll,e=e.finished),e=e||t.noop,i=i||t.noop,n=!!n,!t.isFunction(e)||!t.isFunction(i))throw new TypeError("An invalid callback was supplied.");return this.each(function(){var a=t(this),o=[];if(n){var r=t.waitForImages.hasImageProperties||[],s=/url\((['"]?)(.*?)\1\)/g;a.find("*").each(function(){var e=t(this);e.is("img:uncached")&&o.push({src:e.attr("src"),element:e[0]}),t.each(r,function(t,i){var n=e.css(i);if(!n)return!0;for(var a;a=s.exec(n);)o.push({src:a[2],element:e[0]})})})}else a.find("img:uncached").each(function(){o.push({src:this.src,element:this})});var l=o.length,d=0;0==l&&e.call(a[0]),t.each(o,function(n,o){var r=new Image;t(r).bind("load error",function(t){if(d++,i.call(o.element,d,l,"load"==t.type),d==l)return e.call(a[0]),!1}),r.src=o.src})})}}(jQuery),function(t,e){function n(){var t=!1;return navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)?navigator.userAgent.match(/OS 4_\d like Mac OS X/i)&&(t=!0):t=!1,t}function a(i,a){if("preview1"!=a.navigationStyle&&"preview3"!=a.navigationStyle&&"preview4"!=a.navigationStyle||(a.soloArrowLeftHalign="left",a.soloArrowLeftValign="center",a.soloArrowLeftHOffset=0,a.soloArrowLeftVOffset=0,a.soloArrowRightHalign="right",a.soloArrowRightValign="center",a.soloArrowRightHOffset=0,a.soloArrowRightVOffset=0,a.navigationArrows="solo"),"on"==a.simplifyAll&&(l(8)||n())&&(i.find(".tp-caption").each(function(){var e=t(this);e.removeClass("customin").removeClass("customout").addClass("fadein").addClass("fadeout"),e.data("splitin",""),e.data("speed",400)}),i.find(">ul>li").each(function(){var e=t(this);e.data("transition","fade"),e.data("masterspeed",500),e.data("slotamount",1),e.find(">img").first().data("kenburns","off")})),a.desktop=!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i),"on"!=a.fullWidth&&"on"!=a.fullScreen&&(a.autoHeight="off"),"on"==a.fullScreen&&(a.autoHeight="on"),"on"!=a.fullWidth&&"on"!=a.fullScreen&&(forceFulWidth="off"),"on"==a.fullWidth&&"off"==a.autoHeight&&i.css({maxHeight:a.startheight+"px"}),V()&&"on"==a.hideThumbsOnMobile&&"thumb"==a.navigationType&&(a.navigationType="none"),V()&&"on"==a.hideBulletsOnMobile&&"bullet"==a.navigationType&&(a.navigationType="none"),V()&&"on"==a.hideBulletsOnMobile&&"both"==a.navigationType&&(a.navigationType="none"),V()&&"on"==a.hideArrowsOnMobile&&(a.navigationArrows="none"),"on"==a.forceFullWidth&&0==i.closest(".forcefullwidth_wrapper_tp_banner").length){var d=i.parent().offset().left,g=i.parent().css("marginBottom"),m=i.parent().css("marginTop");g==e&&(g=0),m==e&&(m=0),i.parent().wrap('<div style="position:relative;width:100%;height:auto;margin-top:'+m+";margin-bottom:"+g+'" class="forcefullwidth_wrapper_tp_banner"></div>'),i.closest(".forcefullwidth_wrapper_tp_banner").append('<div class="tp-fullwidth-forcer" style="width:100%;height:'+i.height()+'px"></div>'),i.css({backgroundColor:i.parent().css("backgroundColor"),backgroundImage:i.parent().css("backgroundImage")}),i.parent().css({left:0-d+"px",position:"absolute",width:t(window).width()}),a.width=t(window).width()}try{a.hideThumbsUnderResolution>t(window).width()&&0!=a.hideThumbsUnderResolution?i.parent().find(".tp-bullets.tp-thumbs").css({display:"none"}):i.parent().find(".tp-bullets.tp-thumbs").css({display:"block"})}catch(t){}if(!i.hasClass("revslider-initialised")){i.addClass("revslider-initialised"),i.attr("id")==e&&i.attr("id","revslider-"+Math.round(1e3*Math.random()+5)),a.firefox13=!1,a.ie=!t.support.opacity,a.ie9=9==document.documentMode,a.origcd=a.delay;var v=t.fn.jquery.split("."),y=parseFloat(v[0]),b=parseFloat(v[1]);parseFloat(v[2]||"0");1==y&&b<7&&i.html('<div style="text-align:center; padding:40px 0px; font-size:20px; color:#992222;"> The Current Version of jQuery:'+v+" <br>Please update your jQuery Version to min. 1.7 in Case you wish to use the Revolution Slider Plugin</div>"),y>1&&(a.ie=!1),t.support.transition||(t.fn.transition=t.fn.animate),i.find(".caption").each(function(){t(this).addClass("tp-caption")}),V()&&i.find(".tp-caption").each(function(){var e=t(this);1!=e.data("autoplayonlyfirsttime")&&"true"!=e.data("autoplayonlyfirsttime")||e.data("autoplayonlyfirsttime","false"),1!=e.data("autoplay")&&"true"!=e.data("autoplay")||e.data("autoplay",!1)});var x=0,_=0,T="http";if("https:"===location.protocol&&(T="https"),i.find(".tp-caption").each(function(i){try{if((t(this).data("ytid")!=e||t(this).find("iframe").attr("src").toLowerCase().indexOf("youtube")>0)&&0==x){x=1;var n=document.createElement("script"),a="https";n.src=a+"://www.youtube.com/iframe_api";var o=document.getElementsByTagName("script")[0],r=!0;t("head").find("*").each(function(){t(this).attr("src")==a+"://www.youtube.com/iframe_api"&&(r=!1)}),r&&o.parentNode.insertBefore(n,o)}}catch(t){}try{if((t(this).data("vimeoid")!=e||t(this).find("iframe").attr("src").toLowerCase().indexOf("vimeo")>0)&&0==_){_=1;var s=document.createElement("script");s.src=T+"://a.vimeocdn.com/js/froogaloop2.min.js";var o=document.getElementsByTagName("script")[0],r=!0;t("head").find("*").each(function(){t(this).attr("src")==T+"://a.vimeocdn.com/js/froogaloop2.min.js"&&(r=!1)}),r&&o.parentNode.insertBefore(s,o)}}catch(t){}try{t(this).data("videomp4")!=e||t(this).data("videowebm")}catch(t){}}),i.find(".tp-caption video").each(function(e){t(this).removeClass("video-js").removeClass("vjs-default-skin"),t(this).attr("preload",""),t(this).css({display:"none"})}),"on"==a.shuffle){var k=new Object,C=i.find(">ul:first-child >li:first-child");k.fstransition=C.data("fstransition"),k.fsmasterspeed=C.data("fsmasterspeed"),k.fsslotamount=C.data("fsslotamount");for(var L=0;L<i.find(">ul:first-child >li").length;L++){var P=Math.round(Math.random()*i.find(">ul:first-child >li").length);i.find(">ul:first-child >li:eq("+P+")").prependTo(i.find(">ul:first-child"))}var A=i.find(">ul:first-child >li:first-child");A.data("fstransition",k.fstransition),A.data("fsmasterspeed",k.fsmasterspeed),A.data("fsslotamount",k.fsslotamount)}a.slots=4,a.act=-1,a.next=0,a.startWithSlide!=e&&(a.next=a.startWithSlide);var O=r("#")[0];if(O.length<9&&O.split("slide").length>1){var z=parseInt(O.split("slide")[1],0);z<1&&(z=1),z>i.find(">ul:first >li").length&&(z=i.find(">ul:first >li").length),a.next=z-1}a.firststart=1,a.navigationHOffset==e&&(a.navOffsetHorizontal=0),a.navigationVOffset==e&&(a.navOffsetVertical=0),i.append('<div class="tp-loader '+a.spinner+'"><div class="dot1"></div><div class="dot2"></div><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>'),0==i.find(".tp-bannertimer").length&&i.append('<div class="tp-bannertimer" style="visibility:hidden"></div>');var M=i.find(".tp-bannertimer");if(M.length>0&&M.css({width:"0%"}),i.addClass("tp-simpleresponsive"),a.container=i,a.slideamount=i.find(">ul:first >li").length,0==i.height()&&i.height(a.startheight),a.startwidth!=e&&0!=a.startwidth||(a.startwidth=i.width()),a.startheight!=e&&0!=a.startheight||(a.startheight=i.height()),a.width=i.width(),a.height=i.height(),a.bw=a.startwidth/i.width(),a.bh=a.startheight/i.height(),a.width!=a.startwidth&&(a.height=Math.round(a.startheight*(a.width/a.startwidth)),i.height(a.height)),0!=a.shadow){i.parent().append('<div class="tp-bannershadow tp-shadow'+a.shadow+'"></div>');var d=0;"on"==a.forceFullWidth&&(d=0-a.container.parent().offset().left),i.parent().find(".tp-bannershadow").css({width:a.width,left:d})}i.find("ul").css({display:"none"});i.find("ul").css({display:"block"}),w(i,a),"off"!=a.parallax&&J(i,a),a.slideamount>1&&h(i,a),a.slideamount>1&&"thumb"==a.navigationType&&et(i,a),a.slideamount>1&&c(i,a),"on"==a.keyboardNavigation&&p(i,a),u(i,a),a.hideThumbs>0&&f(i,a),S(i,a),a.slideamount>1&&q(i,a),setTimeout(function(){i.trigger("revolution.slide.onloaded")},500),t("body").data("rs-fullScreenMode",!1),t(window).on("mozfullscreenchange webkitfullscreenchange fullscreenchange",function(){t("body").data("rs-fullScreenMode",!t("body").data("rs-fullScreenMode")),t("body").data("rs-fullScreenMode")&&setTimeout(function(){t(window).trigger("resize")},200)}),t(window).resize(function(){if(0!=t("body").find(i)&&"on"==a.forceFullWidth){var e=a.container.closest(".forcefullwidth_wrapper_tp_banner").offset().left;a.container.parent().css({left:0-e+"px",width:t(window).width()})}(i.outerWidth(!0)!=a.width||i.is(":hidden"))&&s(i,a)});try{0!=a.hideThumbsUnderResoluition&&"thumb"==a.navigationType&&(a.hideThumbsUnderResoluition>t(window).width()?t(".tp-bullets").css({display:"none"}):t(".tp-bullets").css({display:"block"}))}catch(t){}i.find(".tp-scrollbelowslider").on("click",function(){var e=0;try{e=t("body").find(a.fullScreenOffsetContainer).height()}catch(t){}try{e-=parseInt(t(this).data("scrolloffset"),0)}catch(t){}t("body,html").animate({scrollTop:i.offset().top+i.find(">ul >li").height()-e+"px"},{duration:400})});var E=i.parent();t(window).width()<a.hideSliderAtLimit&&(i.trigger("stoptimer"),"none"!=E.css("display")&&E.data("olddisplay",E.css("display")),E.css({display:"none"})),o(i,a)}}t.fn.extend({revolution:function(i){return defaults={delay:9e3,startheight:500,startwidth:960,fullScreenAlignForce:"off",autoHeight:"off",hideTimerBar:"off",hideThumbs:200,hideNavDelayOnMobile:1500,thumbWidth:100,thumbHeight:50,thumbAmount:3,navigationType:"bullet",navigationArrows:"solo",navigationInGrid:"off",hideThumbsOnMobile:"off",hideBulletsOnMobile:"off",hideArrowsOnMobile:"off",hideThumbsUnderResoluition:0,navigationStyle:"round",navigationHAlign:"center",navigationVAlign:"bottom",navigationHOffset:0,navigationVOffset:20,soloArrowLeftHalign:"left",soloArrowLeftValign:"center",soloArrowLeftHOffset:20,soloArrowLeftVOffset:0,soloArrowRightHalign:"right",soloArrowRightValign:"center",soloArrowRightHOffset:20,soloArrowRightVOffset:0,keyboardNavigation:"on",touchenabled:"on",onHoverStop:"on",stopAtSlide:-1,stopAfterLoops:-1,hideCaptionAtLimit:0,hideAllCaptionAtLimit:0,hideSliderAtLimit:0,shadow:0,fullWidth:"off",fullScreen:"off",minFullScreenHeight:0,fullScreenOffsetContainer:"",fullScreenOffset:"0",dottedOverlay:"none",forceFullWidth:"off",spinner:"spinner0",swipe_treshold:75,swipe_min_touches:1,drag_block_vertical:!1,isJoomla:!1,parallax:"off",parallaxLevels:[10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85],parallaxBgFreeze:"off",parallaxOpacity:"on",parallaxDisableOnMobile:"off",panZoomDisableOnMobile:"off",simplifyAll:"on",minHeight:0,nextSlideOnWindowFocus:"off"},i=t.extend({},defaults,i),this.each(function(){if(1==window.tplogs)try{console.groupCollapsed("Slider Revolution 4.6.0 Initialisation on "+t(this).attr("id")),console.groupCollapsed("Used Options:"),console.info(i),console.groupEnd(),console.groupCollapsed("Tween Engine:")}catch(t){}if(punchgs.TweenLite==e){if(1==window.tplogs)try{console.error("GreenSock Engine Does not Exist!")}catch(t){}return!1}if(punchgs.force3D=!0,1==window.tplogs)try{console.info("GreenSock Engine Version in Slider Revolution:"+punchgs.TweenLite.version)}catch(t){}if("on"==i.simplifyAll||(punchgs.TweenLite.lagSmoothing(1e3,16),punchgs.force3D="true"),1==window.tplogs)try{console.groupEnd(),console.groupEnd()}catch(t){}a(t(this),i)})},revscroll:function(e){return this.each(function(){var i=t(this);t("body,html").animate({scrollTop:i.offset().top+i.find(">ul >li").height()-e+"px"},{duration:400})})},revredraw:function(e){return this.each(function(){var e=t(this),i=e.parent().find(".tp-bannertimer"),n=i.data("opt");s(e,n)})},revpause:function(e){return this.each(function(){var e=t(this);e.data("conthover",1),e.data("conthover-changed",1),e.trigger("revolution.slide.onpause"),e.parent().find(".tp-bannertimer").data("opt").bannertimeronpause=!0,e.trigger("stoptimer")})},revresume:function(e){return this.each(function(){var e=t(this);e.data("conthover",0),e.data("conthover-changed",1),e.trigger("revolution.slide.onresume"),e.parent().find(".tp-bannertimer").data("opt").bannertimeronpause=!1,e.trigger("starttimer")})},revnext:function(e){return this.each(function(){t(this).parent().find(".tp-rightarrow").click()})},revprev:function(e){return this.each(function(){t(this).parent().find(".tp-leftarrow").click()})},revmaxslide:function(e){return t(this).find(">ul:first-child >li").length},revcurrentslide:function(e){return t(this).parent().find(".tp-bannertimer").data("opt").act},revlastslide:function(e){return t(this).parent().find(".tp-bannertimer").data("opt").lastslide},revshowslide:function(e){return this.each(function(){var i=t(this);i.data("showus",e),i.parent().find(".tp-rightarrow").click()})}});var o=(function(){var t,e,i={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"};for(t in i)if(t in document){e=i[t];break}}(),function(i,n){var a=document.documentMode===e,o=window.chrome;a&&!o?t(window).on("focusin",function(){setTimeout(function(){"on"==n.nextSlideOnWindowFocus&&i.revnext(),i.revredraw()},300)}).on("focusout",function(){}):window.addEventListener?(window.addEventListener("focus",function(t){setTimeout(function(){"on"==n.nextSlideOnWindowFocus&&i.revnext(),i.revredraw()},300)},!1),window.addEventListener("blur",function(t){},!1)):(window.attachEvent("focus",function(t){setTimeout(function(){"on"==n.nextSlideOnWindowFocus&&i.revnext(),i.revredraw()},300)}),window.attachEvent("blur",function(t){}))}),r=function(t){for(var e,i=[],n=window.location.href.slice(window.location.href.indexOf(t)+1).split("_"),a=0;a<n.length;a++)n[a]=n[a].replace("%3D","="),e=n[a].split("="),i.push(e[0]),i[e[0]]=e[1];return i},s=function(i,n){try{0!=n.hideThumbsUnderResoluition&&"thumb"==n.navigationType&&(n.hideThumbsUnderResoluition>t(window).width()?t(".tp-bullets").css({display:"none"}):t(".tp-bullets").css({display:"block"}))}catch(t){}i.find(".defaultimg").each(function(e){v(t(this),n)});var a=i.parent();t(window).width()<n.hideSliderAtLimit?(i.trigger("stoptimer"),"none"!=a.css("display")&&a.data("olddisplay",a.css("display")),a.css({display:"none"})):i.is(":hidden")&&(a.data("olddisplay")!=e&&"undefined"!=a.data("olddisplay")&&"none"!=a.data("olddisplay")?a.css({display:a.data("olddisplay")}):a.css({display:"block"}),i.trigger("restarttimer"),setTimeout(function(){s(i,n)},150));var o=0;"on"==n.forceFullWidth&&(o=0-n.container.parent().offset().left);try{i.parent().find(".tp-bannershadow").css({width:n.width,left:o})}catch(t){}var r=i.find(">ul >li:eq("+n.act+") .slotholder"),l=i.find(">ul >li:eq("+n.next+") .slotholder");_(i,n,i),punchgs.TweenLite.set(l.find(".defaultimg"),{opacity:0}),r.find(".defaultimg").css({opacity:1}),l.find(".defaultimg").each(function(){var a=t(this);"on"==n.panZoomDisableOnMobile&&V()||a.data("kenburn")!=e&&(a.data("kenburn").restart(),G(i,n,!0))});var d=i.find(">ul >li:eq("+n.next+")"),h=i.parent().find(".tparrows");h.hasClass("preview2")&&h.css({width:parseInt(h.css("minWidth"),0)}),R(d,n,!0),g(i,n)},l=function(e,i){var n=t('<div style="display:none;"/>').appendTo(t("body"));n.html("\x3c!--[if "+(i||"")+" IE "+(e||"")+"]><a>&nbsp;</a><![endif]--\x3e");var a=n.find("a").length;return n.remove(),a},d=function(t,e){t.next==e.find(">ul >li").length-1&&(t.looptogo=t.looptogo-1,t.looptogo<=0&&(t.stopLoop="on")),S(e,t)},h=function(e,i){var n="hidebullets";0==i.hideThumbs&&(n=""),"bullet"!=i.navigationType&&"both"!=i.navigationType||e.parent().append('<div class="tp-bullets '+n+" simplebullets "+i.navigationStyle+'"></div>');var a=e.parent().find(".tp-bullets");e.find(">ul:first >li").each(function(t){e.find(">ul:first >li:eq("+t+") img:first").attr("src");a.append('<div class="bullet"></div>');a.find(".bullet:first")}),a.find(".bullet").each(function(n){var a=t(this);n==i.slideamount-1&&a.addClass("last"),0==n&&a.addClass("first"),a.click(function(){var t=!1;"withbullet"==i.navigationArrows||"nexttobullets"==i.navigationArrows?a.index()-1==i.act&&(t=!0):a.index()==i.act&&(t=!0),0!=i.transition||t||("withbullet"==i.navigationArrows||"nexttobullets"==i.navigationArrows?i.next=a.index()-1:i.next=a.index(),d(i,e))})}),a.append('<div class="tpclear"></div>'),g(e,i)},c=function(t,i){function n(e){t.parent().append('<div style="'+a+'" class="tp-'+e+"arrow "+o+" tparrows "+r+'"><div class="tp-arr-allwrapper"><div class="tp-arr-iwrapper"><div class="tp-arr-imgholder"></div><div class="tp-arr-imgholder2"></div><div class="tp-arr-titleholder"></div><div class="tp-arr-subtitleholder"></div></div></div></div>')}var a=(t.find(".tp-bullets"),""),o="hidearrows";0==i.hideThumbs&&(o="");var r=i.navigationStyle;"none"==i.navigationArrows&&(a="visibility:hidden;display:none"),i.soloArrowStyle="default "+i.navigationStyle,"none"!=i.navigationArrows&&"nexttobullets"!=i.navigationArrows&&(r=i.soloArrowStyle),n("left"),n("right"),t.parent().find(".tp-rightarrow").click(function(){0==i.transition&&(t.data("showus")!=e&&-1!=t.data("showus")?i.next=t.data("showus")-1:i.next=i.next+1,t.data("showus",-1),i.next>=i.slideamount&&(i.next=0),i.next<0&&(i.next=0),i.act!=i.next&&d(i,t))}),t.parent().find(".tp-leftarrow").click(function(){0==i.transition&&(i.next=i.next-1,i.leftarrowpressed=1,i.next<0&&(i.next=i.slideamount-1),d(i,t))}),g(t,i)},p=function(i,n){t(document).keydown(function(t){0==n.transition&&39==t.keyCode&&(i.data("showus")!=e&&-1!=i.data("showus")?n.next=i.data("showus")-1:n.next=n.next+1,i.data("showus",-1),n.next>=n.slideamount&&(n.next=0),n.next<0&&(n.next=0),n.act!=n.next&&d(n,i)),0==n.transition&&37==t.keyCode&&(n.next=n.next-1,n.leftarrowpressed=1,n.next<0&&(n.next=n.slideamount-1),d(n,i))}),g(i,n)},u=function(e,i){var n="vertical";"on"==i.touchenabled&&(1==i.drag_block_vertical&&(n="none"),e.swipe({allowPageScroll:n,fingers:i.swipe_min_touches,treshold:i.swipe_treshold,swipe:function(a,o,r,s,l,h){switch(o){case"left":0==i.transition&&(i.next=i.next+1,i.next==i.slideamount&&(i.next=0),d(i,e));break;case"right":0==i.transition&&(i.next=i.next-1,i.leftarrowpressed=1,i.next<0&&(i.next=i.slideamount-1),d(i,e));break;case"up":"none"==n&&t("html, body").animate({scrollTop:e.offset().top+e.height()+"px"});break;case"down":"none"==n&&t("html, body").animate({scrollTop:e.offset().top-t(window).height()+"px"})}}}))},f=function(t,e){var i=t.parent().find(".tp-bullets"),n=t.parent().find(".tparrows");if(null==i){t.append('<div class=".tp-bullets"></div>');var i=t.parent().find(".tp-bullets")}if(null==n){t.append('<div class=".tparrows"></div>');var n=t.parent().find(".tparrows")}if(t.data("hideThumbs",e.hideThumbs),i.addClass("hidebullets"),n.addClass("hidearrows"),V())try{t.hammer().on("touch",function(){t.addClass("hovered"),"on"==e.onHoverStop&&t.trigger("stoptimer"),clearTimeout(t.data("hideThumbs")),i.removeClass("hidebullets"),n.removeClass("hidearrows")}),t.hammer().on("release",function(){t.removeClass("hovered"),t.trigger("starttimer"),t.hasClass("hovered")||i.hasClass("hovered")||t.data("hideThumbs",setTimeout(function(){i.addClass("hidebullets"),n.addClass("hidearrows"),t.trigger("starttimer")},e.hideNavDelayOnMobile))})}catch(t){}else i.hover(function(){e.overnav=!0,"on"==e.onHoverStop&&t.trigger("stoptimer"),i.addClass("hovered"),clearTimeout(t.data("hideThumbs")),i.removeClass("hidebullets"),n.removeClass("hidearrows")},function(){e.overnav=!1,t.trigger("starttimer"),i.removeClass("hovered"),t.hasClass("hovered")||i.hasClass("hovered")||t.data("hideThumbs",setTimeout(function(){i.addClass("hidebullets"),n.addClass("hidearrows")},e.hideThumbs))}),n.hover(function(){e.overnav=!0,"on"==e.onHoverStop&&t.trigger("stoptimer"),i.addClass("hovered"),clearTimeout(t.data("hideThumbs")),i.removeClass("hidebullets"),n.removeClass("hidearrows")},function(){e.overnav=!1,t.trigger("starttimer"),i.removeClass("hovered")}),t.on("mouseenter",function(){t.addClass("hovered"),"on"==e.onHoverStop&&t.trigger("stoptimer"),clearTimeout(t.data("hideThumbs")),i.removeClass("hidebullets"),n.removeClass("hidearrows")}),t.on("mouseleave",function(){t.removeClass("hovered"),t.trigger("starttimer"),t.hasClass("hovered")||i.hasClass("hovered")||t.data("hideThumbs",setTimeout(function(){i.addClass("hidebullets"),n.addClass("hidearrows")},e.hideThumbs))})},g=function(e,i){var n=e.parent(),a=n.find(".tp-bullets");if("thumb"==i.navigationType){a.find(".thumb").each(function(e){t(this).css({width:i.thumbWidth*i.bw+"px",height:i.thumbHeight*i.bh+"px"})});var o=a.find(".tp-mask");o.width(i.thumbWidth*i.thumbAmount*i.bw),o.height(i.thumbHeight*i.bh),o.parent().width(i.thumbWidth*i.thumbAmount*i.bw),o.parent().height(i.thumbHeight*i.bh)}var r=n.find(".tp-leftarrow"),s=n.find(".tp-rightarrow");"thumb"==i.navigationType&&"nexttobullets"==i.navigationArrows&&(i.navigationArrows="solo"),"nexttobullets"==i.navigationArrows&&(r.prependTo(a).css({float:"left"}),s.insertBefore(a.find(".tpclear")).css({float:"left"}));var l=0;"on"==i.forceFullWidth&&(l=0-i.container.parent().offset().left);var d=0
;"on"==i.navigationInGrid&&(d=e.width()>i.startwidth?(e.width()-i.startwidth)/2:0,e.height()>i.startheight&&(e.height(),i.startheight)),"none"!=i.navigationArrows&&"nexttobullets"!=i.navigationArrows&&(r.css({position:"absolute"}),s.css({position:"absolute"}),"center"==i.soloArrowLeftValign&&r.css({top:"50%",marginTop:i.soloArrowLeftVOffset-Math.round(r.innerHeight()/2)+"px"}),"bottom"==i.soloArrowLeftValign&&r.css({top:"auto",bottom:0+i.soloArrowLeftVOffset+"px"}),"top"==i.soloArrowLeftValign&&r.css({bottom:"auto",top:0+i.soloArrowLeftVOffset+"px"}),"center"==i.soloArrowLeftHalign&&r.css({left:"50%",marginLeft:l+i.soloArrowLeftHOffset-Math.round(r.innerWidth()/2)+"px"}),"left"==i.soloArrowLeftHalign&&r.css({left:d+i.soloArrowLeftHOffset+l+"px"}),"right"==i.soloArrowLeftHalign&&r.css({right:d+i.soloArrowLeftHOffset-l+"px"}),"center"==i.soloArrowRightValign&&s.css({top:"50%",marginTop:i.soloArrowRightVOffset-Math.round(s.innerHeight()/2)+"px"}),"bottom"==i.soloArrowRightValign&&s.css({top:"auto",bottom:0+i.soloArrowRightVOffset+"px"}),"top"==i.soloArrowRightValign&&s.css({bottom:"auto",top:0+i.soloArrowRightVOffset+"px"}),"center"==i.soloArrowRightHalign&&s.css({left:"50%",marginLeft:l+i.soloArrowRightHOffset-Math.round(s.innerWidth()/2)+"px"}),"left"==i.soloArrowRightHalign&&s.css({left:d+i.soloArrowRightHOffset+l+"px"}),"right"==i.soloArrowRightHalign&&s.css({right:d+i.soloArrowRightHOffset-l+"px"}),null!=r.position()&&r.css({top:Math.round(parseInt(r.position().top,0))+"px"}),null!=s.position()&&s.css({top:Math.round(parseInt(s.position().top,0))+"px"})),"none"==i.navigationArrows&&(r.css({visibility:"hidden"}),s.css({visibility:"hidden"})),"center"==i.navigationVAlign&&a.css({top:"50%",marginTop:i.navigationVOffset-Math.round(a.innerHeight()/2)+"px"}),"bottom"==i.navigationVAlign&&a.css({bottom:0+i.navigationVOffset+"px"}),"top"==i.navigationVAlign&&a.css({top:0+i.navigationVOffset+"px"}),"center"==i.navigationHAlign&&a.css({left:"50%",marginLeft:l+i.navigationHOffset-Math.round(a.innerWidth()/2)+"px"}),"left"==i.navigationHAlign&&a.css({left:0+i.navigationHOffset+l+"px"}),"right"==i.navigationHAlign&&a.css({right:0+i.navigationHOffset-l+"px"})},m=function(i){var n=i.container;i.beforli=i.next-1,i.comingli=i.next+1,i.beforli<0&&(i.beforli=i.slideamount-1),i.comingli>=i.slideamount&&(i.comingli=0);var a=n.find(">ul:first-child >li:eq("+i.comingli+")"),o=n.find(">ul:first-child >li:eq("+i.beforli+")"),r=o.find(".defaultimg").attr("src"),s=a.find(".defaultimg").attr("src");i.arr==e&&(i.arr=n.parent().find(".tparrows"),i.rar=n.parent().find(".tp-rightarrow"),i.lar=n.parent().find(".tp-leftarrow"),i.raimg=i.rar.find(".tp-arr-imgholder"),i.laimg=i.lar.find(".tp-arr-imgholder"),i.raimg_b=i.rar.find(".tp-arr-imgholder2"),i.laimg_b=i.lar.find(".tp-arr-imgholder2"),i.ratit=i.rar.find(".tp-arr-titleholder"),i.latit=i.lar.find(".tp-arr-titleholder"));var l=i.arr,d=i.rar,h=i.lar,c=i.raimg,p=i.laimg,u=i.raimg_b,f=i.laimg_b,g=i.ratit,m=i.latit;if(a.data("title")!=e&&g.html(a.data("title")),o.data("title")!=e&&m.html(o.data("title")),d.hasClass("itishovered")&&d.width(g.outerWidth(!0)+parseInt(d.css("minWidth"),0)),h.hasClass("itishovered")&&h.width(m.outerWidth(!0)+parseInt(h.css("minWidth"),0)),l.hasClass("preview2")&&!l.hasClass("hashoveralready"))if(l.addClass("hashoveralready"),V()){var l=t(this),v=l.find(".tp-arr-titleholder");v.addClass("alwayshidden"),punchgs.TweenLite.set(v,{autoAlpha:0})}else l.hover(function(){var e=t(this),i=e.find(".tp-arr-titleholder");t(window).width()>767&&e.width(i.outerWidth(!0)+parseInt(e.css("minWidth"),0)),e.addClass("itishovered")},function(){var e=t(this);e.find(".tp-arr-titleholder");e.css({width:parseInt(e.css("minWidth"),0)}),e.removeClass("itishovered")});o.data("thumb")!=e&&(r=o.data("thumb")),a.data("thumb")!=e&&(s=a.data("thumb")),l.hasClass("preview4")?(u.css({backgroundImage:"url("+s+")"}),f.css({backgroundImage:"url("+r+")"}),punchgs.TweenLite.fromTo(u,.8,{force3D:punchgs.force3d,x:0},{x:-c.width(),ease:punchgs.Power3.easeOut,delay:1,onComplete:function(){c.css({backgroundImage:"url("+s+")"}),punchgs.TweenLite.set(u,{x:0})}}),punchgs.TweenLite.fromTo(f,.8,{force3D:punchgs.force3d,x:0},{x:c.width(),ease:punchgs.Power3.easeOut,delay:1,onComplete:function(){p.css({backgroundImage:"url("+r+")"}),punchgs.TweenLite.set(f,{x:0})}}),punchgs.TweenLite.fromTo(c,.8,{x:0},{force3D:punchgs.force3d,x:-c.width(),ease:punchgs.Power3.easeOut,delay:1,onComplete:function(){punchgs.TweenLite.set(c,{x:0})}}),punchgs.TweenLite.fromTo(p,.8,{x:0},{force3D:punchgs.force3d,x:c.width(),ease:punchgs.Power3.easeOut,delay:1,onComplete:function(){punchgs.TweenLite.set(p,{x:0})}})):(punchgs.TweenLite.to(c,.5,{autoAlpha:0,onComplete:function(){c.css({backgroundImage:"url("+s+")"}),p.css({backgroundImage:"url("+r+")"})}}),punchgs.TweenLite.to(p,.5,{autoAlpha:0,onComplete:function(){punchgs.TweenLite.to(c,.5,{autoAlpha:1,delay:.2}),punchgs.TweenLite.to(p,.5,{autoAlpha:1,delay:.2})}})),d.hasClass("preview4")&&!d.hasClass("hashoveralready")&&(d.addClass("hashoveralready"),d.hover(function(){var e=t(this).find(".tp-arr-iwrapper"),i=t(this).find(".tp-arr-allwrapper");punchgs.TweenLite.fromTo(e,.4,{x:e.width()},{x:0,delay:.3,ease:punchgs.Power3.easeOut,overwrite:"all"}),punchgs.TweenLite.to(i,.2,{autoAlpha:1,overwrite:"all"})},function(){var e=t(this).find(".tp-arr-iwrapper"),i=t(this).find(".tp-arr-allwrapper");punchgs.TweenLite.to(e,.4,{x:e.width(),ease:punchgs.Power3.easeOut,delay:.2,overwrite:"all"}),punchgs.TweenLite.to(i,.2,{delay:.6,autoAlpha:0,overwrite:"all"})}),h.hover(function(){var e=t(this).find(".tp-arr-iwrapper"),i=t(this).find(".tp-arr-allwrapper");punchgs.TweenLite.fromTo(e,.4,{x:0-e.width()},{x:0,delay:.3,ease:punchgs.Power3.easeOut,overwrite:"all"}),punchgs.TweenLite.to(i,.2,{autoAlpha:1,overwrite:"all"})},function(){var e=t(this).find(".tp-arr-iwrapper"),i=t(this).find(".tp-arr-allwrapper");punchgs.TweenLite.to(e,.4,{x:0-e.width(),ease:punchgs.Power3.easeOut,delay:.2,overwrite:"all"}),punchgs.TweenLite.to(i,.2,{delay:.6,autoAlpha:0,overwrite:"all"})}))},v=function(i,n){if(n.container.closest(".forcefullwidth_wrapper_tp_banner").find(".tp-fullwidth-forcer").css({height:n.container.height()}),n.container.closest(".rev_slider_wrapper").css({height:n.container.height()}),n.width=parseInt(n.container.width(),0),n.height=parseInt(n.container.height(),0),n.bw=n.width/n.startwidth,n.bh=n.height/n.startheight,n.bh>n.bw&&(n.bh=n.bw),n.bh<n.bw&&(n.bw=n.bh),n.bw<n.bh&&(n.bh=n.bw),n.bh>1&&(n.bw=1,n.bh=1),n.bw>1&&(n.bw=1,n.bh=1),n.height=Math.round(n.startheight*(n.width/n.startwidth)),n.height>n.startheight&&"on"!=n.autoHeight&&(n.height=n.startheight),"on"==n.fullScreen){n.height=n.bw*n.startheight;var a=(n.container.parent().width(),t(window).height());if(n.fullScreenOffsetContainer!=e){try{var o=n.fullScreenOffsetContainer.split(",");t.each(o,function(e,i){(a-=t(i).outerHeight(!0))<n.minFullScreenHeight&&(a=n.minFullScreenHeight)})}catch(t){}try{n.fullScreenOffset.split("%").length>1&&n.fullScreenOffset!=e&&n.fullScreenOffset.length>0?a-=t(window).height()*parseInt(n.fullScreenOffset,0)/100:n.fullScreenOffset!=e&&n.fullScreenOffset.length>0&&(a-=parseInt(n.fullScreenOffset,0)),a<n.minFullScreenHeight&&(a=n.minFullScreenHeight)}catch(t){}}n.container.parent().height(a),n.container.closest(".rev_slider_wrapper").height(a),n.container.css({height:"100%"}),n.height=a,n.minHeight!=e&&n.height<n.minHeight&&(n.height=n.minHeight)}else n.minHeight!=e&&n.height<n.minHeight&&(n.height=n.minHeight),n.container.height(n.height);n.slotw=Math.ceil(n.width/n.slots),"on"==n.fullScreen?n.sloth=Math.ceil(t(window).height()/n.slots):n.sloth=Math.ceil(n.height/n.slots),"on"==n.autoHeight&&(n.sloth=Math.ceil(i.height()/n.slots))},w=function(i,n){i.find(".tp-caption").each(function(){t(this).addClass(t(this).data("transition")),t(this).addClass("start")}),i.find(">ul:first").css({overflow:"hidden",width:"100%",height:"100%",maxHeight:i.parent().css("maxHeight")}),"on"==n.autoHeight&&(i.find(">ul:first").css({overflow:"hidden",width:"100%",height:"100%",maxHeight:"none"}),i.css({maxHeight:"none"}),i.parent().css({maxHeight:"none"})),i.find(">ul:first >li").each(function(i){var n=t(this);if(n.css({width:"100%",height:"100%",overflow:"hidden"}),n.data("link")!=e){var a=n.data("link"),o="_self",r=60;"back"==n.data("slideindex")&&(r=0);var s=n.data("linktoslide");n.data("target")!=e&&(o=n.data("target")),"slide"==a?n.append('<div class="tp-caption sft slidelink" style="width:100%;height:100%;z-index:'+r+';" data-x="center" data-y="center" data-linktoslide="'+s+'" data-start="0"><a style="width:100%;height:100%;display:block"><span style="width:100%;height:100%;display:block"></span></a></div>'):(s="no",n.append('<div class="tp-caption sft slidelink" style="width:100%;height:100%;z-index:'+r+';" data-x="center" data-y="center" data-linktoslide="'+s+'" data-start="0"><a style="width:100%;height:100%;display:block" target="'+o+'" href="'+a+'"><span style="width:100%;height:100%;display:block"></span></a></div>'))}}),i.parent().css({overflow:"visible"}),i.find(">ul:first >li >img").each(function(i){var a=t(this);a.addClass("defaultimg"),a.data("lazyload")!=e&&1!=a.data("lazydone")||v(a,n),a.wrap('<div class="slotholder" style="width:100%;height:100%;"data-duration="'+a.data("duration")+'"data-zoomstart="'+a.data("zoomstart")+'"data-zoomend="'+a.data("zoomend")+'"data-rotationstart="'+a.data("rotationstart")+'"data-rotationend="'+a.data("rotationend")+'"data-ease="'+a.data("ease")+'"data-duration="'+a.data("duration")+'"data-bgpositionend="'+a.data("bgpositionend")+'"data-bgposition="'+a.data("bgposition")+'"data-duration="'+a.data("duration")+'"data-kenburns="'+a.data("kenburns")+'"data-easeme="'+a.data("ease")+'"data-bgfit="'+a.data("bgfit")+'"data-bgfitend="'+a.data("bgfitend")+'"data-owidth="'+a.data("owidth")+'"data-oheight="'+a.data("oheight")+'"></div>'),"none"!=n.dottedOverlay&&n.dottedOverlay!=e&&a.closest(".slotholder").append('<div class="tp-dottedoverlay '+n.dottedOverlay+'"></div>');var o=a.attr("src"),r=(a.data("lazyload"),a.data("bgfit")),s=a.data("bgrepeat"),d=a.data("bgposition");r==e&&(r="cover"),s==e&&(s="no-repeat"),d==e&&(d="center center");var h=a.closest(".slotholder");a.replaceWith('<div class="tp-bgimg defaultimg" data-lazyload="'+a.data("lazyload")+'" data-bgfit="'+r+'"data-bgposition="'+d+'" data-bgrepeat="'+s+'" data-lazydone="'+a.data("lazydone")+'" src="'+o+'" data-src="'+o+'" style="background-color:'+a.css("backgroundColor")+";background-repeat:"+s+";background-image:url("+o+");background-size:"+r+";background-position:"+d+';width:100%;height:100%;"></div>'),l(8)&&(h.find(".tp-bgimg").css({backgroundImage:"none","background-image":"none"}),h.find(".tp-bgimg").append('<img class="ieeightfallbackimage defaultimg" src="'+o+'" style="width:100%">')),a.css({opacity:0}),a.data("li-id",i)})},y=function(t,i,n,a){var o=t,r=o.find(".defaultimg"),s=o.data("zoomstart"),d=o.data("rotationstart");r.data("currotate")!=e&&(d=r.data("currotate")),r.data("curscale")!=e&&(s=r.data("curscale")),v(r,i);var h=r.data("src"),c=r.css("background-color"),p=i.width,u=i.height,f=r.data("fxof");"on"==i.autoHeight&&(u=i.container.height()),f==e&&(f=0),fullyoff=0;var g=0,m=r.data("bgfit"),w=r.data("bgrepeat"),y=r.data("bgposition");if(m==e&&(m="cover"),w==e&&(w="no-repeat"),y==e&&(y="center center"),l(8)){o.data("kenburns","off");var b=h;h=""}if("on"==i.panZoomDisableOnMobile&&V()&&o.data("kenburns","off"),"on"==o.data("kenburns")&&(m=s,m.toString().length<4&&(m=Q(m,o,i))),"horizontal"==a){if(!n)var g=0-i.slotw;for(var _=0;_<i.slots;_++)o.append('<div class="slot" style="position:absolute;top:'+(0+fullyoff)+"px;left:"+(f+_*i.slotw)+"px;overflow:hidden;width:"+(i.slotw+.6)+"px;height:"+u+'px"><div class="slotslide" style="position:absolute;top:0px;left:'+g+"px;width:"+(i.slotw+.6)+"px;height:"+u+'px;overflow:hidden;"><div style="background-color:'+c+";position:absolute;top:0px;left:"+(0-_*i.slotw)+"px;width:"+p+"px;height:"+u+"px;background-image:url("+h+");background-repeat:"+w+";background-size:"+m+";background-position:"+y+';"></div></div></div>'),s!=e&&d!=e&&punchgs.TweenLite.set(o.find(".slot").last(),{rotationZ:d}),l(8)&&(o.find(".slot ").last().find(".slotslide").append('<img class="ieeightfallbackimage" src="'+b+'" style="width:100%;height:auto">'),x(o,i))}else{if(!n)var g=0-i.sloth;for(var _=0;_<i.slots+2;_++)o.append('<div class="slot" style="position:absolute;top:'+(fullyoff+_*i.sloth)+"px;left:"+f+"px;overflow:hidden;width:"+p+"px;height:"+i.sloth+'px"><div class="slotslide" style="position:absolute;top:'+g+"px;left:0px;width:"+p+"px;height:"+i.sloth+'px;overflow:hidden;"><div style="background-color:'+c+";position:absolute;top:"+(0-_*i.sloth)+"px;left:0px;width:"+p+"px;height:"+u+"px;background-image:url("+h+");background-repeat:"+w+";background-size:"+m+";background-position:"+y+';"></div></div></div>'),s!=e&&d!=e&&punchgs.TweenLite.set(o.find(".slot").last(),{rotationZ:d}),l(8)&&(o.find(".slot ").last().find(".slotslide").append('<img class="ieeightfallbackimage" src="'+b+'" style="width:100%;height:auto;">'),x(o,i))}},b=function(t,i,n){var a=t,o=a.find(".defaultimg"),r=a.data("zoomstart"),s=a.data("rotationstart");o.data("currotate")!=e&&(s=o.data("currotate")),o.data("curscale")!=e&&(r=100*o.data("curscale")),v(o,i);var d=o.data("src"),h=o.css("backgroundColor"),c=i.width,p=i.height;"on"==i.autoHeight&&(p=i.container.height());var u=o.data("fxof");u==e&&(u=0),fullyoff=0;if(l(8)){var f=d;d=""}var g=0;if(g=i.sloth>i.slotw?i.sloth:i.slotw,!n);i.slotw=g,i.sloth=g;var m=0,w=0,y=o.data("bgfit"),b=o.data("bgrepeat"),_=o.data("bgposition");y==e&&(y="cover"),b==e&&(b="no-repeat"),_==e&&(_="center center"),"on"==a.data("kenburns")&&(y=r,y.toString().length<4&&(y=Q(y,a,i)));for(var T=0;T<i.slots;T++){w=0;for(var k=0;k<i.slots;k++)a.append('<div class="slot" style="position:absolute;top:'+(fullyoff+w)+"px;left:"+(u+m)+"px;width:"+g+"px;height:"+g+'px;overflow:hidden;"><div class="slotslide" data-x="'+m+'" data-y="'+w+'" style="position:absolute;top:0px;left:0px;width:'+g+"px;height:"+g+'px;overflow:hidden;"><div style="position:absolute;top:'+(0-w)+"px;left:"+(0-m)+"px;width:"+c+"px;height:"+p+"px;background-color:"+h+";background-image:url("+d+");background-repeat:"+b+";background-size:"+y+";background-position:"+_+';"></div></div></div>'),w+=g,l(8)&&(a.find(".slot ").last().find(".slotslide").append('<img src="'+f+'">'),x(a,i)),r!=e&&s!=e&&punchgs.TweenLite.set(a.find(".slot").last(),{rotationZ:s});m+=g}},x=function(t,e){if(l(8)){var i=t.find(".ieeightfallbackimage");i.width(),i.height();e.startwidth/e.startheight<t.data("owidth")/t.data("oheight")?i.css({width:"auto",height:"100%"}):i.css({width:"100%",height:"auto"}),setTimeout(function(){var n=i.width(),a=i.height();"center center"==t.data("bgposition")&&i.css({position:"absolute",top:e.height/2-a/2+"px",left:e.width/2-n/2+"px"}),"center top"!=t.data("bgposition")&&"top center"!=t.data("bgposition")||i.css({position:"absolute",top:"0px",left:e.width/2-n/2+"px"}),"center bottom"!=t.data("bgposition")&&"bottom center"!=t.data("bgposition")||i.css({position:"absolute",bottom:"0px",left:e.width/2-n/2+"px"}),"right top"!=t.data("bgposition")&&"top right"!=t.data("bgposition")||i.css({position:"absolute",top:"0px",right:"0px"}),"right bottom"!=t.data("bgposition")&&"bottom right"!=t.data("bgposition")||i.css({position:"absolute",bottom:"0px",right:"0px"}),"right center"!=t.data("bgposition")&&"center right"!=t.data("bgposition")||i.css({position:"absolute",top:e.height/2-a/2+"px",right:"0px"}),"left bottom"!=t.data("bgposition")&&"bottom left"!=t.data("bgposition")||i.css({position:"absolute",bottom:"0px",left:"0px"}),"left center"!=t.data("bgposition")&&"center left"!=t.data("bgposition")||i.css({position:"absolute",top:e.height/2-a/2+"px",left:"0px"})},20)}},_=function(e,i,n){n.find(".slot").each(function(){t(this).remove()}),i.transition=0},T=function(i,n){i.find("img, .defaultimg").each(function(i){var a=t(this);if(a.data("lazyload")!=a.attr("src")&&n<3&&a.data("lazyload")!=e&&"undefined"!=a.data("lazyload")){if(a.data("lazyload")!=e&&"undefined"!=a.data("lazyload")){a.attr("src",a.data("lazyload"));var o=new Image;o.onload=function(t){a.data("lazydone",1),a.hasClass("defaultimg")&&k(a,o)},o.error=function(){a.data("lazydone",1)},o.src=a.attr("src"),o.complete&&(a.hasClass("defaultimg")&&k(a,o),a.data("lazydone",1))}}else if((a.data("lazyload")===e||"undefined"===a.data("lazyload"))&&1!=a.data("lazydone")){var o=new Image;o.onload=function(){a.hasClass("defaultimg")&&k(a,o),a.data("lazydone",1)},o.error=function(){a.data("lazydone",1)},a.attr("src")!=e&&"undefined"!=a.attr("src")?o.src=a.attr("src"):o.src=a.data("src"),o.complete&&(a.hasClass("defaultimg")&&k(a,o),a.data("lazydone",1))}})},k=function(t,e){var i=t.closest("li"),n=e.width,a=e.height;i.data("owidth",n),i.data("oheight",a),i.find(".slotholder").data("owidth",n),i.find(".slotholder").data("oheight",a),i.data("loadeddone",1)},C=function(i,n,a){T(i,0);var o=setInterval(function(){a.bannertimeronpause=!0,a.container.trigger("stoptimer"),a.cd=0;var r=0;i.find("img, .defaultimg").each(function(e){1!=t(this).data("lazydone")&&r++}),r>0?T(i,r):(clearInterval(o),n!=e&&n())},100)},S=function(t,i){try{t.find(">ul:first-child >li:eq("+i.act+")")}catch(e){t.find(">ul:first-child >li:eq(1)")}i.lastslide=i.act;var n=t.find(">ul:first-child >li:eq("+i.next+")"),a=n.find(".defaultimg");i.bannertimeronpause=!0,t.trigger("stoptimer"),i.cd=0,a.data("lazyload")!=e&&"undefined"!=a.data("lazyload")&&1!=a.data("lazydone")?(l(8)?a.attr("src",n.find(".defaultimg").data("lazyload")):a.css({backgroundImage:'url("'+n.find(".defaultimg").data("lazyload")+'")'}),a.data("src",n.find(".defaultimg").data("lazyload")),a.data("lazydone",1),a.data("orgw",0),n.data("loadeddone",1),t.find(".tp-loader").css({display:"block"}),C(t.find(".tp-static-layers"),function(){C(n,function(){var e=n.find(".slotholder");if("on"==e.data("kenburns"))var o=setInterval(function(){e.data("owidth")>=0&&(clearInterval(o),L(i,a,t))},10);else L(i,a,t)},i)},i)):n.data("loadeddone")===e?(n.data("loadeddone",1),C(n,function(){L(i,a,t)},i)):L(i,a,t)},L=function(t,e,i){t.bannertimeronpause=!1,t.cd=0,i.trigger("nulltimer"),i.find(".tp-loader").css({display:"none"}),v(e,t),g(i,t),v(e,t),P(i,t)},P=function(t,i){t.trigger("revolution.slide.onbeforeswap"),i.transition=1,i.videoplaying=!1;try{var n=t.find(">ul:first-child >li:eq("+i.act+")")}catch(e){var n=t.find(">ul:first-child >li:eq(1)")}i.lastslide=i.act;var a=t.find(">ul:first-child >li:eq("+i.next+")");setTimeout(function(){m(i)},200);var o=n.find(".slotholder"),r=a.find(".slotholder");"on"!=r.data("kenburns")&&"on"!=o.data("kenburns")||(K(t,i),t.find(".kenburnimg").remove()),a.data("delay")!=e?(i.cd=0,i.delay=a.data("delay")):i.delay=i.origcd,1==i.firststart&&punchgs.TweenLite.set(n,{autoAlpha:0}),punchgs.TweenLite.set(n,{zIndex:18}),punchgs.TweenLite.set(a,{autoAlpha:0,zIndex:20});var s=0;n.index()!=a.index()&&1!=i.firststart&&(s=j(n,i)),"on"!=n.data("saveperformance")&&(s=0),setTimeout(function(){t.trigger("restarttimer"),A(t,i,a,n,o,r)},s)},A=function(i,n,a,o,r,s){function d(){t.each(g,function(t,e){e[0]!=u&&e[8]!=u||(h=e[1],f=e[2],w=x),x+=1})}"prepared"==a.data("differentissplayed")&&(a.data("differentissplayed","done"),a.data("transition",a.data("savedtransition")),a.data("slotamount",a.data("savedslotamount")),a.data("masterspeed",a.data("savedmasterspeed"))),a.data("fstransition")!=e&&"done"!=a.data("differentissplayed")&&(a.data("savedtransition",a.data("transition")),a.data("savedslotamount",a.data("slotamount")),a.data("savedmasterspeed",a.data("masterspeed")),a.data("transition",a.data("fstransition")),a.data("slotamount",a.data("fsslotamount")),a.data("masterspeed",a.data("fsmasterspeed")),a.data("differentissplayed","prepared")),i.find(".active-revslide").removeClass(".active-revslide"),a.addClass("active-revslide"),a.data("transition")==e&&a.data("transition","random");var h=0,c=(a.data("transition")||"").split(","),p=a.data("nexttransid")==e?-1:a.data("nexttransid");"on"==a.data("randomtransition")?p=Math.round(Math.random()*c.length):p+=1,p==c.length&&(p=0),a.data("nexttransid",p);var u=c[p];n.ie&&("boxfade"==u&&(u="boxslide"),"slotfade-vertical"==u&&(u="slotzoom-vertical"),"slotfade-horizontal"==u&&(u="slotzoom-horizontal")),l(8)&&(u=11);var f=0;"scroll"==n.parallax&&n.parallaxFirstGo==e&&(n.parallaxFirstGo=!0,tt(i,n),setTimeout(function(){tt(i,n)},210),setTimeout(function(){tt(i,n)},420)),"boxslide"!=u&&"boxfade"!=u&&"papercut"!=u&&0!=u&&1!=u&&16!=u||(u=9),"slidehorizontal"==u&&(u="slideleft",1==n.leftarrowpressed&&(u="slideright")),"slidevertical"==u&&(u="slideup",1==n.leftarrowpressed&&(u="slidedown")),"parallaxhorizontal"==u&&(u="parallaxtoleft",1==n.leftarrowpressed&&(u="parallaxtoright")),"parallaxvertical"==u&&(u="parallaxtotop",1==n.leftarrowpressed&&(u="parallaxtobottom"));var g=[["boxslide",0,1,10,0,"box",!1,null,0],["boxfade",1,0,10,0,"box",!1,null,1],["slotslide-horizontal",2,0,0,200,"horizontal",!0,!1,2],["slotslide-vertical",3,0,0,200,"vertical",!0,!1,3],["curtain-1",4,3,0,0,"horizontal",!0,!0,4],["curtain-2",5,3,0,0,"horizontal",!0,!0,5],["curtain-3",6,3,25,0,"horizontal",!0,!0,6],["slotzoom-horizontal",7,0,0,400,"horizontal",!0,!0,7],["slotzoom-vertical",8,0,0,0,"vertical",!0,!0,8],["slotfade-horizontal",9,0,0,500,"horizontal",!0,null,9],["slotfade-vertical",10,0,0,500,"vertical",!0,null,10],["fade",11,0,1,300,"horizontal",!0,null,11],["slideleft",12,0,1,0,"horizontal",!0,!0,12],["slideup",13,0,1,0,"horizontal",!0,!0,13],["slidedown",14,0,1,0,"horizontal",!0,!0,14],["slideright",15,0,1,0,"horizontal",!0,!0,15],["papercut",16,0,0,600,"",null,null,16],["3dcurtain-horizontal",17,0,20,100,"vertical",!1,!0,17],["3dcurtain-vertical",18,0,10,100,"horizontal",!1,!0,18],["cubic",19,0,20,600,"horizontal",!1,!0,19],["cube",19,0,20,600,"horizontal",!1,!0,20],["flyin",20,0,4,600,"vertical",!1,!0,21],["turnoff",21,0,1,1600,"horizontal",!1,!0,22],["incube",22,0,20,200,"horizontal",!1,!0,23],["cubic-horizontal",23,0,20,500,"vertical",!1,!0,24],["cube-horizontal",23,0,20,500,"vertical",!1,!0,25],["incube-horizontal",24,0,20,500,"vertical",!1,!0,26],["turnoff-vertical",25,0,1,200,"horizontal",!1,!0,27],["fadefromright",12,1,1,0,"horizontal",!0,!0,28],["fadefromleft",15,1,1,0,"horizontal",!0,!0,29],["fadefromtop",14,1,1,0,"horizontal",!0,!0,30],["fadefrombottom",13,1,1,0,"horizontal",!0,!0,31],["fadetoleftfadefromright",12,2,1,0,"horizontal",!0,!0,32],["fadetorightfadetoleft",15,2,1,0,"horizontal",!0,!0,33],["fadetobottomfadefromtop",14,2,1,0,"horizontal",!0,!0,34],["fadetotopfadefrombottom",13,2,1,0,"horizontal",!0,!0,35],["parallaxtoright",12,3,1,0,"horizontal",!0,!0,36],["parallaxtoleft",15,3,1,0,"horizontal",!0,!0,37],["parallaxtotop",14,3,1,0,"horizontal",!0,!0,38],["parallaxtobottom",13,3,1,0,"horizontal",!0,!0,39],["scaledownfromright",12,4,1,0,"horizontal",!0,!0,40],["scaledownfromleft",15,4,1,0,"horizontal",!0,!0,41],["scaledownfromtop",14,4,1,0,"horizontal",!0,!0,42],["scaledownfrombottom",13,4,1,0,"horizontal",!0,!0,43],["zoomout",13,5,1,0,"horizontal",!0,!0,44],["zoomin",13,6,1,0,"horizontal",!0,!0,45],["notransition",26,0,1,0,"horizontal",!0,null,46]],m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],v=[16,17,18,19,20,21,22,23,24,25,26,27],h=0,f=1,w=0,x=0,_=new Array;"on"==s.data("kenburns")&&("boxslide"!=u&&0!=u&&"boxfade"!=u&&1!=u&&"papercut"!=u&&16!=u||(u=11),G(i,n,!0,!0)),"random"==u&&(u=Math.round(Math.random()*g.length-1))>g.length-1&&(u=g.length-1),"random-static"==u&&(u=Math.round(Math.random()*m.length-1),u>m.length-1&&(u=m.length-1),u=m[u]),"random-premium"==u&&(u=Math.round(Math.random()*v.length-1),u>v.length-1&&(u=v.length-1),u=v[u]);var T=[12,13,14,15,16,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45];if(1==n.isJoomla&&window.MooTools!=e&&-1!=T.indexOf(u)){var k=Math.round(Math.random()*(v.length-2))+1;k>v.length-1&&(k=v.length-1),0==k&&(k=1),u=v[k]}d(),l(8)&&h>15&&h<28&&(u=Math.round(Math.random()*m.length-1),u>m.length-1&&(u=m.length-1),u=m[u],x=0,d());var C=-1;(1==n.leftarrowpressed||n.act>n.next)&&(C=1),n.leftarrowpressed=0,h>26&&(h=26),h<0&&(h=0);var S=300;a.data("masterspeed")!=e&&a.data("masterspeed")>99&&a.data("masterspeed")<4001&&(S=a.data("masterspeed")),_=g[w],i.parent().find(".bullet").each(function(){var e=t(this);e.removeClass("selected"),"withbullet"==n.navigationArrows||"nexttobullets"==n.navigationArrows?e.index()-1==n.next&&e.addClass("selected"):e.index()==n.next&&e.addClass("selected")});var L=new punchgs.TimelineLite({onComplete:function(){O(i,n,s,r,a,o,L)}});if(L.add(punchgs.TweenLite.set(s.find(".defaultimg"),{opacity:0})),L.pause(),a.data("slotamount")==e||a.data("slotamount")<1?(n.slots=Math.round(12*Math.random()+4),"boxslide"==u?n.slots=Math.round(6*Math.random()+3):"flyin"==u&&(n.slots=Math.round(4*Math.random()+1))):n.slots=a.data("slotamount"),a.data("rotate")==e?n.rotate=0:999==a.data("rotate")?n.rotate=Math.round(360*Math.random()):n.rotate=a.data("rotate"),(!t.support.transition||n.ie||n.ie9)&&(n.rotate=0),1==n.firststart&&(n.firststart=0),S+=_[4],(4==h||5==h||6==h)&&n.slots<3&&(n.slots=3),0!=_[3]&&(n.slots=Math.min(n.slots,_[3])),9==h&&(n.slots=n.width/20),10==h&&(n.slots=n.height/20),"box"==_[5]?(null!=_[7]&&b(r,n,_[7]),null!=_[6]&&b(s,n,_[6])):"vertical"!=_[5]&&"horizontal"!=_[5]||(null!=_[7]&&y(r,n,_[7],_[5]),null!=_[6]&&y(s,n,_[6],_[5])),0==h){var P=Math.ceil(n.height/n.sloth),A=0;s.find(".slotslide").each(function(e){var i=t(this);A+=1,A==P&&(A=0),L.add(punchgs.TweenLite.from(i,S/600,{opacity:0,top:0-n.sloth,left:0-n.slotw,rotation:n.rotate,force3D:"auto",ease:punchgs.Power2.easeOut}),(15*e+30*A)/1500)})}if(1==h){var z,M=0;s.find(".slotslide").each(function(e){var i=t(this);rand=Math.random()*S+300,rand2=500*Math.random()+200,rand+rand2>z&&(z=rand2+rand2,M=e),L.add(punchgs.TweenLite.from(i,rand/1e3,{autoAlpha:0,force3D:"auto",rotation:n.rotate,ease:punchgs.Power2.easeInOut}),rand2/1e3)})}if(2==h){var E=new punchgs.TimelineLite;r.find(".slotslide").each(function(){var e=t(this);E.add(punchgs.TweenLite.to(e,S/1e3,{left:n.slotw,force3D:"auto",rotation:0-n.rotate}),0),L.add(E,0)}),s.find(".slotslide").each(function(){var e=t(this);E.add(punchgs.TweenLite.from(e,S/1e3,{left:0-n.slotw,force3D:"auto",rotation:n.rotate}),0),L.add(E,0)})}if(3==h){var E=new punchgs.TimelineLite;r.find(".slotslide").each(function(){var e=t(this);E.add(punchgs.TweenLite.to(e,S/1e3,{top:n.sloth,rotation:n.rotate,force3D:"auto",transformPerspective:600}),0),L.add(E,0)}),s.find(".slotslide").each(function(){var e=t(this);E.add(punchgs.TweenLite.from(e,S/1e3,{top:0-n.sloth,rotation:n.rotate,ease:punchgs.Power2.easeOut,force3D:"auto",transformPerspective:600}),0),L.add(E,0)})}if(4==h||5==h){setTimeout(function(){r.find(".defaultimg").css({opacity:0})},100);var I=S/1e3,E=new punchgs.TimelineLite;r.find(".slotslide").each(function(e){var i=t(this),a=e*I/n.slots;5==h&&(a=(n.slots-e-1)*I/n.slots/1.5),E.add(punchgs.TweenLite.to(i,3*I,{transformPerspective:600,force3D:"auto",top:0+n.height,opacity:.5,rotation:n.rotate,ease:punchgs.Power2.easeInOut,delay:a}),0),L.add(E,0)}),s.find(".slotslide").each(function(e){var i=t(this),a=e*I/n.slots;5==h&&(a=(n.slots-e-1)*I/n.slots/1.5),E.add(punchgs.TweenLite.from(i,3*I,{top:0-n.height,opacity:.5,rotation:n.rotate,force3D:"auto",ease:punchgs.Power2.easeInOut,delay:a}),0),L.add(E,0)})}if(6==h){n.slots<2&&(n.slots=2),n.slots%2&&(n.slots=n.slots+1);var E=new punchgs.TimelineLite;setTimeout(function(){r.find(".defaultimg").css({opacity:0})},100),r.find(".slotslide").each(function(e){var i=t(this);if(e+1<n.slots/2)var a=90*(e+2);else var a=90*(2+n.slots-e);E.add(punchgs.TweenLite.to(i,(S+a)/1e3,{top:0+n.height,opacity:1,force3D:"auto",rotation:n.rotate,ease:punchgs.Power2.easeInOut}),0),L.add(E,0)}),s.find(".slotslide").each(function(e){var i=t(this);if(e+1<n.slots/2)var a=90*(e+2);else var a=90*(2+n.slots-e);E.add(punchgs.TweenLite.from(i,(S+a)/1e3,{top:0-n.height,opacity:1,force3D:"auto",rotation:n.rotate,ease:punchgs.Power2.easeInOut}),0),L.add(E,0)})}if(7==h){S*=2;var E=new punchgs.TimelineLite;setTimeout(function(){r.find(".defaultimg").css({opacity:0})},100),r.find(".slotslide").each(function(){var e=t(this).find("div");E.add(punchgs.TweenLite.to(e,S/1e3,{left:0-n.slotw/2+"px",top:0-n.height/2+"px",width:2*n.slotw+"px",height:2*n.height+"px",opacity:0,rotation:n.rotate,force3D:"auto",ease:punchgs.Power2.easeOut}),0),L.add(E,0)}),s.find(".slotslide").each(function(e){var i=t(this).find("div");E.add(punchgs.TweenLite.fromTo(i,S/1e3,{left:0,top:0,opacity:0,transformPerspective:600},{left:0-e*n.slotw+"px",ease:punchgs.Power2.easeOut,force3D:"auto",top:"0px",width:n.width,height:n.height,opacity:1,rotation:0,delay:.1}),0),L.add(E,0)})}if(8==h){S*=3;var E=new punchgs.TimelineLite;r.find(".slotslide").each(function(){var e=t(this).find("div");E.add(punchgs.TweenLite.to(e,S/1e3,{left:0-n.width/2+"px",top:0-n.sloth/2+"px",width:2*n.width+"px",height:2*n.sloth+"px",force3D:"auto",opacity:0,rotation:n.rotate}),0),L.add(E,0)}),s.find(".slotslide").each(function(e){var i=t(this).find("div");E.add(punchgs.TweenLite.fromTo(i,S/1e3,{left:0,top:0,opacity:0,force3D:"auto"},{left:"0px",top:0-e*n.sloth+"px",width:s.find(".defaultimg").data("neww")+"px",height:s.find(".defaultimg").data("newh")+"px",opacity:1,rotation:0}),0),L.add(E,0)})}if(9==h||10==h){var F=0;s.find(".slotslide").each(function(e){var i=t(this);F++,L.add(punchgs.TweenLite.fromTo(i,S/1e3,{autoAlpha:0,force3D:"auto",transformPerspective:600},{autoAlpha:1,ease:punchgs.Power2.easeInOut,delay:5*e/1e3}),0)})}if(11==h||26==h){var F=0;26==h&&(S=0),s.find(".slotslide").each(function(e){var i=t(this);L.add(punchgs.TweenLite.from(i,S/1e3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power2.easeInOut}),0)})}if(12==h||13==h||14==h||15==h){S=1e3,setTimeout(function(){punchgs.TweenLite.set(r.find(".defaultimg"),{autoAlpha:0})},100);var D=n.width,H=n.height,W=s.find(".slotslide");"on"!=n.fullWidth&&"on"!=n.fullScreen||(D=W.width(),H=W.height());var N=0,X=0;12==h?N=D:15==h?N=0-D:13==h?X=H:14==h&&(X=0-H);var j=1,Y=1,B=1,U=punchgs.Power2.easeInOut,q=punchgs.Power2.easeInOut,V=S/1e3,Q=V;1==f&&(j=0),2==f&&(j=0),3==f&&(U=punchgs.Power2.easeInOut,q=punchgs.Power1.easeInOut,V=S/1200),4!=f&&5!=f||(Y=.6),6==f&&(Y=1.4),5!=f&&6!=f||(B=1.4,j=0,D=0,H=0,N=0,X=0),6==f&&(B=.6);L.add(punchgs.TweenLite.from(W,V,{left:N,top:X,scale:B,opacity:j,rotation:n.rotate,ease:q,force3D:"auto"}),0);var $=r.find(".slotslide");4!=f&&5!=f||(D=0,H=0),1!=f&&(12==h?L.add(punchgs.TweenLite.to($,Q,{left:0-D+"px",force3D:"auto",scale:Y,opacity:j,rotation:n.rotate,ease:U}),0):15==h?L.add(punchgs.TweenLite.to($,Q,{left:D+"px",force3D:"auto",scale:Y,opacity:j,rotation:n.rotate,ease:U}),0):13==h?L.add(punchgs.TweenLite.to($,Q,{top:0-H+"px",force3D:"auto",scale:Y,opacity:j,rotation:n.rotate,ease:U}),0):14==h&&L.add(punchgs.TweenLite.to($,Q,{top:H+"px",force3D:"auto",scale:Y,opacity:j,rotation:n.rotate,ease:U}),0))}if(16==h){var E=new punchgs.TimelineLite;L.add(punchgs.TweenLite.set(o,{position:"absolute","z-index":20}),0),L.add(punchgs.TweenLite.set(a,{position:"absolute","z-index":15}),0),o.wrapInner('<div class="tp-half-one" style="position:relative; width:100%;height:100%"></div>'),o.find(".tp-half-one").clone(!0).appendTo(o).addClass("tp-half-two"),o.find(".tp-half-two").removeClass("tp-half-one");var D=n.width,H=n.height;"on"==n.autoHeight&&(H=i.height()),o.find(".tp-half-one .defaultimg").wrap('<div class="tp-papercut" style="width:'+D+"px;height:"+H+'px;"></div>'),o.find(".tp-half-two .defaultimg").wrap('<div class="tp-papercut" style="width:'+D+"px;height:"+H+'px;"></div>'),o.find(".tp-half-two .defaultimg").css({position:"absolute",top:"-50%"}),o.find(".tp-half-two .tp-caption").wrapAll('<div style="position:absolute;top:-50%;left:0px;"></div>'),
L.add(punchgs.TweenLite.set(o.find(".tp-half-two"),{width:D,height:H,overflow:"hidden",zIndex:15,position:"absolute",top:H/2,left:"0px",transformPerspective:600,transformOrigin:"center bottom"}),0),L.add(punchgs.TweenLite.set(o.find(".tp-half-one"),{width:D,height:H/2,overflow:"visible",zIndex:10,position:"absolute",top:"0px",left:"0px",transformPerspective:600,transformOrigin:"center top"}),0);var Z=(o.find(".defaultimg"),Math.round(20*Math.random()-10)),K=Math.round(20*Math.random()-10),J=Math.round(20*Math.random()-10),et=.4*Math.random()-.2,it=.4*Math.random()-.2,nt=1*Math.random()+1,at=1*Math.random()+1,ot=.3*Math.random()+.3;L.add(punchgs.TweenLite.set(o.find(".tp-half-one"),{overflow:"hidden"}),0),L.add(punchgs.TweenLite.fromTo(o.find(".tp-half-one"),S/800,{width:D,height:H/2,position:"absolute",top:"0px",left:"0px",force3D:"auto",transformOrigin:"center top"},{scale:nt,rotation:Z,y:0-H-H/4,autoAlpha:0,ease:punchgs.Power2.easeInOut}),0),L.add(punchgs.TweenLite.fromTo(o.find(".tp-half-two"),S/800,{width:D,height:H,overflow:"hidden",position:"absolute",top:H/2,left:"0px",force3D:"auto",transformOrigin:"center bottom"},{scale:at,rotation:K,y:H+H/4,ease:punchgs.Power2.easeInOut,autoAlpha:0,onComplete:function(){punchgs.TweenLite.set(o,{position:"absolute","z-index":15}),punchgs.TweenLite.set(a,{position:"absolute","z-index":20}),o.find(".tp-half-one").length>0&&(o.find(".tp-half-one .defaultimg").unwrap(),o.find(".tp-half-one .slotholder").unwrap()),o.find(".tp-half-two").remove()}}),0),E.add(punchgs.TweenLite.set(s.find(".defaultimg"),{autoAlpha:1}),0),null!=o.html()&&L.add(punchgs.TweenLite.fromTo(a,(S-200)/1e3,{scale:ot,x:n.width/4*et,y:H/4*it,rotation:J,force3D:"auto",transformOrigin:"center center",ease:punchgs.Power2.easeOut},{autoAlpha:1,scale:1,x:0,y:0,rotation:0}),0),L.add(E,0)}if(17==h&&s.find(".slotslide").each(function(e){var i=t(this);L.add(punchgs.TweenLite.fromTo(i,S/800,{opacity:0,rotationY:0,scale:.9,rotationX:-110,force3D:"auto",transformPerspective:600,transformOrigin:"center center"},{opacity:1,top:0,left:0,scale:1,rotation:0,rotationX:0,force3D:"auto",rotationY:0,ease:punchgs.Power3.easeOut,delay:.06*e}),0)}),18==h&&s.find(".slotslide").each(function(e){var i=t(this);L.add(punchgs.TweenLite.fromTo(i,S/500,{autoAlpha:0,rotationY:310,scale:.9,rotationX:10,force3D:"auto",transformPerspective:600,transformOrigin:"center center"},{autoAlpha:1,top:0,left:0,scale:1,rotation:0,rotationX:0,force3D:"auto",rotationY:0,ease:punchgs.Power3.easeOut,delay:.06*e}),0)}),19==h||22==h){var E=new punchgs.TimelineLite;L.add(punchgs.TweenLite.set(o,{zIndex:20}),0),L.add(punchgs.TweenLite.set(a,{zIndex:20}),0),setTimeout(function(){r.find(".defaultimg").css({opacity:0})},100);var rt=(a.css("z-index"),o.css("z-index"),90),j=1;if(1==C&&(rt=-90),19==h){var st="center center -"+n.height/2;j=0}else var st="center center "+n.height/2;punchgs.TweenLite.set(i,{transformStyle:"flat",backfaceVisibility:"hidden",transformPerspective:600}),s.find(".slotslide").each(function(e){var i=t(this);E.add(punchgs.TweenLite.fromTo(i,S/1e3,{transformStyle:"flat",backfaceVisibility:"hidden",left:0,rotationY:n.rotate,z:10,top:0,scale:1,force3D:"auto",transformPerspective:600,transformOrigin:st,rotationX:rt},{left:0,rotationY:0,top:0,z:0,scale:1,force3D:"auto",rotationX:0,delay:50*e/1e3,ease:punchgs.Power2.easeInOut}),0),E.add(punchgs.TweenLite.to(i,.1,{autoAlpha:1,delay:50*e/1e3}),0),L.add(E)}),r.find(".slotslide").each(function(e){var i=t(this),a=-90;1==C&&(a=90),E.add(punchgs.TweenLite.fromTo(i,S/1e3,{transformStyle:"flat",backfaceVisibility:"hidden",autoAlpha:1,rotationY:0,top:0,z:0,scale:1,force3D:"auto",transformPerspective:600,transformOrigin:st,rotationX:0},{autoAlpha:1,rotationY:n.rotate,top:0,z:10,scale:1,rotationX:a,delay:50*e/1e3,force3D:"auto",ease:punchgs.Power2.easeInOut}),0),L.add(E)})}if(20==h){setTimeout(function(){r.find(".defaultimg").css({opacity:0})},100);a.css("z-index"),o.css("z-index");if(1==C)var lt=-n.width,rt=70,st="left center -"+n.height/2;else var lt=n.width,rt=-70,st="right center -"+n.height/2;s.find(".slotslide").each(function(e){var i=t(this);L.add(punchgs.TweenLite.fromTo(i,S/1500,{left:lt,rotationX:40,z:-600,opacity:j,top:0,force3D:"auto",transformPerspective:600,transformOrigin:st,rotationY:rt},{left:0,delay:50*e/1e3,ease:punchgs.Power2.easeInOut}),0),L.add(punchgs.TweenLite.fromTo(i,S/1e3,{rotationX:40,z:-600,opacity:j,top:0,scale:1,force3D:"auto",transformPerspective:600,transformOrigin:st,rotationY:rt},{rotationX:0,opacity:1,top:0,z:0,scale:1,rotationY:0,delay:50*e/1e3,ease:punchgs.Power2.easeInOut}),0),L.add(punchgs.TweenLite.to(i,.1,{opacity:1,force3D:"auto",delay:50*e/1e3+S/2e3}),0)}),r.find(".slotslide").each(function(e){var i=t(this);if(1!=C)var a=-n.width,o=70,r="left center -"+n.height/2;else var a=n.width,o=-70,r="right center -"+n.height/2;L.add(punchgs.TweenLite.fromTo(i,S/1e3,{opacity:1,rotationX:0,top:0,z:0,scale:1,left:0,force3D:"auto",transformPerspective:600,transformOrigin:r,rotationY:0},{opacity:1,rotationX:40,top:0,z:-600,left:a,force3D:"auto",scale:.8,rotationY:o,delay:50*e/1e3,ease:punchgs.Power2.easeInOut}),0),L.add(punchgs.TweenLite.to(i,.1,{force3D:"auto",opacity:0,delay:50*e/1e3+(S/1e3-S/1e4)}),0)})}if(21==h||25==h){setTimeout(function(){r.find(".defaultimg").css({opacity:0})},100);a.css("z-index"),o.css("z-index");if(1==C){var lt=-n.width,rt=90;if(25==h){var st="center top 0";rot2=-rt,rt=n.rotate}else{var st="left center 0";rot2=n.rotate}}else{var lt=n.width,rt=-90;if(25==h){var st="center bottom 0";rot2=-rt,rt=n.rotate}else{var st="right center 0";rot2=n.rotate}}if(s.find(".slotslide").each(function(e){var i=t(this);L.add(punchgs.TweenLite.fromTo(i,S/1e3,{left:0,transformStyle:"flat",rotationX:rot2,z:0,autoAlpha:0,top:0,scale:1,force3D:"auto",transformPerspective:600,transformOrigin:st,rotationY:rt},{left:0,rotationX:0,top:0,z:0,autoAlpha:1,scale:1,rotationY:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),0)}),1!=C){var lt=-n.width,rt=90;if(25==h){var st="center top 0";rot2=-rt,rt=n.rotate}else{var st="left center 0";rot2=n.rotate}}else{var lt=n.width,rt=-90;if(25==h){var st="center bottom 0";rot2=-rt,rt=n.rotate}else{var st="right center 0";rot2=n.rotate}}r.find(".slotslide").each(function(e){var i=t(this);L.add(punchgs.TweenLite.fromTo(i,S/1e3,{left:0,transformStyle:"flat",rotationX:0,z:0,autoAlpha:1,top:0,scale:1,force3D:"auto",transformPerspective:600,transformOrigin:st,rotationY:0},{left:0,rotationX:rot2,top:0,z:0,autoAlpha:1,force3D:"auto",scale:1,rotationY:rt,ease:punchgs.Power1.easeInOut}),0)})}if(23==h||24==h){setTimeout(function(){r.find(".defaultimg").css({opacity:0})},100);var rt=(a.css("z-index"),o.css("z-index"),-90);1==C&&(rt=90);var j=1;if(23==h){var st="center center -"+n.width/2;j=0}else var st="center center "+n.width/2;punchgs.TweenLite.set(i,{transformStyle:"preserve-3d",backfaceVisibility:"hidden",perspective:2500}),s.find(".slotslide").each(function(e){var i=t(this);L.add(punchgs.TweenLite.fromTo(i,S/1e3,{left:0,rotationX:n.rotate,force3D:"auto",opacity:j,top:0,scale:1,transformPerspective:600,transformOrigin:st,rotationY:rt},{left:0,rotationX:0,autoAlpha:1,top:0,z:0,scale:1,rotationY:0,delay:50*e/500,ease:punchgs.Power2.easeInOut}),0)}),rt=90,1==C&&(rt=-90),r.find(".slotslide").each(function(e){var i=t(this);L.add(punchgs.TweenLite.fromTo(i,S/1e3,{left:0,autoAlpha:1,rotationX:0,top:0,z:0,scale:1,force3D:"auto",transformPerspective:600,transformOrigin:st,rotationY:0},{left:0,autoAlpha:1,rotationX:n.rotate,top:0,scale:1,rotationY:rt,delay:50*e/500,ease:punchgs.Power2.easeInOut}),0)})}L.pause(),R(a,n,null,L),punchgs.TweenLite.to(a,.001,{autoAlpha:1});var dt={};dt.slideIndex=n.next+1,dt.slide=a,i.trigger("revolution.slide.onchange",dt),setTimeout(function(){i.trigger("revolution.slide.onafterswap")},S),i.trigger("revolution.slide.onvideostop")},O=function(t,e,i,n,a,o,r){punchgs.TweenLite.to(i.find(".defaultimg"),.001,{autoAlpha:1,onComplete:function(){_(t,e,a)}}),a.index()!=o.index()&&punchgs.TweenLite.to(o,.2,{autoAlpha:0,onComplete:function(){_(t,e,o)}}),e.act=e.next,"thumb"==e.navigationType&&it(t),"on"==i.data("kenburns")&&G(t,e),t.find(".current-sr-slide-visible").removeClass("current-sr-slide-visible"),a.addClass("current-sr-slide-visible"),"scroll"!=e.parallax&&"scroll+mouse"!=e.parallax&&"mouse+scroll"!=e.parallax||tt(t,e),r.clear()},z=function(e){var i=e.target.getVideoEmbedCode(),n=t("#"+i.split('id="')[1].split('"')[0]),a=n.closest(".tp-simpleresponsive"),o=n.parent().data("player");if(e.data==YT.PlayerState.PLAYING){var r=a.find(".tp-bannertimer"),s=r.data("opt");"mute"==n.closest(".tp-caption").data("volume")&&o.mute(),s.videoplaying=!0,a.trigger("stoptimer"),a.trigger("revolution.slide.onvideoplay")}else{var r=a.find(".tp-bannertimer"),s=r.data("opt");-1!=e.data&&3!=e.data&&(s.videoplaying=!1,a.trigger("starttimer"),a.trigger("revolution.slide.onvideostop")),0==e.data&&1==s.nextslideatend?s.container.revnext():(s.videoplaying=!1,a.trigger("starttimer"),a.trigger("revolution.slide.onvideostop"))}},M=function(e,i){var n=$f(e),a=t("#"+e),o=a.closest(".tp-simpleresponsive"),r=a.closest(".tp-caption");setTimeout(function(){n.addEvent("ready",function(e){i&&n.api("play"),n.addEvent("play",function(t){o.find(".tp-bannertimer").data("opt").videoplaying=!0,o.trigger("stoptimer"),"mute"==r.data("volume")&&n.api("setVolume","0")}),n.addEvent("finish",function(t){var e=o.find(".tp-bannertimer"),i=e.data("opt");i.videoplaying=!1,o.trigger("starttimer"),o.trigger("revolution.slide.onvideoplay"),1==i.nextslideatend&&i.container.revnext()}),n.addEvent("pause",function(t){o.find(".tp-bannertimer").data("opt").videoplaying=!1,o.trigger("starttimer"),o.trigger("revolution.slide.onvideostop")}),r.find(".tp-thumb-image").click(function(){punchgs.TweenLite.to(t(this),.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),n.api("play")})})},150)},E=function(t,i){var n=i.width(),a=i.height(),o=t.data("mediaAspect");o==e&&(o=1);var r=n/a;t.css({position:"absolute"});t.find("video");r<o?punchgs.TweenLite.to(t,1e-4,{width:a*o,force3D:"auto",top:0,left:0-(a*o-n)/2,height:a}):punchgs.TweenLite.to(t,1e-4,{width:n,force3D:"auto",top:0-(n/o-a)/2,left:0,height:n/o})},I=function(){var t=new Object;return t.x=0,t.y=0,t.rotationX=0,t.rotationY=0,t.rotationZ=0,t.scale=1,t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.opacity=0,t.transformOrigin="center, center",t.transformPerspective=400,t.rotation=0,t},F=function(e,i){var n=i.split(";");return t.each(n,function(t,i){i=i.split(":");var n=i[0],a=i[1];"rotationX"==n&&(e.rotationX=parseInt(a,0)),"rotationY"==n&&(e.rotationY=parseInt(a,0)),"rotationZ"==n&&(e.rotationZ=parseInt(a,0)),"rotationZ"==n&&(e.rotation=parseInt(a,0)),"scaleX"==n&&(e.scaleX=parseFloat(a)),"scaleY"==n&&(e.scaleY=parseFloat(a)),"opacity"==n&&(e.opacity=parseFloat(a)),"skewX"==n&&(e.skewX=parseInt(a,0)),"skewY"==n&&(e.skewY=parseInt(a,0)),"x"==n&&(e.x=parseInt(a,0)),"y"==n&&(e.y=parseInt(a,0)),"z"==n&&(e.z=parseInt(a,0)),"transformOrigin"==n&&(e.transformOrigin=a.toString()),"transformPerspective"==n&&(e.transformPerspective=parseInt(a,0))}),e},D=function(e){var i=e.split("animation:"),n=new Object;n.animation=F(I(),i[1]);var a=i[0].split(";");return t.each(a,function(t,e){e=e.split(":");var i=e[0],a=e[1];"typ"==i&&(n.typ=a),"speed"==i&&(n.speed=parseInt(a,0)/1e3),"start"==i&&(n.start=parseInt(a,0)/1e3),"elementdelay"==i&&(n.elementdelay=parseFloat(a)),"ease"==i&&(n.ease=a)}),n},R=function(i,n,a,o){i.data("ctl")==e&&i.data("ctl",new punchgs.TimelineLite);var r=i.data("ctl"),s=0,l=0,d=i.find(".tp-caption"),h=n.container.find(".tp-static-layers").find(".tp-caption");r&&r.pause(),t.each(h,function(t,e){d.push(e)}),d.each(function(i){function o(){}var r=a,d=-1,h=t(this);if(h.hasClass("tp-static-layer")){var c=h.data("startslide"),p=h.data("endslide");-1!=c&&"-1"!=c||h.data("startslide",0),-1!=p&&"-1"!=p||h.data("endslide",n.slideamount),0==c&&p==n.slideamount-1&&h.data("endslide",n.slideamount+1),c=h.data("startslide"),p=h.data("endslide"),h.hasClass("tp-is-shown")?d=p==n.next||c>n.next||p<n.next?2:0:c<=n.next&&p>=n.next||c==n.next||p==n.next?(h.addClass("tp-is-shown"),d=1):d=0}s=n.width/2-n.startwidth*n.bw/2;var u=n.bw;n.bh;"on"==n.fullScreen&&(l=n.height/2-n.startheight*n.bh/2),("on"==n.autoHeight||n.minHeight!=e&&n.minHeight>0)&&(l=n.container.height()/2-n.startheight*n.bh/2),l<0&&(l=0);var f=0;if(n.width<n.hideCaptionAtLimit&&"on"==h.data("captionhidden")?(h.addClass("tp-hidden-caption"),f=1):n.width<n.hideAllCaptionAtLimit||n.width<n.hideAllCaptionAtLilmit?(h.addClass("tp-hidden-caption"),f=1):h.removeClass("tp-hidden-caption"),0==f){if(h.data("linktoslide")==e||h.hasClass("hasclicklistener")||(h.addClass("hasclicklistener"),h.css({cursor:"pointer"}),"no"!=h.data("linktoslide")&&h.click(function(){var e=t(this),i=e.data("linktoslide");"next"!=i&&"prev"!=i?(n.container.data("showus",i),n.container.parent().find(".tp-rightarrow").click()):"next"==i?n.container.parent().find(".tp-rightarrow").click():"prev"==i&&n.container.parent().find(".tp-leftarrow").click()})),s<0&&(s=0),h.hasClass("tp-videolayer")||h.find("iframe").length>0||h.find("video").length>0){var g="iframe"+Math.round(1e5*Math.random()+1),m=h.data("videowidth"),v=h.data("videoheight"),w=h.data("videoattributes"),y=h.data("ytid"),b=h.data("vimeoid"),x=h.data("videpreload"),_=h.data("videomp4"),T=h.data("videowebm"),k=h.data("videocontrols"),C="http",S="loop"==h.data("videoloop")?"loop":"loopandnoslidestop"==h.data("videoloop")?"loop":"";h.data("thumbimage")!=e&&h.data("videoposter")==e&&h.data("videoposter",h.data("thumbimage")),y!=e&&String(y).length>1&&0==h.find("iframe").length&&(C="https","none"==k&&(w=w.replace("controls=1","controls=0"),-1==w.toLowerCase().indexOf("controls")&&(w+="&controls=0")),h.append('<iframe style="visible:hidden" src="'+C+"://www.youtube.com/embed/"+y+"?"+w+'" width="'+m+'" height="'+v+'" style="width:'+m+"px;height:"+v+'px"></iframe>')),b!=e&&String(b).length>1&&0==h.find("iframe").length&&h.append('<iframe style="visible:hidden" src="'+C+"://player.vimeo.com/video/"+b+"?"+w+'" width="'+m+'" height="'+v+'" style="width:'+m+"px;height:"+v+'px"></iframe>'),_==e&&T==e||0!=h.find("video").length||("controls"!=k&&(k=""),h.append('<video style="visible:hidden" class="" '+S+" "+k+' preload="'+x+'" width="'+m+'" height="'+v+'"poster="'+h.data("videoposter")+'"><source src="'+_+'" type="video/mp4"" /><source src="'+T+'" type="video/webm"" /></video>'));var L=!1;1!=h.data("autoplayonlyfirsttime")&&"true"!=h.data("autoplayonlyfirsttime")&&1!=h.data("autoplay")||(h.data("autoplay",!0),L=!0),h.find("iframe").each(function(){var i=t(this);if(punchgs.TweenLite.to(i,.1,{autoAlpha:1,zIndex:0,transformStyle:"preserve-3d",z:0,rotationX:0,force3D:"auto"}),V()){var a=i.attr("src");i.attr("src",""),i.attr("src",a)}if(n.nextslideatend=h.data("nextslideatend"),h.data("videoposter")!=e&&h.data("videoposter").length>2&&1!=h.data("autoplay")&&!r&&(0==h.find(".tp-thumb-image").length?h.append('<div class="tp-thumb-image" style="cursor:pointer; position:absolute;top:0px;left:0px;width:100%;height:100%;background-image:url('+h.data("videoposter")+'); background-size:cover"></div>'):punchgs.TweenLite.set(h.find(".tp-thumb-image"),{autoAlpha:1})),i.attr("src").toLowerCase().indexOf("youtube")>=0)if(i.hasClass("HasListener")){var o=h.data("player");"on"!=h.data("forcerewind")||V()||o.seekTo(0),(!V()&&1==h.data("autoplay")||L)&&h.data("timerplay",setTimeout(function(){o.playVideo()},h.data("start")))}else try{i.attr("id",g);var o,s=setInterval(function(){YT!=e&&typeof YT.Player!=e&&void 0!==YT.Player&&(o=new YT.Player(g,{events:{onStateChange:z,onReady:function(i){var n=i.target.getVideoEmbedCode(),a=t("#"+n.split('id="')[1].split('"')[0]),r=a.closest(".tp-caption"),s=r.data("videorate");r.data("videostart");s!=e&&i.target.setPlaybackRate(parseFloat(s)),(1==r.data("autoplay")||L)&&i.target.playVideo(),r.find(".tp-thumb-image").click(function(){punchgs.TweenLite.to(t(this),.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),V()||o.playVideo()})}}})),i.addClass("HasListener"),h.data("player",o),clearInterval(s)},100)}catch(t){}else if(i.attr("src").toLowerCase().indexOf("vimeo")>=0)if(i.hasClass("HasListener")){if(!V()&&(1==h.data("autoplay")||"on"==h.data("forcerewind"))){var i=h.find("iframe"),l=i.attr("id"),d=$f(l);"on"==h.data("forcerewind")&&d.api("seekTo",0),h.data("timerplay",setTimeout(function(){1==h.data("autoplay")&&d.api("play")},h.data("start")))}}else{i.addClass("HasListener"),i.attr("id",g);for(var c,p=i.attr("src"),u={},f=p,m=/([^&=]+)=([^&]*)/g;c=m.exec(f);)u[decodeURIComponent(c[1])]=decodeURIComponent(c[2]);p=u.player_id!=e?p.replace(u.player_id,g):p+"&player_id="+g;try{p=p.replace("api=0","api=1")}catch(t){}p+="&api=1",i.attr("src",p);var o=h.find("iframe")[0],v=setInterval(function(){$f!=e&&typeof $f(g).api!=e&&void 0!==$f(g).api&&($f(o).addEvent("ready",function(){M(g,L)}),clearInterval(v))},100)}}),V()&&1==h.data("disablevideoonmobile")&&h.find("video").remove(),V()&&t(window).width()<569&&h.find("video").remove(),h.find("video").length>0&&h.find("video").each(function(i){var a=this,o=t(this);o.parent().hasClass("html5vid")||o.wrap('<div class="html5vid" style="position:relative;top:0px;left:0px;width:auto;height:auto"></div>');var r=o.parent();a.addEventListener?a.addEventListener("loadedmetadata",function(){r.data("metaloaded",1)}):a.attachEvent("loadedmetadata",function(){r.data("metaloaded",1)}),clearInterval(r.data("interval")),r.data("interval",setInterval(function(){if(1==r.data("metaloaded")||NaN!=a.duration){clearInterval(r.data("interval")),r.hasClass("HasListener")||(r.addClass("HasListener"),"none"!=h.data("dottedoverlay")&&h.data("dottedoverlay")!=e&&1!=h.find(".tp-dottedoverlay").length&&r.append('<div class="tp-dottedoverlay '+h.data("dottedoverlay")+'"></div>'),o.attr("control")==e&&(0==r.find(".tp-video-play-button").length&&r.append('<div class="tp-video-play-button"><i class="revicon-right-dir"></i><div class="tp-revstop"></div></div>'),r.find("video, .tp-poster, .tp-video-play-button").click(function(){r.hasClass("videoisplaying")?a.pause():a.play()})),(1==h.data("forcecover")||h.hasClass("fullscreenvideo"))&&(1==h.data("forcecover")&&(E(r,n.container),r.addClass("fullcoveredvideo"),h.addClass("fullcoveredvideo")),r.css({width:"100%",height:"100%"})),a.addEventListener?a.addEventListener("play",function(){"mute"==h.data("volume")&&(a.muted=!0),r.addClass("videoisplaying"),"loopandnoslidestop"==h.data("videoloop")?(n.videoplaying=!1,n.container.trigger("starttimer"),n.container.trigger("revolution.slide.onvideostop")):(n.videoplaying=!0,n.container.trigger("stoptimer"),n.container.trigger("revolution.slide.onvideoplay"))}):a.attachEvent("play",function(){"mute"==h.data("volume")&&(a.muted=!0),r.addClass("videoisplaying"),"loopandnoslidestop"==h.data("videoloop")?(n.videoplaying=!1,n.container.trigger("starttimer"),n.container.trigger("revolution.slide.onvideostop")):(n.videoplaying=!0,n.container.trigger("stoptimer"),n.container.trigger("revolution.slide.onvideoplay"))}),a.addEventListener?a.addEventListener("pause",function(){r.removeClass("videoisplaying"),n.videoplaying=!1,n.container.trigger("starttimer"),n.container.trigger("revolution.slide.onvideostop")}):a.attachEvent("pause",function(){r.removeClass("videoisplaying"),n.videoplaying=!1,n.container.trigger("starttimer"),n.container.trigger("revolution.slide.onvideostop")}),a.addEventListener?a.addEventListener("ended",function(){r.removeClass("videoisplaying"),n.videoplaying=!1,n.container.trigger("starttimer"),n.container.trigger("revolution.slide.onvideostop"),1==n.nextslideatend&&n.container.revnext()}):a.attachEvent("ended",function(){r.removeClass("videoisplaying"),n.videoplaying=!1,n.container.trigger("starttimer"),n.container.trigger("revolution.slide.onvideostop"),1==n.nextslideatend&&n.container.revnext()}));var t=!1;1!=h.data("autoplayonlyfirsttime")&&"true"!=h.data("autoplayonlyfirsttime")||(t=!0);var i=16/9;if("4:3"==h.data("aspectratio")&&(i=4/3),r.data("mediaAspect",i),1==r.closest(".tp-caption").data("forcecover")&&(E(r,n.container),r.addClass("fullcoveredvideo")),o.css({display:"block"}),n.nextslideatend=h.data("nextslideatend"),1!=h.data("autoplay")&&1!=t||("loopandnoslidestop"==h.data("videoloop")?(n.videoplaying=!1,n.container.trigger("starttimer"),n.container.trigger("revolution.slide.onvideostop")):(n.videoplaying=!0,n.container.trigger("stoptimer"),n.container.trigger("revolution.slide.onvideoplay")),"on"!=h.data("forcerewind")||r.hasClass("videoisplaying")||a.currentTime>0&&(a.currentTime=0),"mute"==h.data("volume")&&(a.muted=!0),r.data("timerplay",setTimeout(function(){"on"!=h.data("forcerewind")||r.hasClass("videoisplaying")||a.currentTime>0&&(a.currentTime=0),"mute"==h.data("volume")&&(a.muted=!0),a.play()},10+h.data("start")))),r.data("ww")==e&&r.data("ww",o.attr("width")),r.data("hh")==e&&r.data("hh",o.attr("height")),!h.hasClass("fullscreenvideo")&&1==h.data("forcecover"))try{r.width(r.data("ww")*n.bw),r.height(r.data("hh")*n.bh)}catch(t){}clearInterval(r.data("interval"))}}),100)}),1==h.data("autoplay")&&(setTimeout(function(){"loopandnoslidestop"!=h.data("videoloop")&&(n.videoplaying=!0,n.container.trigger("stoptimer"))},200),"loopandnoslidestop"!=h.data("videoloop")&&(n.videoplaying=!0,n.container.trigger("stoptimer")),1!=h.data("autoplayonlyfirsttime")&&"true"!=h.data("autoplayonlyfirsttime")||(h.data("autoplay",!1),h.data("autoplayonlyfirsttime",!1)))}var P=0,A=0;if(h.find("img").length>0){var O=h.find("img");0==O.width()&&O.css({width:"auto"}),0==O.height()&&O.css({height:"auto"}),O.data("ww")==e&&O.width()>0&&O.data("ww",O.width()),O.data("hh")==e&&O.height()>0&&O.data("hh",O.height());var R=O.data("ww"),j=O.data("hh");R==e&&(R=0),j==e&&(j=0),O.width(R*n.bw),O.height(j*n.bh),P=O.width(),A=O.height()}else if(h.find("iframe").length>0||h.find("video").length>0){var U=!1,O=h.find("iframe");0==O.length&&(O=h.find("video"),U=!0),O.css({display:"block"}),h.data("ww")==e&&h.data("ww",O.width()),h.data("hh")==e&&h.data("hh",O.height());var R=h.data("ww"),j=h.data("hh"),q=h;q.data("fsize")==e&&q.data("fsize",parseInt(q.css("font-size"),0)||0),q.data("pt")==e&&q.data("pt",parseInt(q.css("paddingTop"),0)||0),q.data("pb")==e&&q.data("pb",parseInt(q.css("paddingBottom"),0)||0),q.data("pl")==e&&q.data("pl",parseInt(q.css("paddingLeft"),0)||0),q.data("pr")==e&&q.data("pr",parseInt(q.css("paddingRight"),0)||0),q.data("mt")==e&&q.data("mt",parseInt(q.css("marginTop"),0)||0),q.data("mb")==e&&q.data("mb",parseInt(q.css("marginBottom"),0)||0),q.data("ml")==e&&q.data("ml",parseInt(q.css("marginLeft"),0)||0),q.data("mr")==e&&q.data("mr",parseInt(q.css("marginRight"),0)||0),q.data("bt")==e&&q.data("bt",parseInt(q.css("borderTop"),0)||0),q.data("bb")==e&&q.data("bb",parseInt(q.css("borderBottom"),0)||0),q.data("bl")==e&&q.data("bl",parseInt(q.css("borderLeft"),0)||0),q.data("br")==e&&q.data("br",parseInt(q.css("borderRight"),0)||0),q.data("lh")==e&&q.data("lh",parseInt(q.css("lineHeight"),0)||0);var Q=n.width,G=n.height;if(Q>n.startwidth&&(Q=n.startwidth),G>n.startheight&&(G=n.startheight),h.hasClass("fullscreenvideo")){s=0,l=0,h.data("x",0),h.data("y",0);var $=n.height;"on"==n.autoHeight&&($=n.container.height()),h.css({width:n.width,height:$})}else h.css({"font-size":q.data("fsize")*n.bw+"px","padding-top":q.data("pt")*n.bh+"px","padding-bottom":q.data("pb")*n.bh+"px","padding-left":q.data("pl")*n.bw+"px","padding-right":q.data("pr")*n.bw+"px","margin-top":q.data("mt")*n.bh+"px","margin-bottom":q.data("mb")*n.bh+"px","margin-left":q.data("ml")*n.bw+"px","margin-right":q.data("mr")*n.bw+"px","border-top":q.data("bt")*n.bh+"px","border-bottom":q.data("bb")*n.bh+"px","border-left":q.data("bl")*n.bw+"px","border-right":q.data("br")*n.bw+"px","line-height":q.data("lh")*n.bh+"px",height:j*n.bh+"px"});0==U?(O.width(R*n.bw),O.height(j*n.bh)):1==h.data("forcecover")||h.hasClass("fullscreenvideo")||(O.width(R*n.bw),O.height(j*n.bh)),P=O.width(),A=O.height()}else{h.find(".tp-resizeme, .tp-resizeme *").each(function(){W(t(this),n)}),h.hasClass("tp-resizeme")&&h.find("*").each(function(){W(t(this),n)}),W(h,n),A=h.outerHeight(!0),P=h.outerWidth(!0);var Z=h.outerHeight(),K=h.css("backgroundColor");h.find(".frontcorner").css({borderWidth:Z+"px",left:0-Z+"px",borderRight:"0px solid transparent",borderTopColor:K}),h.find(".frontcornertop").css({borderWidth:Z+"px",left:0-Z+"px",borderRight:"0px solid transparent",borderBottomColor:K}),h.find(".backcorner").css({borderWidth:Z+"px",right:0-Z+"px",borderLeft:"0px solid transparent",borderBottomColor:K}),h.find(".backcornertop").css({borderWidth:Z+"px",right:0-Z+"px",borderLeft:"0px solid transparent",borderTopColor:K})}"on"==n.fullScreenAlignForce&&(s=0,l=0),h.data("voffset")==e&&h.data("voffset",0),h.data("hoffset")==e&&h.data("hoffset",0);var J=h.data("voffset")*u,tt=h.data("hoffset")*u,et=n.startwidth*u,it=n.startheight*u;"on"==n.fullScreenAlignForce&&(et=n.container.width(),it=n.container.height()),"center"!=h.data("x")&&"center"!=h.data("xcenter")||(h.data("xcenter","center"),h.data("x",et/2-h.outerWidth(!0)/2+tt)),"left"!=h.data("x")&&"left"!=h.data("xleft")||(h.data("xleft","left"),h.data("x",0/u+tt)),"right"!=h.data("x")&&"right"!=h.data("xright")||(h.data("xright","right"),h.data("x",(et-h.outerWidth(!0)+tt)/u)),"center"!=h.data("y")&&"center"!=h.data("ycenter")||(h.data("ycenter","center"),h.data("y",it/2-h.outerHeight(!0)/2+J)),"top"!=h.data("y")&&"top"!=h.data("ytop")||(h.data("ytop","top"),h.data("y",0/n.bh+J)),"bottom"!=h.data("y")&&"bottom"!=h.data("ybottom")||(h.data("ybottom","bottom"),h.data("y",(it-h.outerHeight(!0)+J)/u)),h.data("start")==e&&h.data("start",1e3);var nt=h.data("easing");nt==e&&(nt="punchgs.Power1.easeOut");var at=h.data("start")/1e3,ot=h.data("speed")/1e3;if("center"==h.data("x")||"center"==h.data("xcenter"))var rt=h.data("x")+s;else var rt=u*h.data("x")+s;if("center"==h.data("y")||"center"==h.data("ycenter"))var st=h.data("y")+l;else var st=n.bh*h.data("y")+l;if(punchgs.TweenLite.set(h,{top:st,left:rt,overwrite:"auto"}),0==d&&(r=!0),h.data("timeline")==e||r||(2!=d&&h.data("timeline").gotoAndPlay(0),r=!0),!r){h.data("timeline");var lt=new punchgs.TimelineLite({smoothChildTiming:!0,onStart:o});lt.pause(),n.fullScreenAlignForce;var dt=h;h.data("mySplitText")!=e&&h.data("mySplitText").revert(),"chars"!=h.data("splitin")&&"words"!=h.data("splitin")&&"lines"!=h.data("splitin")&&"chars"!=h.data("splitout")&&"words"!=h.data("splitout")&&"lines"!=h.data("splitout")||(h.find("a").length>0?h.data("mySplitText",new punchgs.SplitText(h.find("a"),{type:"lines,words,chars",charsClass:"tp-splitted",wordsClass:"tp-splitted",linesClass:"tp-splitted"})):h.find(".tp-layer-inner-rotation").length>0?h.data("mySplitText",new punchgs.SplitText(h.find(".tp-layer-inner-rotation"),{type:"lines,words,chars",charsClass:"tp-splitted",wordsClass:"tp-splitted",linesClass:"tp-splitted"})):h.data("mySplitText",new punchgs.SplitText(h,{type:"lines,words,chars",charsClass:"tp-splitted",wordsClass:"tp-splitted",linesClass:"tp-splitted"})),h.addClass("splitted")),"chars"==h.data("splitin")&&(dt=h.data("mySplitText").chars),"words"==h.data("splitin")&&(dt=h.data("mySplitText").words),"lines"==h.data("splitin")&&(dt=h.data("mySplitText").lines);var ht=I(),ct=I();h.data("repeat")!=e&&(repeatV=h.data("repeat")),h.data("yoyo")!=e&&(yoyoV=h.data("yoyo")),h.data("repeatdelay")!=e&&(repeatdelayV=h.data("repeatdelay")),h.hasClass("customin")?ht=F(ht,h.data("customin")):h.hasClass("randomrotate")?(ht.scale=3*Math.random()+1,ht.rotation=Math.round(200*Math.random()-100),ht.x=Math.round(200*Math.random()-100),ht.y=Math.round(200*Math.random()-100)):h.hasClass("lfr")||h.hasClass("skewfromright")?ht.x=15+n.width:h.hasClass("lfl")||h.hasClass("skewfromleft")?ht.x=-15-P:h.hasClass("sfl")||h.hasClass("skewfromleftshort")?ht.x=-50:h.hasClass("sfr")||h.hasClass("skewfromrightshort")?ht.x=50:h.hasClass("lft")?ht.y=-25-A:h.hasClass("lfb")?ht.y=25+n.height:h.hasClass("sft")?ht.y=-50:h.hasClass("sfb")&&(ht.y=50),h.hasClass("skewfromright")||h.hasClass("skewfromrightshort")?ht.skewX=-85:(h.hasClass("skewfromleft")||h.hasClass("skewfromleftshort"))&&(ht.skewX=85),(h.hasClass("fade")||h.hasClass("sft")||h.hasClass("sfl")||h.hasClass("sfb")||h.hasClass("skewfromleftshort")||h.hasClass("sfr")||h.hasClass("skewfromrightshort"))&&(ht.opacity=0),H().toLowerCase();var pt=h.data("elementdelay")==e?0:h.data("elementdelay");ct.ease=ht.ease=h.data("easing")==e?punchgs.Power1.easeInOut:h.data("easing"),ht.data=new Object,ht.data.oldx=ht.x,ht.data.oldy=ht.y,ct.data=new Object,ct.data.oldx=ct.x,ct.data.oldy=ct.y,ht.x=ht.x*u,ht.y=ht.y*u;var ut=new punchgs.TimelineLite;if(2!=d)if(h.hasClass("customin"))dt!=h&&lt.add(punchgs.TweenLite.set(h,{force3D:"auto",opacity:1,scaleX:1,scaleY:1,rotationX:0,rotationY:0,rotationZ:0,skewX:0,skewY:0,z:0,x:0,y:0,visibility:"visible",opacity:1,delay:0,overwrite:"all"})),ht.visibility="hidden",ct.visibility="visible",ct.overwrite="all",ct.opacity=1,ct.onComplete=void 0,ct.delay=at,ct.force3D="auto",lt.add(ut.staggerFromTo(dt,ot,ht,ct,pt),"frame0");else if(ht.visibility="visible",ht.transformPerspective=600,dt!=h&&lt.add(punchgs.TweenLite.set(h,{force3D:"auto",opacity:1,scaleX:1,scaleY:1,rotationX:0,rotationY:0,rotationZ:0,skewX:0,skewY:0,z:0,x:0,y:0,visibility:"visible",opacity:1,delay:0,overwrite:"all"})),ct.visibility="visible",ct.delay=at,ct.onComplete=void 0,ct.opacity=1,ct.force3D="auto",h.hasClass("randomrotate")&&dt!=h)for(var i=0;i<dt.length;i++){var ft=new Object,gt=new Object;t.extend(ft,ht),t.extend(gt,ct),ht.scale=3*Math.random()+1,ht.rotation=Math.round(200*Math.random()-100),ht.x=Math.round(200*Math.random()-100),ht.y=Math.round(200*Math.random()-100),0!=i&&(gt.delay=at+i*pt),lt.append(punchgs.TweenLite.fromTo(dt[i],ot,ft,gt),"frame0")}else lt.add(ut.staggerFromTo(dt,ot,ht,ct,pt),"frame0");h.data("timeline",lt);new Array;if(h.data("frames")!=e){var mt=h.data("frames");mt=mt.replace(/\s+/g,""),mt=mt.replace("{","");var vt=mt.split("}");t.each(vt,function(t,e){if(e.length>0){var i=D(e);Y(h,n,i,"frame"+(t+10),u)}})}lt=h.data("timeline"),h.data("end")==e||-1!=d&&2!=d?-1==d||2==d?B(h,n,999999,ht,"frame99",u):B(h,n,200,ht,"frame99",u):B(h,n,h.data("end")/1e3,ht,"frame99",u),lt=h.data("timeline"),h.data("timeline",lt),N(h,u),lt.resume()}}if(r&&(X(h),N(h,u),h.data("timeline")!=e)){var wt=h.data("timeline").getTweensOf();t.each(wt,function(t,i){if(i.vars.data!=e){var n=i.vars.data.oldx*u,a=i.vars.data.oldy*u;if(1!=i.progress()&&0!=i.progress())try{i.vars.x=n,i.vary.y=a}catch(t){}else 1==i.progress()&&punchgs.TweenLite.set(i.target,{x:n,y:a})}})}}),t("body").find("#"+n.container.attr("id")).find(".tp-bannertimer").data("opt",n),o!=e&&setTimeout(function(){o.resume()},30)},H=function(){var t,e=navigator.appName,i=navigator.userAgent,n=i.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);return n&&null!=(t=i.match(/version\/([\.\d]+)/i))&&(n[2]=t[1]),n=n?[n[1],n[2]]:[e,navigator.appVersion,"-?"],n[0]},W=function(t,i){t.data("fsize")==e&&t.data("fsize",parseInt(t.css("font-size"),0)||0),t.data("pt")==e&&t.data("pt",parseInt(t.css("paddingTop"),0)||0),t.data("pb")==e&&t.data("pb",parseInt(t.css("paddingBottom"),0)||0),t.data("pl")==e&&t.data("pl",parseInt(t.css("paddingLeft"),0)||0),t.data("pr")==e&&t.data("pr",parseInt(t.css("paddingRight"),0)||0),t.data("mt")==e&&t.data("mt",parseInt(t.css("marginTop"),0)||0),t.data("mb")==e&&t.data("mb",parseInt(t.css("marginBottom"),0)||0),t.data("ml")==e&&t.data("ml",parseInt(t.css("marginLeft"),0)||0),t.data("mr")==e&&t.data("mr",parseInt(t.css("marginRight"),0)||0),t.data("bt")==e&&t.data("bt",parseInt(t.css("borderTopWidth"),0)||0),t.data("bb")==e&&t.data("bb",parseInt(t.css("borderBottomWidth"),0)||0),t.data("bl")==e&&t.data("bl",parseInt(t.css("borderLeftWidth"),0)||0),t.data("br")==e&&t.data("br",parseInt(t.css("borderRightWidth"),0)||0),
t.data("ls")==e&&t.data("ls",parseInt(t.css("letterSpacing"),0)||0),t.data("lh")==e&&t.data("lh",parseInt(t.css("lineHeight"),0)||"auto"),t.data("minwidth")==e&&t.data("minwidth",parseInt(t.css("minWidth"),0)||0),t.data("minheight")==e&&t.data("minheight",parseInt(t.css("minHeight"),0)||0),t.data("maxwidth")==e&&t.data("maxwidth",parseInt(t.css("maxWidth"),0)||"none"),t.data("maxheight")==e&&t.data("maxheight",parseInt(t.css("maxHeight"),0)||"none"),t.data("wii")==e&&t.data("wii",parseInt(t.css("width"),0)||0),t.data("hii")==e&&t.data("hii",parseInt(t.css("height"),0)||0),t.data("wan")==e&&t.data("wan",t.css("-webkit-transition")),t.data("moan")==e&&t.data("moan",t.css("-moz-animation-transition")),t.data("man")==e&&t.data("man",t.css("-ms-animation-transition")),t.data("ani")==e&&t.data("ani",t.css("transition")),t.hasClass("tp-splitted")||(t.css("-webkit-transition","none"),t.css("-moz-transition","none"),t.css("-ms-transition","none"),t.css("transition","none"),punchgs.TweenLite.set(t,{fontSize:Math.round(t.data("fsize")*i.bw)+"px",letterSpacing:Math.floor(t.data("ls")*i.bw)+"px",paddingTop:Math.round(t.data("pt")*i.bh)+"px",paddingBottom:Math.round(t.data("pb")*i.bh)+"px",paddingLeft:Math.round(t.data("pl")*i.bw)+"px",paddingRight:Math.round(t.data("pr")*i.bw)+"px",marginTop:t.data("mt")*i.bh+"px",marginBottom:t.data("mb")*i.bh+"px",marginLeft:t.data("ml")*i.bw+"px",marginRight:t.data("mr")*i.bw+"px",borderTopWidth:Math.round(t.data("bt")*i.bh)+"px",borderBottomWidth:Math.round(t.data("bb")*i.bh)+"px",borderLeftWidth:Math.round(t.data("bl")*i.bw)+"px",borderRightWidth:Math.round(t.data("br")*i.bw)+"px",lineHeight:Math.round(t.data("lh")*i.bh)+"px",minWidth:t.data("minwidth")*i.bw+"px",minHeight:t.data("minheight")*i.bh+"px",overwrite:"auto"}),setTimeout(function(){t.css("-webkit-transition",t.data("wan")),t.css("-moz-transition",t.data("moan")),t.css("-ms-transition",t.data("man")),t.css("transition",t.data("ani"))},30),"none"!=t.data("maxheight")&&t.css({maxHeight:t.data("maxheight")*i.bh+"px"}),"none"!=t.data("maxwidth")&&t.css({maxWidth:t.data("maxwidth")*i.bw+"px"}))},N=function(i,n){i.find(".rs-pendulum").each(function(){var i=t(this);if(i.data("timeline")==e){i.data("timeline",new punchgs.TimelineLite);var a=i.data("startdeg")==e?-20:i.data("startdeg"),o=i.data("enddeg")==e?20:i.data("enddeg");speed=i.data("speed")==e?2:i.data("speed"),origin=i.data("origin")==e?"50% 50%":i.data("origin"),easing=i.data("ease")==e?punchgs.Power2.easeInOut:i.data("ease"),a*=n,o*=n,i.data("timeline").append(new punchgs.TweenLite.fromTo(i,speed,{force3D:"auto",rotation:a,transformOrigin:origin},{rotation:o,ease:easing})),i.data("timeline").append(new punchgs.TweenLite.fromTo(i,speed,{force3D:"auto",rotation:o,transformOrigin:origin},{rotation:a,ease:easing,onComplete:function(){i.data("timeline").restart()}}))}}),i.find(".rs-slideloop").each(function(){var i=t(this);if(i.data("timeline")==e){i.data("timeline",new punchgs.TimelineLite);var a=i.data("xs")==e?0:i.data("xs"),o=i.data("ys")==e?0:i.data("ys");xe=i.data("xe")==e?0:i.data("xe"),ye=i.data("ye")==e?0:i.data("ye"),speed=i.data("speed")==e?2:i.data("speed"),easing=i.data("ease")==e?punchgs.Power2.easeInOut:i.data("ease"),a*=n,o*=n,xe*=n,ye*=n,i.data("timeline").append(new punchgs.TweenLite.fromTo(i,speed,{force3D:"auto",x:a,y:o},{x:xe,y:ye,ease:easing})),i.data("timeline").append(new punchgs.TweenLite.fromTo(i,speed,{force3D:"auto",x:xe,y:ye},{x:a,y:o,onComplete:function(){i.data("timeline").restart()}}))}}),i.find(".rs-pulse").each(function(){var i=t(this);if(i.data("timeline")==e){i.data("timeline",new punchgs.TimelineLite);var n=i.data("zoomstart")==e?0:i.data("zoomstart"),a=i.data("zoomend")==e?0:i.data("zoomend");speed=i.data("speed")==e?2:i.data("speed"),easing=i.data("ease")==e?punchgs.Power2.easeInOut:i.data("ease"),i.data("timeline").append(new punchgs.TweenLite.fromTo(i,speed,{force3D:"auto",scale:n},{scale:a,ease:easing})),i.data("timeline").append(new punchgs.TweenLite.fromTo(i,speed,{force3D:"auto",scale:a},{scale:n,onComplete:function(){i.data("timeline").restart()}}))}}),i.find(".rs-wave").each(function(){var i=t(this);if(i.data("timeline")==e){i.data("timeline",new punchgs.TimelineLite);var a=i.data("angle")==e?10:i.data("angle"),o=i.data("radius")==e?10:i.data("radius"),r=i.data("speed")==e?-20:i.data("speed");i.data("origin")==e||i.data("origin");a*=n,o*=n;var s={a:0,ang:a,element:i,unit:o};i.data("timeline").append(new punchgs.TweenLite.fromTo(s,r,{a:360},{a:0,force3D:"auto",ease:punchgs.Linear.easeNone,onUpdate:function(){var t=s.a*(Math.PI/180);punchgs.TweenLite.to(s.element,.1,{force3D:"auto",x:Math.cos(t)*s.unit,y:s.unit*(1-Math.sin(t))})},onComplete:function(){i.data("timeline").restart()}}))}})},X=function(i){i.find(".rs-pendulum, .rs-slideloop, .rs-pulse, .rs-wave").each(function(){var i=t(this);i.data("timeline")!=e&&(i.data("timeline").pause(),i.data("timeline",null))})},j=function(i,n){var a=0,o=i.find(".tp-caption"),r=n.container.find(".tp-static-layers").find(".tp-caption");return t.each(r,function(t,e){o.push(e)}),o.each(function(i){var o=-1,r=t(this);if(r.hasClass("tp-static-layer")&&(-1!=r.data("startslide")&&"-1"!=r.data("startslide")||r.data("startslide",0),-1!=r.data("endslide")&&"-1"!=r.data("endslide")||r.data("endslide",n.slideamount),r.hasClass("tp-is-shown")?r.data("startslide")>n.next||r.data("endslide")<n.next?(o=2,r.removeClass("tp-is-shown")):o=0:o=2),0!=o){if(X(r),r.find("iframe").length>0){punchgs.TweenLite.to(r.find("iframe"),.2,{autoAlpha:0}),V()&&r.find("iframe").remove();try{var s=r.find("iframe"),l=s.attr("id");$f(l).api("pause"),clearTimeout(r.data("timerplay"))}catch(t){}try{r.data("player").stopVideo(),clearTimeout(r.data("timerplay"))}catch(t){}}if(r.find("video").length>0)try{r.find("video").each(function(e){var i=t(this).parent();i.attr("id");clearTimeout(i.data("timerplay")),this.pause()})}catch(t){}try{var d=r.data("timeline");if(d.getLabelTime("frame99")>d.time()){var h=d.getTweensOf(r);if(t.each(h,function(t,e){0!=t&&e.pause()}),0!=r.css("opacity")){var c=r.data("endspeed")==e?r.data("speed"):r.data("endspeed");c>a&&(a=c),d.play("frame99")}else d.progress(1,!1)}}catch(t){}}}),a},Y=function(t,i,n,a,o){var r=t.data("timeline"),s=new punchgs.TimelineLite,l=t;"chars"==n.typ?l=t.data("mySplitText").chars:"words"==n.typ?l=t.data("mySplitText").words:"lines"==n.typ&&(l=t.data("mySplitText").lines),n.animation.ease=n.ease,n.animation.rotationZ!=e&&(n.animation.rotation=n.animation.rotationZ),n.animation.data=new Object,n.animation.data.oldx=n.animation.x,n.animation.data.oldy=n.animation.y,n.animation.x=n.animation.x*o,n.animation.y=n.animation.y*o,r.add(s.staggerTo(l,n.speed,n.animation,n.elementdelay),n.start),r.addLabel(a,n.start),t.data("timeline",r)},B=function(t,i,n,a,o,r){var s=t.data("timeline"),l=new punchgs.TimelineLite,d=I(),h=t.data("endspeed")==e?t.data("speed"):t.data("endspeed");if(d.ease=t.data("endeasing")==e?punchgs.Power1.easeInOut:t.data("endeasing"),h/=1e3,t.hasClass("ltr")||t.hasClass("ltl")||t.hasClass("str")||t.hasClass("stl")||t.hasClass("ltt")||t.hasClass("ltb")||t.hasClass("stt")||t.hasClass("stb")||t.hasClass("skewtoright")||t.hasClass("skewtorightshort")||t.hasClass("skewtoleft")||t.hasClass("skewtoleftshort")||t.hasClass("fadeout")||t.hasClass("randomrotateout")){t.hasClass("skewtoright")||t.hasClass("skewtorightshort")?d.skewX=35:(t.hasClass("skewtoleft")||t.hasClass("skewtoleftshort"))&&(d.skewX=-35),t.hasClass("ltr")||t.hasClass("skewtoright")?d.x=i.width+60:t.hasClass("ltl")||t.hasClass("skewtoleft")?d.x=0-(i.width+60):t.hasClass("ltt")?d.y=0-(i.height+60):t.hasClass("ltb")?d.y=i.height+60:t.hasClass("str")||t.hasClass("skewtorightshort")?(d.x=50,d.opacity=0):t.hasClass("stl")||t.hasClass("skewtoleftshort")?(d.x=-50,d.opacity=0):t.hasClass("stt")?(d.y=-50,d.opacity=0):t.hasClass("stb")?(d.y=50,d.opacity=0):t.hasClass("randomrotateout")?(d.x=Math.random()*i.width,d.y=Math.random()*i.height,d.scale=2*Math.random()+.3,d.rotation=360*Math.random()-180,d.opacity=0):t.hasClass("fadeout")&&(d.opacity=0),t.hasClass("skewtorightshort")?d.x=270:t.hasClass("skewtoleftshort")&&(d.x=-270),d.data=new Object,d.data.oldx=d.x,d.data.oldy=d.y,d.x=d.x*r,d.y=d.y*r,d.overwrite="auto";var c=t,c=t;"chars"==t.data("splitout")?c=t.data("mySplitText").chars:"words"==t.data("splitout")?c=t.data("mySplitText").words:"lines"==t.data("splitout")&&(c=t.data("mySplitText").lines);var p=t.data("endelementdelay")==e?0:t.data("endelementdelay");s.add(l.staggerTo(c,h,d,p),n)}else if(t.hasClass("customout")){d=F(d,t.data("customout"));var c=t;"chars"==t.data("splitout")?c=t.data("mySplitText").chars:"words"==t.data("splitout")?c=t.data("mySplitText").words:"lines"==t.data("splitout")&&(c=t.data("mySplitText").lines);var p=t.data("endelementdelay")==e?0:t.data("endelementdelay");d.onStart=function(){punchgs.TweenLite.set(t,{transformPerspective:d.transformPerspective,transformOrigin:d.transformOrigin,overwrite:"auto"})},d.data=new Object,d.data.oldx=d.x,d.data.oldy=d.y,d.x=d.x*r,d.y=d.y*r,s.add(l.staggerTo(c,h,d,p),n)}else a.delay=0,s.add(punchgs.TweenLite.to(t,h,a),n);s.addLabel(o,n),t.data("timeline",s)},U=function(e,i){e.children().each(function(){try{t(this).die("click")}catch(t){}try{t(this).die("mouseenter")}catch(t){}try{t(this).die("mouseleave")}catch(t){}try{t(this).unbind("hover")}catch(t){}});try{e.die("click","mouseenter","mouseleave")}catch(t){}clearInterval(i.cdint),e=null},q=function(i,n){if(n.cd=0,n.loop=0,n.stopAfterLoops!=e&&n.stopAfterLoops>-1?n.looptogo=n.stopAfterLoops:n.looptogo=9999999,n.stopAtSlide!=e&&n.stopAtSlide>-1?n.lastslidetoshow=n.stopAtSlide:n.lastslidetoshow=999,n.stopLoop="off",0==n.looptogo&&(n.stopLoop="on"),n.slideamount>1&&(0!=n.stopAfterLoops||1!=n.stopAtSlide)){var a=i.find(".tp-bannertimer");i.on("stoptimer",function(){var e=t(this).find(".tp-bannertimer");e.data("tween").pause(),"on"==n.hideTimerBar&&e.css({visibility:"hidden"})}),i.on("starttimer",function(){1!=n.conthover&&1!=n.videoplaying&&n.width>n.hideSliderAtLimit&&1!=n.bannertimeronpause&&1!=n.overnav&&("on"==n.stopLoop&&n.next==n.lastslidetoshow-1||1==n.noloopanymore?n.noloopanymore=1:(a.css({visibility:"visible"}),a.data("tween").resume())),"on"==n.hideTimerBar&&a.css({visibility:"hidden"})}),i.on("restarttimer",function(){var e=t(this).find(".tp-bannertimer");"on"==n.stopLoop&&n.next==n.lastslidetoshow-1||1==n.noloopanymore?n.noloopanymore=1:(e.css({visibility:"visible"}),e.data("tween").kill(),e.data("tween",punchgs.TweenLite.fromTo(e,n.delay/1e3,{width:"0%"},{force3D:"auto",width:"100%",ease:punchgs.Linear.easeNone,onComplete:o,delay:1}))),"on"==n.hideTimerBar&&e.css({visibility:"hidden"})}),i.on("nulltimer",function(){a.data("tween").pause(0),"on"==n.hideTimerBar&&a.css({visibility:"hidden"})});var o=function(){0==t("body").find(i).length&&(U(i,n),clearInterval(n.cdint)),i.trigger("revolution.slide.slideatend"),1==i.data("conthover-changed")&&(n.conthover=i.data("conthover"),i.data("conthover-changed",0)),n.act=n.next,n.next=n.next+1,n.next>i.find(">ul >li").length-1&&(n.next=0,n.looptogo=n.looptogo-1,n.looptogo<=0&&(n.stopLoop="on")),"on"==n.stopLoop&&n.next==n.lastslidetoshow-1?(i.find(".tp-bannertimer").css({visibility:"hidden"}),i.trigger("revolution.slide.onstop"),n.noloopanymore=1):a.data("tween").restart(),S(i,n)};a.data("tween",punchgs.TweenLite.fromTo(a,n.delay/1e3,{width:"0%"},{force3D:"auto",width:"100%",ease:punchgs.Linear.easeNone,onComplete:o,delay:1})),a.data("opt",n),i.hover(function(){if("on"==n.onHoverStop&&!V()){i.trigger("stoptimer"),i.trigger("revolution.slide.onpause");i.find(">ul >li:eq("+n.next+") .slotholder").find(".defaultimg").each(function(){var i=t(this);i.data("kenburn")!=e&&i.data("kenburn").pause()})}},function(){if(1!=i.data("conthover")){i.trigger("revolution.slide.onresume"),i.trigger("starttimer");i.find(">ul >li:eq("+n.next+") .slotholder").find(".defaultimg").each(function(){var i=t(this);i.data("kenburn")!=e&&i.data("kenburn").play()})}})}},V=function(){var t=["android","webos","iphone","ipad","blackberry","Android","webos",,"iPod","iPhone","iPad","Blackberry","BlackBerry"],e=!1;for(i in t)navigator.userAgent.split(t[i]).length>1&&(e=!0);return e},Q=function(t,e,i){var n=e.data("owidth"),a=e.data("oheight");if(n/a>i.width/i.height){var o=i.container.width()/n,r=a*o,s=r/i.container.height()*t;return t*=100/s,s=100,(t=t)+"% "+s+"% 1"}var o=i.container.width()/n,r=a*o,s=r/i.container.height()*t;return t+"% "+s+"%"},G=function(i,n,a,o){try{i.find(">ul:first-child >li:eq("+n.act+")")}catch(t){i.find(">ul:first-child >li:eq(1)")}n.lastslide=n.act;var r=i.find(">ul:first-child >li:eq("+n.next+")"),s=r.find(".slotholder"),d=s.data("bgposition"),h=s.data("bgpositionend"),c=s.data("zoomstart")/100,p=s.data("zoomend")/100,u=s.data("rotationstart"),f=s.data("rotationend"),g=s.data("bgfit"),m=s.data("bgfitend"),v=s.data("easeme"),w=s.data("duration")/1e3,y=100;g==e&&(g=100),m==e&&(m=100);var b=g,x=m;g=Q(g,s,n),m=Q(m,s,n),y=Q(100,s,n),c==e&&(c=1),p==e&&(p=1),u==e&&(u=0),f==e&&(f=0),c<1&&(c=1),p<1&&(p=1);var _=new Object;_.w=parseInt(y.split(" ")[0],0),_.h=parseInt(y.split(" ")[1],0);var T=!1;"1"==y.split(" ")[2]&&(T=!0),s.find(".defaultimg").each(function(){var e=t(this);0==s.find(".kenburnimg").length?s.append('<div class="kenburnimg" style="position:absolute;z-index:1;width:100%;height:100%;top:0px;left:0px;"><img src="'+e.attr("src")+'" style="-webkit-touch-callout: none;-webkit-user-select: none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;position:absolute;width:'+_.w+"%;height:"+_.h+'%;"></div>'):s.find(".kenburnimg img").css({width:_.w+"%",height:_.h+"%"});var i=s.find(".kenburnimg img"),a=$(n,d,g,i,T),r=$(n,h,m,i,T);if(T&&(a.w=b/100,r.w=x/100),o){punchgs.TweenLite.set(i,{autoAlpha:0,transformPerspective:1200,transformOrigin:"0% 0%",top:0,left:0,scale:a.w,x:a.x,y:a.y});var c=a.w,p=c*i.width()-n.width,u=c*i.height()-n.height,y=Math.abs(a.x/p*100),k=Math.abs(a.y/u*100);0==u&&(k=0),0==p&&(y=0),e.data("bgposition",y+"% "+k+"%"),l(8)||e.data("currotate",Z(i)),l(8)||e.data("curscale",_.w*c+"%  "+_.h*c+"%"),s.find(".kenburnimg").remove()}else e.data("kenburn",punchgs.TweenLite.fromTo(i,w,{autoAlpha:1,force3D:punchgs.force3d,transformOrigin:"0% 0%",top:0,left:0,scale:a.w,x:a.x,y:a.y},{autoAlpha:1,rotationZ:f,ease:v,x:r.x,y:r.y,scale:r.w,onUpdate:function(){var t=i[0]._gsTransform.scaleX,a=t*i.width()-n.width,o=t*i.height()-n.height,r=Math.abs(i[0]._gsTransform.x/a*100),s=Math.abs(i[0]._gsTransform.y/o*100);0==o&&(s=0),0==a&&(r=0),e.data("bgposition",r+"% "+s+"%"),l(8)||e.data("currotate",Z(i)),l(8)||e.data("curscale",_.w*t+"%  "+_.h*t+"%")}}))})},$=function(t,e,i,n,a){var o=new Object;switch(o.w=a?parseInt(i.split(" ")[1],0)/100:parseInt(i.split(" ")[0],0)/100,e){case"left top":case"top left":o.x=0,o.y=0;break;case"center top":case"top center":o.x=((0-n.width())*o.w+parseInt(t.width,0))/2,o.y=0;break;case"top right":case"right top":o.x=(0-n.width())*o.w+parseInt(t.width,0),o.y=0;break;case"center left":case"left center":o.x=0,o.y=((0-n.height())*o.w+parseInt(t.height,0))/2;break;case"center center":o.x=((0-n.width())*o.w+parseInt(t.width,0))/2,o.y=((0-n.height())*o.w+parseInt(t.height,0))/2;break;case"center right":case"right center":o.x=(0-n.width())*o.w+parseInt(t.width,0),o.y=((0-n.height())*o.w+parseInt(t.height,0))/2;break;case"bottom left":case"left bottom":o.x=0,o.y=(0-n.height())*o.w+parseInt(t.height,0);break;case"bottom center":case"center bottom":o.x=((0-n.width())*o.w+parseInt(t.width,0))/2,o.y=(0-n.height())*o.w+parseInt(t.height,0);break;case"bottom right":case"right bottom":o.x=(0-n.width())*o.w+parseInt(t.width,0),o.y=(0-n.height())*o.w+parseInt(t.height,0)}return o},Z=function(t){var e=t.css("-webkit-transform")||t.css("-moz-transform")||t.css("-ms-transform")||t.css("-o-transform")||t.css("transform");if("none"!==e)var i=e.split("(")[1].split(")")[0].split(","),n=i[0],a=i[1],o=Math.round(Math.atan2(a,n)*(180/Math.PI));else var o=0;return o<0?o+=360:o},K=function(i,n){try{var a=i.find(">ul:first-child >li:eq("+n.act+")")}catch(t){var a=i.find(">ul:first-child >li:eq(1)")}n.lastslide=n.act;var o=i.find(">ul:first-child >li:eq("+n.next+")");a.find(".slotholder"),o.find(".slotholder");i.find(".defaultimg").each(function(){var i=t(this);punchgs.TweenLite.killTweensOf(i,!1),punchgs.TweenLite.set(i,{scale:1,rotationZ:0}),punchgs.TweenLite.killTweensOf(i.data("kenburn img"),!1),i.data("kenburn")!=e&&i.data("kenburn").pause(),i.data("currotate")!=e&&i.data("bgposition")!=e&&i.data("curscale")!=e&&punchgs.TweenLite.set(i,{rotation:i.data("currotate"),backgroundPosition:i.data("bgposition"),backgroundSize:i.data("curscale")}),i!=e&&i.data("kenburn img")!=e&&i.data("kenburn img").length>0&&punchgs.TweenLite.set(i.data("kenburn img"),{autoAlpha:0})})},J=function(e,i){if(V()&&"on"==i.parallaxDisableOnMobile)return!1;e.find(">ul:first-child >li").each(function(){for(var e=t(this),n=1;n<=10;n++)e.find(".rs-parallaxlevel-"+n).each(function(){var e=t(this);e.wrap('<div style="position:absolute;top:0px;left:0px;width:100%;height:100%;z-index:'+e.css("zIndex")+'" class="tp-parallax-container" data-parallaxlevel="'+i.parallaxLevels[n-1]+'"></div>')})}),"mouse"!=i.parallax&&"scroll+mouse"!=i.parallax&&"mouse+scroll"!=i.parallax||(e.mouseenter(function(t){var i=e.find(".current-sr-slide-visible"),n=e.offset().top,a=e.offset().left,o=t.pageX-a,r=t.pageY-n;i.data("enterx",o),i.data("entery",r)}),e.on("mousemove.hoverdir, mouseleave.hoverdir",function(n){var a=e.find(".current-sr-slide-visible");switch(n.type){case"mousemove":var o=e.offset().top,r=e.offset().left,s=a.data("enterx"),l=a.data("entery"),d=s-(n.pageX-r),h=l-(n.pageY-o);a.find(".tp-parallax-container").each(function(){var e=t(this),n=parseInt(e.data("parallaxlevel"),0)/100,a=d*n,o=h*n;"scroll+mouse"==i.parallax||"mouse+scroll"==i.parallax?punchgs.TweenLite.to(e,.4,{force3D:"auto",x:a,ease:punchgs.Power3.easeOut,overwrite:"all"}):punchgs.TweenLite.to(e,.4,{force3D:"auto",x:a,y:o,ease:punchgs.Power3.easeOut,overwrite:"all"})});break;case"mouseleave":a.find(".tp-parallax-container").each(function(){var e=t(this);"scroll+mouse"==i.parallax||"mouse+scroll"==i.parallax?punchgs.TweenLite.to(e,1.5,{force3D:"auto",x:0,ease:punchgs.Power3.easeOut}):punchgs.TweenLite.to(e,1.5,{force3D:"auto",x:0,y:0,ease:punchgs.Power3.easeOut})})}}),V()&&(window.ondeviceorientation=function(i){var n=Math.round(i.beta||0),a=Math.round(i.gamma||0),o=e.find(".current-sr-slide-visible");if(t(window).width()>t(window).height()){var r=a;a=n,n=r}var s=360/e.width()*a,l=180/e.height()*n;o.find(".tp-parallax-container").each(function(){var e=t(this),i=parseInt(e.data("parallaxlevel"),0)/100,n=s*i,a=l*i;punchgs.TweenLite.to(e,.2,{force3D:"auto",x:n,y:a,ease:punchgs.Power3.easeOut})})})),"scroll"!=i.parallax&&"scroll+mouse"!=i.parallax&&"mouse+scroll"!=i.parallax||t(window).on("scroll",function(t){tt(e,i)})},tt=function(e,i){if(V()&&"on"==i.parallaxDisableOnMobile)return!1;var n=e.offset().top,a=t(window).scrollTop(),o=n+e.height()/2,r=n+e.height()/2-a,s=t(window).height()/2,l=s-r;o<s&&(l-=s-o);e.find(".current-sr-slide-visible");if(e.find(".tp-parallax-container").each(function(e){var i=t(this),n=parseInt(i.data("parallaxlevel"),0)/100,a=l*n;i.data("parallaxoffset",a),punchgs.TweenLite.to(i,.2,{force3D:"auto",y:a,ease:punchgs.Power3.easeOut})}),"on"!=i.parallaxBgFreeze){var d=i.parallaxLevels[0]/100,h=l*d;punchgs.TweenLite.to(e,.2,{force3D:"auto",y:h,ease:punchgs.Power3.easeOut})}},et=function(i,n){var a=i.parent();"thumb"!=n.navigationType&&"both"!=n.navsecond||a.append('<div class="tp-bullets tp-thumbs '+n.navigationStyle+'"><div class="tp-mask"><div class="tp-thumbcontainer"></div></div></div>');var o=a.find(".tp-bullets.tp-thumbs .tp-mask .tp-thumbcontainer"),r=o.parent();r.width(n.thumbWidth*n.thumbAmount),r.height(n.thumbHeight),r.parent().width(n.thumbWidth*n.thumbAmount),r.parent().height(n.thumbHeight),i.find(">ul:first >li").each(function(t){var a=i.find(">ul:first >li:eq("+t+")"),r=a.find(".defaultimg").css("backgroundColor");if(a.data("thumb")!=e)var s=a.data("thumb");else var s=a.find("img:first").attr("src");o.append('<div class="bullet thumb" style="background-color:'+r+";position:relative;width:"+n.thumbWidth+"px;height:"+n.thumbHeight+"px;background-image:url("+s+') !important;background-size:cover;background-position:center center;"></div>');o.find(".bullet:first")});var s=10;o.find(".bullet").each(function(e){var a=t(this);e==n.slideamount-1&&a.addClass("last"),0==e&&a.addClass("first"),a.width(n.thumbWidth),a.height(n.thumbHeight),s<a.outerWidth(!0)&&(s=a.outerWidth(!0)),a.click(function(){0==n.transition&&a.index()!=n.act&&(n.next=a.index(),d(n,i))})});var l=s*i.find(">ul:first >li").length,h=o.parent().width();n.thumbWidth=s,h<l&&(t(document).mousemove(function(e){t("body").data("mousex",e.pageX)}),o.parent().mouseenter(function(){var e=t(this);e.addClass("over");var n=e.offset(),a=t("body").data("mousex")-n.left,o=e.width(),r=e.find(".bullet:first").outerWidth(!0),s=r*i.find(">ul:first >li").length,l=s-o+15,d=l/o;a-=30;var h=0-a*d;h>0&&(h=0),h<0-s+o&&(h=0-s+o),nt(e,h,200)}),o.parent().mousemove(function(){var e=t(this),n=e.offset(),a=t("body").data("mousex")-n.left,o=e.width(),r=e.find(".bullet:first").outerWidth(!0),s=r*i.find(">ul:first >li").length-1,l=s-o+15,d=l/o;a-=3,a<6&&(a=0),a+3>o-6&&(a=o);var h=0-a*d;h>0&&(h=0),h<0-s+o&&(h=0-s+o),nt(e,h,0)}),o.parent().mouseleave(function(){t(this).removeClass("over"),it(i)}))},it=function(t){var e=t.parent().find(".tp-bullets.tp-thumbs .tp-mask .tp-thumbcontainer"),i=e.parent(),n=(i.offset(),i.find(".bullet:first").outerWidth(!0)),a=i.find(".bullet.selected").index()*n,o=i.width(),n=i.find(".bullet:first").outerWidth(!0),r=n*t.find(">ul:first >li").length,s=0-a;s>0&&(s=0),s<0-r+o&&(s=0-r+o),i.hasClass("over")||nt(i,s,200)},nt=function(t,e,i){punchgs.TweenLite.to(t.find(".tp-thumbcontainer"),.2,{force3D:"auto",left:e,ease:punchgs.Power3.easeOut,overwrite:"auto"})}}(jQuery),function(t){"use strict";t(function(){function e(){t("[data-appear-animation]").each(function(){var e=t(this);e.addClass("appear-animation"),e.addClass("appear-animation-visible")})}t("html").hasClass("ie9")&&t("input[placeholder]").each(function(){t(this).val(t(this).attr("placeholder"));var e=t(this).val();t(this).on("focus",function(){t(this).val()===e&&t(this).val("")}).on("blur",function(){""==t(this).val()&&t(this).val(e)})}),t('[role="banner"]').on("click",".close_product",function(){t(this).closest("li").animate({opacity:"0"},function(){t(this).slideUp(500)})}),window.rmenu=function(){var e=t('nav[role="navigation"]'),i=t('[role="banner"]'),n=new Object;n.init=function(){n.checkWindowSize(),t(window).on("resize",n.checkWindowSize)},n.checkWindowSize=function(){t(window).width()<992?n.Activate():n.Deactivate()},n.Activate=function(){t("html").hasClass("md_touch")&&i.off(".touch"),i.off("click").on("click.responsivemenu","#menu_button",n.openClose),i.on("click.responsivemenu",".main_menu li a",n.openCloseSubMenu),e.find(".touch_open_sub").removeClass("touch_open_sub").children("a").removeClass("prevented")},n.Deactivate=function(){i.off(".responsivemenu"),e.removeAttr("style").find("li").removeClass("current_click").end().find(".sub_menu_wrap").removeAttr("style").end().find(".prevented").removeClass("prevented").end(),t("html").hasClass("md_touch")&&i.off("click").on("click.touch",".main_menu li a",n.touchOpenSubMenu)},n.openClose=function(){t(this).toggleClass("active").trigger("classChanged"),e.stop().slideToggle()},n.openCloseSubMenu=function(e){var i=t(this);i.next(".sub_menu_wrap").length&&(i.parent().addClass("current_click").siblings().removeClass("current_click").children(":not(span,a)").slideUp(),i.next().stop().slideToggle(),i.parent().siblings().children("a").removeClass("prevented"),i.hasClass("prevented")?i.removeClass("prevented"):(e.preventDefault(),i.addClass("prevented")))},n.touchOpenSubMenu=function(e){var i=t(this);i.next(".sub_menu_wrap").length&&(i.hasClass("prevented")?i.removeClass("prevented"):(e.preventDefault(),i.addClass("prevented")))},n.init()},rmenu(),window.search_holder=function(){var e=t(".search-holder");e.length&&e.searchClick()},search_holder(),t("html").hasClass("ie9")&&t("input[placeholder]").each(function(){t(this).val(t(this).attr("placeholder"));var e=t(this).val();t(this).on("focus",function(){t(this).val()===e&&t(this).val("")}).on("blur",function(){""==t(this).val()&&t(this).val(e)})});var i=t(".tabs");i.length&&i.tabs({beforeActivate:function(t,e){e.newTab.children("li a").attr("href")},hide:{effect:"fadeOut",duration:450},show:{effect:"fadeIn",duration:450},updateHash:!1}),t("#sort_button").css3Animate(t("#sort_button").next(".sort_list")),t("body").queryLoader2({backgroundColor:"#fff",barColor:"#00ADEE",barHeight:4,deepSearch:!0,minimumTime:1e3,onComplete:function(){t(".loader").fadeOut("200")},onInit:function(){t(".loader").fadeIn("200")}}),t("#flexslider").length&&t("#flexslider").flexslider({controlNav:!1,smoothHeight:!0,animationSpeed:1e3,slideshow:!1,prevText:"",keyboard:!1,nextText:"",start:function(e){var i=e,n=t(".thumbnails_container").children("ul");i.find(".flex-direction-nav a").addClass("flex_nav_buttons");var a=i.data("flexslider").currentSlide;n.children("li").eq(a).addClass("active"),n.children("li").on("click",function(){var e=t(this),n=e.index();e.addClass("active").siblings().removeClass("active"),i.data("flexslider").flexAnimate(n)}),i.find(".flex-prev,.flex-next").on("click",function(){var t=i.children(".slides").children(".flex-active-slide").index();n.children("li").eq(t).addClass("active").siblings().removeClass("active")})}}),t("#scroll_sidebar").length&&t("#scroll_sidebar").scrollSidebar(),function(t,e){function i(e,i){this.el=t(e),this.init(i)}i.DEFAULTS={sticky:!0},i.prototype={init:function(n){var a=this;a.window=t(e),a.options=t.extend({},i.DEFAULTS,n),a.menuWrap=t(".menu_wrap"),a.goTop=t('<button class="go-to-top" id="go-to-top"></button>').appendTo(a.el),a.options.sticky&&a.sticky.stickySet.call(a,a.window),a.window.on("scroll",function(t){a.options.sticky&&a.sticky.stickyInit.call(a,t.currentTarget),a.gotoTop.scrollHandler.call(a,t.currentTarget)}),a.gotoTop.clickHandler(a)},sticky:{stickySet:function(){var e,i=this.menuWrap;i.length&&(e=i.offset().top,t.data(i,"data",{offset:e,height:i.outerHeight(!0)}),this.spacer=t("<div/>",{class:"spacer"}).insertBefore(i))},stickyInit:function(e){var i,n=this;n.menuWrap.length&&(i=t.data(n.menuWrap,"data"),n.sticky.stickyAction(i,e,n))},stickyAction:function(e,i,n){t(i).scrollTop()>e.offset?(n.spacer.css({height:e.height}),n.menuWrap.hasClass("sticky")||n.menuWrap.addClass("sticky")):(n.spacer.css({height:"auto"}),n.menuWrap.hasClass("sticky")&&n.menuWrap.removeClass("sticky"))}},gotoTop:{scrollHandler:function(e){t(e).scrollTop()>200?this.goTop.addClass("go-top-visible"):this.goTop.removeClass("go-top-visible")},clickHandler:function(e){e.goTop.on("click",function(e){e.preventDefault(),t("html, body").animate({scrollTop:0},800)})}}},t.fn.Temp=function(e){return this.each(function(){var n=t(this),a=n.data("Temp"),o="object"==typeof e&&e;a||n.data("Temp",new i(this,o))})},t("body").Temp({sticky:!0})}(jQuery,window);try{t.browserSelector();var n=t("html");(n.hasClass("chrome")||n.hasClass("ie11")||n.hasClass("ie10"))&&t.smoothScroll()}catch(t){}t(".custom_select").each(function(){var e=t(this).children("ul"),i=t(this).find("select"),n=t(this).find(".select_title");if(t(this).find("[data-filter]").length)for(var a=0,o=i.children("option").length;a<o;a++)e.append('<li data-filter="'+i.children("option").eq(a).data("filter")+'">'+i.children("option").eq(a).text()+"</li>");else for(var a=0,o=i.children("option").length;a<o;a++)e.append("<li>"+i.children("option").eq(a).text()+"</li>");i.hide(),n.on("click",function(){e.slideToggle(400),t(this).toggleClass("active")}),e.on("click","li",function(){var a=t(this).text();n.text(a),e.slideUp(400),i.val(a),n.toggleClass("active")})}),t(".jackbox[data-group]").length&&jQuery(".jackbox[data-group]").jackBox("init",{showInfoByDefault:!1,preloadGraphics:!1,fullscreenScalesContent:!0,autoPlayVideo:!1,flashVideoFirst:!1,defaultVideoWidth:960,defaultVideoHeight:540,baseName:".jackbox",className:".jackbox",useThumbs:!0,thumbsStartHidden:!1,thumbnailWidth:75,thumbnailHeight:50,useThumbTooltips:!1,showPageScrollbar:!1,useKeyboardControls:!0}),e(),t(window).on("resize",e),function(){if(t("#thumbnails").length&&t("#thumbnails").owlCarousel({items:3,stagePadding:40,margin:10,URLhashListener:!1,navSpeed:800,nav:!0,navText:!1,responsive:{0:{items:4},481:{items:3},769:{items:3},992:{items:3}}}),t("[data-zoom-image]").length){var e=t('.qv_preview [class*="button"]');t("#zoom_image").elevateZoom({gallery:"thumbnails",galleryActiveClass:"active",zoomType:"inner",cursor:"crosshair",responsive:!0,zoomWindowFadeIn:500,zoomWindowFadeOut:500,easing:!0,lensFadeIn:500,lensFadeOut:500}),e.on("click",function(e){var i=t("#zoom_image").data("elevateZoom");t.fancybox(i.getGalleryList()),e.preventDefault()})}}()})}(jQuery),function(t,e,i,n){"use strict";var a=i("html"),o=i(t),r=i(e),s=i.fancybox=function(){s.open.apply(this,arguments)},l=navigator.userAgent.match(/msie/i),d=null,h=void 0!==e.createTouch,c=function(t){return t&&t.hasOwnProperty&&t instanceof i},p=function(t){return t&&"string"===i.type(t)},u=function(t){return p(t)&&t.indexOf("%")>0},f=function(t){return t&&!(t.style.overflow&&"hidden"===t.style.overflow)&&(t.clientWidth&&t.scrollWidth>t.clientWidth||t.clientHeight&&t.scrollHeight>t.clientHeight)},g=function(t,e){var i=parseInt(t,10)||0;return e&&u(t)&&(i=s.getViewport()[e]/100*i),Math.ceil(i)},m=function(t,e){return g(t,e)+"px"};i.extend(s,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!h,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(l?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>',loading:'<div id="fancybox-loading"><div></div></div>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:i.noop,beforeLoad:i.noop,afterLoad:i.noop,beforeShow:i.noop,afterShow:i.noop,beforeChange:i.noop,beforeClose:i.noop,afterClose:i.noop},
group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(t,e){if(t&&(i.isPlainObject(e)||(e={}),!1!==s.close(!0)))return i.isArray(t)||(t=c(t)?i(t).get():[t]),i.each(t,function(n,a){var o,r,l,d,h,u,f,g={};"object"===i.type(a)&&(a.nodeType&&(a=i(a)),c(a)?(g={href:a.data("fancybox-href")||a.attr("href"),title:i("<div/>").text(a.data("fancybox-title")||a.attr("title")||"").html(),isDom:!0,element:a},i.metadata&&i.extend(!0,g,a.metadata())):g=a),o=e.href||g.href||(p(a)?a:null),r=void 0!==e.title?e.title:g.title||"",l=e.content||g.content,d=l?"html":e.type||g.type,!d&&g.isDom&&((d=a.data("fancybox-type"))||(h=a.prop("class").match(/fancybox\.(\w+)/),d=h?h[1]:null)),p(o)&&(d||(s.isImage(o)?d="image":s.isSWF(o)?d="swf":"#"===o.charAt(0)?d="inline":p(a)&&(d="html",l=a)),"ajax"===d&&(u=o.split(/\s+/,2),o=u.shift(),f=u.shift())),l||("inline"===d?o?l=i(p(o)?o.replace(/.*(?=#[^\s]+$)/,""):o):g.isDom&&(l=a):"html"===d?l=o:d||o||!g.isDom||(d="inline",l=a)),i.extend(g,{href:o,type:d,content:l,title:r,selector:f}),t[n]=g}),s.opts=i.extend(!0,{},s.defaults,e),void 0!==e.keys&&(s.opts.keys=!!e.keys&&i.extend({},s.defaults.keys,e.keys)),s.group=t,s._start(s.opts.index)},cancel:function(){var t=s.coming;t&&!1===s.trigger("onCancel")||(s.hideLoading(),t&&(s.ajaxLoad&&s.ajaxLoad.abort(),s.ajaxLoad=null,s.imgPreload&&(s.imgPreload.onload=s.imgPreload.onerror=null),t.wrap&&t.wrap.stop(!0,!0).trigger("onReset").remove(),s.coming=null,s.current||s._afterZoomOut(t)))},close:function(t){s.cancel(),!1!==s.trigger("beforeClose")&&(s.unbindEvents(),s.isActive&&(s.isOpen&&!0!==t?(s.isOpen=s.isOpened=!1,s.isClosing=!0,i(".fancybox-item, .fancybox-nav").remove(),s.wrap.stop(!0,!0).removeClass("fancybox-opened"),s.transitions[s.current.closeMethod]()):(i(".fancybox-wrap").stop(!0).trigger("onReset").remove(),s._afterZoomOut())))},play:function(t){var e=function(){clearTimeout(s.player.timer)},i=function(){e(),s.current&&s.player.isActive&&(s.player.timer=setTimeout(s.next,s.current.playSpeed))},n=function(){e(),r.unbind(".player"),s.player.isActive=!1,s.trigger("onPlayEnd")};!0===t||!s.player.isActive&&!1!==t?function(){s.current&&(s.current.loop||s.current.index<s.group.length-1)&&(s.player.isActive=!0,r.bind({"onCancel.player beforeClose.player":n,"onUpdate.player":i,"beforeLoad.player":e}),i(),s.trigger("onPlayStart"))}():n()},next:function(t){var e=s.current;e&&(p(t)||(t=e.direction.next),s.jumpto(e.index+1,t,"next"))},prev:function(t){var e=s.current;e&&(p(t)||(t=e.direction.prev),s.jumpto(e.index-1,t,"prev"))},jumpto:function(t,e,i){var n=s.current;n&&(t=g(t),s.direction=e||n.direction[t>=n.index?"next":"prev"],s.router=i||"jumpto",n.loop&&(t<0&&(t=n.group.length+t%n.group.length),t%=n.group.length),void 0!==n.group[t]&&(s.cancel(),s._start(t)))},reposition:function(t,e){var n,a=s.current,o=a?a.wrap:null;o&&(n=s._getPosition(e),t&&"scroll"===t.type?(delete n.position,o.stop(!0,!0).animate(n,200)):(o.css(n),a.pos=i.extend({},a.dim,n)))},update:function(t){var e=t&&t.originalEvent&&t.originalEvent.type,i=!e||"orientationchange"===e;i&&(clearTimeout(d),d=null),s.isOpen&&!d&&(d=setTimeout(function(){var n=s.current;n&&!s.isClosing&&(s.wrap.removeClass("fancybox-tmp"),(i||"load"===e||"resize"===e&&n.autoResize)&&s._setDimension(),"scroll"===e&&n.canShrink||s.reposition(t),s.trigger("onUpdate"),d=null)},i&&!h?0:300))},toggle:function(t){s.isOpen&&(s.current.fitToView="boolean"===i.type(t)?t:!s.current.fitToView,h&&(s.wrap.removeAttr("style").addClass("fancybox-tmp"),s.trigger("onUpdate")),s.update())},hideLoading:function(){r.unbind(".loading"),i("#fancybox-loading").remove()},showLoading:function(){var t,e;s.hideLoading(),t=i(s.opts.tpl.loading).click(s.cancel).appendTo("body"),r.bind("keydown.loading",function(t){27===(t.which||t.keyCode)&&(t.preventDefault(),s.cancel())}),s.defaults.fixed||(e=s.getViewport(),t.css({position:"absolute",top:.5*e.h+e.y,left:.5*e.w+e.x})),s.trigger("onLoading")},getViewport:function(){var e=s.current&&s.current.locked||!1,i={x:o.scrollLeft(),y:o.scrollTop()};return e&&e.length?(i.w=e[0].clientWidth,i.h=e[0].clientHeight):(i.w=h&&t.innerWidth?t.innerWidth:o.width(),i.h=h&&t.innerHeight?t.innerHeight:o.height()),i},unbindEvents:function(){s.wrap&&c(s.wrap)&&s.wrap.unbind(".fb"),r.unbind(".fb"),o.unbind(".fb")},bindEvents:function(){var t,e=s.current;e&&(o.bind("orientationchange.fb"+(h?"":" resize.fb")+(e.autoCenter&&!e.locked?" scroll.fb":""),s.update),t=e.keys,t&&r.bind("keydown.fb",function(n){var a=n.which||n.keyCode,o=n.target||n.srcElement;if(27===a&&s.coming)return!1;n.ctrlKey||n.altKey||n.shiftKey||n.metaKey||o&&(o.type||i(o).is("[contenteditable]"))||i.each(t,function(t,o){return e.group.length>1&&void 0!==o[a]?(s[t](o[a]),n.preventDefault(),!1):i.inArray(a,o)>-1?(s[t](),n.preventDefault(),!1):void 0})}),i.fn.mousewheel&&e.mouseWheel&&s.wrap.bind("mousewheel.fb",function(t,n,a,o){for(var r=t.target||null,l=i(r),d=!1;l.length&&!(d||l.is(".fancybox-skin")||l.is(".fancybox-wrap"));)d=f(l[0]),l=i(l).parent();0===n||d||s.group.length>1&&!e.canShrink&&(o>0||a>0?s.prev(o>0?"down":"left"):(o<0||a<0)&&s.next(o<0?"up":"right"),t.preventDefault())}))},trigger:function(t,e){var n,a=e||s.coming||s.current;if(a){if(i.isFunction(a[t])&&(n=a[t].apply(a,Array.prototype.slice.call(arguments,1))),!1===n)return!1;a.helpers&&i.each(a.helpers,function(e,n){n&&s.helpers[e]&&i.isFunction(s.helpers[e][t])&&s.helpers[e][t](i.extend(!0,{},s.helpers[e].defaults,n),a)})}r.trigger(t)},isImage:function(t){return p(t)&&t.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(t){return p(t)&&t.match(/\.(swf)((\?|#).*)?$/i)},_start:function(t){var e,n,a,o,r,l={};if(t=g(t),!(e=s.group[t]||null))return!1;if(l=i.extend(!0,{},s.opts,e),o=l.margin,r=l.padding,"number"===i.type(o)&&(l.margin=[o,o,o,o]),"number"===i.type(r)&&(l.padding=[r,r,r,r]),l.modal&&i.extend(!0,l,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),l.autoSize&&(l.autoWidth=l.autoHeight=!0),"auto"===l.width&&(l.autoWidth=!0),"auto"===l.height&&(l.autoHeight=!0),l.group=s.group,l.index=t,s.coming=l,!1===s.trigger("beforeLoad"))return void(s.coming=null);if(a=l.type,n=l.href,!a)return s.coming=null,!(!s.current||!s.router||"jumpto"===s.router)&&(s.current.index=t,s[s.router](s.direction));if(s.isActive=!0,"image"!==a&&"swf"!==a||(l.autoHeight=l.autoWidth=!1,l.scrolling="visible"),"image"===a&&(l.aspectRatio=!0),"iframe"===a&&h&&(l.scrolling="scroll"),l.wrap=i(l.tpl.wrap).addClass("fancybox-"+(h?"mobile":"desktop")+" fancybox-type-"+a+" fancybox-tmp "+l.wrapCSS).appendTo(l.parent||"body"),i.extend(l,{skin:i(".fancybox-skin",l.wrap),outer:i(".fancybox-outer",l.wrap),inner:i(".fancybox-inner",l.wrap)}),i.each(["Top","Right","Bottom","Left"],function(t,e){l.skin.css("padding"+e,m(l.padding[t]))}),s.trigger("onReady"),"inline"===a||"html"===a){if(!l.content||!l.content.length)return s._error("content")}else if(!n)return s._error("href");"image"===a?s._loadImage():"ajax"===a?s._loadAjax():"iframe"===a?s._loadIframe():s._afterLoad()},_error:function(t){i.extend(s.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:t,content:s.coming.tpl.error}),s._afterLoad()},_loadImage:function(){var t=s.imgPreload=new Image;t.onload=function(){this.onload=this.onerror=null,s.coming.width=this.width/s.opts.pixelRatio,s.coming.height=this.height/s.opts.pixelRatio,s._afterLoad()},t.onerror=function(){this.onload=this.onerror=null,s._error("image")},t.src=s.coming.href,!0!==t.complete&&s.showLoading()},_loadAjax:function(){var t=s.coming;s.showLoading(),s.ajaxLoad=i.ajax(i.extend({},t.ajax,{url:t.href,error:function(t,e){s.coming&&"abort"!==e?s._error("ajax",t):s.hideLoading()},success:function(e,i){"success"===i&&(t.content=e,s._afterLoad())}}))},_loadIframe:function(){var t=s.coming,e=i(t.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",h?"auto":t.iframe.scrolling).attr("src",t.href);i(t.wrap).bind("onReset",function(){try{i(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(t){}}),t.iframe.preload&&(s.showLoading(),e.one("load",function(){i(this).data("ready",1),h||i(this).bind("load.fb",s.update),i(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),s._afterLoad()})),t.content=e.appendTo(t.inner),t.iframe.preload||s._afterLoad()},_preloadImages:function(){var t,e,i=s.group,n=s.current,a=i.length,o=n.preload?Math.min(n.preload,a-1):0;for(e=1;e<=o;e+=1)t=i[(n.index+e)%a],"image"===t.type&&t.href&&((new Image).src=t.href)},_afterLoad:function(){var t,e,n,a,o,r,l=s.coming,d=s.current,h="fancybox-placeholder";if(s.hideLoading(),l&&!1!==s.isActive){if(!1===s.trigger("afterLoad",l,d))return l.wrap.stop(!0).trigger("onReset").remove(),void(s.coming=null);switch(d&&(s.trigger("beforeChange",d),d.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),s.unbindEvents(),t=l,e=l.content,n=l.type,a=l.scrolling,i.extend(s,{wrap:t.wrap,skin:t.skin,outer:t.outer,inner:t.inner,current:t,previous:d}),o=t.href,n){case"inline":case"ajax":case"html":t.selector?e=i("<div>").html(e).find(t.selector):c(e)&&(e.data(h)||e.data(h,i('<div class="'+h+'"></div>').insertAfter(e).hide()),e=e.show().detach(),t.wrap.bind("onReset",function(){i(this).find(e).length&&e.hide().replaceAll(e.data(h)).data(h,!1)}));break;case"image":e=t.tpl.image.replace(/\{href\}/g,o);break;case"swf":e='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+o+'"></param>',r="",i.each(t.swf,function(t,i){e+='<param name="'+t+'" value="'+i+'"></param>',r+=" "+t+'="'+i+'"'}),e+='<embed src="'+o+'" type="application/x-shockwave-flash" width="100%" height="100%"'+r+"></embed></object>"}c(e)&&e.parent().is(t.inner)||t.inner.append(e),s.trigger("beforeShow"),t.inner.css("overflow","yes"===a?"scroll":"no"===a?"hidden":a),s._setDimension(),s.reposition(),s.isOpen=!1,s.coming=null,s.bindEvents(),s.isOpened?d.prevMethod&&s.transitions[d.prevMethod]():i(".fancybox-wrap").not(t.wrap).stop(!0).trigger("onReset").remove(),s.transitions[s.isOpened?t.nextMethod:t.openMethod](),s._preloadImages()}},_setDimension:function(){var t,e,n,a,o,r,l,d,h,c,p,f,v,w,y,b=s.getViewport(),x=0,_=!1,T=!1,k=s.wrap,C=s.skin,S=s.inner,L=s.current,P=L.width,A=L.height,O=L.minWidth,z=L.minHeight,M=L.maxWidth,E=L.maxHeight,I=L.scrolling,F=L.scrollOutside?L.scrollbarWidth:0,D=L.margin,R=g(D[1]+D[3]),H=g(D[0]+D[2]);if(k.add(C).add(S).width("auto").height("auto").removeClass("fancybox-tmp"),t=g(C.outerWidth(!0)-C.width()),e=g(C.outerHeight(!0)-C.height()),n=R+t,a=H+e,o=u(P)?(b.w-n)*g(P)/100:P,r=u(A)?(b.h-a)*g(A)/100:A,"iframe"===L.type){if(w=L.content,L.autoHeight&&w&&1===w.data("ready"))try{w[0].contentWindow.document.location&&(S.width(o).height(9999),y=w.contents().find("body"),F&&y.css("overflow-x","hidden"),r=y.outerHeight(!0))}catch(t){}}else(L.autoWidth||L.autoHeight)&&(S.addClass("fancybox-tmp"),L.autoWidth||S.width(o),L.autoHeight||S.height(r),L.autoWidth&&(o=S.width()),L.autoHeight&&(r=S.height()),S.removeClass("fancybox-tmp"));if(P=g(o),A=g(r),h=o/r,O=g(u(O)?g(O,"w")-n:O),M=g(u(M)?g(M,"w")-n:M),z=g(u(z)?g(z,"h")-a:z),E=g(u(E)?g(E,"h")-a:E),l=M,d=E,L.fitToView&&(M=Math.min(b.w-n,M),E=Math.min(b.h-a,E)),f=b.w-R,v=b.h-H,L.aspectRatio?(P>M&&(P=M,A=g(P/h)),A>E&&(A=E,P=g(A*h)),P<O&&(P=O,A=g(P/h)),A<z&&(A=z,P=g(A*h))):(P=Math.max(O,Math.min(P,M)),L.autoHeight&&"iframe"!==L.type&&(S.width(P),A=S.height()),A=Math.max(z,Math.min(A,E))),L.fitToView)if(S.width(P).height(A),k.width(P+t),c=k.width(),p=k.height(),L.aspectRatio)for(;(c>f||p>v)&&P>O&&A>z&&!(x++>19);)A=Math.max(z,Math.min(E,A-10)),P=g(A*h),P<O&&(P=O,A=g(P/h)),P>M&&(P=M,A=g(P/h)),S.width(P).height(A),k.width(P+t),c=k.width(),p=k.height();else P=Math.max(O,Math.min(P,P-(c-f))),A=Math.max(z,Math.min(A,A-(p-v)));F&&"auto"===I&&A<r&&P+t+F<f&&(P+=F),S.width(P).height(A),k.width(P+t),c=k.width(),p=k.height(),_=(c>f||p>v)&&P>O&&A>z,T=L.aspectRatio?P<l&&A<d&&P<o&&A<r:(P<l||A<d)&&(P<o||A<r),i.extend(L,{dim:{width:m(c),height:m(p)},origWidth:o,origHeight:r,canShrink:_,canExpand:T,wPadding:t,hPadding:e,wrapSpace:p-C.outerHeight(!0),skinSpace:C.height()-A}),!w&&L.autoHeight&&A>z&&A<E&&!T&&S.height("auto")},_getPosition:function(t){var e=s.current,i=s.getViewport(),n=e.margin,a=s.wrap.width()+n[1]+n[3],o=s.wrap.height()+n[0]+n[2],r={position:"absolute",top:n[0],left:n[3]};return e.autoCenter&&e.fixed&&!t&&o<=i.h&&a<=i.w?r.position="fixed":e.locked||(r.top+=i.y,r.left+=i.x),r.top=m(Math.max(r.top,r.top+(i.h-o)*e.topRatio)),r.left=m(Math.max(r.left,r.left+(i.w-a)*e.leftRatio)),r},_afterZoomIn:function(){var t=s.current;t&&(s.isOpen=s.isOpened=!0,s.wrap.css("overflow","visible").addClass("fancybox-opened").hide().show(0),s.update(),(t.closeClick||t.nextClick&&s.group.length>1)&&s.inner.css("cursor","pointer").bind("click.fb",function(e){i(e.target).is("a")||i(e.target).parent().is("a")||(e.preventDefault(),s[t.closeClick?"close":"next"]())}),t.closeBtn&&i(t.tpl.closeBtn).appendTo(s.skin).bind("click.fb",function(t){t.preventDefault(),s.close()}),t.arrows&&s.group.length>1&&((t.loop||t.index>0)&&i(t.tpl.prev).appendTo(s.outer).bind("click.fb",s.prev),(t.loop||t.index<s.group.length-1)&&i(t.tpl.next).appendTo(s.outer).bind("click.fb",s.next)),s.trigger("afterShow"),t.loop||t.index!==t.group.length-1?s.opts.autoPlay&&!s.player.isActive&&(s.opts.autoPlay=!1,s.play(!0)):s.play(!1))},_afterZoomOut:function(t){t=t||s.current,i(".fancybox-wrap").trigger("onReset").remove(),i.extend(s,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),s.trigger("afterClose",t)}}),s.transitions={getOrigPosition:function(){var t=s.current,e=t.element,i=t.orig,n={},a=50,o=50,r=t.hPadding,l=t.wPadding,d=s.getViewport();return!i&&t.isDom&&e.is(":visible")&&(i=e.find("img:first"),i.length||(i=e)),c(i)?(n=i.offset(),i.is("img")&&(a=i.outerWidth(),o=i.outerHeight())):(n.top=d.y+(d.h-o)*t.topRatio,n.left=d.x+(d.w-a)*t.leftRatio),("fixed"===s.wrap.css("position")||t.locked)&&(n.top-=d.y,n.left-=d.x),n={top:m(n.top-r*t.topRatio),left:m(n.left-l*t.leftRatio),width:m(a+l),height:m(o+r)}},step:function(t,e){var i,n,a,o=e.prop,r=s.current,l=r.wrapSpace,d=r.skinSpace;"width"!==o&&"height"!==o||(i=e.end===e.start?1:(t-e.start)/(e.end-e.start),s.isClosing&&(i=1-i),n="width"===o?r.wPadding:r.hPadding,a=t-n,s.skin[o](g("width"===o?a:a-l*i)),s.inner[o](g("width"===o?a:a-l*i-d*i)))},zoomIn:function(){var t=s.current,e=t.pos,n=t.openEffect,a="elastic"===n,o=i.extend({opacity:1},e);delete o.position,a?(e=this.getOrigPosition(),t.openOpacity&&(e.opacity=.1)):"fade"===n&&(e.opacity=.1),s.wrap.css(e).animate(o,{duration:"none"===n?0:t.openSpeed,easing:t.openEasing,step:a?this.step:null,complete:s._afterZoomIn})},zoomOut:function(){var t=s.current,e=t.closeEffect,i="elastic"===e,n={opacity:.1};i&&(n=this.getOrigPosition(),t.closeOpacity&&(n.opacity=.1)),s.wrap.animate(n,{duration:"none"===e?0:t.closeSpeed,easing:t.closeEasing,step:i?this.step:null,complete:s._afterZoomOut})},changeIn:function(){var t,e=s.current,i=e.nextEffect,n=e.pos,a={opacity:1},o=s.direction;n.opacity=.1,"elastic"===i&&(t="down"===o||"up"===o?"top":"left","down"===o||"right"===o?(n[t]=m(g(n[t])-200),a[t]="+=200px"):(n[t]=m(g(n[t])+200),a[t]="-=200px")),"none"===i?s._afterZoomIn():s.wrap.css(n).animate(a,{duration:e.nextSpeed,easing:e.nextEasing,complete:s._afterZoomIn})},changeOut:function(){var t=s.previous,e=t.prevEffect,n={opacity:.1},a=s.direction;"elastic"===e&&(n["down"===a||"up"===a?"top":"left"]=("up"===a||"left"===a?"-":"+")+"=200px"),t.wrap.animate(n,{duration:"none"===e?0:t.prevSpeed,easing:t.prevEasing,complete:function(){i(this).trigger("onReset").remove()}})}},s.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!h,fixed:!0},overlay:null,fixed:!1,el:i("html"),create:function(t){var e;t=i.extend({},this.defaults,t),this.overlay&&this.close(),e=s.coming?s.coming.parent:t.parent,this.overlay=i('<div class="fancybox-overlay"></div>').appendTo(e&&e.length?e:"body"),this.fixed=!1,t.fixed&&s.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(t){var e=this;t=i.extend({},this.defaults,t),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(t),this.fixed||(o.bind("resize.overlay",i.proxy(this.update,this)),this.update()),t.closeClick&&this.overlay.bind("click.overlay",function(t){if(i(t.target).hasClass("fancybox-overlay"))return s.isActive?s.close():e.close(),!1}),this.overlay.css(t.css).show()},close:function(){o.unbind("resize.overlay"),this.el.hasClass("fancybox-lock")&&(i(".fancybox-margin").removeClass("fancybox-margin"),this.el.removeClass("fancybox-lock"),o.scrollTop(this.scrollV).scrollLeft(this.scrollH)),i(".fancybox-overlay").remove().hide(),i.extend(this,{overlay:null,fixed:!1})},update:function(){var t,i="100%";this.overlay.width(i).height("100%"),l?(t=Math.max(e.documentElement.offsetWidth,e.body.offsetWidth),r.width()>t&&(i=r.width())):r.width()>o.width()&&(i=r.width()),this.overlay.width(i).height(r.height())},onReady:function(t,e){var n=this.overlay;i(".fancybox-overlay").stop(!0,!0),n||this.create(t),t.locked&&this.fixed&&e.fixed&&(e.locked=this.overlay.append(e.wrap),e.fixed=!1),!0===t.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(t,e){e.locked&&!this.el.hasClass("fancybox-lock")&&(!1!==this.fixPosition&&i("*:not(object)").filter(function(){return"fixed"===i(this).css("position")&&!i(this).hasClass("fancybox-overlay")&&!i(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin"),this.scrollV=o.scrollTop(),this.scrollH=o.scrollLeft(),this.el.addClass("fancybox-lock"),o.scrollTop(this.scrollV).scrollLeft(this.scrollH)),this.open(t)},onUpdate:function(){this.fixed||this.update()},afterClose:function(t){this.overlay&&!s.coming&&this.overlay.fadeOut(t.speedOut,i.proxy(this.close,this))}},s.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(t){var e,n,a=s.current,o=a.title,r=t.type;if(i.isFunction(o)&&(o=o.call(a.element,a)),p(o)&&""!==i.trim(o)){switch(e=i('<div class="fancybox-title fancybox-title-'+r+'-wrap">'+o+"</div>"),r){case"inside":n=s.skin;break;case"outside":n=s.wrap;break;case"over":n=s.inner;break;default:n=s.skin,e.appendTo("body"),l&&e.width(e.width()),e.wrapInner('<span class="child"></span>'),s.current.margin[2]+=Math.abs(g(e.css("margin-bottom")))}e["top"===t.position?"prependTo":"appendTo"](n)}}},i.fn.fancybox=function(t){var e,n=i(this),a=this.selector||"",o=function(o){var r,l,d=i(this).blur(),h=e;o.ctrlKey||o.altKey||o.shiftKey||o.metaKey||d.is(".fancybox-wrap")||(r=t.groupAttr||"data-fancybox-group",l=d.attr(r),l||(r="rel",l=d.get(0)[r]),l&&""!==l&&"nofollow"!==l&&(d=a.length?i(a):n,d=d.filter("["+r+'="'+l+'"]'),h=d.index(this)),t.index=h,!1!==s.open(d,t)&&o.preventDefault())};return t=t||{},e=t.index||0,a&&!1!==t.live?r.undelegate(a,"click.fb-start").delegate(a+":not('.fancybox-item, .fancybox-nav')","click.fb-start",o):n.unbind("click.fb-start").bind("click.fb-start",o),this.filter("[data-fancybox-start=1]").trigger("click"),this},r.ready(function(){var e,n;void 0===i.scrollbarWidth&&(i.scrollbarWidth=function(){var t=i('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),e=t.children(),n=e.innerWidth()-e.height(99).innerWidth();return t.remove(),n}),void 0===i.support.fixedPosition&&(i.support.fixedPosition=function(){var t=i('<div style="position:fixed;top:20px;"></div>').appendTo("body"),e=20===t[0].offsetTop||15===t[0].offsetTop;return t.remove(),e}()),i.extend(s.defaults,{scrollbarWidth:i.scrollbarWidth(),fixed:i.support.fixedPosition,parent:i("body")}),e=i(t).width(),a.addClass("fancybox-lock-test"),n=i(t).width(),a.removeClass("fancybox-lock-test"),i("<style type='text/css'>.fancybox-margin{margin-right:"+(n-e)+"px;}</style>").appendTo("head")})}(window,document,jQuery);
/* vendor.min.js */
function jackboxFrameReady(){jQuery.fn.jackBox("frameReady")}if(function(e){"use strict";function t(e){if(!w(e))return gr;y(e.objectMaxDepth)&&(gr.objectMaxDepth=n(e.objectMaxDepth)?e.objectMaxDepth:NaN),y(e.urlErrorParamsEnabled)&&j(e.urlErrorParamsEnabled)&&(gr.urlErrorParamsEnabled=e.urlErrorParamsEnabled)}function n(e){return C(e)&&e>0}function i(e,t){t=t||Error;var n="https://errors.angularjs.org/1.7.8/",i=n.replace(".","\\.")+"[\\s\\S]*",r=new RegExp(i,"g");return function(){var i,a,o=arguments[0],s=arguments[1],l="["+(e?e+":":"")+o+"] ",c=Y(arguments,2).map(function(e){return Ce(e,gr.objectMaxDepth)});if(l+=s.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1);return t<c.length?c[t].replace(r,""):e}),l+="\n"+n+(e?e+"/":"")+o,gr.urlErrorParamsEnabled)for(a=0,i="?";a<c.length;a++,i="&")l+=i+"p"+a+"="+encodeURIComponent(c[a]);return new t(l)}}function r(e){if(null==e||A(e))return!1;if(S(e)||k(e)||dr&&e instanceof dr)return!0;var t="length"in Object(e)&&e.length;return C(t)&&(t>=0&&t-1 in e||"function"==typeof e.item)}function a(e,t,n){var i,o;if(e)if(D(e))for(i in e)"prototype"!==i&&"length"!==i&&"name"!==i&&e.hasOwnProperty(i)&&t.call(n,e[i],i,e);else if(S(e)||r(e)){var s="object"!=typeof e;for(i=0,o=e.length;i<o;i++)(s||i in e)&&t.call(n,e[i],i,e)}else if(e.forEach&&e.forEach!==a)e.forEach(t,n,e);else if(x(e))for(i in e)t.call(n,e[i],i,e);else if("function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e);else for(i in e)$r.call(e,i)&&t.call(n,e[i],i,e);return e}function o(e,t,n){for(var i=Object.keys(e).sort(),r=0;r<i.length;r++)t.call(n,e[i[r]],i[r]);return i}function s(e){return function(t,n){e(n,t)}}function l(){return++Dr}function c(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function u(e,t,n){for(var i=e.$$hashKey,r=0,a=t.length;r<a;++r){var o=t[r];if(w(o)||D(o))for(var s=Object.keys(o),l=0,p=s.length;l<p;l++){var d=s[l],h=o[d];n&&w(h)?T(h)?e[d]=new Date(h.valueOf()):O(h)?e[d]=new RegExp(h):h.nodeName?e[d]=h.cloneNode(!0):U(h)?e[d]=h.clone():(w(e[d])||(e[d]=S(h)?[]:{}),u(e[d],[h],!0)):e[d]=h}}return c(e,i),e}function p(e){return u(e,wr.call(arguments,1),!1)}function d(e){return u(e,wr.call(arguments,1),!0)}function h(e){return parseInt(e,10)}function f(e,t){return p(Object.create(e),t)}function g(){}function m(e){return e}function v(e){return function(){return e}}function $(e){return D(e.toString)&&e.toString!==Cr}function b(e){return void 0===e}function y(e){return void 0!==e}function w(e){return null!==e&&"object"==typeof e}function x(e){return null!==e&&"object"==typeof e&&!Tr(e)}function k(e){return"string"==typeof e}function C(e){return"number"==typeof e}function T(e){return"[object Date]"===Cr.call(e)}function S(e){return Array.isArray(e)||e instanceof Array}function E(e){switch(Cr.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}}function D(e){return"function"==typeof e}function O(e){return"[object RegExp]"===Cr.call(e)}function A(e){return e&&e.window===e}function M(e){return e&&e.$evalAsync&&e.$watch}function I(e){return"[object File]"===Cr.call(e)}function P(e){return"[object FormData]"===Cr.call(e)}function _(e){return"[object Blob]"===Cr.call(e)}function j(e){return"boolean"==typeof e}function N(e){return e&&D(e.then)}function R(e){return e&&C(e.length)&&Ar.test(Cr.call(e))}function L(e){return"[object ArrayBuffer]"===Cr.call(e)}function U(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function F(e){var t,n={},i=e.split(",");for(t=0;t<i.length;t++)n[i[t]]=!0;return n}function V(e){return br(e.nodeName||e[0]&&e[0].nodeName)}function q(e,t){return-1!==Array.prototype.indexOf.call(e,t)}function z(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function H(e,t,i){function r(e,t,n){if(--n<0)return"...";var i,r=t.$$hashKey;if(S(e))for(var a=0,s=e.length;a<s;a++)t.push(o(e[a],n));else if(x(e))for(i in e)t[i]=o(e[i],n);else if(e&&"function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&(t[i]=o(e[i],n));else for(i in e)$r.call(e,i)&&(t[i]=o(e[i],n));return c(t,r),t}function o(e,t){if(!w(e))return e;var n=l.indexOf(e);if(-1!==n)return u[n];if(A(e)||M(e))throw Sr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var i=!1,a=s(e);return void 0===a&&(a=S(e)?[]:Object.create(Tr(e)),i=!0),l.push(e),u.push(a),i?r(e,a,t):a}function s(e){switch(Cr.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(o(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var n=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]);return n.lastIndex=e.lastIndex,n;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(D(e.cloneNode))return e.cloneNode(!0)}var l=[],u=[];if(i=n(i)?i:NaN,t){if(R(t)||L(t))throw Sr("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw Sr("cpi","Can't copy! Source and destination are identical.");return S(t)?t.length=0:a(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),l.push(e),u.push(t),r(e,t,i)}return o(e,i)}function B(e,t){return e===t||e!==e&&t!==t}function W(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,i,r,a=typeof e,o=typeof t;if(a===o&&"object"===a){if(!S(e)){if(T(e))return!!T(t)&&B(e.getTime(),t.getTime());if(O(e))return!!O(t)&&e.toString()===t.toString();if(M(e)||M(t)||A(e)||A(t)||S(t)||T(t)||O(t))return!1;r=be();for(i in e)if("$"!==i.charAt(0)&&!D(e[i])){if(!W(e[i],t[i]))return!1;r[i]=!0}for(i in t)if(!(i in r)&&"$"!==i.charAt(0)&&y(t[i])&&!D(t[i]))return!1;return!0}if(!S(t))return!1;if((n=e.length)===t.length){for(i=0;i<n;i++)if(!W(e[i],t[i]))return!1;return!0}}return!1}function G(e,t,n){return e.concat(wr.call(t,n))}function Y(e,t){return wr.call(e,t||0)}function J(e,t){var n=arguments.length>2?Y(arguments,2):[];return!D(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,G(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function K(t,n){var i=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?i=void 0:A(n)?i="$WINDOW":n&&e.document===n?i="$DOCUMENT":M(n)&&(i="$SCOPE"),i}function Q(e,t){if(!b(e))return C(t)||(t=t?2:null),JSON.stringify(e,K,t)}function X(e){return k(e)?JSON.parse(e):e}function Z(e,t){e=e.replace(jr,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return Or(n)?t:n}function ee(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function te(e,t,n){n=n?-1:1;var i=e.getTimezoneOffset();return ee(e,n*(Z(t,i)-i))}function ne(e){e=dr(e).clone().empty();var t=dr("<div></div>").append(e).html();try{return e[0].nodeType===Vr?br(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(e,t){return"<"+br(t)})}catch(e){return br(t)}}function ie(e){try{return decodeURIComponent(e)}catch(e){}}function re(e){var t={};return a((e||"").split("&"),function(e){var n,i,r;e&&(i=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),-1!==n&&(i=e.substring(0,n),r=e.substring(n+1)),i=ie(i),y(i)&&(r=!y(r)||ie(r),$r.call(t,i)?S(t[i])?t[i].push(r):t[i]=[t[i],r]:t[i]=r))}),t}function ae(e){var t=[];return a(e,function(e,n){S(e)?a(e,function(e){t.push(se(n,!0)+(!0===e?"":"="+se(e,!0)))}):t.push(se(n,!0)+(!0===e?"":"="+se(e,!0)))}),t.length?t.join("&"):""}function oe(e){return se(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function se(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function le(e,t){var n,i,r=Nr.length;for(i=0;i<r;++i)if(n=Nr[i]+t,k(n=e.getAttribute(n)))return n;return null}function ce(t,n){var i,r,o={};if(a(Nr,function(e){var n=e+"app";!i&&t.hasAttribute&&t.hasAttribute(n)&&(i=t,r=t.getAttribute(n))}),a(Nr,function(e){var n,a=e+"app";!i&&(n=t.querySelector("["+a.replace(":","\\:")+"]"))&&(i=n,r=n.getAttribute(a))}),i){if(!Rr)return void e.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");o.strictDi=null!==le(i,"strict-di"),n(i,r?[r]:[],o)}}function ue(t,n,i){w(i)||(i={}),i=p({strictDi:!1},i);var r=function(){if(t=dr(t),t.injector()){var r=t[0]===e.document?"document":ne(t);throw Sr("btstrpd","App already bootstrapped with this element '{0}'",r.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(e){e.value("$rootElement",t)}]),i.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var a=dt(n,i.strictDi);return a.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,i){e.$apply(function(){t.data("$injector",i),n(t)(e)})}]),a},o=/^NG_ENABLE_DEBUG_INFO!/,s=/^NG_DEFER_BOOTSTRAP!/;if(e&&o.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(o,"")),e&&!s.test(e.name))return r();e.name=e.name.replace(s,""),Er.resumeBootstrap=function(e){return a(e,function(e){n.push(e)}),r()},D(Er.resumeDeferredBootstrap)&&Er.resumeDeferredBootstrap()}function pe(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function de(e){var t=Er.element(e).injector();if(!t)throw Sr("test","no injector found for element argument to getTestability");return t.get("$$testability")}function he(e,t){return t=t||"_",e.replace(Lr,function(e,n){return(n?t:"")+e.toLowerCase()})}function fe(e,t,n){if(!e)throw Sr("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function ge(e,t,n){return n&&S(e)&&(e=e[e.length-1]),fe(D(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function me(e,t){if("hasOwnProperty"===e)throw Sr("badname","hasOwnProperty is not a valid {0} name",t)}function ve(e,t,n){if(!t)return e;for(var i,r=t.split("."),a=e,o=r.length,s=0;s<o;s++)i=r[s],e&&(e=(a=e)[i]);return!n&&D(e)?J(a,e):e}function $e(e){for(var t,n=e[0],i=e[e.length-1],r=1;n!==i&&(n=n.nextSibling);r++)(t||e[r]!==n)&&(t||(t=dr(wr.call(e,0,r))),t.push(n));return t||e}function be(){return Object.create(null)}function ye(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=!$(e)||S(e)||T(e)?Q(e):e.toString()}return e}function we(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=i("$injector"),r=i("ng"),a=t(e,"angular",Object);return a.$$minErr=a.$$minErr||i,t(a,"module",function(){var e={};return function(i,a,o){var s={};return function(e,t){if("hasOwnProperty"===e)throw r("badname","hasOwnProperty is not a valid {0} name",t)}(i,"module"),a&&e.hasOwnProperty(i)&&(e[i]=null),t(e,i,function(){function e(e,t,n,i){return i||(i=l),function(){return i[n||"push"]([e,t,arguments]),d}}function t(e,t,n){return n||(n=l),function(r,a){return a&&D(a)&&(a.$$moduleName=i),n.push([e,t,arguments]),d}}if(!a)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",i);var l=[],c=[],u=[],p=e("$injector","invoke","push",c),d={_invokeQueue:l,_configBlocks:c,_runBlocks:u,info:function(e){if(y(e)){if(!w(e))throw r("aobj","Argument '{0}' must be an object","value");return s=e,this}return s},requires:a,name:i,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:t("$provide","decorator",c),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),component:t("$compileProvider","component"),config:p,run:function(e){return u.push(e),this}};return o&&p(o),d})}})}function xe(e,t){if(S(e)){t=t||[];for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}else if(w(e)){t=t||{};for(var r in e)"$"===r.charAt(0)&&"$"===r.charAt(1)||(t[r]=e[r])}return t||e}function ke(e,t){var i=[];return n(t)&&(e=Er.copy(e,null,t)),JSON.stringify(e,function(e,t){if(t=K(e,t),w(t)){if(i.indexOf(t)>=0)return"...";i.push(t)}return t})}function Ce(e,t){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):b(e)?"undefined":"string"!=typeof e?ke(e,t):e}function Te(){return++Gr}function Se(e){return De(e.replace(Jr,"ms-"))}function Ee(e,t){return t.toUpperCase()}function De(e){return e.replace(Yr,Ee)}function Oe(e){return!Zr.test(e)}function Ae(e){var t=e.nodeType;return t===Fr||!t||t===zr}function Me(e){for(var t in Wr[e.ng339])return!0;return!1}function Ie(e,t){var n,i,r,o,s=t.createDocumentFragment(),l=[];if(Oe(e))l.push(t.createTextNode(e));else{for(n=s.appendChild(t.createElement("div")),i=(ea.exec(e)||["",""])[1].toLowerCase(),r=na[i]||na._default,n.innerHTML=r[1]+e.replace(ta,"<$1></$2>")+r[2],o=r[0];o--;)n=n.lastChild;l=G(l,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",a(l,function(e){s.appendChild(e)}),s}function Pe(t,n){n=n||e.document;var i;return(i=Xr.exec(t))?[n.createElement(i[1])]:(i=Ie(t,n))?i.childNodes:[]}function _e(e,t){var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)}function je(e){if(e instanceof je)return e;var t;if(k(e)&&(e=Mr(e),t=!0),!(this instanceof je)){if(t&&"<"!==e.charAt(0))throw Qr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new je(e)}t?Ge(this,Pe(e)):D(e)?Ze(e):Ge(this,e)}function Ne(e){return e.cloneNode(!0)}function Re(e,t){!t&&Ae(e)&&dr.cleanData([e]),e.querySelectorAll&&dr.cleanData(e.querySelectorAll("*"))}function Le(e){var t;for(t in e)return!1;return!0}function Ue(e){var t=e.ng339,n=t&&Wr[t],i=n&&n.events,r=n&&n.data;r&&!Le(r)||i&&!Le(i)||(delete Wr[t],e.ng339=void 0)}function Fe(e,t,n,i){if(y(i))throw Qr("offargs","jqLite#off() does not support the `selector` argument");var r=qe(e),o=r&&r.events,s=r&&r.handle;if(s){if(t){var l=function(t){var i=o[t];y(n)&&z(i||[],n),y(n)&&i&&i.length>0||(e.removeEventListener(t,s),delete o[t])};a(t.split(" "),function(e){l(e),Kr[e]&&l(Kr[e])})}else for(t in o)"$destroy"!==t&&e.removeEventListener(t,s),delete o[t];Ue(e)}}function Ve(e,t){var n=e.ng339,i=n&&Wr[n];i&&(t?delete i.data[t]:i.data={},Ue(e))}function qe(e,t){var n=e.ng339,i=n&&Wr[n];return t&&!i&&(e.ng339=n=Te(),i=Wr[n]={events:{},data:{},handle:void 0}),i}function ze(e,t,n){if(Ae(e)){var i,r=y(n),a=!r&&t&&!w(t),o=!t,s=qe(e,!a),l=s&&s.data;if(r)l[De(t)]=n;else{if(o)return l;if(a)return l&&l[De(t)];for(i in t)l[De(i)]=t[i]}}}function He(e,t){return!!e.getAttribute&&(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function Be(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),i=n;a(t.split(" "),function(e){e=Mr(e),i=i.replace(" "+e+" "," ")}),i!==n&&e.setAttribute("class",Mr(i))}}function We(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),i=n;a(t.split(" "),function(e){e=Mr(e),-1===i.indexOf(" "+e+" ")&&(i+=e+" ")}),i!==n&&e.setAttribute("class",Mr(i))}}function Ge(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var i=0;i<n;i++)e[e.length++]=t[i]}else e[e.length++]=t}}function Ye(e,t){return Je(e,"$"+(t||"ngController")+"Controller")}function Je(e,t,n){e.nodeType===zr&&(e=e.documentElement);for(var i=S(t)?t:[t];e;){for(var r=0,a=i.length;r<a;r++)if(y(n=dr.data(e,i[r])))return n;e=e.parentNode||e.nodeType===Hr&&e.host}}function Ke(e){for(Re(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Qe(e,t){t||Re(e);var n=e.parentNode;n&&n.removeChild(e)}function Xe(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):dr(n).on("load",t)}function Ze(t){function n(){e.document.removeEventListener("DOMContentLoaded",n),e.removeEventListener("load",n),t()}"complete"===e.document.readyState?e.setTimeout(t):(e.document.addEventListener("DOMContentLoaded",n),e.addEventListener("load",n))}function et(e,t){var n=aa[t.toLowerCase()];return n&&oa[V(e)]&&n}function tt(e){return sa[e]}function nt(e,t){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=t[i||n.type],a=r?r.length:0;if(a){if(b(n.immediatePropagationStopped)){var o=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),o&&o.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var s=r.specialHandlerWrapper||it;a>1&&(r=xe(r));for(var l=0;l<a;l++)n.isImmediatePropagationStopped()||s(e,n,r[l])}};return n.elem=e,n}function it(e,t,n){n.call(e,t)}function rt(e,t,n){var i=t.relatedTarget;i&&(i===e||ia.call(e,i))||n.call(e,t)}function at(){this.$get=function(){return p(je,{hasClass:function(e,t){return e.attr&&(e=e[0]),He(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),We(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),Be(e,t)}})}}function ot(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var i=typeof e;return n="function"===i||"object"===i&&null!==e?e.$$hashKey=i+":"+(t||l)():i+":"+e}function st(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}function lt(e){return Function.prototype.toString.call(e)}function ct(e){var t=lt(e).replace(ga,"");return t.match(pa)||t.match(da)}function ut(e){var t=ct(e);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function pt(e,t,n){var i,r,o;if("function"==typeof e){if(!(i=e.$inject)){if(i=[],e.length){if(t)throw k(n)&&n||(n=e.name||ut(e)),ma("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);r=ct(e),a(r[1].split(ha),function(e){e.replace(fa,function(e,t,n){i.push(n)})})}e.$inject=i}}else S(e)?(o=e.length-1,ge(e[o],"fn"),i=e.slice(0,o)):ge(e,"fn",!0);return i}function dt(e,t){function n(e){return function(t,n){if(!w(t))return e(t,n);a(t,s(e))}}function i(e,t){if(me(e,"service"),(D(t)||S(t))&&(t=x.instantiate(t)),!t.$get)throw ma("pget","Provider '{0}' must define $get factory method.",e);return y[e+g]=t}function r(e,t){return function(){var n=E.invoke(t,this);if(b(n))throw ma("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function o(e,t,n){return i(e,{$get:!1!==n?r(e,t):t})}function l(e,t){return o(e,["$injector",function(e){return e.instantiate(t)}])}function c(e,t){return o(e,v(t),!1)}function u(e,t){me(e,"constant"),y[e]=t,C[e]=t}function p(e,t){var n=x.get(e+g),i=n.$get;n.$get=function(){var e=E.invoke(i,n);return E.invoke(t,null,{$delegate:e})}}function d(e){fe(b(e)||S(e),"modulesToLoad","not an array");var t,n=[];return a(e,function(e){function i(e){var t,n;for(t=0,n=e.length;t<n;t++){var i=e[t],r=x.get(i[0]);r[i[1]].apply(r,i[2])}}if(!$.get(e)){$.set(e,!0);try{k(e)?(t=fr(e),E.modules[e]=t,n=n.concat(d(t.requires)).concat(t._runBlocks),i(t._invokeQueue),i(t._configBlocks)):D(e)?n.push(x.invoke(e)):S(e)?n.push(x.invoke(e)):ge(e,"module")}catch(t){throw S(e)&&(e=e[e.length-1]),t.message&&t.stack&&-1===t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),ma("modulerr","Failed to instantiate module {0} due to:\n{1}",e,t.stack||t.message||t)}}}),n}function h(e,n){function i(t,i){if(e.hasOwnProperty(t)){if(e[t]===f)throw ma("cdep","Circular dependency found: {0}",t+" <- "+m.join(" <- "));return e[t]}try{return m.unshift(t),e[t]=f,e[t]=n(t,i),e[t]}catch(n){throw e[t]===f&&delete e[t],n}finally{m.shift()}}function r(e,n,r){for(var a=[],o=dt.$$annotate(e,t,r),s=0,l=o.length;s<l;s++){var c=o[s];if("string"!=typeof c)throw ma("itkn","Incorrect injection token! Expected service name as string, got {0}",c);a.push(n&&n.hasOwnProperty(c)?n[c]:i(c,r))}return a}function a(e){if(pr||"function"!=typeof e)return!1;var t=e.$$ngIsClass;return j(t)||(t=e.$$ngIsClass=/^class\b/.test(lt(e))),t}function o(e,t,n,i){"string"==typeof n&&(i=n,n=null);var o=r(e,n,i);return S(e)&&(e=e[e.length-1]),a(e)?(o.unshift(null),new(Function.prototype.bind.apply(e,o))):e.apply(t,o)}function s(e,t,n){var i=S(e)?e[e.length-1]:e,a=r(e,t,n);return a.unshift(null),new(Function.prototype.bind.apply(i,a))}return{invoke:o,instantiate:s,get:i,annotate:dt.$$annotate,has:function(t){return y.hasOwnProperty(t+g)||e.hasOwnProperty(t)}}}t=!0===t;var f={},g="Provider",m=[],$=new ca,y={$provide:{provider:n(i),factory:n(o),service:n(l),value:n(c),constant:n(u),decorator:p}},x=y.$injector=h(y,function(e,t){throw Er.isString(t)&&m.push(t),ma("unpr","Unknown provider: {0}",m.join(" <- "))}),C={},T=h(C,function(e,t){var n=x.get(e+g,t);return E.invoke(n.$get,n,void 0,e)}),E=T;y["$injector"+g]={$get:v(T)},E.modules=x.modules=be();var O=d(e);return E=T.get("$injector"),E.strictDi=t,a(O,function(e){e&&E.invoke(e)}),E.loadNewModules=function(e){a(d(e),function(e){e&&E.invoke(e)})},E}function ht(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,i){function r(e){var t=null;return Array.prototype.some.call(e,function(e){if("a"===V(e))return t=e,!0}),t}function a(){var e=s.yOffset;if(D(e))e=e();else if(U(e)){var n=e[0],i=t.getComputedStyle(n);e="fixed"!==i.position?0:n.getBoundingClientRect().bottom}else C(e)||(e=0);return e}function o(e){if(e){e.scrollIntoView();var n=a();if(n){var i=e.getBoundingClientRect().top;t.scrollBy(0,i-n)}}else t.scrollTo(0,0)}function s(e){e=k(e)?e:C(e)?e.toString():n.hash();var t;e?(t=l.getElementById(e))?o(t):(t=r(l.getElementsByName(e)))?o(t):"top"===e&&o(null):o(null)}var l=t.document;return e&&i.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||Xe(function(){i.$evalAsync(s)})}),s}]}function ft(e,t){return e||t?e?t?(S(e)&&(e=e.join(" ")),S(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function gt(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===$a)return n}}function mt(e){k(e)&&(e=e.split(" "));var t=be();return a(e,function(e){e.length&&(t[e]=!0)}),t}function vt(e){return w(e)?e:{}}function $t(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}function bt(e){return e.replace(/#$/,"")}function yt(e,t,n,i,r){function o(){x=null,l()}function s(){v=k(),v=b(v)?null:v,W(v,S)&&(v=S),S=v,$=v}function l(){var e=$;s(),y===c.url()&&e===v||(y=c.url(),$=v,a(C,function(e){e(c.url(),v)}))}var c=this,u=e.location,p=e.history,d=e.setTimeout,h=e.clearTimeout,f={},m=r(n);c.isMock=!1,c.$$completeOutstandingRequest=m.completeTask,c.$$incOutstandingRequestCount=m.incTaskCount,c.notifyWhenNoOutstandingRequests=m.notifyWhenNoPendingTasks;var v,$,y=u.href,w=t.find("base"),x=null,k=i.history?function(){try{return p.state}catch(e){}}:g;s(),c.url=function(t,n,r){if(b(r)&&(r=null),u!==e.location&&(u=e.location),p!==e.history&&(p=e.history),t){var a=$===r;if(t=Qn(t).href,y===t&&(!i.history||a))return c;var o=y&&an(y)===an(t);return y=t,$=r,!i.history||o&&a?(o||(x=t),n?u.replace(t):o?u.hash=$t(t):u.href=t,u.href!==t&&(x=t)):(p[n?"replaceState":"pushState"](r,"",t),s()),x&&(x=t),c}return bt(x||u.href)},c.state=function(){return v};var C=[],T=!1,S=null;c.onUrlChange=function(t){return T||(i.history&&dr(e).on("popstate",o),dr(e).on("hashchange",o),T=!0),C.push(t),t},c.$$applicationDestroyed=function(){dr(e).off("hashchange popstate",o)},c.$$checkUrlChange=l,c.baseHref=function(){var e=w.attr("href");return e?e.replace(/^(https?:)?\/\/[^\/]*/,""):""},c.defer=function(e,t,n){var i;return t=t||0,n=n||m.DEFAULT_TASK_TYPE,m.incTaskCount(n),i=d(function(){delete f[i],m.completeTask(e,n)},t),f[i]=n,i},c.defer.cancel=function(e){if(f.hasOwnProperty(e)){var t=f[e];return delete f[e],h(e),m.completeTask(g,t),!0}return!1}}function wt(){this.$get=["$window","$log","$sniffer","$document","$$taskTrackerFactory",function(e,t,n,i,r){return new yt(e,i,t,n,r)}]}function xt(){this.$get=function(){function e(e,n){function r(e){e!==d&&(h?h===e&&(h=e.n):h=e,a(e.n,e.p),a(e,d),d=e,d.n=null)}function a(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw i("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var o=0,s=p({},n,{id:e}),l=be(),c=n&&n.capacity||Number.MAX_VALUE,u=be(),d=null,h=null;return t[e]={put:function(e,t){if(!b(t)){if(c<Number.MAX_VALUE){r(u[e]||(u[e]={key:e}))}return e in l||o++,l[e]=t,o>c&&this.remove(h.key),t}},get:function(e){if(c<Number.MAX_VALUE){var t=u[e];if(!t)return;r(t)}return l[e]},remove:function(e){if(c<Number.MAX_VALUE){var t=u[e];if(!t)return;t===d&&(d=t.p),t===h&&(h=t.n),a(t.n,t.p),delete u[e]}e in l&&(delete l[e],o--)},removeAll:function(){l=be(),o=0,u=be(),d=h=null},destroy:function(){l=null,s=null,u=null,delete t[e]},info:function(){return p({},s,{size:o})}}}var t={};return e.info=function(){var e={};return a(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function kt(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Ct(){}function Tt(t,n){function i(e,t,n){var i=/^([@&]|[=<](\*?))(\??)\s*([\w$]*)$/,r=be();return a(e,function(e,a){if((e=e.trim())in O)return void(r[a]=O[e]);var o=e.match(i);if(!o)throw Ta("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,a,e,n?"controller bindings definition":"isolate scope definition");r[a]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||a},o[4]&&(O[e]=r[a])}),r}function r(e,t){var n={isolateScope:null,bindToController:null};if(w(e.scope)&&(!0===e.bindToController?(n.bindToController=i(e.scope,t,!0),n.isolateScope={}):n.isolateScope=i(e.scope,t,!1)),w(e.bindToController)&&(n.bindToController=i(e.bindToController,t,!0)),n.bindToController&&!e.controller)throw Ta("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);return n}function o(e){var t=e.charAt(0);if(!t||t!==br(t))throw Ta("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw Ta("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}function l(e){var t=e.require||e.controller&&e.name;return!S(t)&&w(t)&&a(t,function(e,n){var i=e.match(C);e.substring(i[0].length)||(t[n]=i[0]+n)}),t}function c(e,t){if(e&&(!k(e)||!/[EACM]/.test(e)))throw Ta("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",e,t);return e||"EA"}var u={},d="Directive",h=/^\s*directive:\s*([\w-]+)\s+(.*)$/,$=/(([\w-]+)(?::([^;]+))?;?)/,x=F("ngSrc,ngSrcset,src,srcset"),C=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,T=/^(on[a-z]+|formaction)$/,O=be();this.directive=function e(n,i){return fe(n,"name"),me(n,"directive"),k(n)?(o(n),fe(i,"directiveFactory"),u.hasOwnProperty(n)||(u[n]=[],t.factory(n+d,["$injector","$exceptionHandler",function(e,t){var i=[];return a(u[n],function(r,a){try{var o=e.invoke(r);D(o)?o={compile:v(o)}:!o.compile&&o.link&&(o.compile=v(o.link)),o.priority=o.priority||0,o.index=a,o.name=o.name||n,o.require=l(o),o.restrict=c(o.restrict,n),o.$$moduleName=r.$$moduleName,i.push(o)}catch(e){t(e)}}),i}])),u[n].push(i)):a(n,s(e)),this},this.component=function e(t,n){function i(e){function t(t){return D(t)||S(t)?function(n,i){return e.invoke(t,this,{$element:n,$attrs:i})}:t}var i=n.template||n.templateUrl?n.template:"",o={controller:r,controllerAs:At(n.controller)||n.controllerAs||"$ctrl",template:t(i),templateUrl:t(n.templateUrl),transclude:n.transclude,scope:{},bindToController:n.bindings||{},restrict:"E",require:n.require};return a(n,function(e,t){"$"===t.charAt(0)&&(o[t]=e)}),o}if(!k(t))return a(t,s(J(this,e))),this;var r=n.controller||function(){};return a(n,function(e,t){"$"===t.charAt(0)&&(i[t]=e,D(r)&&(r[t]=e))}),i.$inject=["$injector"],this.directive(t,i)},this.aHrefSanitizationWhitelist=function(e){return y(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist()};var A=!0;this.debugInfoEnabled=function(e){return y(e)?(A=e,this):A};var I=!1;this.strictComponentBindingsEnabled=function(e){return y(e)?(I=e,this):I};var P=10;this.onChangesTtl=function(e){return arguments.length?(P=e,this):P};var _=!0;this.commentDirectivesEnabled=function(e){return arguments.length?(_=e,this):_};var N=!0;this.cssClassDirectivesEnabled=function(e){return arguments.length?(N=e,this):N};var R=be();this.addPropertySecurityContext=function(e,t,n){var i=e.toLowerCase()+"|"+t.toLowerCase();if(i in R&&R[i]!==n)throw Ta("ctxoverride","Property context '{0}.{1}' already set to '{2}', cannot override to '{3}'.",e,t,R[i],n);return R[i]=n,this},function(){function e(e,t){a(t,function(t){R[t.toLowerCase()]=e})}e(no.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),e(no.CSS,["*|style"]),e(no.URL,["area|href","area|ping","a|href","a|ping","blockquote|cite","body|background","del|cite","input|src","ins|cite","q|cite"]),e(no.MEDIA_URL,["audio|src","img|src","img|srcset","source|src","source|srcset","track|src","video|src","video|poster"]),e(no.RESOURCE_URL,["*|formAction","applet|code","applet|codebase","base|href","embed|src","frame|src","form|action","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])}(),this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function(t,n,i,o,s,l,c,v,y){function O(){try{if(!--Le)throw Ie=void 0,Ta("infchng","{0} $onChanges() iterations reached. Aborting!\n",P);c.$apply(function(){for(var e=0,t=Ie.length;e<t;++e)try{Ie[e]()}catch(e){i(e)}Ie=void 0})}finally{Le++}}function L(e,t){if(!e)return e;if(!k(e))throw Ta("srcset",'Can\'t pass trusted values to `{0}`: "{1}"',t,e.toString());for(var n="",i=Mr(e),r=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,a=/\s/.test(i)?r:/(,)/,o=i.split(a),s=Math.floor(o.length/2),l=0;l<s;l++){var c=2*l;n+=v.getTrustedMediaUrl(Mr(o[c])),n+=" "+Mr(o[c+1])}var u=Mr(o[2*l]).split(/\s/);return n+=v.getTrustedMediaUrl(Mr(u[0])),2===u.length&&(n+=" "+Mr(u[1])),n}function U(e,t){if(t){var n,i,r,a=Object.keys(t);for(n=0,i=a.length;n<i;n++)r=a[n],this[r]=t[r]}else this.$attr={};this.$$element=e}function F(e,t,n){_e.innerHTML="<span "+t+">";var i=_e.firstChild.attributes,r=i[0];i.removeNamedItem(r.name),r.value=n,e.attributes.setNamedItem(r)}function q(e,t){try{e.addClass(t)}catch(e){}}function H(e,t,n,i,r){e instanceof dr||(e=dr(e));var a=K(e,t,e,n,i,r);H.$$addScopeClass(e);var o=null;return function(t,n,i){if(!e)throw Ta("multilink","This element has already been linked.");fe(t,"scope"),r&&r.needsNewScope&&(t=t.$parent.$new()),i=i||{};var s=i.parentBoundTranscludeFn,l=i.transcludeControllers,c=i.futureParentElement;s&&s.$$boundTransclude&&(s=s.$$boundTransclude),o||(o=G(c));var u;if(u="html"!==o?dr($e(o,dr("<div></div>").append(e).html())):n?ra.clone.call(e):e,l)for(var p in l)u.data("$"+p+"Controller",l[p].instance);return H.$$addScopeInfo(u,t),n&&n(u,t),a&&a(t,u,u,s),n||(e=a=null),u}}function G(e){var t=e&&e[0];return t&&"foreignobject"!==V(t)&&Cr.call(t).match(/SVG/)?"svg":"html"}function K(e,t,n,i,r,a){function o(e,n,i,r){var a,o,s,l,c,u,p,d,g;if(h){var m=n.length;for(g=new Array(m),c=0;c<f.length;c+=3)p=f[c],g[p]=n[p]}else g=n;for(c=0,u=f.length;c<u;)s=g[f[c++]],a=f[c++],o=f[c++],a?(a.scope?(l=e.$new(),H.$$addScopeInfo(dr(s),l)):l=e,d=a.transcludeOnThisElement?X(e,a.transclude,r):!a.templateOnThisElement&&r?r:!r&&t?X(e,t):null,a(o,l,s,i,d)):o&&o(e,s.childNodes,void 0,r)}for(var s,l,c,u,p,d,h,f=[],g=S(e)||e instanceof dr,m=0;m<e.length;m++)s=new U,11===pr&&Q(e,m,g),l=Z(e[m],[],s,0===m?i:void 0,r),c=l.length?ae(l,e[m],s,t,n,null,[],[],a):null,c&&c.scope&&H.$$addScopeClass(s.$$element),
p=c&&c.terminal||!(u=e[m].childNodes)||!u.length?null:K(u,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:t),(c||p)&&(f.push(m,c,p),d=!0,h=h||c),a=null;return d?o:null}function Q(e,t,n){var i,r=e[t],a=r.parentNode;if(r.nodeType===Vr)for(;;){if(!(i=a?r.nextSibling:e[t+1])||i.nodeType!==Vr)break;r.nodeValue=r.nodeValue+i.nodeValue,i.parentNode&&i.parentNode.removeChild(i),n&&i===e[t+1]&&e.splice(t+1,1)}}function X(e,t,n){function i(i,r,a,o,s){return i||(i=e.$new(!1,s),i.$$transcluded=!0),t(i,r,{parentBoundTranscludeFn:n,transcludeControllers:a,futureParentElement:o})}var r=i.$$slots=be();for(var a in t.$$slots)t.$$slots[a]?r[a]=X(e,t.$$slots[a],n):r[a]=null;return i}function Z(e,t,n,i,r){var a,o,s,l=e.nodeType,c=n.$attr;switch(l){case Fr:o=V(e),ce(t,Et(o),"E",i,r);for(var u,p,d,h,f,g=e.attributes,m=0,v=g&&g.length;m<v;m++){var b,y=!1,x=!1,C=!1,T=!1,S=!1;u=g[m],p=u.name,h=u.value,d=Et(p.toLowerCase()),(f=d.match(qe))?(C="Attr"===f[1],T="Prop"===f[1],S="On"===f[1],p=p.replace(Ea,"").toLowerCase().substr(4+f[1].length).replace(/_(.)/g,function(e,t){return t.toUpperCase()})):(b=d.match(ze))&&ue(b[1])&&(y=p,x=p.substr(0,p.length-5)+"end",p=p.substr(0,p.length-6)),T||S?(n[d]=h,c[d]=u.name,T?ke(e,t,d,p):Ce(t,d,p)):(d=Et(p.toLowerCase()),c[d]=p,!C&&n.hasOwnProperty(d)||(n[d]=h,et(e,d)&&(n[d]=!0)),Te(e,t,h,d,C),ce(t,d,"A",i,r,y,x))}if("input"===o&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),!Re)break;if(s=e.className,w(s)&&(s=s.animVal),k(s)&&""!==s)for(;a=$.exec(s);)d=Et(a[2]),ce(t,d,"C",i,r)&&(n[d]=Mr(a[3])),s=s.substr(a.index+a[0].length);break;case Vr:ve(t,e.nodeValue);break;case qr:if(!je)break;ee(e,t,n,i,r)}return t.sort(ge),t}function ee(e,t,n,i,r){try{var a=h.exec(e.nodeValue);if(a){var o=Et(a[1]);ce(t,o,"M",i,r)&&(n[o]=Mr(a[2]))}}catch(e){}}function te(e,t,n){var i=[],r=0;if(t&&e.hasAttribute&&e.hasAttribute(t))do{if(!e)throw Ta("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType===Fr&&(e.hasAttribute(t)&&r++,e.hasAttribute(n)&&r--),i.push(e),e=e.nextSibling}while(r>0);else i.push(e);return dr(i)}function ie(e,t,n){return function(i,r,a,o,s){return r=te(r[0],t,n),e(i,r,a,o,s)}}function re(e,t,n,i,r,a){var o;return e?H(t,n,i,r,a):function(){return o||(o=H(t,n,i,r,a),t=n=a=null),o.apply(this,arguments)}}function ae(t,n,r,o,s,l,c,u,d){function h(e,t,n,i){e&&(n&&(e=ie(e,n,i)),e.require=g.require,e.directiveName=m,(T===g||g.$$isolateScope)&&(e=Ee(e,{isolateScope:!0})),c.push(e)),t&&(n&&(t=ie(t,n,i)),t.require=g.require,t.directiveName=m,(T===g||g.$$isolateScope)&&(t=Ee(t,{isolateScope:!0})),u.push(t))}function f(e,t,o,s,l){function d(e,t,n,i){var r;if(M(e)||(i=n,n=t,t=e,e=void 0),P&&(r=$),n||(n=P?x.parent():x),!i)return l(e,t,r,n,R);var a=l.$$slots[i];if(a)return a(e,t,r,n,R);if(b(a))throw Ta("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',i,ne(x))}var h,f,g,m,v,$,y,x,O,A;n===o?(O=r,x=r.$$element):(x=dr(o),O=new U(x,r)),v=t,T?m=t.$new(!0):k&&(v=t.$parent),l&&(y=d,y.$$boundTransclude=l,y.isSlotFilled=function(e){return!!l.$$slots[e]}),C&&($=se(x,O,y,C,m,t,T)),T&&(H.$$addScopeInfo(x,m,!0,!(E&&(E===T||E===T.$$originalDirective))),H.$$addScopeClass(x,!0),m.$$isolateBindings=T.$$isolateBindings,A=Me(t,O,m,m.$$isolateBindings,T),A.removeWatches&&m.$on("$destroy",A.removeWatches));for(var I in $){var _=C[I],j=$[I],N=_.$$bindings.bindToController;j.instance=j(),x.data("$"+_.name+"Controller",j.instance),j.bindingInfo=Me(v,O,j.instance,N,_)}for(a(C,function(e,t){var n=e.require;e.bindToController&&!S(n)&&w(n)&&p($[t].instance,oe(t,n,x,$))}),a($,function(e){var t=e.instance;if(D(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(e){i(e)}if(D(t.$onInit))try{t.$onInit()}catch(e){i(e)}D(t.$doCheck)&&(v.$watch(function(){t.$doCheck()}),t.$doCheck()),D(t.$onDestroy)&&v.$on("$destroy",function(){t.$onDestroy()})}),h=0,f=c.length;h<f;h++)g=c[h],De(g,g.isolateScope?m:t,x,O,g.require&&oe(g.directiveName,g.require,x,$),y);var R=t;for(T&&(T.template||null===T.templateUrl)&&(R=m),e&&e(R,o.childNodes,void 0,l),h=u.length-1;h>=0;h--)g=u[h],De(g,g.isolateScope?m:t,x,O,g.require&&oe(g.directiveName,g.require,x,$),y);a($,function(e){var t=e.instance;D(t.$postLink)&&t.$postLink()})}d=d||{};for(var g,m,v,$,y,x=-Number.MAX_VALUE,k=d.newScopeDirective,C=d.controllerDirectives,T=d.newIsolateScopeDirective,E=d.templateDirective,O=d.nonTlbTranscludeDirective,A=!1,I=!1,P=d.hasElementTranscludeDirective,_=r.$$element=dr(n),j=l,N=o,R=!1,L=!1,F=0,q=t.length;F<q;F++){g=t[F];var z=g.$$start,B=g.$$end;if(z&&(_=te(n,z,B)),v=void 0,x>g.priority)break;if(y=g.scope,y&&(g.templateUrl||(w(y)?(me("new/isolated scope",T||k,g,_),T=g):me("new/isolated scope",T,g,_)),k=k||g),m=g.name,!R&&(g.replace&&(g.templateUrl||g.template)||g.transclude&&!g.$$tlb)){for(var W,G=F+1;W=t[G++];)if(W.transclude&&!W.$$tlb||W.replace&&(W.templateUrl||W.template)){L=!0;break}R=!0}if(!g.templateUrl&&g.controller&&(C=C||be(),me("'"+m+"' controller",C[m],g,_),C[m]=g),y=g.transclude)if(A=!0,g.$$tlb||(me("transclusion",O,g,_),O=g),"element"===y)P=!0,x=g.priority,v=_,_=r.$$element=dr(H.$$createComment(m,r[m])),n=_[0],Se(s,Y(v),n),N=re(L,v,o,x,j&&j.name,{nonTlbTranscludeDirective:O});else{var K=be();if(w(y)){v=e.document.createDocumentFragment();var Q=be(),X=be();a(y,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,Q[e]=t,K[t]=null,X[t]=n}),a(_.contents(),function(t){var n=Q[Et(V(t))];n?(X[n]=!0,K[n]=K[n]||e.document.createDocumentFragment(),K[n].appendChild(t)):v.appendChild(t)}),a(X,function(e,t){if(!e)throw Ta("reqslot","Required transclusion slot `{0}` was not filled.",t)});for(var ee in K)if(K[ee]){var ae=dr(K[ee].childNodes);K[ee]=re(L,ae,o)}v=dr(v.childNodes)}else v=dr(Ne(n)).contents();_.empty(),N=re(L,v,o,void 0,void 0,{needsNewScope:g.$$isolateScope||g.$$newScope}),N.$$slots=K}if(g.template)if(I=!0,me("template",E,g,_),E=g,y=D(g.template)?g.template(_,r):g.template,y=Ve(y),g.replace){if(j=g,v=Oe(y)?[]:Ot($e(g.templateNamespace,Mr(y))),n=v[0],1!==v.length||n.nodeType!==Fr)throw Ta("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m,"");Se(s,_,n);var ce={$attr:{}},ue=Z(n,[],ce),he=t.splice(F+1,t.length-(F+1));(T||k)&&le(ue,T,k),t=t.concat(ue).concat(he),pe(r,ce),q=t.length}else _.html(y);if(g.templateUrl)I=!0,me("template",E,g,_),E=g,g.replace&&(j=g),f=de(t.splice(F,t.length-F),_,r,s,A&&N,c,u,{controllerDirectives:C,newScopeDirective:k!==g&&k,newIsolateScopeDirective:T,templateDirective:E,nonTlbTranscludeDirective:O}),q=t.length;else if(g.compile)try{$=g.compile(_,r,N);var fe=g.$$originalDirective||g;D($)?h(null,J(fe,$),z,B):$&&h(J(fe,$.pre),J(fe,$.post),z,B)}catch(e){i(e,ne(_))}g.terminal&&(f.terminal=!0,x=Math.max(x,g.priority))}return f.scope=k&&!0===k.scope,f.transcludeOnThisElement=A,f.templateOnThisElement=I,f.transclude=N,d.hasElementTranscludeDirective=P,f}function oe(e,t,n,i){var r;if(k(t)){var o=t.match(C),s=t.substring(o[0].length),l=o[1]||o[3],c="?"===o[2];if("^^"===l?n=n.parent():(r=i&&i[s],r=r&&r.instance),!r){var u="$"+s+"Controller";r="^^"===l&&n[0]&&n[0].nodeType===zr?null:l?n.inheritedData(u):n.data(u)}if(!r&&!c)throw Ta("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,e)}else if(S(t)){r=[];for(var p=0,d=t.length;p<d;p++)r[p]=oe(e,t[p],n,i)}else w(t)&&(r={},a(t,function(t,a){r[a]=oe(e,t,n,i)}));return r||null}function se(e,t,n,i,r,a,o){var s=be();for(var c in i){var u=i[c],p={$scope:u===o||u.$$isolateScope?r:a,$element:e,$attrs:t,$transclude:n},d=u.controller;"@"===d&&(d=t[u.name]);var h=l(d,p,!0,u.controllerAs);s[u.name]=h,e.data("$"+u.name+"Controller",h.instance)}return s}function le(e,t,n){for(var i=0,r=e.length;i<r;i++)e[i]=f(e[i],{$$isolateScope:t,$$newScope:n})}function ce(e,n,i,a,o,s,l){if(n===o)return null;var c=null;if(u.hasOwnProperty(n))for(var p,h=t.get(n+d),g=0,m=h.length;g<m;g++)if(p=h[g],(b(a)||a>p.priority)&&-1!==p.restrict.indexOf(i)){if(s&&(p=f(p,{$$start:s,$$end:l})),!p.$$bindings){var v=p.$$bindings=r(p,p.name);w(v.isolateScope)&&(p.$$isolateBindings=v.isolateScope)}e.push(p),c=p}return c}function ue(e){if(u.hasOwnProperty(e))for(var n,i=t.get(e+d),r=0,a=i.length;r<a;r++)if(n=i[r],n.multiElement)return!0;return!1}function pe(e,t){var n=t.$attr,i=e.$attr;a(e,function(i,r){"$"!==r.charAt(0)&&(t[r]&&t[r]!==i&&(i.length?i+=("style"===r?";":" ")+t[r]:i=t[r]),e.$set(r,i,!0,n[r]))}),a(t,function(t,r){e.hasOwnProperty(r)||"$"===r.charAt(0)||(e[r]=t,"class"!==r&&"style"!==r&&(i[r]=n[r]))})}function de(e,t,n,r,s,l,c,u){var p,d,h=[],g=t[0],m=e.shift(),v=f(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),$=D(m.templateUrl)?m.templateUrl(t,n):m.templateUrl,b=m.templateNamespace;return t.empty(),o($).then(function(i){var o,f,y,x;if(i=Ve(i),m.replace){if(y=Oe(i)?[]:Ot($e(b,Mr(i))),o=y[0],1!==y.length||o.nodeType!==Fr)throw Ta("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,$);f={$attr:{}},Se(r,t,o);var k=Z(o,[],f);w(m.scope)&&le(k,!0),e=k.concat(e),pe(n,f)}else o=g,t.html(i);for(e.unshift(v),p=ae(e,o,n,s,t,m,l,c,u),a(r,function(e,n){e===o&&(r[n]=t[0])}),d=K(t[0].childNodes,s);h.length;){var C=h.shift(),T=h.shift(),S=h.shift(),E=h.shift(),D=t[0];if(!C.$$destroyed){if(T!==g){var O=T.className;u.hasElementTranscludeDirective&&m.replace||(D=Ne(o)),Se(S,dr(T),D),q(dr(D),O)}x=p.transcludeOnThisElement?X(C,p.transclude,E):E,p(d,C,D,r,x)}}h=null}).catch(function(e){E(e)&&i(e)}),function(e,t,n,i,r){var a=r;t.$$destroyed||(h?h.push(t,n,i,a):(p.transcludeOnThisElement&&(a=X(t,p.transclude,r)),p(d,t,n,i,a)))}}function ge(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function me(e,t,n,i){function r(e){return e?" (module: "+e+")":""}if(t)throw Ta("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,r(t.$$moduleName),n.name,r(n.$$moduleName),e,ne(i))}function ve(e,t){var i=n(t,!0);i&&e.push({priority:0,compile:function(e){var t=e.parent(),n=!!t.length;return n&&H.$$addBindingClass(t),function(e,t){var r=t.parent();n||H.$$addBindingClass(r),H.$$addBindingInfo(r,i.expressions),e.$watch(i,function(e){t[0].nodeValue=e})}}})}function $e(t,n){switch(t=br(t||"html")){case"svg":case"math":var i=e.document.createElement("div");return i.innerHTML="<"+t+">"+n+"</"+t+">",i.childNodes[0].childNodes;default:return n}}function ye(e,t){return"srcdoc"===t?v.HTML:"src"===t||"ngSrc"===t?-1===["img","video","audio","source","track"].indexOf(e)?v.RESOURCE_URL:v.MEDIA_URL:"xlinkHref"===t?"image"===e?v.MEDIA_URL:"a"===e?v.URL:v.RESOURCE_URL:"form"===e&&"action"===t||"base"===e&&"href"===t||"link"===e&&"href"===t?v.RESOURCE_URL:"a"!==e||"href"!==t&&"ngHref"!==t?void 0:v.URL}function we(e,t){var n=t.toLowerCase();return R[e+"|"+n]||R["*|"+n]}function xe(e){return L(v.valueOf(e),"ng-prop-srcset")}function ke(e,t,n,i){if(T.test(i))throw Ta("nodomevents","Property bindings for HTML DOM event properties are disallowed");var r=V(e),a=we(r,i),o=m;"srcset"!==i||"img"!==r&&"source"!==r?a&&(o=v.getTrusted.bind(v,a)):o=xe,t.push({priority:100,compile:function(e,t){var r=s(t[n]),a=s(t[n],function(e){return v.valueOf(e)});return{pre:function(e,t){function n(){var n=r(e);t[0][i]=o(n)}n(),e.$watch(a,n)}}}})}function Ce(e,t,n){e.push(ir(s,c,i,t,n,!1))}function Te(e,t,i,r,a){var o=V(e),s=ye(o,r),l=!a,c=x[r]||a,u=n(i,l,s,c);if(u){if("multiple"===r&&"select"===o)throw Ta("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",ne(e));if(T.test(r))throw Ta("nodomevents","Interpolations for HTML DOM event attributes are disallowed");t.push({priority:100,compile:function(){return{pre:function(e,t,a){var o=a.$$observers||(a.$$observers=be()),l=a[r];l!==i&&(u=l&&n(l,!0,s,c),i=l),u&&(a[r]=u(e),(o[r]||(o[r]=[])).$$inter=!0,(a.$$observers&&a.$$observers[r].$$scope||e).$watch(u,function(e,t){"class"===r&&e!==t?a.$updateClass(e,t):a.$set(r,e)}))}}}})}}function Se(t,n,i){var r,a,o=n[0],s=n.length,l=o.parentNode;if(t)for(r=0,a=t.length;r<a;r++)if(t[r]===o){t[r++]=i;for(var c=r,u=c+s-1,p=t.length;c<p;c++,u++)u<p?t[c]=t[u]:delete t[c];t.length-=s-1,t.context===o&&(t.context=i);break}l&&l.replaceChild(i,o);var d=e.document.createDocumentFragment();for(r=0;r<s;r++)d.appendChild(n[r]);for(dr.hasData(o)&&(dr.data(i,dr.data(o)),dr(o).off("$destroy")),dr.cleanData(d.querySelectorAll("*")),r=1;r<s;r++)delete n[r];n[0]=i,n.length=1}function Ee(e,t){return p(function(){return e.apply(null,arguments)},e,t)}function De(e,t,n,r,a,o){try{e(t,n,r,a,o)}catch(e){i(e,ne(n))}}function Ae(e,t){if(I)throw Ta("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",e,t)}function Me(e,t,i,r,o){function l(t,n,r){D(i.$onChanges)&&!B(n,r)&&(Ie||(e.$$postDigest(O),Ie=[]),u||(u={},Ie.push(c)),u[t]&&(r=u[t].previousValue),u[t]=new St(r,n))}function c(){i.$onChanges(u),u=void 0}var u,p=[],d={};return a(r,function(r,a){var c,u,h,f,m,v=r.attrName,$=r.optional,b=r.mode;switch(b){case"@":$||$r.call(t,v)||(Ae(v,o.name),i[a]=t[v]=void 0),m=t.$observe(v,function(e){if(k(e)||j(e)){var t=i[a];l(a,e,t),i[a]=e}}),t.$$observers[v].$$scope=e,c=t[v],k(c)?i[a]=n(c)(e):j(c)&&(i[a]=c),d[a]=new St(Sa,i[a]),p.push(m);break;case"=":if(!$r.call(t,v)){if($)break;Ae(v,o.name),t[v]=void 0}if($&&!t[v])break;u=s(t[v]),f=u.literal?W:B,h=u.assign||function(){throw c=i[a]=u(e),Ta("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[v],v,o.name)},c=i[a]=u(e);var y=function(t){return f(t,i[a])||(f(t,c)?h(e,t=i[a]):i[a]=t),c=t};y.$stateful=!0,m=r.collection?e.$watchCollection(t[v],y):e.$watch(s(t[v],y),null,u.literal),p.push(m);break;case"<":if(!$r.call(t,v)){if($)break;Ae(v,o.name),t[v]=void 0}if($&&!t[v])break;u=s(t[v]);var w=u.literal,x=i[a]=u(e);d[a]=new St(Sa,i[a]),m=e[r.collection?"$watchCollection":"$watch"](u,function(e,t){if(t===e){if(t===x||w&&W(t,x))return;t=x}l(a,e,t),i[a]=e}),p.push(m);break;case"&":if($||$r.call(t,v)||Ae(v,o.name),(u=t.hasOwnProperty(v)?s(t[v]):g)===g&&$)break;i[a]=function(t){return u(e,t)}}}),{initialChanges:d,removeWatches:p.length&&function(){for(var e=0,t=p.length;e<t;++e)p[e]()}}}var Ie,Pe=/^\w/,_e=e.document.createElement("div"),je=_,Re=N,Le=P;U.prototype={$normalize:Et,$addClass:function(e){e&&e.length>0&&y.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&y.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Dt(e,t);n&&n.length&&y.addClass(this.$$element,n);var i=Dt(t,e);i&&i.length&&y.removeClass(this.$$element,i)},$set:function(e,t,n,r){var o,s=this.$$element[0],l=et(s,e),c=tt(e),u=e;l?(this.$$element.prop(e,t),r=l):c&&(this[c]=t,u=c),this[e]=t,r?this.$attr[e]=r:(r=this.$attr[e])||(this.$attr[e]=r=he(e,"-")),o=V(this.$$element),"img"===o&&"srcset"===e&&(this[e]=t=L(t,"$set('srcset', value)")),!1!==n&&(null===t||b(t)?this.$$element.removeAttr(r):Pe.test(r)?l&&!1===t?this.$$element.removeAttr(r):this.$$element.attr(r,t):F(this.$$element[0],r,t));var p=this.$$observers;p&&a(p[u],function(e){try{e(t)}catch(e){i(e)}})},$observe:function(e,t){var n=this,i=n.$$observers||(n.$$observers=be()),r=i[e]||(i[e]=[]);return r.push(t),c.$evalAsync(function(){r.$$inter||!n.hasOwnProperty(e)||b(n[e])||t(n[e])}),function(){z(r,t)}}};var Ue=n.startSymbol(),Fe=n.endSymbol(),Ve="{{"===Ue&&"}}"===Fe?m:function(e){return e.replace(/\{\{/g,Ue).replace(/}}/g,Fe)},qe=/^ng(Attr|Prop|On)([A-Z].*)$/,ze=/^(.+)Start$/;return H.$$addBindingInfo=A?function(e,t){var n=e.data("$binding")||[];S(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:g,H.$$addBindingClass=A?function(e){q(e,"ng-binding")}:g,H.$$addScopeInfo=A?function(e,t,n,i){var r=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(r,t)}:g,H.$$addScopeClass=A?function(e,t){q(e,t?"ng-isolate-scope":"ng-scope")}:g,H.$$createComment=function(t,n){var i="";return A&&(i=" "+(t||"")+": ",n&&(i+=n+" ")),e.document.createComment(i)},H}]}function St(e,t){this.previousValue=e,this.currentValue=t}function Et(e){return e.replace(Ea,"").replace(Da,function(e,t,n){return n?t.toUpperCase():t})}function Dt(e,t){var n="",i=e.split(/\s+/),r=t.split(/\s+/);e:for(var a=0;a<i.length;a++){for(var o=i[a],s=0;s<r.length;s++)if(o===r[s])continue e;n+=(n.length>0?" ":"")+o}return n}function Ot(e){e=dr(e);var t=e.length;if(t<=1)return e;for(;t--;){var n=e[t];(n.nodeType===qr||n.nodeType===Vr&&""===n.nodeValue.trim())&&xr.call(e,t,1)}return e}function At(e,t){if(t&&k(t))return t;if(k(e)){var n=Aa.exec(e);if(n)return n[3]}}function Mt(){var e={};this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){me(t,"controller"),w(t)?p(e,t):e[t]=n},this.$get=["$injector",function(t){function n(e,t,n,r){if(!e||!w(e.$scope))throw i("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,t);e.$scope[t]=n}return function(i,r,a,o){var s,l,c,u;if(a=!0===a,o&&k(o)&&(u=o),k(i)){if(!(l=i.match(Aa)))throw Oa("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",i);if(c=l[1],u=u||l[3],!(i=e.hasOwnProperty(c)?e[c]:ve(r.$scope,c,!0)))throw Oa("ctrlreg","The controller with the name '{0}' is not registered.",c);ge(i,c,!0)}if(a){var d=(S(i)?i[i.length-1]:i).prototype;return s=Object.create(d||null),u&&n(r,u,s,c||i.name),p(function(){var e=t.invoke(i,s,r,c);return e!==s&&(w(e)||D(e))&&(s=e,u&&n(r,u,s,c||i.name)),s},{instance:s,identifier:u})}return s=t.instantiate(i,r,c),u&&n(r,u,s,c||i.name),s}}]}function It(){this.$get=["$window",function(e){return dr(e.document)}]}function Pt(){this.$get=["$document","$rootScope",function(e,t){function n(){r=i.hidden}var i=e[0],r=i&&i.hidden;return e.on("visibilitychange",n),t.$on("$destroy",function(){e.off("visibilitychange",n)}),function(){return r}}]}function _t(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function jt(e){return w(e)?T(e)?e.toISOString():Q(e):e}function Nt(){this.$get=function(){return function(e){if(!e)return"";var t=[];return o(e,function(e,n){null===e||b(e)||D(e)||(S(e)?a(e,function(e){t.push(se(n)+"="+se(jt(e)))}):t.push(se(n)+"="+se(jt(e))))}),t.join("&")}}}function Rt(){this.$get=function(){return function(e){function t(e,i,r){S(e)?a(e,function(e,n){t(e,i+"["+(w(e)?n:"")+"]")}):w(e)&&!T(e)?o(e,function(e,n){t(e,i+(r?"":"[")+n+(r?"":"]"))}):(D(e)&&(e=e()),n.push(se(i)+"="+(null==e?"":se(jt(e)))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function Lt(e,t){if(k(e)){var n=e.replace(Na,"").trim();if(n){var i=t("Content-Type"),r=i&&0===i.indexOf(Ia);if(r||Ut(n))try{e=X(n)}catch(t){if(!r)return e;throw Ra("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',e,t)}}}return e}function Ut(e){var t=e.match(_a);return t&&ja[t[0]].test(e)}function Ft(e){function t(e,t){e&&(i[e]=i[e]?i[e]+", "+t:t)}var n,i=be();return k(e)?a(e.split("\n"),function(e){n=e.indexOf(":"),t(br(Mr(e.substr(0,n))),Mr(e.substr(n+1)))}):w(e)&&a(e,function(e,n){t(br(n),Mr(e))}),i}function Vt(e){var t;return function(n){if(t||(t=Ft(e)),n){var i=t[br(n)];return void 0===i&&(i=null),i}return t}}function qt(e,t,n,i){return D(i)?i(e,t,n):(a(i,function(i){e=i(e,t,n)}),e)}function zt(e){return 200<=e&&e<300}function Ht(){var e=this.defaults={transformResponse:[Lt],transformRequest:[function(e){return!w(e)||I(e)||_(e)||P(e)?e:Q(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:xe(Pa),put:xe(Pa),patch:xe(Pa)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},t=!1;this.useApplyAsync=function(e){return y(e)?(t=!!e,this):t};var n=this.interceptors=[],r=this.xsrfWhitelistedOrigins=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(o,s,l,c,u,d,h,f){function m(t){function n(e,t){for(var n=0,i=t.length;n<i;){var r=t[n++],a=t[n++];e=e.then(r,a)}return t.length=0,e}function r(){o.$$completeOutstandingRequest(g,"$http")}function s(e,t){var n,i={};return a(e,function(e,r){D(e)?null!=(n=e(t))&&(i[r]=n):i[r]=e}),i}function l(t){var n=t.headers,i=qt(t.data,Vt(n),void 0,t.transformRequest);return b(i)&&a(n,function(e,t){"content-type"===br(t)&&delete n[t]}),b(t.withCredentials)&&!b(e.withCredentials)&&(t.withCredentials=e.withCredentials),v(t,i).then(c,c)}function c(e){var t=p({},e);return t.data=qt(e.data,e.headers,e.status,u.transformResponse),zt(e.status)?t:d.reject(t)}if(!w(t))throw i("$http")("badreq","Http request configuration must be an object.  Received: {0}",t);if(!k(f.valueOf(t.url)))throw i("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",t.url);var u=p({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer,jsonpCallbackParam:e.jsonpCallbackParam},t);u.headers=function(t){var n,i,r,a=e.headers,o=p({},t.headers);a=p({},a.common,a[br(t.method)]);e:for(n in a){i=br(n);for(r in o)if(br(r)===i)continue e;o[n]=a[n]}return s(o,xe(t))}(t),u.method=yr(u.method),u.paramSerializer=k(u.paramSerializer)?h.get(u.paramSerializer):u.paramSerializer,o.$$incOutstandingRequestCount("$http");var m=[],$=[],y=d.resolve(u);return a(T,function(e){(e.request||e.requestError)&&m.unshift(e.request,e.requestError),(e.response||e.responseError)&&$.push(e.response,e.responseError)}),y=n(y,m),y=y.then(l),y=n(y,$),y=y.finally(r)}function v(n,i){function r(e){if(e){var n={};return a(e,function(e,i){n[i]=function(n){function i(){e(n)}t?u.$applyAsync(i):u.$$phase?i():u.$apply(i)}}),n}}function o(e,n,i,r,a){function o(){c(n,e,i,r,a)}g&&(zt(e)?g.put(M,[e,n,Ft(i),r,a]):g.remove(M)),t?u.$applyAsync(o):(o(),u.$$phase||u.$apply())}function c(e,t,i,r,a){t=t>=-1?t:0,(zt(t)?T.resolve:T.reject)({data:e,status:t,headers:Vt(i),config:n,statusText:r,xhrStatus:a})}function p(e){c(e.data,e.status,xe(e.headers()),e.statusText,e.xhrStatus)}function h(){var e=m.pendingRequests.indexOf(n);-1!==e&&m.pendingRequests.splice(e,1)}var g,v,T=d.defer(),D=T.promise,O=n.headers,A="jsonp"===br(n.method),M=n.url;if(A?M=f.getTrustedResourceUrl(M):k(M)||(M=f.valueOf(M)),M=$(M,n.paramSerializer(n.params)),A&&(M=x(M,n.jsonpCallbackParam)),m.pendingRequests.push(n),D.then(h,h),!n.cache&&!e.cache||!1===n.cache||"GET"!==n.method&&"JSONP"!==n.method||(g=w(n.cache)?n.cache:w(e.cache)?e.cache:C),g&&(v=g.get(M),y(v)?N(v)?v.then(p,p):S(v)?c(v[1],v[0],xe(v[2]),v[3],v[4]):c(v,200,{},"OK","complete"):g.put(M,D)),b(v)){var I=E(n.url)?l()[n.xsrfCookieName||e.xsrfCookieName]:void 0;I&&(O[n.xsrfHeaderName||e.xsrfHeaderName]=I),s(n.method,M,i,o,O,n.timeout,n.withCredentials,n.responseType,r(n.eventHandlers),r(n.uploadEventHandlers))}return D}function $(e,t){return t.length>0&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}function x(e,t){var n=e.split("?");if(n.length>2)throw Ra("badjsonp",'Illegal use more than one "?", in url, "{1}"',e);return a(re(n[1]),function(n,i){if("JSON_CALLBACK"===n)throw Ra("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',e);if(i===t)throw Ra("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',t,e)}),e+=(-1===e.indexOf("?")?"?":"&")+t+"=JSON_CALLBACK"}var C=c("$http");e.paramSerializer=k(e.paramSerializer)?h.get(e.paramSerializer):e.paramSerializer;var T=[];a(n,function(e){T.unshift(k(e)?h.get(e):h.invoke(e))});var E=ei(r);return m.pendingRequests=[],function(e){a(arguments,function(e){m[e]=function(t,n){return m(p({},n||{},{method:e,url:t}))}})}("get","delete","head","jsonp"),function(e){a(arguments,function(e){m[e]=function(t,n,i){return m(p({},i||{},{method:e,url:t,data:n}))}})}("post","put","patch"),m.defaults=e,m}]}function Bt(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function Wt(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,i){return Gt(e,i,e.defer,t,n[0])}]}function Gt(e,t,n,i,r){function o(e,t,n){e=e.replace("JSON_CALLBACK",t);var a=r.createElement("script"),o=null;return a.type="text/javascript",a.src=e,a.async=!0,o=function(e){a.removeEventListener("load",o),a.removeEventListener("error",o),r.body.removeChild(a),a=null;var s=-1,l="unknown";e&&("load"!==e.type||i.wasCalled(t)||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},a.addEventListener("load",o),a.addEventListener("error",o),r.body.appendChild(a),o}return function(r,s,l,c,u,p,d,h,f,g){function m(e){k="timeout"===e,w&&w(),x&&x.abort()}function v(e,t,i,r,a,o){y(E)&&n.cancel(E),w=x=null,e(t,i,r,a,o)}if(s=s||e.url(),"jsonp"===br(r))var $=i.createCallback(s),w=o(s,$,function(e,t){var n=200===e&&i.getResponse($);v(c,e,n,"",t,"complete"),i.removeCallback($)});else{var x=t(r,s),k=!1;x.open(r,s,!0),a(u,function(e,t){y(e)&&x.setRequestHeader(t,e)}),x.onload=function(){var e=x.statusText||"",t="response"in x?x.response:x.responseText,n=1223===x.status?204:x.status;0===n&&(n=t?200:"file"===Qn(s).protocol?404:0),v(c,n,t,x.getAllResponseHeaders(),e,"complete")};var C=function(){v(c,-1,null,null,"","error")},T=function(){v(c,-1,null,null,"",k?"timeout":"abort")},S=function(){v(c,-1,null,null,"","timeout")};if(x.onerror=C,x.ontimeout=S,x.onabort=T,a(f,function(e,t){x.addEventListener(t,e)}),a(g,function(e,t){x.upload.addEventListener(t,e)}),d&&(x.withCredentials=!0),h)try{x.responseType=h}catch(e){if("json"!==h)throw e}x.send(b(l)?null:l)}if(p>0)var E=n(function(){m("timeout")},p);else N(p)&&p.then(function(){m(y(p.$$timeoutId)?"timeout":"abort")})}}function Yt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function a(e){return"\\\\\\"+e}function o(n){return n.replace(d,e).replace(h,t)}function s(e,t,n,i){var r=e.$watch(function(e){return r(),i(e)},t,n);return r}function l(a,l,d,h){function f(e){try{return e=d&&!g?r.getTrusted(d,e):r.valueOf(e),h&&!y(e)?e:ye(e)}catch(e){i(La.interr(a,e))}}var g=d===r.URL||d===r.MEDIA_URL;if(!a.length||-1===a.indexOf(e)){if(l)return;var m=o(a);g&&(m=r.getTrusted(d,m));var $=v(m);return $.exp=a,$.expressions=[],$.$$watchDelegate=s,$}h=!!h;for(var w,x,k,C,T,S=0,E=[],D=a.length,O=[],A=[];S<D;){if(-1===(w=a.indexOf(e,S))||-1===(x=a.indexOf(t,w+c))){S!==D&&O.push(o(a.substring(S)));break}S!==w&&O.push(o(a.substring(S,w))),C=a.substring(w+c,x),E.push(C),S=x+u,A.push(O.length),O.push("")}T=1===O.length&&1===A.length;var M=g&&T?void 0:f;if(k=E.map(function(e){return n(e,M)}),!l||E.length){var I=function(e){for(var t=0,n=E.length;t<n;t++){if(h&&b(e[t]))return;O[A[t]]=e[t]}return g?r.getTrusted(d,T?O[0]:O.join("")):(d&&O.length>1&&La.throwNoconcat(a),O.join(""))};return p(function(e){var t=0,n=E.length,r=new Array(n);try{for(;t<n;t++)r[t]=k[t](e);return I(r)}catch(e){i(La.interr(a,e))}},{exp:a,expressions:E,$$watchDelegate:function(e,t){var n;return e.$watchGroup(k,function(i,r){var a=I(i);t.call(this,a,i!==r?n:a,e),n=a})}})}}var c=e.length,u=t.length,d=new RegExp(e.replace(/./g,a),"g"),h=new RegExp(t.replace(/./g,a),"g");return l.startSymbol=function(){return e},l.endSymbol=function(){return t},l}]}function Jt(){this.$get=["$$intervalFactory","$window",function(e,t){var n={},i=function(e,i,r){var a=t.setInterval(e,i);return n[a]=r,a},r=function(e){t.clearInterval(e),delete n[e]},a=e(i,r);return a.cancel=function(e){if(!e)return!1;if(!e.hasOwnProperty("$$intervalId"))throw Ua("badprom","`$interval.cancel()` called with a promise that was not generated by `$interval()`.");if(!n.hasOwnProperty(e.$$intervalId))return!1;var t=e.$$intervalId,i=n[t];return Nn(i.promise),i.reject("canceled"),r(t),!0},a}]}function Kt(){this.$get=["$browser","$q","$$q","$rootScope",function(e,t,n,i){return function(r,a){return function(o,s,l,c){function u(){d?o.apply(null,h):o(f)}function p(){g?e.defer(u):i.$evalAsync(u),m.notify(f++),l>0&&f>=l&&(m.resolve(f),a(v.$$intervalId)),g||i.$apply()}var d=arguments.length>4,h=d?Y(arguments,4):[],f=0,g=y(c)&&!c,m=(g?n:t).defer(),v=m.promise;return l=y(l)?l:0,v.$$intervalId=r(p,s,m,g),v}}}]}function Qt(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=oe(t[n].replace(/%2F/g,"/"));return t.join("/")}function Xt(e,t){for(var n=e.split("/"),i=n.length;i--;)n[i]=decodeURIComponent(n[i]),t&&(n[i]=n[i].replace(/\//g,"%2F"));return n.join("/")}function Zt(e,t,n){var i=ae(t),r=n?"#"+oe(n):"";return Qt(e)+(i?"?"+i:"")+r}function en(e,t){var n=Qn(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=h(n.port)||qa[n.protocol]||null}function tn(e,t,n){if(Ha.test(e))throw za("badpath",'Invalid url "{0}".',e);var i="/"!==e.charAt(0);i&&(e="/"+e);var r=Qn(e),a=i&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname;t.$$path=Xt(a,n),t.$$search=re(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!==t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function nn(e,t){return e.slice(0,t.length)===t}function rn(e,t){if(nn(t,e))return t.substr(e.length)}function an(e){var t=e.indexOf("#");return-1===t?e:e.substr(0,t)}function on(e){return e.substr(0,an(e).lastIndexOf("/")+1)}function sn(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function ln(e,t,n){this.$$html5=!0,n=n||"",en(e,this),this.$$parse=function(e){var n=rn(t,e);if(!k(n))throw za("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);tn(n,this,!0),this.$$path||(this.$$path="/"),this.$$compose()},this.$$normalizeUrl=function(e){return t+e.substr(1)},this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var a,o,s;return y(a=rn(e,i))?(o=a,s=n&&y(a=rn(n,a))?t+(rn("/",a)||a):e+o):y(a=rn(t,i))?s=t+a:t===i+"/"&&(s=t),s&&this.$$parse(s),!!s}}function cn(e,t,n){en(e,this),this.$$parse=function(i){var r,a=rn(e,i)||rn(t,i);b(a)||"#"!==a.charAt(0)?this.$$html5?r=a:(r="",b(a)&&(e=i,this.replace())):(r=rn(n,a),b(r)&&(r=a)),tn(r,this,!1),this.$$path=function(e,t,n){var i,r=/^\/[A-Z]:(\/.*)/;return nn(t,n)&&(t=t.replace(n,"")),r.exec(t)?e:(i=r.exec(e),i?i[1]:e)}(this.$$path,r,e),this.$$compose()},this.$$normalizeUrl=function(t){return e+(t?n+t:"")},this.$$parseLinkUrl=function(t,n){return an(e)===an(t)&&(this.$$parse(t),!0)}}function un(e,t,n){this.$$html5=!0,cn.apply(this,arguments),this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var a,o;return e===an(i)?a=i:(o=rn(t,i))?a=e+n+o:t===i+"/"&&(a=t),a&&this.$$parse(a),!!a},this.$$normalizeUrl=function(t){return e+n+t}}function pn(e){return function(){return this[e]}}function dn(e,t){return function(n){return b(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function hn(){var e="!",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return y(t)?(e=t,this):e},this.html5Mode=function(e){return j(e)?(t.enabled=e,this):w(e)?(j(e.enabled)&&(t.enabled=e.enabled),j(e.requireBase)&&(t.requireBase=e.requireBase),(j(e.rewriteLinks)||k(e.rewriteLinks))&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,a,o){function s(e,t){return e===t||Qn(e).href===Qn(t).href}function l(e,t,n){var r=u.url(),a=u.$$state;try{i.url(e,t,n),u.$$state=i.state()}catch(e){throw u.url(r),u.$$state=a,e}}function c(e,t){n.$broadcast("$locationChangeSuccess",u.absUrl(),e,u.$$state,t)}var u,p,d,h=i.baseHref(),f=i.url();if(t.enabled){if(!h&&t.requireBase)throw za("nobase","$location in HTML5 mode requires a <base> tag to be present!");d=sn(f)+(h||"/"),p=r.history?ln:un}else d=an(f),p=cn;var g=on(d);u=new p(d,g,"#"+e),u.$$parseLinkUrl(f,f),u.$$state=i.state();var m=/^\s*(javascript|mailto):/i;a.on("click",function(e){var r=t.rewriteLinks;if(r&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!==e.which&&2!==e.button){for(var o=dr(e.target);"a"!==V(o[0]);)if(o[0]===a[0]||!(o=o.parent())[0])return;if(!k(r)||!b(o.attr(r))){var s=o.prop("href"),l=o.attr("href")||o.attr("xlink:href");w(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=Qn(s.animVal).href),m.test(s)||!s||o.attr("target")||e.isDefaultPrevented()||u.$$parseLinkUrl(s,l)&&(e.preventDefault(),u.absUrl()!==i.url()&&n.$apply())}}}),
u.absUrl()!==f&&i.url(u.absUrl(),!0);var v=!0;return i.onUrlChange(function(e,t){if(!nn(e,g))return void(o.location.href=e);n.$evalAsync(function(){var i,r=u.absUrl(),a=u.$$state;u.$$parse(e),u.$$state=t,i=n.$broadcast("$locationChangeStart",e,r,t,a).defaultPrevented,u.absUrl()===e&&(i?(u.$$parse(r),u.$$state=a,l(r,!1,a)):(v=!1,c(r,a)))}),n.$$phase||n.$digest()}),n.$watch(function(){if(v||u.$$urlUpdatedByLocation){u.$$urlUpdatedByLocation=!1;var e=i.url(),t=u.absUrl(),a=i.state(),o=u.$$replace,p=!s(e,t)||u.$$html5&&r.history&&a!==u.$$state;(v||p)&&(v=!1,n.$evalAsync(function(){var t=u.absUrl(),i=n.$broadcast("$locationChangeStart",t,e,u.$$state,a).defaultPrevented;u.absUrl()===t&&(i?(u.$$parse(e),u.$$state=a):(p&&l(t,o,a===u.$$state?null:u.$$state),c(e,a)))}))}u.$$replace=!1}),u}]}function fn(){var e=!0,t=this;this.debugEnabled=function(t){return y(t)?(e=t,this):e},this.$get=["$window",function(n){function i(e){return E(e)&&(e.stack&&o?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function r(e){var t=n.console||{},r=t[e]||t.log||g;return function(){var e=[];return a(arguments,function(t){e.push(i(t))}),Function.prototype.apply.call(r,t,e)}}var o=pr||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:r("log"),info:r("info"),warn:r("warn"),error:r("error"),debug:function(){var n=r("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function gn(e){return e+""}function mn(e,t){return void 0!==e?e:t}function vn(e,t){return void 0===e?t:void 0===t?e:e+t}function $n(e,t){return!e(t).$stateful}function bn(e,t){switch(e.type){case Qa.MemberExpression:if(e.computed)return!1;break;case Qa.UnaryExpression:return Xa;case Qa.BinaryExpression:return"+"!==e.operator&&Xa;case Qa.CallExpression:return!1}return void 0===t?Za:t}function yn(e,t,n){var i,r,o,s=e.isPure=bn(e,n);switch(e.type){case Qa.Program:i=!0,a(e.body,function(e){yn(e.expression,t,s),i=i&&e.expression.constant}),e.constant=i;break;case Qa.Literal:e.constant=!0,e.toWatch=[];break;case Qa.UnaryExpression:yn(e.argument,t,s),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case Qa.BinaryExpression:yn(e.left,t,s),yn(e.right,t,s),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case Qa.LogicalExpression:yn(e.left,t,s),yn(e.right,t,s),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case Qa.ConditionalExpression:yn(e.test,t,s),yn(e.alternate,t,s),yn(e.consequent,t,s),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case Qa.Identifier:e.constant=!1,e.toWatch=[e];break;case Qa.MemberExpression:yn(e.object,t,s),e.computed&&yn(e.property,t,s),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=e.constant?[]:[e];break;case Qa.CallExpression:o=!!e.filter&&$n(t,e.callee.name),i=o,r=[],a(e.arguments,function(e){yn(e,t,s),i=i&&e.constant,r.push.apply(r,e.toWatch)}),e.constant=i,e.toWatch=o?r:[e];break;case Qa.AssignmentExpression:yn(e.left,t,s),yn(e.right,t,s),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case Qa.ArrayExpression:i=!0,r=[],a(e.elements,function(e){yn(e,t,s),i=i&&e.constant,r.push.apply(r,e.toWatch)}),e.constant=i,e.toWatch=r;break;case Qa.ObjectExpression:i=!0,r=[],a(e.properties,function(e){yn(e.value,t,s),i=i&&e.value.constant,r.push.apply(r,e.value.toWatch),e.computed&&(yn(e.key,t,!1),i=i&&e.key.constant,r.push.apply(r,e.key.toWatch))}),e.constant=i,e.toWatch=r;break;case Qa.ThisExpression:case Qa.LocalsExpression:e.constant=!1,e.toWatch=[]}}function wn(e){if(1===e.length){var t=e[0].expression,n=t.toWatch;return 1!==n.length?n:n[0]!==t?n:void 0}}function xn(e){return e.type===Qa.Identifier||e.type===Qa.MemberExpression}function kn(e){if(1===e.body.length&&xn(e.body[0].expression))return{type:Qa.AssignmentExpression,left:e.body[0].expression,right:{type:Qa.NGValueParameter},operator:"="}}function Cn(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===Qa.Literal||e.body[0].expression.type===Qa.ArrayExpression||e.body[0].expression.type===Qa.ObjectExpression)}function Tn(e){return e.constant}function Sn(e){this.$filter=e}function En(e){this.$filter=e}function Dn(e,t,n){this.ast=new Qa(e,n),this.astCompiler=n.csp?new En(t):new Sn(t)}function On(e){return D(e.valueOf)?e.valueOf():Ga.call(e)}function An(){var e,t,n=be(),i={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(e,t){i[e]=t},this.setIdentifierFns=function(n,i){return e=n,t=i,this},this.$get=["$filter",function(r){function o(e,t){var i,a;switch(typeof e){case"string":if(e=e.trim(),a=e,!(i=n[a])){i=new Dn(new Ka(b),r,b).parse(e),n[a]=h(i)}return v(i,t);case"function":return v(e,t);default:return v(g,t)}}function s(e){return new Dn(new Ka(b),r,b).getAst(e).ast}function l(e,t,n){return null==e||null==t?e===t:!("object"==typeof e&&"object"==typeof(e=On(e))&&!n)&&(e===t||e!==e&&t!==t)}function c(e,t,n,i,r){var a,o=i.inputs;if(1===o.length){var s=l;return o=o[0],e.$watch(function(e){var t=o(e);return l(t,s,o.isPure)||(a=i(e,void 0,void 0,[t]),s=t&&On(t)),a},t,n,r)}for(var c=[],u=[],p=0,d=o.length;p<d;p++)c[p]=l,u[p]=null;return e.$watch(function(e){for(var t=!1,n=0,r=o.length;n<r;n++){var s=o[n](e);(t||(t=!l(s,c[n],o[n].isPure)))&&(u[n]=s,c[n]=s&&On(s))}return t&&(a=i(e,void 0,void 0,u)),a},t,n,r)}function u(e,t,n,i,r){function a(){c(l)&&s()}function o(e,t,n,i){return l=f&&i?i[0]:u(e,t,n,i),c(l)&&e.$$postDigest(a),d(l)}var s,l,c=i.literal?p:y,u=i.$$intercepted||i,d=i.$$interceptor||m,f=i.inputs&&!u.inputs;return o.literal=i.literal,o.constant=i.constant,o.inputs=i.inputs,h(o),s=e.$watch(o,t,n,r)}function p(e){var t=!0;return a(e,function(e){y(e)||(t=!1)}),t}function d(e,t,n,i){var r=e.$watch(function(e){return r(),i(e)},t,n);return r}function h(e){return e.constant?e.$$watchDelegate=d:e.oneTime?e.$$watchDelegate=u:e.inputs&&(e.$$watchDelegate=c),e}function f(e,t){function n(n){return t(e(n))}return n.$stateful=e.$stateful||t.$stateful,n.$$pure=e.$$pure&&t.$$pure,n}function v(e,t){if(!t)return e;e.$$interceptor&&(t=f(e.$$interceptor,t),e=e.$$intercepted);var n=!1,i=function(i,r,a,o){var s=n&&o?o[0]:e(i,r,a,o);return t(s)};return i.$$intercepted=e,i.$$interceptor=t,i.literal=e.literal,i.oneTime=e.oneTime,i.constant=e.constant,t.$stateful||(n=!e.inputs,i.inputs=e.inputs?e.inputs:[e],t.$$pure||(i.inputs=i.inputs.map(function(e){return e.isPure===Za?function(t){return e(t)}:e}))),h(i)}var $=Pr().noUnsafeEval,b={csp:$,literals:H(i),isIdentifierStart:D(e)&&e,isIdentifierContinue:D(t)&&t};return o.$$getAst=s,o}]}function Mn(){var e=!0;this.$get=["$rootScope","$exceptionHandler",function(t,n){return Pn(function(e){t.$evalAsync(e)},n,e)}],this.errorOnUnhandledRejections=function(t){return y(t)?(e=t,this):e}}function In(){var e=!0;this.$get=["$browser","$exceptionHandler",function(t,n){return Pn(function(e){t.defer(e)},n,e)}],this.errorOnUnhandledRejections=function(t){return y(t)?(e=t,this):e}}function Pn(e,t,n){function r(){return new o}function o(){var e=this.promise=new s;this.resolve=function(t){d(e,t)},this.reject=function(t){f(e,t)},this.notify=function(t){m(e,t)}}function s(){this.$$state={status:0}}function l(i){var r,a,o;o=i.pending,i.processScheduled=!1,i.pending=void 0;try{for(var s=0,l=o.length;s<l;++s){jn(i),a=o[s][0],r=o[s][i.status];try{D(r)?d(a,r(i.value)):1===i.status?d(a,i.value):f(a,i.value)}catch(e){f(a,e),e&&!0===e.$$passToExceptionHandler&&t(e)}}}finally{--O,n&&0===O&&e(c)}}function c(){for(;!O&&A.length;){var e=A.shift();if(!_n(e)){jn(e);var n="Possibly unhandled rejection: "+Ce(e.value);E(e.value)?t(e.value,n):t(n)}}}function u(t){!n||t.pending||2!==t.status||_n(t)||(0===O&&0===A.length&&e(c),A.push(t)),!t.processScheduled&&t.pending&&(t.processScheduled=!0,++O,e(function(){l(t)}))}function d(e,t){e.$$state.status||(t===e?g(e,T("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):h(e,t))}function h(e,t){function n(t){o||(o=!0,h(e,t))}function i(t){o||(o=!0,g(e,t))}function r(t){m(e,t)}var a,o=!1;try{(w(t)||D(t))&&(a=t.then),D(a)?(e.$$state.status=-1,a.call(t,n,i,r)):(e.$$state.value=t,e.$$state.status=1,u(e.$$state))}catch(e){i(e)}}function f(e,t){e.$$state.status||g(e,t)}function g(e,t){e.$$state.value=t,e.$$state.status=2,u(e.$$state)}function m(n,i){var r=n.$$state.pending;n.$$state.status<=0&&r&&r.length&&e(function(){for(var e,n,a=0,o=r.length;a<o;a++){n=r[a][0],e=r[a][3];try{m(n,D(e)?e(i):i)}catch(e){t(e)}}})}function v(e){var t=new s;return f(t,e),t}function $(e,t,n){var i=null;try{D(n)&&(i=n())}catch(e){return v(e)}return N(i)?i.then(function(){return t(e)},v):t(e)}function y(e,t,n,i){var r=new s;return d(r,e),r.then(t,n,i)}function x(e){var t=new s,n=0,i=S(e)?[]:{};return a(e,function(e,r){n++,y(e).then(function(e){i[r]=e,--n||d(t,i)},function(e){f(t,e)})}),0===n&&d(t,i),t}function k(e){var t=r();return a(e,function(e){y(e).then(t.resolve,t.reject)}),t.promise}function C(e){function t(e){d(i,e)}function n(e){f(i,e)}if(!D(e))throw T("norslvr","Expected resolverFn, got '{0}'",e);var i=new s;return e(t,n),i}var T=i("$q",TypeError),O=0,A=[];p(s.prototype,{then:function(e,t,n){if(b(e)&&b(t)&&b(n))return this;var i=new s;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,e,t,n]),this.$$state.status>0&&u(this.$$state),i},catch:function(e){return this.then(null,e)},finally:function(e,t){return this.then(function(t){return $(t,M,e)},function(t){return $(t,v,e)},t)}});var M=y;return C.prototype=s.prototype,C.defer=r,C.reject=v,C.when=y,C.resolve=M,C.all=x,C.race=k,C}function _n(e){return!!e.pur}function jn(e){e.pur=!0}function Nn(e){e.$$state&&jn(e.$$state)}function Rn(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,r=!!n,a=r?function(e){var t=n(e);return function(){i(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return a.supported=r,a}]}function Ln(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=l(),this.$$ChildScope=null,this.$$suspended=!1}return t.prototype=e,t}var t=10,n=i("$rootScope"),o=null,s=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$exceptionHandler","$parse","$browser",function(i,c,u){function p(e){e.currentScope.$$destroyed=!0}function d(e){9===pr&&(e.$$childHead&&d(e.$$childHead),e.$$nextSibling&&d(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function h(){this.$id=l(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$suspended=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function f(e){if(C.$$phase)throw n("inprog","{0} already in progress",C.$$phase);C.$$phase=e}function m(){C.$$phase=null}function v(e,t){do{e.$$watchersCount+=t}while(e=e.$parent)}function $(e,t,n){do{e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n]}while(e=e.$parent)}function y(){}function x(){for(;E.length;)try{E.shift()()}catch(e){i(e)}s=null}function k(){null===s&&(s=u.defer(function(){C.$apply(x)},null,"$applyAsync"))}h.prototype={constructor:h,$new:function(t,n){var i;return n=n||this,t?(i=new h,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),i=new this.$$ChildScope),i.$parent=n,i.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=i,n.$$childTail=i):n.$$childHead=n.$$childTail=i,(t||n!==this)&&i.$on("$destroy",p),i},$watch:function(e,t,n,i){var r=c(e),a=D(t)?t:g;if(r.$$watchDelegate)return r.$$watchDelegate(this,a,n,r,e);var s=this,l=s.$$watchers,u={fn:a,last:y,get:r,exp:i||e,eq:!!n};return o=null,l||(l=s.$$watchers=[],l.$$digestWatchIndex=-1),l.unshift(u),l.$$digestWatchIndex++,v(this,1),function(){var e=z(l,u);e>=0&&(v(s,-1),e<l.$$digestWatchIndex&&l.$$digestWatchIndex--),o=null}},$watchGroup:function(e,t){function n(){l=!1;try{c?(c=!1,t(r,r,s)):t(r,i,s)}finally{for(var n=0;n<e.length;n++)i[n]=r[n]}}var i=new Array(e.length),r=new Array(e.length),o=[],s=this,l=!1,c=!0;if(!e.length){var u=!0;return s.$evalAsync(function(){u&&t(r,r,s)}),function(){u=!1}}return 1===e.length?this.$watch(e[0],function(e,n,a){r[0]=e,i[0]=n,t(r,e===n?r:i,a)}):(a(e,function(e,t){var i=s.$watch(e,function(e){r[t]=e,l||(l=!0,s.$evalAsync(n))});o.push(i)}),function(){for(;o.length;)o.shift()()})},$watchCollection:function(e,t){function n(e){a=e;var t,n,i,s;if(!b(a)){if(w(a))if(r(a)){o!==h&&(o=h,m=o.length=0,p++),t=a.length,m!==t&&(p++,o.length=m=t);for(var l=0;l<t;l++)s=o[l],i=a[l],s!==s&&i!==i||s===i||(p++,o[l]=i)}else{o!==f&&(o=f={},m=0,p++),t=0;for(n in a)$r.call(a,n)&&(t++,i=a[n],s=o[n],n in o?s!==s&&i!==i||s===i||(p++,o[n]=i):(m++,o[n]=i,p++));if(m>t){p++;for(n in o)$r.call(a,n)||(m--,delete o[n])}}else o!==a&&(o=a,p++);return p}}function i(){if(g?(g=!1,t(a,a,l)):t(a,s,l),u)if(w(a))if(r(a)){s=new Array(a.length);for(var e=0;e<a.length;e++)s[e]=a[e]}else{s={};for(var n in a)$r.call(a,n)&&(s[n]=a[n])}else s=a}n.$$pure=c(e).literal,n.$stateful=!n.$$pure;var a,o,s,l=this,u=t.length>1,p=0,d=c(e,n),h=[],f={},g=!0,m=0;return this.$watch(d,i)},$digest:function(){var e,r,a,l,c,p,d,h,g,v,$,b=t,w=T.length?C:this,k=[];f("$digest"),u.$$checkUrlChange(),this===C&&null!==s&&(u.defer.cancel(s),x()),o=null;do{d=!1,g=w;for(var E=0;E<T.length;E++){try{$=T[E],l=$.fn,l($.scope,$.locals)}catch(e){i(e)}o=null}T.length=0;e:do{if(p=!g.$$suspended&&g.$$watchers)for(p.$$digestWatchIndex=p.length;p.$$digestWatchIndex--;)try{if(e=p[p.$$digestWatchIndex])if(c=e.get,(r=c(g))===(a=e.last)||(e.eq?W(r,a):Or(r)&&Or(a))){if(e===o){d=!1;break e}}else d=!0,o=e,e.last=e.eq?H(r,null):r,l=e.fn,l(r,a===y?r:a,g),b<5&&(v=4-b,k[v]||(k[v]=[]),k[v].push({msg:D(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:r,oldVal:a}))}catch(e){i(e)}if(!(h=!g.$$suspended&&g.$$watchersCount&&g.$$childHead||g!==w&&g.$$nextSibling))for(;g!==w&&!(h=g.$$nextSibling);)g=g.$parent}while(g=h);if((d||T.length)&&!b--)throw m(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",t,k)}while(d||T.length);for(m();O<S.length;)try{S[O++]()}catch(e){i(e)}S.length=O=0,u.$$checkUrlChange()},$suspend:function(){this.$$suspended=!0},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=!1},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===C&&u.$$applicationDestroyed(),v(this,-this.$$watchersCount);for(var t in this.$$listenerCount)$(this,this.$$listenerCount[t],t);e&&e.$$childHead===this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail===this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=g,this.$on=this.$watch=this.$watchGroup=function(){return g},this.$$listeners={},this.$$nextSibling=null,d(this)}},$eval:function(e,t){return c(e)(this,t)},$evalAsync:function(e,t){C.$$phase||T.length||u.defer(function(){T.length&&C.$digest()},null,"$evalAsync"),T.push({scope:this,fn:c(e),locals:t})},$$postDigest:function(e){S.push(e)},$apply:function(e){try{f("$apply");try{return this.$eval(e)}finally{m()}}catch(e){i(e)}finally{try{C.$digest()}catch(e){throw i(e),e}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&E.push(t),e=c(e),k()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var i=this;do{i.$$listenerCount[e]||(i.$$listenerCount[e]=0),i.$$listenerCount[e]++}while(i=i.$parent);var r=this;return function(){var i=n.indexOf(t);-1!==i&&(delete n[i],$(r,1,e))}},$emit:function(e,t){var n,r,a,o=[],s=this,l=!1,c={name:e,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},u=G([c],arguments,1);do{for(n=s.$$listeners[e]||o,c.currentScope=s,r=0,a=n.length;r<a;r++)if(n[r])try{n[r].apply(null,u)}catch(e){i(e)}else n.splice(r,1),r--,a--;if(l)break;s=s.$parent}while(s);return c.currentScope=null,c},$broadcast:function(e,t){var n=this,r=n,a=n,o={name:e,targetScope:n,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[e])return o;for(var s,l,c,u=G([o],arguments,1);r=a;){for(o.currentScope=r,s=r.$$listeners[e]||[],l=0,c=s.length;l<c;l++)if(s[l])try{s[l].apply(null,u)}catch(e){i(e)}else s.splice(l,1),l--,c--;if(!(a=r.$$listenerCount[e]&&r.$$childHead||r!==n&&r.$$nextSibling))for(;r!==n&&!(a=r.$$nextSibling);)r=r.$parent}return o.currentScope=null,o}};var C=new h,T=C.$$asyncQueue=[],S=C.$$postDigestQueue=[],E=C.$$applyAsyncQueue=[],O=0;return C}]}function Un(){var e=/^\s*(https?|s?ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.$get=function(){return function(n,i){var r=i?t:e,a=Qn(n&&n.trim()).href;return""===a||a.match(r)?n:"unsafe:"+a}}}function Fn(e){return e.replace(io,Ee)}function Vn(e){if("self"===e)return e;if(k(e)){if(e.indexOf("***")>-1)throw to("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=Ir(e).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+e+"$")}if(O(e))return new RegExp("^"+e.source+"$");throw to("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function qn(e){var t=[];return y(e)&&a(e,function(e){t.push(Vn(e))}),t}function zn(){this.SCE_CONTEXTS=no;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=qn(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=qn(e)),t},this.$get=["$injector","$$sanitizeUri",function(n,i){function r(e,t){return"self"===e?Xn(t)||Zn(t):!!e.exec(t.href)}function a(n){var i,a,o=Qn(n.toString()),s=!1;for(i=0,a=e.length;i<a;i++)if(r(e[i],o)){s=!0;break}if(s)for(i=0,a=t.length;i<a;i++)if(r(t[i],o)){s=!1;break}return s}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function s(e,t){var n=d.hasOwnProperty(e)?d[e]:null;if(!n)throw to("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||b(t)||""===t)return t;if("string"!=typeof t)throw to("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)}function l(e){return e instanceof p?e.$$unwrapTrustedValue():e}function c(e,t){if(null===t||b(t)||""===t)return t;var n=d.hasOwnProperty(e)?d[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(D(t.$$unwrapTrustedValue)&&(t=t.$$unwrapTrustedValue()),e===no.MEDIA_URL||e===no.URL)return i(t.toString(),e===no.MEDIA_URL);if(e===no.RESOURCE_URL){if(a(t))return t;throw to("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===no.HTML)return u(t);throw to("unsafe","Attempting to use an unsafe value in a safe context.")}var u=function(e){throw to("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(u=n.get("$sanitize"));var p=o(),d={};return d[no.HTML]=o(p),d[no.CSS]=o(p),d[no.MEDIA_URL]=o(p),d[no.URL]=o(d[no.MEDIA_URL]),d[no.JS]=o(p),d[no.RESOURCE_URL]=o(d[no.URL]),{trustAs:s,getTrusted:c,valueOf:l}}]}function Hn(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&pr<8)throw to("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=xe(no);i.isEnabled=function(){return e},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,e||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=m),i.parseAs=function(e,n){var r=t(n);return r.literal&&r.constant?r:t(n,function(t){return i.getTrusted(e,t)})};var r=i.parseAs,o=i.getTrusted,s=i.trustAs;return a(no,function(e,t){var n=br(t);i[Fn("parse_as_"+n)]=function(t){return r(e,t)},i[Fn("get_trusted_"+n)]=function(t){return o(e,t)},i[Fn("trust_as_"+n)]=function(t){return s(e,t)}}),i}]}function Bn(){this.$get=["$window","$document",function(e,t){var n={},i=e.nw&&e.nw.process,r=!i&&e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id),a=!r&&e.history&&e.history.pushState,o=h((/android (\d+)/.exec(br((e.navigator||{}).userAgent))||[])[1]),s=/Boxee/i.test((e.navigator||{}).userAgent),l=t[0]||{},c=l.body&&l.body.style,u=!1,p=!1;return c&&(u=!!("transition"in c||"webkitTransition"in c),p=!!("animation"in c||"webkitAnimation"in c)),{history:!(!a||o<4||s),hasEvent:function(e){if("input"===e&&pr)return!1;if(b(n[e])){var t=l.createElement("div");n[e]="on"+e in t}return n[e]},csp:Pr(),transitions:u,animations:p,android:o}}]}function Wn(){this.$get=v(function(e){return new Gn(e)})}function Gn(e){function t(t,a){a=a||p;try{t()}finally{n(a);var o=l[a],s=l[u];if(!s||!o)for(var c,d=s?r:i;c=d(a);)try{c()}catch(t){e.error(t)}}}function n(e){e=e||p,l[e]&&(l[e]--,l[u]--)}function i(){var e=c.pop();return e&&e.cb}function r(e){for(var t=c.length-1;t>=0;--t){var n=c[t];if(n.type===e)return c.splice(t,1),n.cb}}function a(e){e=e||p,l[e]=(l[e]||0)+1,l[u]=(l[u]||0)+1}function o(e,t){t=t||u,l[t]?c.push({type:t,cb:e}):e()}var s=this,l={},c=[],u=s.ALL_TASKS_TYPE="$$all$$",p=s.DEFAULT_TASK_TYPE="$$default$$";s.completeTask=t,s.incTaskCount=a,s.notifyWhenNoPendingTasks=o}function Yn(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(t,n,i,r,a){function o(s,l){function c(e){return l||(e=ro("tpload","Failed to load template: {0} (HTTP status: {1} {2})",s,e.status,e.statusText),t(e)),r.reject(e)}o.totalPendingRequests++,k(s)&&!b(n.get(s))||(s=a.getTrustedResourceUrl(s));var u=i.defaults&&i.defaults.transformResponse;return S(u)?u=u.filter(function(e){return e!==Lt}):u===Lt&&(u=null),i.get(s,p({cache:n,transformResponse:u},e)).finally(function(){o.totalPendingRequests--}).then(function(e){return n.put(s,e.data)},c)}return o.totalPendingRequests=0,o}]}function Jn(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var i={};return i.findBindings=function(e,t,n){var i=e.getElementsByClassName("ng-binding"),r=[];return a(i,function(e){var i=Er.element(e).data("$binding");i&&a(i,function(i){if(n){new RegExp("(^|\\s)"+Ir(t)+"(\\s|\\||$)").test(i)&&r.push(e)}else-1!==i.indexOf(t)&&r.push(e)})}),r},i.findModels=function(e,t,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var a=n?"=":"*=",o="["+i[r]+"model"+a+'"'+t+'"]',s=e.querySelectorAll(o);if(s.length)return s}},i.getLocation=function(){return n.url()},i.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},i.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},i}]}function Kn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,i,r){function a(a,s,l){D(a)||(l=s,s=a,a=g);var c,u=Y(arguments,3),p=y(l)&&!l,d=(p?i:n).defer(),h=d.promise;return c=t.defer(function(){try{d.resolve(a.apply(null,u))}catch(e){d.reject(e),r(e)}finally{delete o[h.$$timeoutId]}p||e.$apply()},s,"$timeout"),h.$$timeoutId=c,o[c]=d,h}var o={};return a.cancel=function(e){if(!e)return!1;if(!e.hasOwnProperty("$$timeoutId"))throw ao("badprom","`$timeout.cancel()` called with a promise that was not generated by `$timeout()`.");if(!o.hasOwnProperty(e.$$timeoutId))return!1;var n=e.$$timeoutId,i=o[n];return Nn(i.promise),i.reject("canceled"),delete o[n],t.defer.cancel(n)},a}]}function Qn(e){if(!k(e))return e;var t=e;pr&&(oo.setAttribute("href",t),t=oo.href),oo.setAttribute("href",t);var n=oo.hostname;return!lo&&n.indexOf(":")>-1&&(n="["+n+"]"),{href:oo.href,protocol:oo.protocol?oo.protocol.replace(/:$/,""):"",host:oo.host,search:oo.search?oo.search.replace(/^\?/,""):"",hash:oo.hash?oo.hash.replace(/^#/,""):"",hostname:n,port:oo.port,pathname:"/"===oo.pathname.charAt(0)?oo.pathname:"/"+oo.pathname}}function Xn(e){return ti(e,so)}function Zn(e){return ti(e,ni())}function ei(e){var t=[so].concat(e.map(Qn));return function(e){var n=Qn(e);return t.some(ti.bind(null,n))}}function ti(e,t){return e=Qn(e),t=Qn(t),e.protocol===t.protocol&&e.host===t.host}function ni(){return e.document.baseURI?e.document.baseURI:(eo||(eo=e.document.createElement("a"),eo.href=".",eo=eo.cloneNode(!1)),eo.href)}function ii(){this.$get=v(e)}function ri(e){function t(e){try{return e.cookie||""}catch(e){return""}}function n(e){try{return decodeURIComponent(e)}catch(t){return e}}var i=e[0]||{},r={},a="";return function(){var e,o,s,l,c,u=t(i);if(u!==a)for(a=u,e=a.split("; "),r={},s=0;s<e.length;s++)o=e[s],(l=o.indexOf("="))>0&&(c=n(o.substring(0,l)),b(r[c])&&(r[c]=n(o.substring(l+1))));return r}}function ai(){this.$get=ri}function oi(e){function t(i,r){if(w(i)){var o={};return a(i,function(e,n){o[n]=t(n,e)}),o}return e.factory(i+n,r)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",pi),t("date",Si),t("filter",si),t("json",Ei),t("limitTo",Di),t("lowercase",mo),t("number",di),t("orderBy",Ai),t("uppercase",vo)}function si(){return function(e,t,n,a){if(!r(e)){if(null==e)return e;throw i("filter")("notarray","Expected array but received: {0}",e)}a=a||"$";var o,s,l=ui(t);switch(l){case"function":o=t;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":o=li(t,n,a,s);break;default:return e}return Array.prototype.filter.call(e,o)}}function li(e,t,n,i){var r=w(e)&&n in e;return!0===t?t=W:D(t)||(t=function(e,t){return!b(e)&&(null===e||null===t?e===t:!(w(t)||w(e)&&!$(e))&&(e=br(""+e),t=br(""+t),-1!==e.indexOf(t)))}),function(a){return r&&!w(a)?ci(a,e[n],t,n,!1):ci(a,e,t,n,i)}}function ci(e,t,n,i,r,a){var o=ui(e),s=ui(t);if("string"===s&&"!"===t.charAt(0))return!ci(e,t.substring(1),n,i,r);if(S(e))return e.some(function(e){return ci(e,t,n,i,r)});switch(o){case"object":var l;if(r){for(l in e)if(l.charAt&&"$"!==l.charAt(0)&&ci(e[l],t,n,i,!0))return!0;return!a&&ci(e,t,n,i,!1)}if("object"===s){for(l in t){var c=t[l];if(!D(c)&&!b(c)){var u=l===i;if(!ci(u?e:e[l],c,n,i,u,u))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function ui(e){return null===e?"null":typeof e}function pi(e){var t=e.NUMBER_FORMATS;return function(e,n,i){b(n)&&(n=t.CURRENCY_SYM),b(i)&&(i=t.PATTERNS[1].maxFrac);var r=n?/\u00A4/g:/\s*\u00A4\s*/g;return null==e?e:gi(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,i).replace(r,n)}}function di(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:gi(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function hi(e){var t,n,i,r,a,o=0;for((n=e.indexOf(uo))>-1&&(e=e.replace(uo,"")),(i=e.search(/e/i))>0?(n<0&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):n<0&&(n=e.length),i=0;e.charAt(i)===po;i++);if(i===(a=e.length))t=[0],n=1;else{for(a--;e.charAt(a)===po;)a--;for(n-=i,t=[],r=0;i<=a;i++,r++)t[r]=+e.charAt(i)}return n>co&&(t=t.splice(0,co-1),o=n-1,n=1),{d:t,e:o,i:n}}function fi(e,t,n,i){var r=e.d,a=r.length-e.i;t=b(t)?Math.min(Math.max(n,a),i):+t;var o=t+e.i,s=r[o];if(o>0){r.splice(Math.max(e.i,o));for(var l=o;l<r.length;l++)r[l]=0}else{a=Math.max(0,a),e.i=1,r.length=Math.max(1,o=t+1),r[0]=0;for(var c=1;c<o;c++)r[c]=0}if(s>=5)if(o-1<0){for(var u=0;u>o;u--)r.unshift(0),e.i++;r.unshift(1),e.i++}else r[o-1]++;for(;a<Math.max(0,t);a++)r.push(0);var p=r.reduceRight(function(e,t,n,i){return t+=e,i[n]=t%10,Math.floor(t/10)},0);p&&(r.unshift(p),e.i++)}function gi(e,t,n,i,r){if(!k(e)&&!C(e)||isNaN(e))return"";var a,o=!isFinite(e),s=!1,l=Math.abs(e)+"",c="";if(o)c="∞";else{a=hi(l),fi(a,r,t.minFrac,t.maxFrac);var u=a.d,p=a.i,d=a.e,h=[];for(s=u.reduce(function(e,t){return e&&!t},!0);p<0;)u.unshift(0),p++;p>0?h=u.splice(p,u.length):(h=u,u=[0]);var f=[];for(u.length>=t.lgSize&&f.unshift(u.splice(-t.lgSize,u.length).join(""));u.length>t.gSize;)f.unshift(u.splice(-t.gSize,u.length).join(""));u.length&&f.unshift(u.join("")),c=f.join(n),h.length&&(c+=i+h.join("")),d&&(c+="e+"+d)}return e<0&&!s?t.negPre+c+t.negSuf:t.posPre+c+t.posSuf}function mi(e,t,n,i){var r="";for((e<0||i&&e<=0)&&(i?e=1-e:(e=-e,r="-")),e=""+e;e.length<t;)e=po+e;return n&&(e=e.substr(e.length-t)),r+e}function vi(e,t,n,i,r){return n=n||0,function(a){var o=a["get"+e]();return(n>0||o>-n)&&(o+=n),0===o&&-12===n&&(o=12),mi(o,t,i,r)}}function $i(e,t,n){return function(i,r){var a=i["get"+e]();return r[yr((n?"STANDALONE":"")+(t?"SHORT":"")+e)][a]}}function bi(e,t,n){var i=-1*n,r=i>=0?"+":"";return r+=mi(Math[i>0?"floor":"ceil"](i/60),2)+mi(Math.abs(i%60),2)}function yi(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function wi(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function xi(e){return function(t){var n=yi(t.getFullYear()),i=wi(t),r=+i-+n;return mi(1+Math.round(r/6048e5),e)}}function ki(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function Ci(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function Ti(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function Si(e){function t(e){var t;if(t=e.match(n)){var i=new Date(0),r=0,a=0,o=t[8]?i.setUTCFullYear:i.setFullYear,s=t[8]?i.setUTCHours:i.setHours;t[9]&&(r=h(t[9]+t[10]),a=h(t[9]+t[11])),o.call(i,h(t[1]),h(t[2])-1,h(t[3]));var l=h(t[4]||0)-r,c=h(t[5]||0)-a,u=h(t[6]||0),p=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(i,l,c,u,p),i}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,r){var o,s,l="",c=[];if(i=i||"mediumDate",i=e.DATETIME_FORMATS[i]||i,k(n)&&(n=go.test(n)?h(n):t(n)),C(n)&&(n=new Date(n)),!T(n)||!isFinite(n.getTime()))return n;for(;i;)s=fo.exec(i),s?(c=G(c,s,1),i=c.pop()):(c.push(i),i=null);var u=n.getTimezoneOffset();return r&&(u=Z(r,u),n=te(n,r,!0)),a(c,function(t){o=ho[t],l+=o?o(n,e.DATETIME_FORMATS,u):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function Ei(){return function(e,t){return b(t)&&(t=2),Q(e,t)}}function Di(){return function(e,t,n){return t=Math.abs(Number(t))===1/0?Number(t):h(t),Or(t)?e:(C(e)&&(e=e.toString()),r(e)?(n=!n||isNaN(n)?0:h(n),n=n<0?Math.max(0,e.length+n):n,t>=0?Oi(e,n,n+t):0===n?Oi(e,t,e.length):Oi(e,Math.max(0,n+t),n)):e)}}function Oi(e,t,n){return k(e)?e.slice(t,n):wr.call(e,t,n)}function Ai(e){function t(t){return t.map(function(t){var n=1,i=m;if(D(t))i=t;else if(k(t)&&("+"!==t.charAt(0)&&"-"!==t.charAt(0)||(n="-"===t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(i=e(t),i.constant))){var r=i();i=function(e){return e[r]}}return{get:i,descending:n}})}function n(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function a(e){return D(e.valueOf)&&(e=e.valueOf(),n(e))?e:($(e)&&(e=e.toString(),n(e)),e)}function o(e,t){var n=typeof e;return null===e?n="null":"object"===n&&(e=a(e)),{value:e,type:n,index:t}}function s(e,t){var n=0,i=e.type,r=t.type;if(i===r){var a=e.value,o=t.value;"string"===i?(a=a.toLowerCase(),o=o.toLowerCase()):"object"===i&&(w(a)&&(a=e.index),w(o)&&(o=t.index)),a!==o&&(n=a<o?-1:1)}else n="undefined"===i?1:"undefined"===r?-1:"null"===i?1:"null"===r?-1:i<r?-1:1;return n}return function(e,n,a,l){function c(e,t){return{value:e,tieBreaker:{value:t,type:"number",index:t},
predicateValues:p.map(function(n){return o(n.get(e),t)})}}function u(e,t){for(var n=0,i=p.length;n<i;n++){var r=h(e.predicateValues[n],t.predicateValues[n]);if(r)return r*p[n].descending*d}return(h(e.tieBreaker,t.tieBreaker)||s(e.tieBreaker,t.tieBreaker))*d}if(null==e)return e;if(!r(e))throw i("orderBy")("notarray","Expected array but received: {0}",e);S(n)||(n=[n]),0===n.length&&(n=["+"]);var p=t(n),d=a?-1:1,h=D(l)?l:s,f=Array.prototype.map.call(e,c);return f.sort(u),e=f.map(function(e){return e.value})}}function Mi(e){return D(e)&&(e={link:e}),e.restrict=e.restrict||"AC",v(e)}function Ii(e,t){e.$name=t}function Pi(e,t,n,i,r){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=r(t.name||t.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=yo,this.$$element=e,this.$$animate=i,_i(this)}function _i(e){e.$$classCache={},e.$$classCache[rs]=!(e.$$classCache[is]=e.$$element.hasClass(is))}function ji(e){function t(e,t,n,i){e[t]||(e[t]={}),o(e[t],n,i)}function n(e,t,n,i){e[t]&&s(e[t],n,i),Ni(e[t])&&(e[t]=void 0)}function i(e,t,n){n&&!e.$$classCache[t]?(e.$$animate.addClass(e.$$element,t),e.$$classCache[t]=!0):!n&&e.$$classCache[t]&&(e.$$animate.removeClass(e.$$element,t),e.$$classCache[t]=!1)}function r(e,t,n){t=t?"-"+he(t,"-"):"",i(e,is+t,!0===n),i(e,rs+t,!1===n)}var a=e.clazz,o=e.set,s=e.unset;a.prototype.$setValidity=function(e,a,l){b(a)?t(this,"$pending",e,l):n(this,"$pending",e,l),j(a)?a?(s(this.$error,e,l),o(this.$$success,e,l)):(o(this.$error,e,l),s(this.$$success,e,l)):(s(this.$error,e,l),s(this.$$success,e,l)),this.$pending?(i(this,wo,!0),this.$valid=this.$invalid=void 0,r(this,"",null)):(i(this,wo,!1),this.$valid=Ni(this.$error),this.$invalid=!this.$valid,r(this,"",this.$valid));var c;c=this.$pending&&this.$pending[e]?void 0:!this.$error[e]&&(!!this.$$success[e]||null),r(this,e,c),this.$$parentForm.$setValidity(e,c,this)}}function Ni(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function Ri(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function Li(e,t,n,i,r,a){Ui(e,t,n,i,r,a),Ri(i)}function Ui(e,t,n,i,r,a){var o=br(t[0].type);if(!r.android){var s=!1;t.on("compositionstart",function(){s=!0}),t.on("compositionupdate",function(e){(b(e.data)||""===e.data)&&(s=!1)}),t.on("compositionend",function(){s=!1,c()})}var l,c=function(e){if(l&&(a.defer.cancel(l),l=null),!s){var r=t.val(),c=e&&e.type;"password"===o||n.ngTrim&&"false"===n.ngTrim||(r=Mr(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,c)}};if(r.hasEvent("input"))t.on("input",c);else{var u=function(e,t,n){l||(l=a.defer(function(){l=null,t&&t.value===n||c(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||u(e,this,this.value)}),r.hasEvent("paste")&&t.on("paste cut drop",u)}t.on("change",c),jo[o]&&i.$$hasNativeValidators&&o===n.type&&t.on(_o,function(e){if(!l){var t=this[vr],n=t.badInput,i=t.typeMismatch;l=a.defer(function(){l=null,t.badInput===n&&t.typeMismatch===i||c(e)})}}),i.$render=function(){var e=i.$isEmpty(i.$viewValue)?"":i.$viewValue;t.val()!==e&&t.val(e)}}function Fi(e,t){if(T(e))return e;if(k(e)){Mo.lastIndex=0;var n=Mo.exec(e);if(n){var i=+n[1],r=+n[2],a=0,o=0,s=0,l=0,c=yi(i),u=7*(r-1);return t&&(a=t.getHours(),o=t.getMinutes(),s=t.getSeconds(),l=t.getMilliseconds()),new Date(i,0,c.getDate()+u,a,o,s,l)}}return NaN}function Vi(e,t){return function(n,i){var r,o;if(T(n))return n;if(k(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),To.test(n))return new Date(n);if(e.lastIndex=0,r=e.exec(n)){r.shift(),o=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},a(r,function(e,n){n<t.length&&(o[t[n]]=+e)});var s=new Date(o.yyyy,o.MM-1,o.dd,o.HH,o.mm,o.ss||0,1e3*o.sss||0);return o.yyyy<100&&s.setFullYear(o.yyyy),s}}return NaN}}function qi(e,t,n,i){return function(r,a,o,s,l,c,u,p){function d(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function h(e){return y(e)&&!T(e)?f(e)||void 0:e}function f(e,t){var i=s.$options.getOption("timezone");v&&v!==i&&(t=ee(t,Z(v)));var r=n(e,t);return!isNaN(r)&&i&&(r=te(r,i)),r}function g(e,t){var n=i;$&&k(s.$options.getOption("timeSecondsFormat"))&&(n=i.replace("ss.sss",s.$options.getOption("timeSecondsFormat")).replace(/:$/,""));var r=u("date")(e,n,t);return $&&s.$options.getOption("timeStripZeroSeconds")&&(r=r.replace(/(?::00)?(?:\.000)?$/,"")),r}zi(r,a,o,s,e),Ui(r,a,o,s,l,c);var m,v,$="time"===e||"datetimelocal"===e;if(s.$parsers.push(function(n){return s.$isEmpty(n)?null:t.test(n)?f(n,m):void(s.$$parserName=e)}),s.$formatters.push(function(e){if(e&&!T(e))throw ss("datefmt","Expected `{0}` to be a date",e);if(d(e)){m=e;var t=s.$options.getOption("timezone");return t&&(v=t,m=te(m,t,!0)),g(e,t)}return m=null,v=null,""}),y(o.min)||o.ngMin){var w=o.min||p(o.ngMin)(r),x=h(w);s.$validators.min=function(e){return!d(e)||b(x)||n(e)>=x},o.$observe("min",function(e){e!==w&&(x=h(e),w=e,s.$validate())})}if(y(o.max)||o.ngMax){var C=o.max||p(o.ngMax)(r),S=h(C);s.$validators.max=function(e){return!d(e)||b(S)||n(e)<=S},o.$observe("max",function(e){e!==C&&(S=h(e),C=e,s.$validate())})}}}function zi(e,t,n,i,r){var a=t[0];(i.$$hasNativeValidators=w(a.validity))&&i.$parsers.push(function(e){var n=t.prop(vr)||{};return n.badInput||n.typeMismatch?void(i.$$parserName=r):e})}function Hi(e){e.$parsers.push(function(t){return e.$isEmpty(t)?null:Do.test(t)?parseFloat(t):void(e.$$parserName="number")}),e.$formatters.push(function(t){if(!e.$isEmpty(t)){if(!C(t))throw ss("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t})}function Bi(e){return y(e)&&!C(e)&&(e=parseFloat(e)),Or(e)?void 0:e}function Wi(e){return(0|e)===e}function Gi(e){var t=e.toString(),n=t.indexOf(".");if(-1===n){if(-1<e&&e<1){var i=/e-(\d+)$/.exec(t);if(i)return Number(i[1])}return 0}return t.length-n-1}function Yi(e,t,n){var i=Number(e),r=!Wi(i),a=!Wi(t),o=!Wi(n);if(r||a||o){var s=r?Gi(i):0,l=a?Gi(t):0,c=o?Gi(n):0,u=Math.max(s,l,c),p=Math.pow(10,u);i*=p,t*=p,n*=p,r&&(i=Math.round(i)),a&&(t=Math.round(t)),o&&(n=Math.round(n))}return(i-t)%n==0}function Ji(e,t,n,i,r,a,o,s){zi(e,t,n,i,"number"),Hi(i),Ui(e,t,n,i,r,a);var l;if(y(n.min)||n.ngMin){var c=n.min||s(n.ngMin)(e);l=Bi(c),i.$validators.min=function(e,t){return i.$isEmpty(t)||b(l)||t>=l},n.$observe("min",function(e){e!==c&&(l=Bi(e),c=e,i.$validate())})}if(y(n.max)||n.ngMax){var u=n.max||s(n.ngMax)(e),p=Bi(u);i.$validators.max=function(e,t){return i.$isEmpty(t)||b(p)||t<=p},n.$observe("max",function(e){e!==u&&(p=Bi(e),u=e,i.$validate())})}if(y(n.step)||n.ngStep){var d=n.step||s(n.ngStep)(e),h=Bi(d);i.$validators.step=function(e,t){return i.$isEmpty(t)||b(h)||Yi(t,l||0,h)},n.$observe("step",function(e){e!==d&&(h=Bi(e),d=e,i.$validate())})}}function Ki(e,t,n,i,r,a){function o(e,i){t.attr(e,n[e]);var r=n[e];n.$observe(e,function(e){e!==r&&(r=e,i(e))})}function s(e){if(p=Bi(e),!Or(i.$modelValue))if(u){var n=t.val();p>n&&(n=p,t.val(n)),i.$setViewValue(n)}else i.$validate()}function l(e){if(d=Bi(e),!Or(i.$modelValue))if(u){var n=t.val();d<n&&(t.val(d),n=d<p?p:d),i.$setViewValue(n)}else i.$validate()}function c(e){h=Bi(e),Or(i.$modelValue)||(u?i.$viewValue!==t.val()&&i.$setViewValue(t.val()):i.$validate())}zi(e,t,n,i,"range"),Hi(i),Ui(e,t,n,i,r,a);var u=i.$$hasNativeValidators&&"range"===t[0].type,p=u?0:void 0,d=u?100:void 0,h=u?1:void 0,f=t[0].validity,g=y(n.min),m=y(n.max),v=y(n.step),$=i.$render;i.$render=u&&y(f.rangeUnderflow)&&y(f.rangeOverflow)?function(){$(),i.$setViewValue(t.val())}:$,g&&(p=Bi(n.min),i.$validators.min=u?function(){return!0}:function(e,t){return i.$isEmpty(t)||b(p)||t>=p},o("min",s)),m&&(d=Bi(n.max),i.$validators.max=u?function(){return!0}:function(e,t){return i.$isEmpty(t)||b(d)||t<=d},o("max",l)),v&&(h=Bi(n.step),i.$validators.step=u?function(){return!f.stepMismatch}:function(e,t){return i.$isEmpty(t)||b(h)||Yi(t,p||0,h)},o("step",c))}function Qi(e,t,n,i,r,a){Ui(e,t,n,i,r,a),Ri(i),i.$validators.url=function(e,t){var n=e||t;return i.$isEmpty(n)||So.test(n)}}function Xi(e,t,n,i,r,a){Ui(e,t,n,i,r,a),Ri(i),i.$validators.email=function(e,t){var n=e||t;return i.$isEmpty(n)||Eo.test(n)}}function Zi(e,t,n,i){var r=!n.ngTrim||"false"!==Mr(n.ngTrim);b(n.name)&&t.attr("name",l());var a=function(e){var a;t[0].checked&&(a=n.value,r&&(a=Mr(a)),i.$setViewValue(a,e&&e.type))};t.on("change",a),i.$render=function(){var e=n.value;r&&(e=Mr(e)),t[0].checked=e===i.$viewValue},n.$observe("value",i.$render)}function er(e,t,n,i,r){var a;if(y(i)){if(a=e(i),!a.constant)throw ss("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return a(t)}return r}function tr(e,t,n,i,r,a,o,s){var l=er(s,e,"ngTrueValue",n.ngTrueValue,!0),c=er(s,e,"ngFalseValue",n.ngFalseValue,!1),u=function(e){i.$setViewValue(t[0].checked,e&&e.type)};t.on("change",u),i.$render=function(){t[0].checked=i.$viewValue},i.$isEmpty=function(e){return!1===e},i.$formatters.push(function(e){return W(e,l)}),i.$parsers.push(function(e){return e?l:c})}function nr(e,t){function n(e,t){if(!e||!e.length)return[];if(!t||!t.length)return e;var n=[];e:for(var i=0;i<e.length;i++){for(var r=e[i],a=0;a<t.length;a++)if(r===t[a])continue e;n.push(r)}return n}function i(e){return e&&e.split(" ")}function r(e){if(!e)return e;var t=e;return S(e)?t=e.map(r).join(" "):w(e)?t=Object.keys(e).filter(function(t){return e[t]}).join(" "):k(e)||(t=e+""),t}e="ngClass"+e;var o;return["$parse",function(s){return{restrict:"AC",link:function(l,c,u){function p(e){e=f(i(e),1),u.$addClass(e)}function d(e){e=f(i(e),-1),u.$removeClass(e)}function h(e,t){var r=i(e),a=i(t),o=n(r,a),s=n(a,r),l=f(o,-1),c=f(s,1);u.$addClass(c),u.$removeClass(l)}function f(e,t){var n=[];return a(e,function(e){(t>0||$[e])&&($[e]=($[e]||0)+t,$[e]===+(t>0)&&n.push(e))}),n.join(" ")}function g(e){e===t?p(v):d(v),b=e}function m(e){b===t&&h(v,e),v=e}var v,$=c.data("$classCounts"),b=!0;$||($=be(),c.data("$classCounts",$)),"ngClass"!==e&&(o||(o=s("$index",function(e){return 1&e})),l.$watch(o,g)),l.$watch(s(u[e],r),m)}}}]}function ir(e,t,n,i,r,a){return{restrict:"A",compile:function(o,s){var l=e(s[i]);return function(e,i){i.on(r,function(i){var r=function(){l(e,{$event:i})};if(t.$$phase)if(a)e.$evalAsync(r);else try{r()}catch(e){n(e)}else e.$apply(r)})}}}}function rr(e,t,n,i,r,a,o,s,l){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(n.name||"",!1)(e),this.$$parentForm=yo,this.$options=ls,this.$$updateEvents="",this.$$updateEventHandler=this.$$updateEventHandler.bind(this),this.$$parsedNgModel=r(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$parserName="parse",this.$$currentValidationRunId=0,this.$$scope=e,this.$$rootScope=e.$root,this.$$attr=n,this.$$element=i,this.$$animate=a,this.$$timeout=o,this.$$parse=r,this.$$q=s,this.$$exceptionHandler=t,_i(this),ar(this)}function ar(e){e.$$scope.$watch(function(t){var n=e.$$ngModelGet(t);return n===e.$modelValue||e.$modelValue!==e.$modelValue&&n!==n||e.$$setModelValue(n),n})}function or(e){this.$$options=e}function sr(e,t){a(t,function(t,n){y(e[n])||(e[n]=t)})}function lr(e,t){e.prop("selected",t),e.attr("selected",t)}function cr(e,t,n){if(e){if(k(e)&&(e=new RegExp("^"+e+"$")),!e.test)throw i("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",t,e,ne(n));return e}}function ur(e){var t=h(e);return Or(t)?-1:t}var pr,dr,hr,fr,gr={objectMaxDepth:5,urlErrorParamsEnabled:!0},mr=/^\/(.+)\/([a-z]*)$/,vr="validity",$r=Object.prototype.hasOwnProperty,br=function(e){return k(e)?e.toLowerCase():e},yr=function(e){return k(e)?e.toUpperCase():e},wr=[].slice,xr=[].splice,kr=[].push,Cr=Object.prototype.toString,Tr=Object.getPrototypeOf,Sr=i("ng"),Er=e.angular||(e.angular={}),Dr=0;pr=e.document.documentMode;var Or=Number.isNaN||function(e){return e!==e};g.$inject=[],m.$inject=[];var Ar=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,Mr=function(e){return k(e)?e.trim():e},Ir=function(e){return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Pr=function(){if(!y(Pr.rules)){var t=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(t){var n=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");Pr.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else Pr.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(e){return!0}}(),noInlineStyle:!1}}return Pr.rules},_r=function(){if(y(_r.name_))return _r.name_;var t,n,i,r,a=Nr.length;for(n=0;n<a;++n)if(i=Nr[n],t=e.document.querySelector("["+i.replace(":","\\:")+"jq]")){r=t.getAttribute(i+"jq");break}return _r.name_=r},jr=/:/g,Nr=["ng-","data-ng-","ng:","x-ng-"],Rr=function(t){var n=t.currentScript;if(!n)return!0;if(!(n instanceof e.HTMLScriptElement||n instanceof e.SVGScriptElement))return!1;var i=n.attributes;return[i.getNamedItem("src"),i.getNamedItem("href"),i.getNamedItem("xlink:href")].every(function(e){if(!e)return!0;if(!e.value)return!1;var n=t.createElement("a");if(n.href=e.value,t.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}})}(e.document),Lr=/[A-Z]/g,Ur=!1,Fr=1,Vr=3,qr=8,zr=9,Hr=11,Br={full:"1.7.8",major:1,minor:7,dot:8,codeName:"enthusiastic-oblation"};je.expando="ng339";var Wr=je.cache={},Gr=1;je._data=function(e){return this.cache[e[this.expando]]||{}};var Yr=/-([a-z])/g,Jr=/^-ms-/,Kr={mouseleave:"mouseout",mouseenter:"mouseover"},Qr=i("jqLite"),Xr=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Zr=/<|&#?\w+;/,ea=/<([\w:-]+)/,ta=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,na={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};na.optgroup=na.option,na.tbody=na.tfoot=na.colgroup=na.caption=na.thead,na.th=na.td;var ia=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},ra=je.prototype={ready:Ze,toString:function(){var e=[];return a(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return dr(e>=0?this[e]:this[this.length+e])},length:0,push:kr,sort:[].sort,splice:[].splice},aa={};a("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){aa[br(e)]=e});var oa={};a("input,select,option,textarea,button,form,details".split(","),function(e){oa[e]=!0});var sa={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};a({data:ze,removeData:Ve,hasData:Me,cleanData:function(e){for(var t=0,n=e.length;t<n;t++)Ve(e[t]),Fe(e[t])}},function(e,t){je[t]=e}),a({data:ze,inheritedData:Je,scope:function(e){return dr.data(e,"$scope")||Je(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return dr.data(e,"$isolateScope")||dr.data(e,"$isolateScopeNoTemplate")},controller:Ye,injector:function(e){return Je(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:He,css:function(e,t,n){if(t=Se(t),!y(n))return e.style[t];e.style[t]=n},attr:function(e,t,n){var i,r=e.nodeType;if(r!==Vr&&2!==r&&r!==qr&&e.getAttribute){var a=br(t),o=aa[a];if(!y(n))return i=e.getAttribute(t),o&&null!==i&&(i=a),null===i?void 0:i;null===n||!1===n&&o?e.removeAttribute(t):e.setAttribute(t,o?a:n)}},prop:function(e,t,n){if(!y(n))return e[t];e[t]=n},text:function(){function e(e,t){if(b(t)){var n=e.nodeType;return n===Fr||n===Vr?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(b(t)){if(e.multiple&&"select"===V(e)){var n=[];return a(e.options,function(e){e.selected&&n.push(e.value||e.text)}),n}return e.value}e.value=t},html:function(e,t){if(b(t))return e.innerHTML;Re(e,!0),e.innerHTML=t},empty:Ke},function(e,t){je.prototype[t]=function(t,n){var i,r,a=this.length;if(e!==Ke&&b(2===e.length&&e!==He&&e!==Ye?t:n)){if(w(t)){for(i=0;i<a;i++)if(e===ze)e(this[i],t);else for(r in t)e(this[i],r,t[r]);return this}for(var o=e.$dv,s=b(o)?Math.min(a,1):a,l=0;l<s;l++){var c=e(this[l],t,n);o=o?o+c:c}return o}for(i=0;i<a;i++)e(this[i],t,n);return this}}),a({removeData:Ve,on:function(e,t,n,i){if(y(i))throw Qr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Ae(e)){var r=qe(e,!0),a=r.events,o=r.handle;o||(o=r.handle=nt(e,a));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],l=s.length,c=function(t,i,r){var s=a[t];s||(s=a[t]=[],s.specialHandlerWrapper=i,"$destroy"===t||r||e.addEventListener(t,o)),s.push(n)};l--;)t=s[l],Kr[t]?(c(Kr[t],rt),c(t,void 0,!0)):c(t)}},off:Fe,one:function(e,t,n){e=dr(e),e.on(t,function i(){e.off(t,n),e.off(t,i)}),e.on(t,n)},replaceWith:function(e,t){var n,i=e.parentNode;Re(e),a(new je(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(e){var t=[];return a(e.childNodes,function(e){e.nodeType===Fr&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===Fr||n===Hr){t=new je(t);for(var i=0,r=t.length;i<r;i++){var a=t[i];e.appendChild(a)}}},prepend:function(e,t){if(e.nodeType===Fr){var n=e.firstChild;a(new je(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){_e(e,dr(t).eq(0).clone()[0])},remove:Qe,detach:function(e){Qe(e,!0)},after:function(e,t){var n=e,i=e.parentNode;if(i){t=new je(t);for(var r=0,a=t.length;r<a;r++){var o=t[r];i.insertBefore(o,n.nextSibling),n=o}}},addClass:We,removeClass:Be,toggleClass:function(e,t,n){t&&a(t.split(" "),function(t){var i=n;b(i)&&(i=!He(e,t)),(i?We:Be)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==Hr?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:Ne,triggerHandler:function(e,t,n){var i,r,o,s=t.type||t,l=qe(e),c=l&&l.events,u=c&&c[s];u&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:g,type:s,target:e},t.type&&(i=p(i,t)),r=xe(u),o=n?[i].concat(n):[i],a(r,function(t){i.isImmediatePropagationStopped()||t.apply(e,o)}))}},function(e,t){je.prototype[t]=function(t,n,i){for(var r,a=0,o=this.length;a<o;a++)b(r)?(r=e(this[a],t,n,i),y(r)&&(r=dr(r))):Ge(r,e(this[a],t,n,i));return y(r)?r:this}}),je.prototype.bind=je.prototype.on,je.prototype.unbind=je.prototype.off;var la=Object.create(null);st.prototype={_idx:function(e){return e!==this._lastKey&&(this._lastKey=e,this._lastIndex=this._keys.indexOf(e)),this._lastIndex},_transformKey:function(e){return Or(e)?la:e},get:function(e){e=this._transformKey(e);var t=this._idx(e);if(-1!==t)return this._values[t]},has:function(e){return e=this._transformKey(e),-1!==this._idx(e)},set:function(e,t){e=this._transformKey(e);var n=this._idx(e);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=e,this._values[n]=t},delete:function(e){e=this._transformKey(e);var t=this._idx(e);return-1!==t&&(this._keys.splice(t,1),this._values.splice(t,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var ca=st,ua=[function(){this.$get=[function(){return ca}]}],pa=/^([^(]+?)=>/,da=/^[^(]*\(\s*([^)]*)\)/m,ha=/,/,fa=/^\s*(_?)(\S+?)\1\s*$/,ga=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,ma=i("$injector");dt.$$annotate=pt;var va=i("$animate"),$a=1,ba=function(){this.$get=g},ya=function(){var e=new ca,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){function r(e,t,n){var i=!1;return t&&(t=k(t)?t.split(" "):S(t)?t:[],a(t,function(t){t&&(i=!0,e[t]=n)})),i}function o(){a(t,function(t){var n=e.get(t);if(n){var i=mt(t.attr("class")),r="",o="";a(n,function(e,t){e!==!!i[t]&&(e?r+=(r.length?" ":"")+t:o+=(o.length?" ":"")+t)}),a(t,function(e){r&&We(e,r),o&&Be(e,o)}),e.delete(t)}}),t.length=0}function s(n,a,s){var l=e.get(n)||{},c=r(l,a,!0),u=r(l,s,!1);(c||u)&&(e.set(n,l),t.push(n),1===t.length&&i.$$postDigest(o))}return{enabled:g,on:g,off:g,pin:g,push:function(e,t,i,r){r&&r(),i=i||{},i.from&&e.css(i.from),i.to&&e.css(i.to),(i.addClass||i.removeClass)&&s(e,i.addClass,i.removeClass);var a=new n;return a.complete(),a}}}]},wa=["$provide",function(e){var t=this,n=null,i=null;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw va("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var r=n+"-animation";t.$$registeredAnimations[n.substr(1)]=r,e.factory(r,i)},this.customFilter=function(e){return 1===arguments.length&&(i=D(e)?e:null),i},this.classNameFilter=function(e){if(1===arguments.length&&(n=e instanceof RegExp?e:null)){if(new RegExp("[(\\s|\\/)]ng-animate[(\\s|\\/)]").test(n.toString()))throw n=null,va("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',"ng-animate")}return n},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var i=gt(n);!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.cancel&&e.cancel()},enter:function(n,i,r,a){return i=i&&dr(i),r=r&&dr(r),i=i||r.parent(),t(n,i,r),e.push(n,"enter",vt(a))},move:function(n,i,r,a){return i=i&&dr(i),r=r&&dr(r),i=i||r.parent(),t(n,i,r),e.push(n,"move",vt(a))},leave:function(t,n){return e.push(t,"leave",vt(n),function(){t.remove()})},addClass:function(t,n,i){return i=vt(i),i.addClass=ft(i.addclass,n),e.push(t,"addClass",i)},removeClass:function(t,n,i){return i=vt(i),i.removeClass=ft(i.removeClass,n),e.push(t,"removeClass",i)},setClass:function(t,n,i,r){return r=vt(r),r.addClass=ft(r.addClass,n),r.removeClass=ft(r.removeClass,i),e.push(t,"setClass",r)},animate:function(t,n,i,r,a){return a=vt(a),a.from=a.from?p(a.from,n):n,a.to=a.to?p(a.to,i):i,r=r||"ng-inline-animate",a.tempClasses=ft(a.tempClasses,r),e.push(t,"animate",a)}}}]}],xa=function(){this.$get=["$$rAF",function(e){function t(t){n.push(t),n.length>1||e(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}var n=[];return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}]},ka=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(e,t,n,i,r){function o(e){this.setHost(e);var t=n(),a=function(e){r(e,0,!1)};this._doneCallbacks=[],this._tick=function(e){i()?a(e):t(e)},this._state=0}return o.chain=function(e,t){function n(){if(i===e.length)return void t(!0);e[i](function(e){if(!1===e)return void t(!1);i++,n()})}var i=0;n()},o.all=function(e,t){function n(n){r=r&&n,++i===e.length&&t(r)}var i=0,r=!0;a(e,function(e){e.done(n)})},o.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:g,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){!1===t?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick(function(){t._resolve(e)}))},_resolve:function(e){2!==this._state&&(a(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=2)}},o}]},Ca=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,i){function r(){return e(function(){a(),s||l.complete(),s=!0}),l}function a(){o.addClass&&(t.addClass(o.addClass),o.addClass=null),o.removeClass&&(t.removeClass(o.removeClass),o.removeClass=null),o.to&&(t.css(o.to),o.to=null)}var o=i||{};o.$$prepared||(o=H(o)),o.cleanupStyles&&(o.from=o.to=null),o.from&&(t.css(o.from),o.from=null);var s,l=new n;return{start:r,end:r}}}]},Ta=i("$compile"),Sa=new Ct;Tt.$inject=["$provide","$$sanitizeUriProvider"],St.prototype.isFirstChange=function(){return this.previousValue===Sa};var Ea=/^((?:x|data)[:\-_])/i,Da=/[:\-_]+(.)/g,Oa=i("$controller"),Aa=/^(\S+)(\s+as\s+([\w$]+))?$/,Ma=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof dr&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},Ia="application/json",Pa={"Content-Type":Ia+";charset=utf-8"},_a=/^\[|^\{(?!\{)/,ja={"[":/]$/,"{":/}$/},Na=/^\)]\}',?\n/,Ra=i("$http"),La=Er.$interpolateMinErr=i("$interpolate");La.throwNoconcat=function(e){throw La("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},La.interr=function(e,t){return La("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var Ua=i("$interval"),Fa=function(){this.$get=function(){function e(e){var t=function(e){t.data=e,t.called=!0};return t.id=e,t}var t=Er.callbacks,n={};return{createCallback:function(i){var r="_"+(t.$$counter++).toString(36),a="angular.callbacks."+r,o=e(r);return n[a]=t[r]=o,a},wasCalled:function(e){return n[e].called},getResponse:function(e){return n[e].data},removeCallback:function(e){var i=n[e];delete t[i.id],delete n[e]}}}},Va=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,qa={http:80,https:443,ftp:21},za=i("$location"),Ha=/^\s*[\\\/]{2,}/,Ba={$$absUrl:"",$$html5:!1,$$replace:!1,$$compose:function(){this.$$url=Zt(this.$$path,this.$$search,this.$$hash),this.$$absUrl=this.$$normalizeUrl(this.$$url),this.$$urlUpdatedByLocation=!0},absUrl:pn("$$absUrl"),url:function(e){if(b(e))return this.$$url;var t=Va.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:pn("$$protocol"),host:pn("$$host"),port:pn("$$port"),path:dn("$$path",function(e){return e=null!==e?e.toString():"","/"===e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(k(e)||C(e))e=e.toString(),this.$$search=re(e);else{if(!w(e))throw za("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=H(e,{}),a(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:b(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:dn("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};a([un,cn,ln],function(e){e.prototype=Object.create(Ba),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==ln||!this.$$html5)throw za("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=b(t)?null:t,this.$$urlUpdatedByLocation=!0,this}});var Wa=i("$parse"),Ga={}.constructor.prototype.valueOf,Ya=be();a("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){Ya[e]=!0});var Ja={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Ka=function(e){this.options=e};Ka.prototype={constructor:Ka,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),i=n+this.peek(2),r=Ya[t],a=Ya[n],o=Ya[i];if(r||a||o){var s=o?i:a?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||" "===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),i=t.charCodeAt(0);return n>=55296&&n<=56319&&i>=56320&&i<=57343?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var i=y(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw Wa("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,i,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=br(this.text.charAt(this.index));if("."===n||this.isNumber(n))e+=n;else{var i=this.peek();if("e"===n&&this.isExpOperator(i))e+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"===e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!==e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",i=e,r=!1;this.index<this.text.length;){var a=this.text.charAt(this.index);if(i+=a,r){if("u"===a){var o=this.text.substring(this.index+1,this.index+5);o.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,n+=String.fromCharCode(parseInt(o,16))}else{n+=Ja[a]||a}r=!1}else if("\\"===a)r=!0;else{if(a===e)return this.index++,void this.tokens.push({index:t,text:i,constant:!0,value:n});n+=a}this.index++}this.throwError("Unterminated quote",t)}};var Qa=function(e,t){this.lexer=e,this.options=t};Qa.Program="Program",Qa.ExpressionStatement="ExpressionStatement",Qa.AssignmentExpression="AssignmentExpression",Qa.ConditionalExpression="ConditionalExpression",Qa.LogicalExpression="LogicalExpression",Qa.BinaryExpression="BinaryExpression",Qa.UnaryExpression="UnaryExpression",Qa.CallExpression="CallExpression",Qa.MemberExpression="MemberExpression",Qa.Identifier="Identifier",Qa.Literal="Literal",Qa.ArrayExpression="ArrayExpression",Qa.Property="Property",Qa.ObjectExpression="ObjectExpression",Qa.ThisExpression="ThisExpression",Qa.LocalsExpression="LocalsExpression",Qa.NGValueParameter="NGValueParameter",Qa.prototype={ast:function(e){this.text=e,
this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:Qa.Program,body:e}},expressionStatement:function(){return{type:Qa.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!xn(e))throw Wa("lval","Trying to assign a value to a non l-value");e={type:Qa.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:Qa.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:Qa.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:Qa.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:Qa.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:Qa.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:Qa.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:Qa.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:Qa.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=H(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:Qa.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:Qa.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:Qa.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:Qa.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:Qa.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do{e.push(this.filterChain())}while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:Qa.Identifier,name:e.text}},constant:function(){return{type:Qa.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Qa.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:Qa.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:Qa.ObjectExpression,properties:t}},throwError:function(e,t){throw Wa("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw Wa("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw Wa("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,i){return this.peekAhead(0,e,t,n,i)},peekAhead:function(e,t,n,i,r){if(this.tokens.length>e){var a=this.tokens[e],o=a.text;if(o===t||o===n||o===i||o===r||!t&&!n&&!i&&!r)return a}return!1},expect:function(e,t,n,i){var r=this.peek(e,t,n,i);return!!r&&(this.tokens.shift(),r)},selfReferential:{this:{type:Qa.ThisExpression},$locals:{type:Qa.LocalsExpression}}};var Xa=1,Za=2;Sn.prototype={compile:function(e){var t=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},yn(e,t.$filter);var n,i="";if(this.stage="assign",n=kn(e)){this.state.computing="assign";var r=this.nextId();this.recurse(n,r),this.return_(r),i="fn.assign="+this.generateFunction("assign","s,v,l")}var o=wn(e.body);t.stage="inputs",a(o,function(e,n){var i="fn"+n;t.state[i]={vars:[],body:[],own:{}},t.state.computing=i;var r=t.nextId();t.recurse(e,r),t.return_(r),t.state.inputs.push({name:i,isPure:e.isPure}),e.watchId=n}),this.state.computing="fn",this.stage="main",this.recurse(e);var s='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+i+this.watchFns()+"return fn;",l=new Function("$filter","getStringValue","ifDefined","plus",s)(this.$filter,gn,mn,vn);return this.state=this.stage=void 0,l},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return a(t,function(t){e.push("var "+t.name+"="+n.generateFunction(t.name,"s")),t.isPure&&e.push(t.name,".isPure="+JSON.stringify(t.isPure)+";")}),t.length&&e.push("fn.inputs=["+t.map(function(e){return e.name}).join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return a(this.state.filters,function(n,i){e.push(n+"=$filter("+t.escape(i)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,i,r,o){var s,l,c,u,p,d=this;if(i=i||g,!o&&y(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,i,r,!0));switch(e.type){case Qa.Program:a(e.body,function(t,n){d.recurse(t.expression,void 0,void 0,function(e){l=e}),n!==e.body.length-1?d.current().body.push(l,";"):d.return_(l)});break;case Qa.Literal:u=this.escape(e.value),this.assign(t,u),i(t||u);break;case Qa.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(e){l=e}),u=e.operator+"("+this.ifDefined(l,0)+")",this.assign(t,u),i(u);break;case Qa.BinaryExpression:this.recurse(e.left,void 0,void 0,function(e){s=e}),this.recurse(e.right,void 0,void 0,function(e){l=e}),u="+"===e.operator?this.plus(s,l):"-"===e.operator?this.ifDefined(s,0)+e.operator+this.ifDefined(l,0):"("+s+")"+e.operator+"("+l+")",this.assign(t,u),i(u);break;case Qa.LogicalExpression:t=t||this.nextId(),d.recurse(e.left,t),d.if_("&&"===e.operator?t:d.not(t),d.lazyRecurse(e.right,t)),i(t);break;case Qa.ConditionalExpression:t=t||this.nextId(),d.recurse(e.test,t),d.if_(t,d.lazyRecurse(e.alternate,t),d.lazyRecurse(e.consequent,t)),i(t);break;case Qa.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===d.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),d.if_("inputs"===d.stage||d.not(d.getHasOwnProperty("l",e.name)),function(){d.if_("inputs"===d.stage||"s",function(){r&&1!==r&&d.if_(d.isNull(d.nonComputedMember("s",e.name)),d.lazyAssign(d.nonComputedMember("s",e.name),"{}")),d.assign(t,d.nonComputedMember("s",e.name))})},t&&d.lazyAssign(t,d.nonComputedMember("l",e.name))),i(t);break;case Qa.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),d.recurse(e.object,s,void 0,function(){d.if_(d.notNull(s),function(){e.computed?(l=d.nextId(),d.recurse(e.property,l),d.getStringValue(l),r&&1!==r&&d.if_(d.not(d.computedMember(s,l)),d.lazyAssign(d.computedMember(s,l),"{}")),u=d.computedMember(s,l),d.assign(t,u),n&&(n.computed=!0,n.name=l)):(r&&1!==r&&d.if_(d.isNull(d.nonComputedMember(s,e.property.name)),d.lazyAssign(d.nonComputedMember(s,e.property.name),"{}")),u=d.nonComputedMember(s,e.property.name),d.assign(t,u),n&&(n.computed=!1,n.name=e.property.name))},function(){d.assign(t,"undefined")}),i(t)},!!r);break;case Qa.CallExpression:t=t||this.nextId(),e.filter?(l=d.filter(e.callee.name),c=[],a(e.arguments,function(e){var t=d.nextId();d.recurse(e,t),c.push(t)}),u=l+"("+c.join(",")+")",d.assign(t,u),i(t)):(l=d.nextId(),s={},c=[],d.recurse(e.callee,l,s,function(){d.if_(d.notNull(l),function(){a(e.arguments,function(t){d.recurse(t,e.constant?void 0:d.nextId(),void 0,function(e){c.push(e)})}),u=s.name?d.member(s.context,s.name,s.computed)+"("+c.join(",")+")":l+"("+c.join(",")+")",d.assign(t,u)},function(){d.assign(t,"undefined")}),i(t)}));break;case Qa.AssignmentExpression:l=this.nextId(),s={},this.recurse(e.left,void 0,s,function(){d.if_(d.notNull(s.context),function(){d.recurse(e.right,l),u=d.member(s.context,s.name,s.computed)+e.operator+l,d.assign(t,u),i(t||u)})},1);break;case Qa.ArrayExpression:c=[],a(e.elements,function(t){d.recurse(t,e.constant?void 0:d.nextId(),void 0,function(e){c.push(e)})}),u="["+c.join(",")+"]",this.assign(t,u),i(t||u);break;case Qa.ObjectExpression:c=[],p=!1,a(e.properties,function(e){e.computed&&(p=!0)}),p?(t=t||this.nextId(),this.assign(t,"{}"),a(e.properties,function(e){e.computed?(s=d.nextId(),d.recurse(e.key,s)):s=e.key.type===Qa.Identifier?e.key.name:""+e.key.value,l=d.nextId(),d.recurse(e.value,l),d.assign(d.member(t,s,e.computed),l)})):(a(e.properties,function(t){d.recurse(t.value,e.constant?void 0:d.nextId(),void 0,function(e){c.push(d.escape(t.key.type===Qa.Identifier?t.key.name:""+t.key.value)+":"+e)})}),u="{"+c.join(",")+"}",this.assign(t,u)),i(t||u);break;case Qa.ThisExpression:this.assign(t,"s"),i(t||"s");break;case Qa.LocalsExpression:this.assign(t,"l"),i(t||"l");break;case Qa.NGValueParameter:this.assign(t,"v"),i(t||"v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),i[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(!0===e)t();else{var i=this.current().body;i.push("if(",e,"){"),t(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){var n=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,i=/[^$_a-zA-Z0-9]/g;return n.test(t)?e+"."+t:e+'["'+t.replace(i,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,n,i,r,a){var o=this;return function(){o.recurse(e,t,n,i,r,a)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(k(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(C(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if(void 0===e)return"undefined";throw Wa("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},En.prototype={compile:function(e){var t=this;yn(e,t.$filter);var n,i;(n=kn(e))&&(i=this.recurse(n));var r,o=wn(e.body);o&&(r=[],a(o,function(e,n){var i=t.recurse(e);i.isPure=e.isPure,e.input=i,r.push(i),e.watchId=n}));var s=[];a(e.body,function(e){s.push(t.recurse(e.expression))});var l=0===e.body.length?g:1===e.body.length?s[0]:function(e,t){var n;return a(s,function(i){n=i(e,t)}),n};return i&&(l.assign=function(e,t,n){return i(e,n,t)}),r&&(l.inputs=r),l},recurse:function(e,t,n){var i,r,o,s=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case Qa.Literal:return this.value(e.value,t);case Qa.UnaryExpression:return r=this.recurse(e.argument),this["unary"+e.operator](r,t);case Qa.BinaryExpression:case Qa.LogicalExpression:return i=this.recurse(e.left),r=this.recurse(e.right),this["binary"+e.operator](i,r,t);case Qa.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case Qa.Identifier:return s.identifier(e.name,t,n);case Qa.MemberExpression:return i=this.recurse(e.object,!1,!!n),e.computed||(r=e.property.name),e.computed&&(r=this.recurse(e.property)),e.computed?this.computedMember(i,r,t,n):this.nonComputedMember(i,r,t,n);case Qa.CallExpression:return o=[],a(e.arguments,function(e){o.push(s.recurse(e))}),e.filter&&(r=this.$filter(e.callee.name)),e.filter||(r=this.recurse(e.callee,!0)),e.filter?function(e,n,i,a){for(var s=[],l=0;l<o.length;++l)s.push(o[l](e,n,i,a));var c=r.apply(void 0,s,a);return t?{context:void 0,name:void 0,value:c}:c}:function(e,n,i,a){var s,l=r(e,n,i,a);if(null!=l.value){for(var c=[],u=0;u<o.length;++u)c.push(o[u](e,n,i,a));s=l.value.apply(l.context,c)}return t?{value:s}:s};case Qa.AssignmentExpression:return i=this.recurse(e.left,!0,1),r=this.recurse(e.right),function(e,n,a,o){var s=i(e,n,a,o),l=r(e,n,a,o);return s.context[s.name]=l,t?{value:l}:l};case Qa.ArrayExpression:return o=[],a(e.elements,function(e){o.push(s.recurse(e))}),function(e,n,i,r){for(var a=[],s=0;s<o.length;++s)a.push(o[s](e,n,i,r));return t?{value:a}:a};case Qa.ObjectExpression:return o=[],a(e.properties,function(e){e.computed?o.push({key:s.recurse(e.key),computed:!0,value:s.recurse(e.value)}):o.push({key:e.key.type===Qa.Identifier?e.key.name:""+e.key.value,computed:!1,value:s.recurse(e.value)})}),function(e,n,i,r){for(var a={},s=0;s<o.length;++s)o[s].computed?a[o[s].key(e,n,i,r)]=o[s].value(e,n,i,r):a[o[s].key]=o[s].value(e,n,i,r);return t?{value:a}:a};case Qa.ThisExpression:return function(e){return t?{value:e}:e};case Qa.LocalsExpression:return function(e,n){return t?{value:n}:n};case Qa.NGValueParameter:return function(e,n,i){return t?{value:i}:i}}},"unary+":function(e,t){return function(n,i,r,a){var o=e(n,i,r,a);return o=y(o)?+o:0,t?{value:o}:o}},"unary-":function(e,t){return function(n,i,r,a){var o=e(n,i,r,a);return o=y(o)?-o:-0,t?{value:o}:o}},"unary!":function(e,t){return function(n,i,r,a){var o=!e(n,i,r,a);return t?{value:o}:o}},"binary+":function(e,t,n){return function(i,r,a,o){var s=e(i,r,a,o),l=t(i,r,a,o),c=vn(s,l);return n?{value:c}:c}},"binary-":function(e,t,n){return function(i,r,a,o){var s=e(i,r,a,o),l=t(i,r,a,o),c=(y(s)?s:0)-(y(l)?l:0);return n?{value:c}:c}},"binary*":function(e,t,n){return function(i,r,a,o){var s=e(i,r,a,o)*t(i,r,a,o);return n?{value:s}:s}},"binary/":function(e,t,n){return function(i,r,a,o){var s=e(i,r,a,o)/t(i,r,a,o);return n?{value:s}:s}},"binary%":function(e,t,n){return function(i,r,a,o){var s=e(i,r,a,o)%t(i,r,a,o);return n?{value:s}:s}},"binary===":function(e,t,n){return function(i,r,a,o){var s=e(i,r,a,o)===t(i,r,a,o);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(i,r,a,o){var s=e(i,r,a,o)!==t(i,r,a,o);return n?{value:s}:s}},"binary==":function(e,t,n){return function(i,r,a,o){var s=e(i,r,a,o)==t(i,r,a,o);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(i,r,a,o){var s=e(i,r,a,o)!=t(i,r,a,o);return n?{value:s}:s}},"binary<":function(e,t,n){return function(i,r,a,o){var s=e(i,r,a,o)<t(i,r,a,o);return n?{value:s}:s}},"binary>":function(e,t,n){return function(i,r,a,o){var s=e(i,r,a,o)>t(i,r,a,o);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(i,r,a,o){var s=e(i,r,a,o)<=t(i,r,a,o);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(i,r,a,o){var s=e(i,r,a,o)>=t(i,r,a,o);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(i,r,a,o){var s=e(i,r,a,o)&&t(i,r,a,o);return n?{value:s}:s}},"binary||":function(e,t,n){return function(i,r,a,o){var s=e(i,r,a,o)||t(i,r,a,o);return n?{value:s}:s}},"ternary?:":function(e,t,n,i){return function(r,a,o,s){var l=e(r,a,o,s)?t(r,a,o,s):n(r,a,o,s);return i?{value:l}:l}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n){return function(i,r,a,o){var s=r&&e in r?r:i;n&&1!==n&&s&&null==s[e]&&(s[e]={});var l=s?s[e]:void 0;return t?{context:s,name:e,value:l}:l}},computedMember:function(e,t,n,i){return function(r,a,o,s){var l,c,u=e(r,a,o,s);return null!=u&&(l=t(r,a,o,s),l=gn(l),i&&1!==i&&u&&!u[l]&&(u[l]={}),c=u[l]),n?{context:u,name:l,value:c}:c}},nonComputedMember:function(e,t,n,i){return function(r,a,o,s){var l=e(r,a,o,s);i&&1!==i&&l&&null==l[t]&&(l[t]={});var c=null!=l?l[t]:void 0;return n?{context:l,name:t,value:c}:c}},inputs:function(e,t){return function(n,i,r,a){return a?a[t]:e(n,i,r)}}},Dn.prototype={constructor:Dn,parse:function(e){var t=this.getAst(e),n=this.astCompiler.compile(t.ast);return n.literal=Cn(t.ast),n.constant=Tn(t.ast),n.oneTime=t.oneTime,n},getAst:function(e){var t=!1;return e=e.trim(),":"===e.charAt(0)&&":"===e.charAt(1)&&(t=!0,e=e.substring(2)),{ast:this.ast.ast(e),oneTime:t}}};var eo,to=i("$sce"),no={HTML:"html",CSS:"css",MEDIA_URL:"mediaUrl",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},io=/_([a-z])/g,ro=i("$templateRequest"),ao=i("$timeout"),oo=e.document.createElement("a"),so=Qn(e.location.href);oo.href="http://[::1]";var lo="[::1]"===oo.hostname;ri.$inject=["$document"],oi.$inject=["$provide"];var co=22,uo=".",po="0";pi.$inject=["$locale"],di.$inject=["$locale"];var ho={yyyy:vi("FullYear",4,0,!1,!0),yy:vi("FullYear",2,0,!0,!0),y:vi("FullYear",1,0,!1,!0),MMMM:$i("Month"),MMM:$i("Month",!0),MM:vi("Month",2,1),M:vi("Month",1,1),LLLL:$i("Month",!1,!0),dd:vi("Date",2),d:vi("Date",1),HH:vi("Hours",2),H:vi("Hours",1),hh:vi("Hours",2,-12),h:vi("Hours",1,-12),mm:vi("Minutes",2),m:vi("Minutes",1),ss:vi("Seconds",2),s:vi("Seconds",1),sss:vi("Milliseconds",3),EEEE:$i("Day"),EEE:$i("Day",!0),a:ki,Z:bi,ww:xi(2),w:xi(1),G:Ci,GG:Ci,GGG:Ci,GGGG:Ti},fo=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,go=/^-?\d+$/;Si.$inject=["$locale"];var mo=v(br),vo=v(yr);Ai.$inject=["$parse"];var $o=v({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Cr.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),bo={};a(aa,function(e,t){function n(e,n,r){e.$watch(r[i],function(e){r.$set(t,!!e)})}if("multiple"!==e){var i=Et("ng-"+t),r=n;"checked"===e&&(r=function(e,t,r){r.ngModel!==r[i]&&n(e,t,r)}),bo[i]=function(){return{restrict:"A",priority:100,link:r}}}}),a(sa,function(e,t){bo[t]=function(){return{priority:100,link:function(e,n,i){if("ngPattern"===t&&"/"===i.ngPattern.charAt(0)){var r=i.ngPattern.match(mr);if(r)return void i.$set("ngPattern",new RegExp(r[1],r[2]))}e.$watch(i[t],function(e){i.$set(t,e)})}}}}),a(["src","srcset","href"],function(e){var t=Et("ng-"+e);bo[t]=["$sce",function(n){return{priority:99,link:function(i,r,a){var o=e,s=e;"href"===e&&"[object SVGAnimatedString]"===Cr.call(r.prop("href"))&&(s="xlinkHref",a.$attr[s]="xlink:href",o=null),a.$set(t,n.getTrustedMediaUrl(a[t])),a.$observe(t,function(t){if(!t)return void("href"===e&&a.$set(s,null));a.$set(s,t),pr&&o&&r.prop(o,a[s])})}}}]});var yo={$addControl:g,$getControls:v([]),$$renameControl:Ii,$removeControl:g,$setValidity:g,$setDirty:g,$setPristine:g,$setSubmitted:g,$$setSubmitted:g},wo="ng-pending";Pi.$inject=["$element","$attrs","$scope","$animate","$interpolate"],Pi.prototype={$rollbackViewValue:function(){a(this.$$controls,function(e){e.$rollbackViewValue()})},$commitViewValue:function(){a(this.$$controls,function(e){e.$commitViewValue()})},$addControl:function(e){me(e.$name,"input"),this.$$controls.push(e),e.$name&&(this[e.$name]=e),e.$$parentForm=this},$getControls:function(){return xe(this.$$controls)},$$renameControl:function(e,t){var n=e.$name;this[n]===e&&delete this[n],this[t]=e,e.$name=t},$removeControl:function(e){e.$name&&this[e.$name]===e&&delete this[e.$name],a(this.$pending,function(t,n){this.$setValidity(n,null,e)},this),a(this.$error,function(t,n){this.$setValidity(n,null,e)},this),a(this.$$success,function(t,n){this.$setValidity(n,null,e)},this),z(this.$$controls,e),e.$$parentForm=yo},$setDirty:function(){this.$$animate.removeClass(this.$$element,as),this.$$animate.addClass(this.$$element,os),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,as,os+" ng-submitted"),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,a(this.$$controls,function(e){e.$setPristine()})},$setUntouched:function(){a(this.$$controls,function(e){e.$setUntouched()})},$setSubmitted:function(){for(var e=this;e.$$parentForm&&e.$$parentForm!==yo;)e=e.$$parentForm;e.$$setSubmitted()},$$setSubmitted:function(){this.$$animate.addClass(this.$$element,"ng-submitted"),this.$submitted=!0,a(this.$$controls,function(e){e.$$setSubmitted&&e.$$setSubmitted()})}},ji({clazz:Pi,set:function(e,t,n){var i=e[t];if(i){-1===i.indexOf(n)&&i.push(n)}else e[t]=[n]},unset:function(e,t,n){var i=e[t];i&&(z(i,n),0===i.length&&delete e[t])}});var xo=function(e){return["$timeout","$parse",function(t,n){function i(e){return""===e?n('this[""]').assign:n(e).assign||g}return{name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:Pi,compile:function(n,r){n.addClass(as).addClass(is);var a=r.name?"name":!(!e||!r.ngForm)&&"ngForm";return{pre:function(e,n,r,o){var s=o[0];if(!("action"in r)){var l=function(t){e.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),t.preventDefault()};n[0].addEventListener("submit",l),n.on("$destroy",function(){t(function(){n[0].removeEventListener("submit",l)},0,!1)})}(o[1]||s.$$parentForm).$addControl(s);var c=a?i(s.$name):g;a&&(c(e,s),r.$observe(a,function(t){s.$name!==t&&(c(e,void 0),s.$$parentForm.$$renameControl(s,t),(c=i(s.$name))(e,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),c(e,void 0),p(s,yo)})}}}}}]},ko=xo(),Co=xo(!0),To=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,So=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Eo=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Do=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Oo=/^(\d{4,})-(\d{2})-(\d{2})$/,Ao=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Mo=/^(\d{4,})-W(\d\d)$/,Io=/^(\d{4,})-(\d\d)$/,Po=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,_o="keydown wheel mousedown",jo=be();a("date,datetime-local,month,time,week".split(","),function(e){jo[e]=!0});var No={text:Li,date:qi("date",Oo,Vi(Oo,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":qi("datetimelocal",Ao,Vi(Ao,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:qi("time",Po,Vi(Po,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:qi("week",Mo,Fi,"yyyy-Www"),month:qi("month",Io,Vi(Io,["yyyy","MM"]),"yyyy-MM"),number:Ji,url:Qi,email:Xi,radio:Zi,range:Ki,checkbox:tr,hidden:g,button:g,submit:g,reset:g,file:g},Ro=["$browser","$sniffer","$filter","$parse",function(e,t,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,a,o,s){s[0]&&(No[br(o.type)]||No.text)(r,a,o,s[0],t,e,n,i)}}}}],Lo=function(){var e={configurable:!0,enumerable:!1,get:function(){return this.getAttribute("value")||""},set:function(e){this.setAttribute("value",e)}};return{restrict:"E",priority:200,compile:function(t,n){if("hidden"===br(n.type))return{pre:function(t,n,i,r){var a=n[0];a.parentNode&&a.parentNode.insertBefore(a,a.nextSibling),Object.defineProperty&&Object.defineProperty(a,"value",e)}}}}},Uo=/^(true|false|\d+)$/,Fo=function(){function e(e,t,n){var i=y(n)?n:9===pr?"":null;e.prop("value",i),t.$set("value",n)}return{restrict:"A",priority:100,compile:function(t,n){return Uo.test(n.ngValue)?function(t,n,i){e(n,i,t.$eval(i.ngValue))}:function(t,n,i){t.$watch(i.ngValue,function(t){e(n,i,t)})}}}},Vo=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,i){e.$$addBindingInfo(n,i.ngBind),n=n[0],t.$watch(i.ngBind,function(e){n.textContent=ye(e)})}}}}],qo=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,i,r){var a=e(i.attr(r.$attr.ngBindTemplate));t.$$addBindingInfo(i,a.expressions),i=i[0],r.$observe("ngBindTemplate",function(e){i.textContent=b(e)?"":e})}}}}],zo=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(i,r){var a=t(r.ngBindHtml),o=t(r.ngBindHtml,function(t){return e.valueOf(t)});return n.$$addBindingClass(i),function(t,i,r){n.$$addBindingInfo(i,r.ngBindHtml),t.$watch(o,function(){var n=a(t);i.html(e.getTrustedHtml(n)||"")})}}}}],Ho=v({restrict:"A",require:"ngModel",link:function(e,t,n,i){i.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),Bo=nr("",!0),Wo=nr("Odd",0),Go=nr("Even",1),Yo=Mi({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),Jo=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Ko={},Qo={blur:!0,focus:!0};a("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=Et("ng-"+e);Ko[t]=["$parse","$rootScope","$exceptionHandler",function(n,i,r){return ir(n,i,r,t,e,Qo[e])}]});var Xo=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,a,o){var s,l,c;n.$watch(r.ngIf,function(n){n?l||o(function(n,a){l=a,n[n.length++]=t.$$createComment("end ngIf",r.ngIf),s={clone:n},e.enter(n,i.parent(),i)}):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),s&&(c=$e(s.clone),e.leave(c).done(function(e){!1!==e&&(c=null)}),s=null))})}}}],Zo=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Er.noop,compile:function(i,r){var a=r.ngInclude||r.src,o=r.onload||"",s=r.autoscroll;return function(i,r,l,c,u){var p,d,h,f=0,g=function(){d&&(d.remove(),d=null),p&&(p.$destroy(),p=null),h&&(n.leave(h).done(function(e){!1!==e&&(d=null)}),d=h,h=null)};i.$watch(a,function(a){var l=function(e){!1===e||!y(s)||s&&!i.$eval(s)||t()},d=++f;a?(e(a,!0).then(function(e){if(!i.$$destroyed&&d===f){var t=i.$new();c.template=e;var s=u(t,function(e){g(),n.enter(e,null,r).done(l)});p=t,h=s,p.$emit("$includeContentLoaded",a),i.$eval(o)}},function(){i.$$destroyed||d===f&&(g(),i.$emit("$includeContentError",a))}),i.$emit("$includeContentRequested",a)):(g(),c.template=null)})}}}}],es=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,a){if(Cr.call(i[0]).match(/SVG/))return i.empty(),void t(Ie(a.template,e.document).childNodes)(n,function(e){i.append(e)},{futureParentElement:i});i.html(a.template),t(i.contents())(n)}}}],ts=Mi({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),ns=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,i){var r=n.ngList||", ",o="false"!==n.ngTrim,s=o?Mr(r):r,l=function(e){if(!b(e)){var t=[];return e&&a(e.split(s),function(e){e&&t.push(o?Mr(e):e)}),t}};i.$parsers.push(l),i.$formatters.push(function(e){if(S(e))return e.join(r)}),i.$isEmpty=function(e){return!e||!e.length}}}},is="ng-valid",rs="ng-invalid",as="ng-pristine",os="ng-dirty",ss=i("ngModel");rr.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],rr.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var e=this.$$parse(this.$$attr.ngModel+"()"),t=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(t){var n=this.$$parsedNgModel(t);return D(n)&&(n=e(t)),n},this.$$ngModelSet=function(e,n){D(this.$$parsedNgModel(e))?t(e,{$$$p:n}):this.$$parsedNgModelAssign(e,n)}}else if(!this.$$parsedNgModel.assign)throw ss("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,ne(this.$$element))},$render:g,$isEmpty:function(e){return b(e)||""===e||null===e||e!==e},$$updateEmptyClasses:function(e){this.$isEmpty(e)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,"ng-not-empty"))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,os),this.$$animate.addClass(this.$$element,as)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,as),this.$$animate.addClass(this.$$element,os),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!Or(this.$modelValue)){var e=this.$$lastCommittedViewValue,t=this.$$rawModelValue,n=this.$valid,i=this.$modelValue,r=this.$options.getOption("allowInvalid"),a=this;this.$$runValidators(t,e,function(e){r||n===e||(a.$modelValue=e?t:void 0,a.$modelValue!==i&&a.$$writeModelToScope())})}},$$runValidators:function(e,t,n){function i(e,t){o===s.$$currentValidationRunId&&s.$setValidity(e,t)}function r(e){o===s.$$currentValidationRunId&&n(e)}this.$$currentValidationRunId++;var o=this.$$currentValidationRunId,s=this;return function(){var e=s.$$parserName;return b(s.$$parserValid)?(i(e,null),!0):(s.$$parserValid||(a(s.$validators,function(e,t){i(t,null)}),a(s.$asyncValidators,function(e,t){i(t,null)})),i(e,s.$$parserValid),s.$$parserValid)}()&&function(){var n=!0;return a(s.$validators,function(r,a){var o=Boolean(r(e,t));n=n&&o,i(a,o)}),!!n||(a(s.$asyncValidators,function(e,t){i(t,null)}),!1)}()?void function(){var n=[],o=!0;a(s.$asyncValidators,function(r,a){var s=r(e,t);if(!N(s))throw ss("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",s);i(a,void 0),n.push(s.then(function(){i(a,!0)},function(){o=!1,i(a,!1)}))}),n.length?s.$$q.all(n).then(function(){r(o)},g):r(!0)}():void r(!1)},
$commitViewValue:function(){var e=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==e||""===e&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(e),this.$$lastCommittedViewValue=e,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){function e(){i.$modelValue!==a&&i.$$writeModelToScope()}var t=this.$$lastCommittedViewValue,n=t,i=this;if(this.$$parserValid=!b(n)||void 0,this.$setValidity(this.$$parserName,null),this.$$parserName="parse",this.$$parserValid)for(var r=0;r<this.$parsers.length;r++)if(n=this.$parsers[r](n),b(n)){this.$$parserValid=!1;break}Or(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var a=this.$modelValue,o=this.$options.getOption("allowInvalid");this.$$rawModelValue=n,o&&(this.$modelValue=n,e()),this.$$runValidators(n,this.$$lastCommittedViewValue,function(t){o||(i.$modelValue=t?n:void 0,e())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),a(this.$viewChangeListeners,function(e){try{e()}catch(e){this.$$exceptionHandler(e)}},this)},$setViewValue:function(e,t){this.$viewValue=e,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(t)},$$debounceViewValueCommit:function(e){var t=this.$options.getOption("debounce");C(t[e])?t=t[e]:C(t.default)&&-1===this.$options.getOption("updateOn").indexOf(e)?t=t.default:C(t["*"])&&(t=t["*"]),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;t>0?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},t):this.$$rootScope.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})},$overrideModelOptions:function(e){this.$options=this.$options.createChild(e),this.$$setUpdateOnEvents()},$processModelValue:function(){var e=this.$$format();this.$viewValue!==e&&(this.$$updateEmptyClasses(e),this.$viewValue=this.$$lastCommittedViewValue=e,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,g))},$$format:function(){for(var e=this.$formatters,t=e.length,n=this.$modelValue;t--;)n=e[t](n);return n},$$setModelValue:function(e){this.$modelValue=this.$$rawModelValue=e,this.$$parserValid=void 0,this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler),this.$$updateEvents=this.$options.getOption("updateOn"),this.$$updateEvents&&this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(e){this.$$debounceViewValueCommit(e&&e.type)}},ji({clazz:rr,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]}});var ls,cs=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:rr,priority:1,compile:function(t){return t.addClass(as).addClass("ng-untouched").addClass(is),{pre:function(e,t,n,i){var r=i[0],a=i[1]||r.$$parentForm,o=i[2];o&&(r.$options=o.$options),r.$$initGetterSetters(),a.$addControl(r),n.$observe("name",function(e){r.$name!==e&&r.$$parentForm.$$renameControl(r,e)}),e.$on("$destroy",function(){r.$$parentForm.$removeControl(r)})},post:function(t,n,i,r){function a(){o.$setTouched()}var o=r[0];o.$$setUpdateOnEvents(),n.on("blur",function(){o.$touched||(e.$$phase?t.$evalAsync(a):t.$apply(a))})}}}}}],us=/(\s+|^)default(\s+|$)/;or.prototype={getOption:function(e){return this.$$options[e]},createChild:function(e){var t=!1;return e=p({},e),a(e,function(n,i){"$inherit"===n?"*"===i?t=!0:(e[i]=this.$$options[i],"updateOn"===i&&(e.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===i&&(e.updateOnDefault=!1,e[i]=Mr(n.replace(us,function(){return e.updateOnDefault=!0," "})))},this),t&&(delete e["*"],sr(e,this.$$options)),sr(e,ls.$$options),new or(e)}},ls=new or({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var ps=function(){function e(e,t){this.$$attrs=e,this.$$scope=t}return e.$inject=["$attrs","$scope"],e.prototype={$onInit:function(){var e=this.parentCtrl?this.parentCtrl.$options:ls,t=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=e.createChild(t)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:e}},ds=Mi({terminal:!0,priority:1e3}),hs=i("ngOptions"),fs=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,gs=["$compile","$document","$parse",function(t,n,i){function o(e,t,n){function a(e,t,n,i,r){this.selectValue=e,this.viewValue=t,this.label=n,this.group=i,this.disabled=r}function o(e){var t;if(!c&&r(e))t=e;else{t=[];for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n)}return t}var s=e.match(fs);if(!s)throw hs("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,ne(t));var l=s[5]||s[7],c=s[6],u=/ as /.test(s[0])&&s[1],p=s[9],d=i(s[2]?s[1]:l),h=u&&i(u),f=h||d,g=p&&i(p),m=p?function(e,t){return g(n,t)}:function(e){return ot(e)},v=function(e,t){return m(e,k(e,t))},$=i(s[2]||s[1]),b=i(s[3]||""),y=i(s[4]||""),w=i(s[8]),x={},k=c?function(e,t){return x[c]=t,x[l]=e,x}:function(e){return x[l]=e,x};return{trackBy:p,getTrackByValue:v,getWatchables:i(w,function(e){var t=[];e=e||[];for(var i=o(e),r=i.length,a=0;a<r;a++){var l=e===i?a:i[a],c=e[l],u=k(c,l),p=m(c,u);if(t.push(p),s[2]||s[1]){var d=$(n,u);t.push(d)}if(s[4]){var h=y(n,u);t.push(h)}}return t}),getOptions:function(){for(var e=[],t={},i=w(n)||[],r=o(i),s=r.length,l=0;l<s;l++){var c=i===r?l:r[l],u=i[c],d=k(u,c),h=f(n,d),g=m(h,d),x=$(n,d),C=b(n,d),T=y(n,d),S=new a(g,h,x,C,T);e.push(S),t[g]=S}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[v(e)]},getViewValueFromOption:function(e){return p?H(e.viewValue):e.viewValue}}}}}function s(e,i,r,s){function u(e,t){var n=l.cloneNode(!1);t.appendChild(n),d(e,n)}function p(e){var t=x.getOptionFromViewValue(e),n=t&&t.element;return n&&!n.selected&&(n.selected=!0),t}function d(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),t.value=e.selectValue}function h(){var e=x&&f.readValue();if(x)for(var t=x.items.length-1;t>=0;t--){var n=x.items[t];Qe(y(n.group)?n.element.parentNode:n.element)}x=k.getOptions();var r={};if(x.items.forEach(function(e){var t;y(e.group)?(t=r[e.group],t||(t=c.cloneNode(!1),C.appendChild(t),t.label=null===e.group?"null":e.group,r[e.group]=t),u(e,t)):u(e,C)}),i[0].appendChild(C),g.$render(),!g.$isEmpty(e)){var a=f.readValue();(k.trackBy||m?W(e,a):e===a)||(g.$setViewValue(a),g.$render())}}for(var f=s[0],g=s[1],m=r.multiple,v=0,$=i.children(),b=$.length;v<b;v++)if(""===$[v].value){f.hasEmptyOption=!0,f.emptyOption=$.eq(v);break}i.empty();var w=!!f.emptyOption;dr(l.cloneNode(!1)).val("?");var x,k=o(r.ngOptions,i,e),C=n[0].createDocumentFragment();f.generateUnknownOptionValue=function(e){return"?"},m?(f.writeValue=function(e){if(x){var t=e&&e.map(p)||[];x.items.forEach(function(e){e.element.selected&&!q(t,e)&&(e.element.selected=!1)})}},f.readValue=function(){var e=i.val()||[],t=[];return a(e,function(e){var n=x.selectValueMap[e];n&&!n.disabled&&t.push(x.getViewValueFromOption(n))}),t},k.trackBy&&e.$watchCollection(function(){if(S(g.$viewValue))return g.$viewValue.map(function(e){return k.getTrackByValue(e)})},function(){g.$render()})):(f.writeValue=function(e){if(x){var t=i[0].options[i[0].selectedIndex],n=x.getOptionFromViewValue(e);t&&t.removeAttribute("selected"),n?(i[0].value!==n.selectValue&&(f.removeUnknownOption(),i[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):f.selectUnknownOrEmptyOption(e)}},f.readValue=function(){var e=x.selectValueMap[i.val()];return e&&!e.disabled?(f.unselectEmptyOption(),f.removeUnknownOption(),x.getViewValueFromOption(e)):null},k.trackBy&&e.$watch(function(){return k.getTrackByValue(g.$viewValue)},function(){g.$render()})),w&&(t(f.emptyOption)(e),i.prepend(f.emptyOption),f.emptyOption[0].nodeType===qr?(f.hasEmptyOption=!1,f.registerOption=function(e,t){""===t.val()&&(f.hasEmptyOption=!0,f.emptyOption=t,f.emptyOption.removeClass("ng-scope"),g.$render(),t.on("$destroy",function(){var e=f.$isEmptyOptionSelected();f.hasEmptyOption=!1,f.emptyOption=void 0,e&&g.$render()}))}):f.emptyOption.removeClass("ng-scope")),e.$watchCollection(k.getWatchables,h)}var l=e.document.createElement("option"),c=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,i){i[0].registerOption=g},post:s}}}],ms=["$locale","$interpolate","$log",function(e,t,n){var i=/{}/g,r=/^when(Minus)?(.+)$/;return{link:function(o,s,l){function c(e){s.text(e||"")}var u,p=l.count,d=l.$attr.when&&s.attr(l.$attr.when),h=l.offset||0,f=o.$eval(d)||{},m={},v=t.startSymbol(),$=t.endSymbol(),y=v+p+"-"+h+$,w=Er.noop;a(l,function(e,t){var n=r.exec(t);if(n){var i=(n[1]?"-":"")+br(n[2]);f[i]=s.attr(l.$attr[t])}}),a(f,function(e,n){m[n]=t(e.replace(i,y))}),o.$watch(p,function(t){var i=parseFloat(t),r=Or(i);if(r||i in f||(i=e.pluralCat(i-h)),!(i===u||r&&Or(u))){w();var a=m[i];b(a)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+d),w=g,c()):w=o.$watch(a,c),u=i}})}}}],vs=i("ngRef"),$s=["$parse",function(e){return{priority:-1,restrict:"A",compile:function(t,n){var i=Et(V(t)),r=e(n.ngRef),a=r.assign||function(){throw vs("nonassign",'Expression in ngRef="{0}" is non-assignable!',n.ngRef)};return function(e,t,o){var s;if(o.hasOwnProperty("ngRefRead")){if("$element"===o.ngRefRead)s=t;else if(!(s=t.data("$"+o.ngRefRead+"Controller")))throw vs("noctrl",'The controller for ngRefRead="{0}" could not be found on ngRef="{1}"',o.ngRefRead,n.ngRef)}else s=t.data("$"+i+"Controller");s=s||t,a(e,s),t.on("$destroy",function(){r(e)===s&&a(e,null)})}}}}],bs=["$parse","$animate","$compile",function(e,t,n){var o=i("ngRepeat"),s=function(e,t,n,i,r,a,o){e[n]=i,r&&(e[r]=a),e.$index=t,e.$first=0===t,e.$last=t===o-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0==(1&t))},l=function(e){return e.clone[0]},c=function(e){return e.clone[e.clone.length-1]},u=function(e,t,n){return ot(n)},p=function(e,t){return t};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(i,d){var h=d.ngRepeat,f=n.$$createComment("end ngRepeat",h),g=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!g)throw o("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",h);var m=g[1],v=g[2],$=g[3],b=g[4];if(!(g=m.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw o("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",m);var y=g[3]||g[1],w=g[2];if($&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test($)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test($)))throw o("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",$);var x;if(b){var k={$id:ot},C=e(b);x=function(e,t,n,i){return w&&(k[w]=t),k[y]=n,k.$index=i,C(e,k)}}return function(e,n,i,d,g){var m=be();e.$watchCollection(v,function(i){var d,v,b,C,T,S,E,D,O,A,M,I,P=n[0],_=be();if($&&(e[$]=i),r(i))O=i,D=x||u;else{D=x||p,O=[];for(var j in i)$r.call(i,j)&&"$"!==j.charAt(0)&&O.push(j)}for(C=O.length,M=new Array(C),d=0;d<C;d++)if(T=i===O?d:O[d],S=i[T],E=D(e,T,S,d),m[E])A=m[E],delete m[E],_[E]=A,M[d]=A;else{if(_[E])throw a(M,function(e){e&&e.scope&&(m[e.id]=e)}),o("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",h,E,S);M[d]={id:E,scope:void 0,clone:void 0},_[E]=!0}k&&(k[y]=void 0);for(var N in m){if(A=m[N],I=$e(A.clone),t.leave(I),I[0].parentNode)for(d=0,v=I.length;d<v;d++)I[d].$$NG_REMOVED=!0;A.scope.$destroy()}for(d=0;d<C;d++)if(T=i===O?d:O[d],S=i[T],A=M[d],A.scope){b=P;do{b=b.nextSibling}while(b&&b.$$NG_REMOVED);l(A)!==b&&t.move($e(A.clone),null,P),P=c(A),s(A.scope,d,y,S,w,T,C)}else g(function(e,n){A.scope=n;var i=f.cloneNode(!1);e[e.length++]=i,t.enter(e,null,P),P=i,A.clone=e,_[A.id]=A,s(A.scope,d,y,S,w,T,C)});m=_})}}}}],ys=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngShow,function(t){e[t?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],ws=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngHide,function(t){e[t?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],xs=Mi(function(e,t,n){e.$watchCollection(n.ngStyle,function(e,n){n&&e!==n&&(e||(e={}),a(n,function(t,n){null==e[n]&&(e[n]="")})),e&&t.css(e)})}),ks=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,r,o){var s=r.ngSwitch||r.on,l=[],c=[],u=[],p=[],d=function(e,t){return function(n){!1!==n&&e.splice(t,1)}};n.$watch(s,function(n){for(var i,r;u.length;)e.cancel(u.pop());for(i=0,r=p.length;i<r;++i){var s=$e(c[i].clone);p[i].$destroy();(u[i]=e.leave(s)).done(d(u,i))}c.length=0,p.length=0,(l=o.cases["!"+n]||o.cases["?"])&&a(l,function(n){n.transclude(function(i,r){p.push(r);var a=n.element;i[i.length++]=t.$$createComment("end ngSwitchWhen");var o={clone:i};c.push(o),e.enter(i,a.parent(),a)})})})}}}],Cs=Mi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){a(n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(e,t,n){return n[t-1]!==e}),function(e){i.cases["!"+e]=i.cases["!"+e]||[],i.cases["!"+e].push({transclude:r,element:t})})}}),Ts=Mi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:t})}}),Ss=i("ngTransclude"),Es=["$compile",function(e){return{restrict:"EAC",compile:function(t){var n=e(t.contents());return t.empty(),function(e,t,i,r,a){function o(e,n){e.length&&l(e)?t.append(e):(s(),n.$destroy())}function s(){n(e,function(e){t.append(e)})}function l(e){for(var t=0,n=e.length;t<n;t++){var i=e[t];if(i.nodeType!==Vr||i.nodeValue.trim())return!0}}if(!a)throw Ss("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",ne(t));i.ngTransclude===i.$attr.ngTransclude&&(i.ngTransclude="");var c=i.ngTransclude||i.ngTranscludeSlot;a(o,null,c),c&&!a.isSlotFilled(c)&&s()}}}}],Ds=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"===n.type){var i=n.id,r=t[0].text;e.put(i,r)}}}}],Os={$setViewValue:g,$render:g},As=["$element","$scope",function(t,n){function i(){s||(s=!0,n.$$postDigest(function(){s=!1,a.ngModelCtrl.$render()}))}function r(e){l||(l=!0,n.$$postDigest(function(){n.$$destroyed||(l=!1,a.ngModelCtrl.$setViewValue(a.readValue()),e&&a.ngModelCtrl.$render())}))}var a=this,o=new ca;a.selectValueMap={},a.ngModelCtrl=Os,a.multiple=!1,a.unknownOption=dr(e.document.createElement("option")),a.hasEmptyOption=!1,a.emptyOption=void 0,a.renderUnknownOption=function(e){var n=a.generateUnknownOptionValue(e);a.unknownOption.val(n),t.prepend(a.unknownOption),lr(a.unknownOption,!0),t.val(n)},a.updateUnknownOption=function(e){var n=a.generateUnknownOptionValue(e);a.unknownOption.val(n),lr(a.unknownOption,!0),t.val(n)},a.generateUnknownOptionValue=function(e){return"? "+ot(e)+" ?"},a.removeUnknownOption=function(){a.unknownOption.parent()&&a.unknownOption.remove()},a.selectEmptyOption=function(){a.emptyOption&&(t.val(""),lr(a.emptyOption,!0))},a.unselectEmptyOption=function(){a.hasEmptyOption&&lr(a.emptyOption,!1)},n.$on("$destroy",function(){a.renderUnknownOption=g}),a.readValue=function(){var e=t.val(),n=e in a.selectValueMap?a.selectValueMap[e]:e;return a.hasOption(n)?n:null},a.writeValue=function(e){var n=t[0].options[t[0].selectedIndex];if(n&&lr(dr(n),!1),a.hasOption(e)){a.removeUnknownOption();var i=ot(e);t.val(i in a.selectValueMap?i:e);var r=t[0].options[t[0].selectedIndex];lr(dr(r),!0)}else a.selectUnknownOrEmptyOption(e)},a.addOption=function(e,t){if(t[0].nodeType!==qr){me(e,'"option value"'),""===e&&(a.hasEmptyOption=!0,a.emptyOption=t);var n=o.get(e)||0;o.set(e,n+1),i()}},a.removeOption=function(e){var t=o.get(e);t&&(1===t?(o.delete(e),""===e&&(a.hasEmptyOption=!1,a.emptyOption=void 0)):o.set(e,t-1))},a.hasOption=function(e){return!!o.get(e)},a.$hasEmptyOption=function(){return a.hasEmptyOption},a.$isUnknownOptionSelected=function(){return t[0].options[0]===a.unknownOption[0]},a.$isEmptyOptionSelected=function(){return a.hasEmptyOption&&t[0].options[t[0].selectedIndex]===a.emptyOption[0]},a.selectUnknownOrEmptyOption=function(e){null==e&&a.emptyOption?(a.removeUnknownOption(),a.selectEmptyOption()):a.unknownOption.parent().length?a.updateUnknownOption(e):a.renderUnknownOption(e)};var s=!1,l=!1;a.registerOption=function(e,t,n,o,s){if(n.$attr.ngValue){var l,c;n.$observe("value",function(e){var n,i=t.prop("selected");y(c)&&(a.removeOption(l),delete a.selectValueMap[c],n=!0),c=ot(e),l=e,a.selectValueMap[c]=e,a.addOption(e,t),t.attr("value",c),n&&i&&r()})}else o?n.$observe("value",function(e){a.readValue();var n,i=t.prop("selected");y(l)&&(a.removeOption(l),n=!0),l=e,a.addOption(e,t),n&&i&&r()}):s?e.$watch(s,function(e,i){n.$set("value",e);var o=t.prop("selected");i!==e&&a.removeOption(i),a.addOption(e,t),i&&o&&r()}):a.addOption(n.value,t);n.$observe("disabled",function(e){("true"===e||e&&t.prop("selected"))&&(a.multiple?r(!0):(a.ngModelCtrl.$setViewValue(null),a.ngModelCtrl.$render()))}),t.on("$destroy",function(){var e=a.readValue(),t=n.value;a.removeOption(t),i(),(a.multiple&&e&&-1!==e.indexOf(t)||e===t)&&r(!0)})}}],Ms=function(){function e(e,t,n,i){var r=i[0],o=i[1];if(!o)return void(r.registerOption=g);if(r.ngModelCtrl=o,t.on("change",function(){r.removeUnknownOption(),e.$apply(function(){o.$setViewValue(r.readValue())})}),n.multiple){r.multiple=!0,r.readValue=function(){var e=[];return a(t.find("option"),function(t){if(t.selected&&!t.disabled){var n=t.value;e.push(n in r.selectValueMap?r.selectValueMap[n]:n)}}),e},r.writeValue=function(e){a(t.find("option"),function(t){var n=!!e&&(q(e,t.value)||q(e,r.selectValueMap[t.value]));n!==t.selected&&lr(dr(t),n)})};var s,l=NaN;e.$watch(function(){l!==o.$viewValue||W(s,o.$viewValue)||(s=xe(o.$viewValue),o.$render()),l=o.$viewValue}),o.$isEmpty=function(e){return!e||0===e.length}}}function t(e,t,n,i){var r=i[1];if(r){var a=i[0];r.$render=function(){a.writeValue(r.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:As,priority:1,link:{pre:e,post:t}}},Is=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){var i,r;return y(n.ngValue)||(y(n.value)?i=e(n.value,!0):(r=e(t.text(),!0))||n.$set("value",t.text())),function(e,t,n){var a=t.parent(),o=a.data("$selectController")||a.parent().data("$selectController");o&&o.registerOption(e,t,n,i,r)}}}}],Ps=["$parse",function(e){return{restrict:"A",require:"?ngModel",link:function(t,n,i,r){if(r){var a=i.hasOwnProperty("required")||e(i.ngRequired)(t);i.ngRequired||(i.required=!0),r.$validators.required=function(e,t){return!a||!r.$isEmpty(t)},i.$observe("required",function(e){a!==e&&(a=e,r.$validate())})}}}}],_s=["$parse",function(e){return{restrict:"A",require:"?ngModel",compile:function(t,n){var i,r;return n.ngPattern&&(i=n.ngPattern,r="/"===n.ngPattern.charAt(0)&&mr.test(n.ngPattern)?function(){return n.ngPattern}:e(n.ngPattern)),function(e,t,n,a){if(a){var o=n.pattern;n.ngPattern?o=r(e):i=n.pattern;var s=cr(o,i,t);n.$observe("pattern",function(e){var n=s;s=cr(e,i,t),(n&&n.toString())!==(s&&s.toString())&&a.$validate()}),a.$validators.pattern=function(e,t){return a.$isEmpty(t)||b(s)||s.test(t)}}}}}}],js=["$parse",function(e){return{restrict:"A",require:"?ngModel",link:function(t,n,i,r){if(r){var a=i.maxlength||e(i.ngMaxlength)(t),o=ur(a);i.$observe("maxlength",function(e){a!==e&&(o=ur(e),a=e,r.$validate())}),r.$validators.maxlength=function(e,t){return o<0||r.$isEmpty(t)||t.length<=o}}}}}],Ns=["$parse",function(e){return{restrict:"A",require:"?ngModel",link:function(t,n,i,r){if(r){var a=i.minlength||e(i.ngMinlength)(t),o=ur(a)||-1;i.$observe("minlength",function(e){a!==e&&(o=ur(e)||-1,a=e,r.$validate())}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=o}}}}}];if(e.angular.bootstrap)return void(e.console&&console.log("WARNING: Tried to load AngularJS more than once."));!function(){var t;if(!Ur){var n=_r();hr=b(n)?e.jQuery:n?e[n]:void 0,hr&&hr.fn.on?(dr=hr,p(hr.fn,{scope:ra.scope,isolateScope:ra.isolateScope,controller:ra.controller,injector:ra.injector,inheritedData:ra.inheritedData})):dr=je,t=dr.cleanData,dr.cleanData=function(e){for(var n,i,r=0;null!=(i=e[r]);r++)(n=(dr._data(i)||{}).events)&&n.$destroy&&dr(i).triggerHandler("$destroy");t(e)},Er.element=dr,Ur=!0}}(),function(n){p(n,{errorHandlingConfig:t,bootstrap:ue,copy:H,extend:p,merge:d,equals:W,element:dr,forEach:a,injector:dt,noop:g,bind:J,toJson:Q,fromJson:X,identity:m,isUndefined:b,isDefined:y,isString:k,isFunction:D,isObject:w,isNumber:C,isElement:U,isArray:S,version:Br,isDate:T,callbacks:{$$counter:0},getTestability:de,reloadWithDebugInfo:pe,$$minErr:i,$$csp:Pr,$$encodeUriSegment:oe,$$encodeUriQuery:se,$$lowercase:br,$$stringify:ye,$$uppercase:yr}),fr=we(e),fr("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Un}),e.provider("$compile",Tt).directive({a:$o,input:Ro,textarea:Ro,form:ko,script:Ds,select:Ms,option:Is,ngBind:Vo,ngBindHtml:zo,ngBindTemplate:qo,ngClass:Bo,ngClassEven:Go,ngClassOdd:Wo,ngCloak:Yo,ngController:Jo,ngForm:Co,ngHide:ws,ngIf:Xo,ngInclude:Zo,ngInit:ts,ngNonBindable:ds,ngPluralize:ms,ngRef:$s,ngRepeat:bs,ngShow:ys,ngStyle:xs,ngSwitch:ks,ngSwitchWhen:Cs,ngSwitchDefault:Ts,ngOptions:gs,ngTransclude:Es,ngModel:cs,ngList:ns,ngChange:Ho,pattern:_s,ngPattern:_s,required:Ps,ngRequired:Ps,minlength:Ns,ngMinlength:Ns,maxlength:js,ngMaxlength:js,ngValue:Fo,ngModelOptions:ps}).directive({ngInclude:es,input:Lo}).directive(bo).directive(Ko),e.provider({$anchorScroll:ht,$animate:wa,$animateCss:Ca,$$animateJs:ba,$$animateQueue:ya,$$AnimateRunner:ka,$$animateAsyncRun:xa,$browser:wt,$cacheFactory:xt,$controller:Mt,$document:It,$$isDocumentHidden:Pt,$exceptionHandler:_t,$filter:oi,$$forceReflow:Ma,$interpolate:Yt,$interval:Jt,$$intervalFactory:Kt,$http:Ht,$httpParamSerializer:Nt,$httpParamSerializerJQLike:Rt,$httpBackend:Wt,$xhrFactory:Bt,$jsonpCallbacks:Fa,$location:hn,$log:fn,$parse:An,$rootScope:Ln,$q:Mn,$$q:In,$sce:Hn,$sceDelegate:zn,$sniffer:Bn,$$taskTrackerFactory:Wn,$templateCache:kt,$templateRequest:Yn,$$testability:Jn,$timeout:Kn,$window:ii,$$rAF:Rn,$$jqLite:at,$$Map:ua,$$cookieReader:ai})}]).info({angularVersion:"1.7.8"})}(Er),Er.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return-1==t?0:e.length-t-1}function n(e,n){var i=n;void 0===i&&(i=Math.min(t(e),3));var r=Math.pow(10,i);return{v:i,f:(e*r|0)%r}}var i={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,t){var r=0|e,a=n(e,t);return 1==r&&0==a.v?i.ONE:i.OTHER}})}]),dr(function(){ce(e.document,ue)})}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,n){"use strict";function i(e,t){return H(new(H(function(){},{prototype:e})),t)}function r(e){return z(arguments,function(t){t!==e&&z(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function a(e,t){var n=[];for(var i in e.path){if(e.path[i]!==t.path[i])break;n.push(e.path[i])}return n}function o(e){if(Object.keys)return Object.keys(e);var t=[];return z(e,function(e,n){t.push(n)}),t}function s(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,i=Number(arguments[2])||0;for((i=i<0?Math.ceil(i):Math.floor(i))<0&&(i+=n);i<n;i++)if(i in e&&e[i]===t)return i;return-1}function l(e,t,n,i){var r,l=a(n,i),c={},u=[];for(var p in l)if(l[p]&&l[p].params&&(r=o(l[p].params),r.length))for(var d in r)s(u,r[d])>=0||(u.push(r[d]),c[r[d]]=e[r[d]]);return H({},c,t)}function c(e,t,n){if(!n){n=[];for(var i in e)n.push(i)}for(var r=0;r<n.length;r++){var a=n[r];if(e[a]!=t[a])return!1}return!0}function u(e,t){var n={};return z(e,function(e){n[e]=t[e]}),n}function p(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return z(n,function(n){n in e&&(t[n]=e[n])}),t}function d(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var i in e)-1==s(n,i)&&(t[i]=e[i]);return t}function h(e,t){var n=q(e),i=n?[]:{};return z(e,function(e,r){t(e,r)&&(i[n?i.length:r]=e)}),i}function f(e,t){var n=q(e)?[]:{};return z(e,function(e,i){n[i]=t(e,i)}),n}function g(e){return e.then(n,function(){})&&e}function m(e,t){var i=1,a=2,l={},c=[],u=l,p=H(e.when(l),{$$promises:l,$$values:l});this.study=function(l){function h(e,n){if($[n]!==a){if(v.push(n),$[n]===i)throw v.splice(0,s(v,n)),new Error("Cyclic dependency: "+v.join(" -> "));if($[n]=i,F(e))m.push(n,[function(){return t.get(e)}],c);else{var r=t.annotate(e);z(r,function(e){e!==n&&l.hasOwnProperty(e)&&h(l[e],e)}),m.push(n,e,r)}v.pop(),$[n]=a}}function f(e){return V(e)&&e.then&&e.$$promises}if(!V(l))throw new Error("'invocables' must be an object");var g=o(l||{}),m=[],v=[],$={};return z(l,h),l=v=$=null,function(i,a,o){function s(){--b||(y||r($,a.$$values),h.$$values=$,h.$$promises=h.$$promises||!0,delete h.$$inheritedValues,c.resolve($))}function l(e){h.$$failure=e,c.reject(e)}if(f(i)&&o===n&&(o=a,a=i,i=null),i){if(!V(i))throw new Error("'locals' must be an object")}else i=u;if(a){if(!f(a))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else a=p;var c=e.defer(),h=c.promise,v=h.$$promises={},$=H({},i),b=1+m.length/3,y=!1;if(L(a.$$failure))return l(a.$$failure),h;a.$$inheritedValues&&r($,d(a.$$inheritedValues,g)),H(v,a.$$promises),a.$$values?(y=r($,d(a.$$values,g)),h.$$inheritedValues=d(a.$$values,g),s()):(a.$$inheritedValues&&(h.$$inheritedValues=d(a.$$inheritedValues,g)),a.then(s,l));for(var w=0,x=m.length;w<x;w+=3)i.hasOwnProperty(m[w])?s():function(n,r,a){function c(e){p.reject(e),l(e)}function u(){if(!L(h.$$failure))try{p.resolve(t.invoke(r,o,$)),p.promise.then(function(e){$[n]=e,s()},c)}catch(e){c(e)}}var p=e.defer(),d=0;z(a,function(e){v.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(d++,v[e].then(function(t){$[e]=t,--d||u()},c))}),d||u(),v[n]=p.promise}(m[w],m[w+1],m[w+2]);return h}},this.resolve=function(e,t,n,i){return this.study(e)(t,n,i)}}function v(e,t,n){this.fromConfig=function(e,t,n){return L(e.template)?this.fromString(e.template,t):L(e.templateUrl)?this.fromUrl(e.templateUrl,t):L(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return U(e)?e(t):e},this.fromUrl=function(n,i){return U(n)&&(n=n(i)),null==n?null:e.get(n,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,i){return n.invoke(e,null,i||{params:t})}}function $(e,t,r){function a(t,n,i,r){if(m.push(t),f[t])return f[t];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(g[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return g[t]=new G.Param(t,n,i,r),g[t]}function o(e,t,n,i){var r=["",""],a=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return a;switch(n){case!1:r=["(",")"+(i?"?":"")];break;case!0:a=a.replace(/\/$/,""),r=["(?:/(",")|/)?"];break;default:r=["("+n+"|",")?"]}return a+r[0]+t+r[1]}function s(r,a){var o,s,l,c,u;return o=r[2]||r[3],u=t.params[o],l=e.substring(d,r.index),s=a?r[4]:r[4]||("*"==r[1]?".*":null),s&&(c=G.type(s)||i(G.type("string"),{pattern:new RegExp(s,t.caseInsensitive?"i":n)})),{id:o,regexp:s,segment:l,type:c,cfg:u}}t=H({params:{}},V(t)?t:{});var l,c=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,u=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,p="^",d=0,h=this.segments=[],f=r?r.params:{},g=this.params=r?r.params.$$new():new G.ParamSet,m=[];this.source=e;for(var v,$,b;(l=c.exec(e))&&(v=s(l,!1),!(v.segment.indexOf("?")>=0));)$=a(v.id,v.type,v.cfg,"path"),p+=o(v.segment,$.type.pattern.source,$.squash,$.isOptional),h.push(v.segment),d=c.lastIndex;b=e.substring(d);var y=b.indexOf("?");if(y>=0){var w=this.sourceSearch=b.substring(y);if(b=b.substring(0,y),this.sourcePath=e.substring(0,d+y),w.length>0)for(d=0;l=u.exec(w);)v=s(l,!0),$=a(v.id,v.type,v.cfg,"search"),d=c.lastIndex}else this.sourcePath=e,this.sourceSearch="";p+=o(b)+(!1===t.strict?"/?":"")+"$",h.push(b),this.regexp=new RegExp(p,t.caseInsensitive?"i":n),this.prefix=h[0],this.$$paramNames=m}function b(e){H(this,e)}function y(){function e(e){return null!=e?e.toString().replace(/(~|\/)/g,function(e){return{"~":"~~","/":"~2F"}[e]}):e}function r(e){return null!=e?e.toString().replace(/(~~|~2F)/g,function(e){return{"~~":"~","~2F":"/"}[e]}):e}function a(){return{strict:g,caseInsensitive:d}}function l(e){return U(e)||q(e)&&U(e[e.length-1])}function c(){for(;x.length;){var e=x.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(v[e.name],p.invoke(e.def))}}function u(e){H(this,e||{})}G=this;var p,d=!1,g=!0,m=!1,v={},w=!0,x=[],k={string:{encode:e,decode:r,is:function(e){return null==e||!L(e)||"string"==typeof e},pattern:/[^\/]*/},int:{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return L(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return!0===e||!1===e},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):n},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):n},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^\/]*/},any:{encode:t.identity,
decode:t.identity,equals:t.equals,pattern:/.*/}};y.$$getDefaultValue=function(e){if(!l(e.value))return e.value;if(!p)throw new Error("Injectable functions cannot be called at configuration time");return p.invoke(e.value)},this.caseInsensitive=function(e){return L(e)&&(d=e),d},this.strictMode=function(e){return L(e)&&(g=e),g},this.defaultSquashPolicy=function(e){if(!L(e))return m;if(!0!==e&&!1!==e&&!F(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return m=e,e},this.compile=function(e,t){return new $(e,H(a(),t))},this.isMatcher=function(e){if(!V(e))return!1;var t=!0;return z($.prototype,function(n,i){U(n)&&(t=t&&L(e[i])&&U(e[i]))}),t},this.type=function(e,t,n){if(!L(t))return v[e];if(v.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return v[e]=new b(H({name:e},t)),n&&(x.push({name:e,def:n}),w||c()),this},z(k,function(e,t){v[t]=new b(H({name:t},e))}),v=i(v,{}),this.$get=["$injector",function(e){return p=e,w=!1,c(),z(k,function(e,t){v[t]||(v[t]=new b(e))}),this}],this.Param=function(e,i,r,a){function c(){if(!p)throw new Error("Injectable functions cannot be called at configuration time");var e=p.invoke(r.$$fn);if(null!==e&&e!==n&&!g.type.is(e))throw new Error("Default value ("+e+") for parameter '"+g.id+"' is not an instance of Type ("+g.type.name+")");return e}function u(e){function t(e){return function(t){return t.from===e}}return e=function(e){var n=f(h(g.replace,t(e)),function(e){return e.to});return n.length?n[0]:e}(e),L(e)?g.type.$normalize(e):c()}function d(){return"{Param:"+e+" "+i+" squash: '"+w+"' optional: "+y+"}"}var g=this;r=function(e){var t=V(e)?o(e):[];return-1===s(t,"value")&&-1===s(t,"type")&&-1===s(t,"squash")&&-1===s(t,"array")&&(e={value:e}),e.$$fn=l(e.value)?e.value:function(){return e.value},e}(r),i=function(n,i,r){if(n.type&&i)throw new Error("Param '"+e+"' has two type configurations.");return i||(n.type?t.isString(n.type)?v[n.type]:n.type instanceof b?n.type:new b(n.type):"config"===r?v.any:v.string)}(r,i,a);var $=function(){var t={array:"search"===a&&"auto"},n=e.match(/\[\]$/)?{array:!0}:{};return H(t,n,r).array}();i=$?i.$asArray($,"search"===a):i,"string"!==i.name||$||"path"!==a||r.value!==n||(r.value="");var y=r.value!==n,w=function(e,t){var n=e.squash;if(!t||!1===n)return!1;if(!L(n)||null==n)return m;if(!0===n||F(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}(r,y),x=function(e,t,i,r){var a,o,l=[{from:"",to:i||t?n:""},{from:null,to:i||t?n:""}];return a=q(e.replace)?e.replace:[],F(r)&&a.push({from:r,to:n}),o=f(a,function(e){return e.from}),h(l,function(e){return-1===s(o,e.from)}).concat(a)}(r,$,y,w);H(this,{id:e,type:i,location:a,array:$,squash:w,replace:x,isOptional:y,value:u,dynamic:n,config:r,toString:d})},u.prototype={$$new:function(){return i(this,H(new u,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,i=o(u.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),z(t,function(t){z(o(t),function(t){-1===s(e,t)&&-1===s(i,t)&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return z(n.$$keys(),function(i){t[i]=n[i].value(e&&e[i])}),t},$$equals:function(e,t){var n=!0,i=this;return z(i.$$keys(),function(r){var a=e&&e[r],o=t&&t[r];i[r].type.equals(a,o)||(n=!1)}),n},$$validates:function(e){var i,r,a,o,s,l=this.$$keys();for(i=0;i<l.length&&(r=this[l[i]],(a=e[l[i]])!==n&&null!==a||!r.isOptional);i++){if(o=r.type.$normalize(a),!r.type.is(o))return!1;if(s=r.type.encode(o),t.isString(s)&&!r.type.pattern.exec(s))return!1}return!0},$$parent:n},this.ParamSet=u}function w(e,i){function r(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function a(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function o(e,t,n){if(!n)return!1;var i=e.invoke(t,t,{$match:n});return!L(i)||i}function s(i,r,a,o,s){function d(e,t,n){return"/"===m?e:t?m.slice(0,-1)+e:n?m.slice(1)+e:e}function h(e){function t(e){var t=e(a,i);return!!t&&(F(t)&&i.replace().url(t),!0)}if(!e||!e.defaultPrevented){g&&i.url(),g=n;var r,o=c.length;for(r=0;r<o;r++)if(t(c[r]))return;u&&t(u)}}function f(){return l=l||r.$on("$locationChangeSuccess",h)}var g,m=o.baseHref(),v=i.url();return p||f(),{sync:function(){h()},listen:function(){return f()},update:function(e){return e?void(v=i.url()):void(i.url()!==v&&(i.url(v),i.replace()))},push:function(e,t,r){var a=e.format(t||{});null!==a&&t&&t["#"]&&(a+="#"+t["#"]),i.url(a),g=r&&r.$$avoidResync?i.url():n,r&&r.replace&&i.replace()},href:function(n,r,a){if(!n.validates(r))return null;var o=e.html5Mode();t.isObject(o)&&(o=o.enabled),o=o&&s.history;var l=n.format(r);if(a=a||{},o||null===l||(l="#"+e.hashPrefix()+l),null!==l&&r&&r["#"]&&(l+="#"+r["#"]),l=d(l,o,a.absolute),!a.absolute||!l)return l;var c=!o&&l?"/":"",u=i.port();return u=80===u||443===u?"":":"+u,[i.protocol(),"://",i.host(),u,c,l].join("")}}}var l,c=[],u=null,p=!1;this.rule=function(e){if(!U(e))throw new Error("'rule' must be a function");return c.push(e),this},this.otherwise=function(e){if(F(e)){var t=e;e=function(){return t}}else if(!U(e))throw new Error("'rule' must be a function");return u=e,this},this.when=function(e,t){var n,s=F(t);if(F(e)&&(e=i.compile(e)),!s&&!U(t)&&!q(t))throw new Error("invalid 'handler' in when()");var l={matcher:function(e,t){return s&&(n=i.compile(t),t=["$match",function(e){return n.format(e)}]),H(function(n,i){return o(n,t,e.exec(i.path(),i.search()))},{prefix:F(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return s&&(n=t,t=["$match",function(e){return a(n,e)}]),H(function(n,i){return o(n,t,e.exec(i.path()))},{prefix:r(e)})}},c={matcher:i.isMatcher(e),regex:e instanceof RegExp};for(var u in c)if(c[u])return this.rule(l[u](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),p=e},this.$get=s,s.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function x(e,r){function a(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function d(e,t){if(!e)return n;var i=F(e),r=i?e:e.name;if(a(r)){if(!t)throw new Error("No reference point given for path '"+r+"'");t=d(t);for(var o=r.split("."),s=0,l=o.length,c=t;s<l;s++)if(""!==o[s]||0!==s){if("^"!==o[s])break;if(!c.parent)throw new Error("Path '"+r+"' not valid for state '"+t.name+"'");c=c.parent}else c=t;o=o.slice(s).join("."),r=c.name+(c.name&&o?".":"")+o}var u=S[r];return!u||!i&&(i||u!==e&&u.self!==e)?n:u}function h(e,t){E[e]||(E[e]=[]),E[e].push(t)}function m(e){for(var t=E[e]||[];t.length;)v(t.shift())}function v(t){t=i(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!F(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(S.hasOwnProperty(n))throw new Error("State '"+n+"' is already defined");var r=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):F(t.parent)?t.parent:V(t.parent)&&F(t.parent.name)?t.parent.name:"";if(r&&!S[r])return h(r,t.self);for(var a in O)U(O[a])&&(t[a]=O[a](t,O.$delegates[a]));return S[n]=t,!t[D]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){T.$current.navigable==t&&c(e,n)||T.transitionTo(t,e,{inherit:!0,location:!1})}]),m(n),t}function $(e){return e.indexOf("*")>-1}function b(e){for(var t=e.split("."),n=T.$current.name.split("."),i=0,r=t.length;i<r;i++)"*"===t[i]&&(n[i]="*");return"**"===t[0]&&(n=n.slice(s(n,t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(s(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length==n.length&&n.join("")===t.join("")}function y(e,t){return F(e)&&!L(t)?O[e]:U(t)&&F(e)?(O[e]&&!O.$delegates[e]&&(O.$delegates[e]=O[e]),O[e]=t,this):this}function w(e,t){return V(e)?t=e:t.name=e,v(t),this}function x(e,r,a,s,p,h,m,v,y){function w(t,n,i,a){var o=e.$broadcast("$stateNotFound",t,n,i);if(o.defaultPrevented)return m.update(),M;if(!o.retry)return null;if(a.$retry)return m.update(),I;var s=T.transition=r.when(o.retry);return s.then(function(){return s!==T.transition?(e.$broadcast("$stateChangeCancel",t.to,t.toParams,n,i),O):(t.options.$retry=!0,T.transitionTo(t.to,t.toParams,t.options))},function(){return M}),m.update(),s}function x(e,n,i,o,l,c){function d(){var n=[];return z(e.views,function(i,r){var o=i.resolve&&i.resolve!==e.resolve?i.resolve:{};o.$template=[function(){return a.load(r,{view:i,locals:l.globals,params:h,notify:c.notify})||""}],n.push(p.resolve(o,l.globals,l.resolve,e).then(function(n){if(U(i.controllerProvider)||q(i.controllerProvider)){var a=t.extend({},o,l.globals);n.$$controller=s.invoke(i.controllerProvider,null,a)}else n.$$controller=i.controller;n.$$state=e,n.$$controllerAs=i.controllerAs,n.$$resolveAs=i.resolveAs,l[r]=n}))}),r.all(n).then(function(){return l.globals})}var h=i?n:u(e.params.$$keys(),n),f={$stateParams:h};l.resolve=p.resolve(e.resolve,f,l.resolve,e);var g=[l.resolve.then(function(e){l.globals=e})];return o&&g.push(o),r.all(g).then(d).then(function(e){return l})}var E=new Error("transition superseded"),O=g(r.reject(E)),A=g(r.reject(new Error("transition prevented"))),M=g(r.reject(new Error("transition aborted"))),I=g(r.reject(new Error("transition failed")));return C.locals={resolve:null,globals:{$stateParams:{}}},T={params:{},current:C.self,$current:C,transition:null},T.reload=function(e){return T.transitionTo(T.current,h,{reload:e||!0,inherit:!1,notify:!0})},T.go=function(e,t,n){return T.transitionTo(e,t,H({inherit:!0,relative:T.$current},n))},T.transitionTo=function(t,n,a){n=n||{},a=H({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},a||{});var o,c=T.$current,p=T.params,f=c.path,g=d(t,a.relative),v=n["#"];if(!L(g)){var $={to:t,toParams:n,options:a},b=w($,c.self,p,a);if(b)return b;if(t=$.to,n=$.toParams,a=$.options,g=d(t,a.relative),!L(g)){if(!a.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+a.relative+"'")}}if(g[D])throw new Error("Cannot transition to abstract state '"+t+"'");if(a.inherit&&(n=l(h,n||{},T.$current,g)),!g.params.$$validates(n))return I;n=g.params.$$values(n),t=g;var y=t.path,S=0,M=y[S],P=C.locals,_=[];if(a.reload){if(F(a.reload)||V(a.reload)){if(V(a.reload)&&!a.reload.name)throw new Error("Invalid reload state object");var j=!0===a.reload?f[0]:d(a.reload);if(a.reload&&!j)throw new Error("No such reload state '"+(F(a.reload)?a.reload:a.reload.name)+"'");for(;M&&M===f[S]&&M!==j;)P=_[S]=M.locals,S++,M=y[S]}}else for(;M&&M===f[S]&&M.ownParams.$$equals(n,p);)P=_[S]=M.locals,S++,M=y[S];if(k(t,n,c,p,P,a))return v&&(n["#"]=v),T.params=n,B(T.params,h),B(u(t.params.$$keys(),h),t.locals.globals.$stateParams),a.location&&t.navigable&&t.navigable.url&&(m.push(t.navigable.url,n,{$$avoidResync:!0,replace:"replace"===a.location}),m.update(!0)),T.transition=null,r.when(T.current);if(n=u(t.params.$$keys(),n||{}),v&&(n["#"]=v),a.notify&&e.$broadcast("$stateChangeStart",t.self,n,c.self,p,a).defaultPrevented)return e.$broadcast("$stateChangeCancel",t.self,n,c.self,p),null==T.transition&&m.update(),A;for(var N=r.when(P),R=S;R<y.length;R++,M=y[R])P=_[R]=i(P),N=x(M,n,M===t,N,P,a);var U=T.transition=N.then(function(){var i,r,o;if(T.transition!==U)return e.$broadcast("$stateChangeCancel",t.self,n,c.self,p),O;for(i=f.length-1;i>=S;i--)o=f[i],o.self.onExit&&s.invoke(o.self.onExit,o.self,o.locals.globals),o.locals=null;for(i=S;i<y.length;i++)r=y[i],r.locals=_[i],r.self.onEnter&&s.invoke(r.self.onEnter,r.self,r.locals.globals);return T.transition!==U?(e.$broadcast("$stateChangeCancel",t.self,n,c.self,p),O):(T.$current=t,T.current=t.self,T.params=n,B(T.params,h),T.transition=null,a.location&&t.navigable&&m.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===a.location}),a.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,c.self,p),m.update(!0),T.current)}).then(null,function(i){return i===E?O:T.transition!==U?(e.$broadcast("$stateChangeCancel",t.self,n,c.self,p),O):(T.transition=null,o=e.$broadcast("$stateChangeError",t.self,n,c.self,p,i),o.defaultPrevented||m.update(),r.reject(i))});return U},T.is=function(e,t,i){i=H({relative:T.$current},i||{});var r=d(e,i.relative);return L(r)?T.$current===r&&(!t||c(r.params.$$values(t),h)):n},T.includes=function(e,t,i){if(i=H({relative:T.$current},i||{}),F(e)&&$(e)){if(!b(e))return!1;e=T.$current.name}var r=d(e,i.relative);if(!L(r))return n;if(!L(T.$current.includes[r.name]))return!1;if(!t)return!0;for(var a=o(t),s=0;s<a.length;s++){var l=a[s],c=r.params[l];if(c&&!c.type.equals(h[l],t[l]))return!1}return!0},T.href=function(e,t,i){i=H({lossy:!0,inherit:!0,absolute:!1,relative:T.$current},i||{});var r=d(e,i.relative);if(!L(r))return null;i.inherit&&(t=l(h,t||{},T.$current,r));var a=r&&i.lossy?r.navigable:r;return a&&a.url!==n&&null!==a.url?m.href(a.url,u(r.params.$$keys().concat("#"),t||{}),{absolute:i.absolute}):null},T.get=function(e,t){if(0===arguments.length)return f(o(S),function(e){return S[e].self});var n=d(e,t||T.$current);return n&&n.self?n.self:null},T}function k(e,t,n,i,r,a){if(!a.reload&&e===n&&(r===n.locals||!1===e.self.reloadOnSearch&&function(e,t,n){function i(t){return"search"!=e.params[t].location}var r=e.params.$$keys().filter(i),a=p.apply({},[e.params].concat(r));return new G.ParamSet(a).$$equals(t,n)}(n,i,t)))return!0}var C,T,S={},E={},D="abstract",O={parent:function(e){if(L(e.parent)&&e.parent)return d(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?d(t[1]):C},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=i(e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(F(t))return"^"==t.charAt(0)?r.compile(t.substring(1),n):(e.parent.navigable||C).url.concat(t,n);if(!t||r.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new G.ParamSet;return z(e.params||{},function(e,n){t[n]||(t[n]=new G.Param(n,null,e,"config"))}),t},params:function(e){var t=p(e.ownParams,e.ownParams.$$keys());return e.parent&&e.parent.params?H(e.parent.params.$$new(),t):new G.ParamSet},views:function(e){var t={};return z(L(e.views)?e.views:{"":e},function(n,i){i.indexOf("@")<0&&(i+="@"+e.parent.name),n.resolveAs=n.resolveAs||e.resolveAs||"$resolve",t[i]=n}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?H({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};C=v({name:"",url:"^",views:null,abstract:!0}),C.navigable=null,this.decorator=y,this.state=w,this.$get=x,x.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function k(){function e(e,t){return{load:function(e,n){var i;return n=H({template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}},n),n.view&&(i=t.fromConfig(n.view,n.params,n.locals)),i}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function C(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){return n(function(){e[0].scrollIntoView()},0,!1)}}]}function T(e,n,i,r,a){function o(e,n){if(c)return{enter:function(e,n,i){t.version.minor>2?c.enter(e,null,n).then(i):c.enter(e,null,n,i)},leave:function(e,n){t.version.minor>2?c.leave(e).then(n):c.leave(e,n)}};if(l){var i=l&&l(n,e);return{enter:function(e,t,n){i.enter(e,null,t),n()},leave:function(e,t){i.leave(e),t()}}}return function(){return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}}()}var s=function(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(e){return null}}}(),l=s("$animator"),c=s("$animate");return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,s,l){return function(n,s,c){function u(){if(d&&(d.remove(),d=null),f&&(f.$destroy(),f=null),h){var e=h.data("$uiViewAnim");$.leave(h,function(){e.$$animLeave.resolve(),d=null}),d=h,h=null}}function p(o){var p,d=E(n,c,s,r),b=d&&e.$current&&e.$current.locals[d];if(o||b!==g){p=n.$new(),g=e.$current.locals[d],p.$emit("$viewContentLoading",d);var y=l(p,function(e){var r=a.defer(),o=a.defer(),l={$animEnter:r.promise,$animLeave:o.promise,$$animLeave:o};e.data("$uiViewAnim",l),$.enter(e,s,function(){r.resolve(),f&&f.$emit("$viewContentAnimationEnded"),(t.isDefined(v)&&!v||n.$eval(v))&&i(e)}),u()});h=y,f=p,f.$emit("$viewContentLoaded",d),f.$eval(m)}}var d,h,f,g,m=c.onload||"",v=c.autoscroll,$=o(c,n);s.inheritedData("$uiView"),n.$on("$stateChangeSuccess",function(){p(!1)}),p(!0)}}}}function S(e,n,i,r){return{restrict:"ECA",priority:-400,compile:function(a){var o=a.html();return function(a,s,l){var c=i.$current,u=E(a,l,s,r),p=c&&c.locals[u];if(p){s.data("$uiView",{name:u,state:p.$$state}),s.html(p.$template?p.$template:o);var d=t.extend({},p);a[p.$$resolveAs]=d;var h=e(s.contents());if(p.$$controller){p.$scope=a,p.$element=s;var f=n(p.$$controller,p);p.$$controllerAs&&(a[p.$$controllerAs]=f,a[p.$$controllerAs][p.$$resolveAs]=d),U(f.$onInit)&&f.$onInit(),s.data("$ngControllerController",f),s.children().data("$ngControllerController",f)}h(a)}}}}}function E(e,t,n,i){var r=i(t.uiView||t.name||"")(e),a=n.inheritedData("$uiView");return r.indexOf("@")>=0?r:r+"@"+(a?a.state.name:"")}function D(e,t){var n,i=e.match(/^\s*({[^}]*})\s*$/);if(i&&(e=t+"("+i[1]+")"),!(n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/))||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function O(e){var t=e.parent().inheritedData("$uiView");if(t&&t.state&&t.state.name)return t.state}function A(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),n="FORM"===e[0].nodeName;return{attr:n?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!n}}function M(e,t,n,i,r){return function(a){var o=a.which||a.button,s=r();if(!(o>1||a.ctrlKey||a.metaKey||a.shiftKey||e.attr("target"))){var l=n(function(){t.go(s.state,s.params,s.options)});a.preventDefault();var c=i.isAnchor&&!s.href?1:0;a.preventDefault=function(){c--<=0&&n.cancel(l)}}}}function I(e,t){return{relative:O(e)||t.$current,inherit:!0}}function P(e,n){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,r,a,o){var s,l=D(a.uiSref,e.current.name),c={state:l.state,href:null,params:null},u=A(r),p=o[1]||o[0],d=null;c.options=H(I(r,e),a.uiSrefOpts?i.$eval(a.uiSrefOpts):{});var h=function(n){n&&(c.params=t.copy(n)),c.href=e.href(l.state,c.params,c.options),d&&d(),p&&(d=p.$$addStateInfo(l.state,c.params)),null!==c.href&&a.$set(u.attr,c.href)};l.paramExpr&&(i.$watch(l.paramExpr,function(e){e!==c.params&&h(e)},!0),c.params=t.copy(i.$eval(l.paramExpr))),h(),u.clickable&&(s=M(r,e,n,u,function(){return c}),r[r.on?"on":"bind"]("click",s),i.$on("$destroy",function(){r[r.off?"off":"unbind"]("click",s)}))}}}function _(e,t){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,i,r,a){function o(t){d.state=t[0],d.params=t[1],d.options=t[2],d.href=e.href(d.state,d.params,d.options),h&&h(),c&&(h=c.$$addStateInfo(d.state,d.params)),d.href&&r.$set(l.attr,d.href)}var s,l=A(i),c=a[1]||a[0],u=[r.uiState,r.uiStateParams||null,r.uiStateOpts||null],p="["+u.map(function(e){return e||"null"}).join(", ")+"]",d={state:null,params:null,options:null,href:null},h=null;n.$watch(p,o,!0),o(n.$eval(p)),l.clickable&&(s=M(i,e,t,l,function(){return d}),i[i.on?"on":"bind"]("click",s),n.$on("$destroy",function(){i[i.off?"off":"unbind"]("click",s)}))}}}function j(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(t,i,r,a){function o(t,n,r){var a=e.get(t,O(i)),o=s(t,n),l={state:a||{name:t},params:n,hash:o};return g.push(l),m[o]=r,function(){var e=g.indexOf(l);-1!==e&&g.splice(e,1)}}function s(e,n){if(!F(e))throw new Error("state should be a string");return V(n)?e+W(n):(n=t.$eval(n),V(n)?e+W(n):e)}function l(){for(var e=0;e<g.length;e++)p(g[e].state,g[e].params)?c(i,m[g[e].hash]):u(i,m[g[e].hash]),d(g[e].state,g[e].params)?c(i,h):u(i,h)}function c(e,t){a(function(){e.addClass(t)})}function u(e,t){e.removeClass(t)}function p(t,n){return e.includes(t.name,n)}function d(t,n){return e.is(t.name,n)}var h,f,g=[],m={};h=n(r.uiSrefActiveEq||"",!1)(t);try{f=t.$eval(r.uiSrefActive)}catch(e){}f=f||n(r.uiSrefActive||"",!1)(t),V(f)&&z(f,function(n,i){if(F(n)){var r=D(n,e.current.name);o(r.state,t.$eval(r.paramExpr),i)}}),this.$$addStateInfo=function(e,t){if(!(V(f)&&g.length>0)){var n=o(e,t,f);return l(),n}},t.$on("$stateChangeSuccess",l),l()}]}}function N(e){var t=function(t,n){return e.is(t,n)};return t.$stateful=!0,t}function R(e){var t=function(t,n,i){return e.includes(t,n,i)};return t.$stateful=!0,t}var L=t.isDefined,U=t.isFunction,F=t.isString,V=t.isObject,q=t.isArray,z=t.forEach,H=t.extend,B=t.copy,W=t.toJson;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),m.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",m),v.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",v);var G;$.prototype.concat=function(e,t){var n={caseInsensitive:G.caseInsensitive(),strict:G.strictMode(),squash:G.defaultSquashPolicy()};return new $(this.sourcePath+e+this.sourceSearch,H(n,t),this)},$.prototype.toString=function(){return this.source},$.prototype.exec=function(e,t){var n=this.regexp.exec(e);if(!n)return null;t=t||{};var i,r,a,o=this.parameters(),s=o.length,l=this.segments.length-1,c={};if(l!==n.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var u,p;for(i=0;i<l;i++){for(a=o[i],u=this.params[a],p=n[i+1],r=0;r<u.replace.length;r++)u.replace[r].from===p&&(p=u.replace[r].to);p&&!0===u.array&&(p=function(e){function t(e){return e.split("").reverse().join("")}function n(e){return e.replace(/\\-/g,"-")}return f(f(t(e).split(/-(?!\\)/),t),n).reverse()}(p)),L(p)&&(p=u.type.decode(p)),c[a]=u.value(p)}for(;i<s;i++){for(a=o[i],c[a]=this.params[a].value(t[a]),u=this.params[a],p=t[a],r=0;r<u.replace.length;r++)u.replace[r].from===p&&(p=u.replace[r].to);L(p)&&(p=u.type.decode(p)),c[a]=u.value(p)}return c},$.prototype.parameters=function(e){return L(e)?this.params[e]||null:this.$$paramNames},$.prototype.validates=function(e){return this.params.$$validates(e)},$.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var n=this.segments,i=this.parameters(),r=this.params;if(!this.validates(e))return null;var a,o=!1,s=n.length-1,l=i.length,c=n[0];for(a=0;a<l;a++){var u=a<s,p=i[a],d=r[p],h=d.value(e[p]),g=d.isOptional&&d.type.equals(d.value(),h),m=!!g&&d.squash,v=d.type.encode(h);if(u){var $=n[a+1],b=a+1===s;if(!1===m)null!=v&&(c+=q(v)?f(v,t).join("-"):encodeURIComponent(v)),c+=$;else if(!0===m){var y=c.match(/\/$/)?/\/?(.*)/:/(.*)/;c+=$.match(y)[1]}else F(m)&&(c+=m+$);b&&!0===d.squash&&"/"===c.slice(-1)&&(c=c.slice(0,-1))}else{if(null==v||g&&!1!==m)continue;if(q(v)||(v=[v]),0===v.length)continue;v=f(v,encodeURIComponent).join("&"+p+"="),c+=(o?"&":"?")+p+"="+v,o=!0}}return c},b.prototype.is=function(e,t){return!0},b.prototype.encode=function(e,t){return e},b.prototype.decode=function(e,t){return e},b.prototype.equals=function(e,t){return e==t},b.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},b.prototype.pattern=/.*/,b.prototype.toString=function(){return"{Type:"+this.name+"}"},b.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},b.prototype.$asArray=function(e,t){function i(e,t){function i(e,t){return function(){return e[t].apply(e,arguments)}}function r(e){return q(e)?e:L(e)?[e]:[]}function a(e){switch(e.length){case 0:return n;case 1:return"auto"===t?e[0]:e;default:return e}}function o(e){return!e}function s(e,t){return function(n){if(q(n)&&0===n.length)return n;n=r(n);var i=f(n,e);return!0===t?0===h(i,o).length:a(i)}}this.encode=s(i(e,"encode")),this.decode=s(i(e,"decode")),this.is=s(i(e,"is"),!0),this.equals=function(e){return function(t,n){var i=r(t),a=r(n);if(i.length!==a.length)return!1;for(var o=0;o<i.length;o++)if(!e(i[o],a[o]))return!1;return!0}}(i(e,"equals")),this.pattern=e.pattern,this.$normalize=s(i(e,"$normalize")),this.name=e.name,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new i(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",y),t.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),w.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",w),x.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",x).run(["$injector",function(e){e.get("$state.runtime").autoinject&&e.get("$state")}]),k.$inject=[],t.module("ui.router.state").provider("$view",k),t.module("ui.router.state").provider("$uiViewScroll",C),T.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"],S.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",T),t.module("ui.router.state").directive("uiView",S),P.$inject=["$state","$timeout"],_.$inject=["$state","$timeout"],j.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",P).directive("uiSrefActive",j).directive("uiSrefActiveEq",j).directive("uiState",_),N.$inject=["$state"],R.$inject=["$state"],t.module("ui.router.state").filter("isState",N).filter("includedByState",R)}(window,window.angular),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(e){"use strict";var t=jQuery.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||3<t[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(e){"use strict";e.fn.emulateTransitionEnd=function(t){var n=!1,i=this;return e(this).one("bsTransitionEnd",function(){n=!0}),setTimeout(function(){n||e(i).trigger(e.support.transition.end)},t),this},e(function(){e.support.transition=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.VERSION="3.4.1",n.TRANSITION_DURATION=150,n.prototype.close=function(t){function i(){o.detach().trigger("closed.bs.alert").remove()}var r=e(this),a=r.attr("data-target");a||(a=(a=r.attr("href"))&&a.replace(/.*(?=#[^\s]*$)/,"")),a="#"===a?[]:a;var o=e(document).find(a);t&&t.preventDefault(),o.length||(o=r.closest(".alert")),o.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var i=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var i=e(this),r=i.data("bs.alert");r||i.data("bs.alert",r=new n(this)),"string"==typeof t&&r[t].call(i)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",t,n.prototype.close)}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.button"),a="object"==typeof t&&t;r||i.data("bs.button",r=new n(this,a)),"toggle"==t?r.toggle():t&&r.setState(t)})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.4.1",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",i=this.$element,r=i.is("input")?"val":"html",a=i.data();t+="Text",null==a.resetText&&i.data("resetText",i[r]()),setTimeout(e.proxy(function(){i[r](null==a[t]?this.options[t]:a[t]),"loadingText"==t?(this.isLoading=!0,i.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n).prop(n,!1))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),e&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var i=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=i,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=e(n.target).closest(".btn");t.call(i,"toggle"),e(n.target).is('input[type="radio"], input[type="checkbox"]')||(n.preventDefault(),i.is("input,button")?i.trigger("focus"):i.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.carousel"),a=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t),o="string"==typeof t?t:a.slide;r||i.data("bs.carousel",r=new n(this,a)),"number"==typeof t?r.to(t):o?r[o]():a.interval&&r.pause().cycle()})}var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.4.1",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t);if(("prev"==e&&0===n||"next"==e&&n==this.$items.length-1)&&!this.options.wrap)return t;var i=(n+("prev"==e?-1:1))%this.$items.length;return this.$items.eq(i)},n.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(n<e?"next":"prev",this.$items.eq(e))},n.prototype.pause=function(t){return t||(this.paused=!0),
this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(t,i){var r=this.$element.find(".item.active"),a=i||this.getItemForDirection(t,r),o=this.interval,s="next"==t?"left":"right",l=this;if(a.hasClass("active"))return this.sliding=!1;var c=a[0],u=e.Event("slide.bs.carousel",{relatedTarget:c,direction:s});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var p=e(this.$indicators.children()[this.getItemIndex(a)]);p&&p.addClass("active")}var d=e.Event("slid.bs.carousel",{relatedTarget:c,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(a.addClass(t),"object"==typeof a&&a.length&&a[0].offsetWidth,r.addClass(s),a.addClass(s),r.one("bsTransitionEnd",function(){a.removeClass([t,s].join(" ")).addClass("active"),r.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(d)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(r.removeClass("active"),a.addClass("active"),this.sliding=!1,this.$element.trigger(d)),o&&this.cycle(),this}};var i=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=i,this};var r=function(n){var i=e(this),r=i.attr("href");r&&(r=r.replace(/.*(?=#[^\s]+$)/,""));var a=i.attr("data-target")||r,o=e(document).find(a);if(o.hasClass("carousel")){var s=e.extend({},o.data(),i.data()),l=i.attr("data-slide-to");l&&(s.interval=!1),t.call(o,s),l&&o.data("bs.carousel").to(l),n.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),function(e){"use strict";function t(t){var n,i=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(document).find(i)}function n(t){return this.each(function(){var n=e(this),r=n.data("bs.collapse"),a=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t);!r&&a.toggle&&/show|hide/.test(t)&&(a.toggle=!1),r||n.data("bs.collapse",r=new i(this,a)),"string"==typeof t&&r[t]()})}var i=function(t,n){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,n),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.4.1",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(t=r.data("bs.collapse"))&&t.transitioning)){var a=e.Event("show.bs.collapse");if(this.$element.trigger(a),!a.isDefaultPrevented()){r&&r.length&&(n.call(r,"hide"),t||r.data("bs.collapse",null));var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var l=e.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[o](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!e.support.transition)return r.call(this);this.$element[n](0).one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(i.TRANSITION_DURATION)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return e(document).find(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(n,i){var r=e(i);this.addAriaAndCollapsedClass(t(r),r)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var r=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=i,e.fn.collapse.noConflict=function(){return e.fn.collapse=r,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var r=e(this);r.attr("data-target")||i.preventDefault();var a=t(r),o=a.data("bs.collapse")?"toggle":r.data();n.call(a,o)})}(jQuery),function(e){"use strict";function t(t){var n=t.attr("data-target");n||(n=(n=t.attr("href"))&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i="#"!==n?e(document).find(n):null;return i&&i.length?i:t.parent()}function n(n){n&&3===n.which||(e(".dropdown-backdrop").remove(),e(i).each(function(){var i=e(this),r=t(i),a={relatedTarget:this};r.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&e.contains(r[0],n.target)||(r.trigger(n=e.Event("hide.bs.dropdown",a)),n.isDefaultPrevented()||(i.attr("aria-expanded","false"),r.removeClass("open").trigger(e.Event("hidden.bs.dropdown",a)))))}))}var i='[data-toggle="dropdown"]',r=function(t){e(t).on("click.bs.dropdown",this.toggle)};r.VERSION="3.4.1",r.prototype.toggle=function(i){var r=e(this);if(!r.is(".disabled, :disabled")){var a=t(r),o=a.hasClass("open");if(n(),!o){"ontouchstart"in document.documentElement&&!a.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",n);var s={relatedTarget:this};if(a.trigger(i=e.Event("show.bs.dropdown",s)),i.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),a.toggleClass("open").trigger(e.Event("shown.bs.dropdown",s))}return!1}},r.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var r=e(this);if(n.preventDefault(),n.stopPropagation(),!r.is(".disabled, :disabled")){var a=t(r),o=a.hasClass("open");if(!o&&27!=n.which||o&&27==n.which)return 27==n.which&&a.find(i).trigger("focus"),r.trigger("click");var s=a.find(".dropdown-menu li:not(.disabled):visible a");if(s.length){var l=s.index(n.target);38==n.which&&0<l&&l--,40==n.which&&l<s.length-1&&l++,~l||(l=0),s.eq(l).trigger("focus")}}}};var a=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new r(this)),"string"==typeof t&&i[t].call(n)})},e.fn.dropdown.Constructor=r,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=a,this},e(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",i,r.prototype.toggle).on("keydown.bs.dropdown.data-api",i,r.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",r.prototype.keydown)}(jQuery),function(e){"use strict";function t(t,i){return this.each(function(){var r=e(this),a=r.data("bs.modal"),o=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t);a||r.data("bs.modal",a=new n(this,o)),"string"==typeof t?a[t](i):o.show&&a.show(i)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.fixedContent=".navbar-fixed-top, .navbar-fixed-bottom",this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.4.1",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var i=this,r=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=e.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),r&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var a=e.Event("shown.bs.modal",{relatedTarget:t});r?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(a)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(a)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var i=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var a=e.support.transition&&r;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),a&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;a?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){i.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):o()}else t&&t()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";var n=this.scrollbarWidth;this.bodyIsOverflowing&&(this.$body.css("padding-right",t+n),e(this.fixedContent).each(function(t,i){var r=i.style.paddingRight,a=e(i).css("padding-right");e(i).data("padding-right",r).css("padding-right",parseFloat(a)+n+"px")}))},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad),e(this.fixedContent).each(function(t,n){var i=e(n).data("padding-right");e(n).removeData("padding-right"),n.style.paddingRight=i||""})},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var i=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=i,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=e(this),r=i.attr("href"),a=i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,""),o=e(document).find(a),s=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},o.data(),i.data());i.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),t.call(o,s,this)})}(jQuery),function(e){"use strict";function t(t,n){var i=t.nodeName.toLowerCase();if(-1!==e.inArray(i,n))return-1===e.inArray(i,r)||Boolean(t.nodeValue.match(o)||t.nodeValue.match(s));for(var a=e(n).filter(function(e,t){return t instanceof RegExp}),l=0,c=a.length;l<c;l++)if(i.match(a[l]))return!0;return!1}function n(n,i,r){if(0===n.length)return n;if(r&&"function"==typeof r)return r(n);if(!document.implementation||!document.implementation.createHTMLDocument)return n;var a=document.implementation.createHTMLDocument("sanitization");a.body.innerHTML=n;for(var o=e.map(i,function(e,t){return t}),s=e(a.body).find("*"),l=0,c=s.length;l<c;l++){var u=s[l],p=u.nodeName.toLowerCase();if(-1!==e.inArray(p,o))for(var d=e.map(u.attributes,function(e){return e}),h=[].concat(i["*"]||[],i[p]||[]),f=0,g=d.length;f<g;f++)t(d[f],h)||u.removeAttribute(d[f].nodeName);else u.parentNode.removeChild(u)}return a.body.innerHTML}var i=["sanitize","whiteList","sanitizeFn"],r=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],a={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},o=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,s=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,l=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};l.VERSION="3.4.1",l.TRANSITION_DURATION=150,l.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0},sanitize:!0,sanitizeFn:null,whiteList:a},l.prototype.init=function(t,n,i){if(this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&e(document).find(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),a=r.length;a--;){var o=r[a];if("click"==o)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=o){var s="hover"==o?"mouseenter":"focusin",l="hover"==o?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},l.prototype.getDefaults=function(){return l.DEFAULTS},l.prototype.getOptions=function(t){var r=this.$element.data();for(var a in r)r.hasOwnProperty(a)&&-1!==e.inArray(a,i)&&delete r[a];return(t=e.extend({},this.getDefaults(),r,t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t.sanitize&&(t.template=n(t.template,t.whiteList,t.sanitizeFn)),t},l.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,i){n[e]!=i&&(t[e]=i)}),t},l.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusin"==t.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState)n.hoverState="in";else{if(clearTimeout(n.timeout),n.hoverState="in",!n.options.delay||!n.options.delay.show)return n.show();n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)}},l.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},l.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusout"==t.type?"focus":"hover"]=!1),!n.isInStateTrue()){if(clearTimeout(n.timeout),n.hoverState="out",!n.options.delay||!n.options.delay.hide)return n.hide();n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)}},l.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var n=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!n)return;var i=this,r=this.tip(),a=this.getUID(this.type);this.setContent(),r.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&r.addClass("fade");var o="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,c=s.test(o);c&&(o=o.replace(s,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(o).data("bs."+this.type,this),this.options.container?r.appendTo(e(document).find(this.options.container)):r.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),p=r[0].offsetWidth,d=r[0].offsetHeight;if(c){var h=o,f=this.getPosition(this.$viewport);o="bottom"==o&&u.bottom+d>f.bottom?"top":"top"==o&&u.top-d<f.top?"bottom":"right"==o&&u.right+p>f.width?"left":"left"==o&&u.left-p<f.left?"right":o,r.removeClass(h).addClass(o)}var g=this.getCalculatedOffset(o,u,p,d);this.applyPlacement(g,o);var m=function(){var e=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==e&&i.leave(i)};e.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",m).emulateTransitionEnd(l.TRANSITION_DURATION):m()}},l.prototype.applyPlacement=function(t,n){var i=this.tip(),r=i[0].offsetWidth,a=i[0].offsetHeight,o=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(s)&&(s=0),t.top+=o,t.left+=s,e.offset.setOffset(i[0],e.extend({using:function(e){i.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;"top"==n&&c!=a&&(t.top=t.top+a-c);var u=this.getViewportAdjustedDelta(n,t,l,c);u.left?t.left+=u.left:t.top+=u.top;var p=/top|bottom/.test(n),d=p?2*u.left-r+l:2*u.top-a+c,h=p?"offsetWidth":"offsetHeight";i.offset(t),this.replaceArrow(d,i[0][h],p)},l.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},l.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();this.options.html?(this.options.sanitize&&(t=n(t,this.options.whiteList,this.options.sanitizeFn)),e.find(".tooltip-inner").html(t)):e.find(".tooltip-inner").text(t),e.removeClass("fade in top bottom left right")},l.prototype.hide=function(t){function n(){"in"!=i.hoverState&&r.detach(),i.$element&&i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),t&&t()}var i=this,r=e(this.$tip),a=e.Event("hide.bs."+this.type);if(this.$element.trigger(a),!a.isDefaultPrevented())return r.removeClass("in"),e.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",n).emulateTransitionEnd(l.TRANSITION_DURATION):n(),this.hoverState=null,this},l.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},l.prototype.hasContent=function(){return this.getTitle()},l.prototype.getPosition=function(t){var n=(t=t||this.$element)[0],i="BODY"==n.tagName,r=n.getBoundingClientRect();null==r.width&&(r=e.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var a=window.SVGElement&&n instanceof window.SVGElement,o=i?{top:0,left:0}:a?null:t.offset(),s={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},l=i?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},r,s,l,o)},l.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},l.prototype.getViewportAdjustedDelta=function(e,t,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var a=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-a-o.scroll,l=t.top+a-o.scroll+i;s<o.top?r.top=o.top-s:l>o.top+o.height&&(r.top=o.top+o.height-l)}else{var c=t.left-a,u=t.left+a+n;c<o.left?r.left=o.left-c:u>o.right&&(r.left=o.left+o.width-u)}return r},l.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},l.prototype.getUID=function(e){for(;e+=~~(1e6*Math.random()),document.getElementById(e););return e},l.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},l.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},l.prototype.enable=function(){this.enabled=!0},l.prototype.disable=function(){this.enabled=!1},l.prototype.toggleEnabled=function(){this.enabled=!this.enabled},l.prototype.toggle=function(t){var n=this;t&&((n=e(t.currentTarget).data("bs."+this.type))||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),t?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},l.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null,e.$element=null})},l.prototype.sanitizeHtml=function(e){return n(e,this.options.whiteList,this.options.sanitizeFn)};var c=e.fn.tooltip;e.fn.tooltip=function(t){return this.each(function(){var n=e(this),i=n.data("bs.tooltip"),r="object"==typeof t&&t;!i&&/destroy|hide/.test(t)||(i||n.data("bs.tooltip",i=new l(this,r)),"string"==typeof t&&i[t]())})},e.fn.tooltip.Constructor=l,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=c,this}}(jQuery),function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.4.1",t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),((t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype)).constructor=t).prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();if(this.options.html){var i=typeof n;this.options.sanitize&&(t=this.sanitizeHtml(t),"string"===i&&(n=this.sanitizeHtml(n))),e.find(".popover-title").html(t),e.find(".popover-content").children().detach().end()["string"===i?"html":"append"](n)}else e.find(".popover-title").text(t),e.find(".popover-content").children().detach().end().text(n);e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var i=e(this),r=i.data("bs.popover"),a="object"==typeof n&&n;!r&&/destroy|hide/.test(n)||(r||i.data("bs.popover",r=new t(this,a)),"string"==typeof n&&r[n]())})},e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(jQuery),function(e){"use strict";function t(n,i){this.$body=e(document.body),this.$scrollElement=e(e(n).is(document.body)?window:n),this.options=e.extend({},t.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var i=e(this),r=i.data("bs.scrollspy"),a="object"==typeof n&&n;r||i.data("bs.scrollspy",r=new t(this,a)),"string"==typeof n&&r[n]()})}t.VERSION="3.4.1",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),r=t.data("target")||t.attr("href"),a=/^#./.test(r)&&e(r);return a&&a.length&&a.is(":visible")&&[[a[n]().top+i,r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,a=this.targets,o=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),i<=t)return o!=(e=a[a.length-1])&&this.activate(e);if(o&&t<r[0])return this.activeTarget=null,this.clear();for(e=r.length;e--;)o!=a[e]&&t>=r[e]&&(void 0===r[e+1]||t<r[e+1])&&this.activate(a[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=e(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=i,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new n(this)),"string"==typeof t&&r[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.4.1",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),i=t.data("target");if(i||(i=(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=n.find(".active:last a"),a=e.Event("hide.bs.tab",{relatedTarget:t[0]}),o=e.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(a),t.trigger(o),!o.isDefaultPrevented()&&!a.isDefaultPrevented()){var s=e(document).find(i);this.activate(t.closest("li"),n),this.activate(s,s.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},n.prototype.activate=function(t,i,r){function a(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}var o=i.find("> .active"),s=r&&e.support.transition&&(o.length&&o.hasClass("fade")||!!i.find("> .fade").length);o.length&&s?o.one("bsTransitionEnd",a).emulateTransitionEnd(n.TRANSITION_DURATION):a(),o.removeClass("in")};var i=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=i,this};var r=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.affix"),a="object"==typeof t&&t;r||i.data("bs.affix",r=new n(this,a)),"string"==typeof t&&r[t]()})}var n=function(t,i){this.options=e.extend({},n.DEFAULTS,i);var r=this.options.target===n.DEFAULTS.target?e(this.options.target):e(document).find(this.options.target);this.$target=r.on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.4.1",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,i){var r=this.$target.scrollTop(),a=this.$element.offset(),o=this.$target.height();if(null!=n&&"top"==this.affixed)return r<n&&"top"
;if("bottom"==this.affixed)return null!=n?!(r+this.unpin<=a.top)&&"bottom":!(r+o<=e-i)&&"bottom";var s=null==this.affixed,l=s?r:a.top;return null!=n&&r<=n?"top":null!=i&&e-i<=l+(s?o:t)&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),i=this.options.offset,r=i.top,a=i.bottom,o=Math.max(e(document).height(),e(document.body).height());"object"!=typeof i&&(a=r=i),"function"==typeof r&&(r=i.top(this.$element)),"function"==typeof a&&(a=i.bottom(this.$element));var s=this.getState(o,t,r,a);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),c=e.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:o-t-a})}};var i=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=i,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),t.call(n,i)})})}(jQuery),function(){"use strict";var e={backspace:8,tab:9,enter:13,escape:27,space:32,up:38,down:40,left:37,right:39,delete:46,comma:188},t=9007199254740991,n=["text","email","url"],i=angular.module("ngTagsInput",[]);i.directive("tagsInput",["$timeout","$document","$window","$q","tagsInputConfig","tiUtil",function(i,r,a,o,s,l){function c(e,t,n,i){var r,a,s,c,u={};return r=function(t){return l.safeToString(t[e.displayProperty])},a=function(t,n){t[e.displayProperty]=n},s=function(t){var i=r(t),a=i&&i.length>=e.minLength&&i.length<=e.maxLength&&e.allowedTagsPattern.test(i)&&!l.findInObjectArray(u.items,t,e.keyProperty||e.displayProperty);return o.when(a&&n({$tag:t})).then(l.promisifyValue)},c=function(e){return o.when(i({$tag:e})).then(l.promisifyValue)},u.items=[],u.addText=function(e){var t={};return a(t,e),u.add(t)},u.add=function(n){var i=r(n);return e.replaceSpacesWithDashes&&(i=l.replaceSpacesWithDashes(i)),a(n,i),s(n).then(function(){u.items.push(n),t.trigger("tag-added",{$tag:n})}).catch(function(){i&&t.trigger("invalid-tag",{$tag:n})})},u.remove=function(e){var n=u.items[e];return c(n).then(function(){return u.items.splice(e,1),u.clearSelection(),t.trigger("tag-removed",{$tag:n}),n})},u.select=function(e){0>e?e=u.items.length-1:e>=u.items.length&&(e=0),u.index=e,u.selected=u.items[e]},u.selectPrior=function(){u.select(--u.index)},u.selectNext=function(){u.select(++u.index)},u.removeSelected=function(){return u.remove(u.index)},u.clearSelection=function(){u.selected=null,u.index=-1},u.getItems=function(){return e.useStrings?u.items.map(r):u.items},u.clearSelection(),u}function u(e){return-1!==n.indexOf(e)}return{restrict:"E",require:"ngModel",scope:{tags:"=ngModel",text:"=?",templateScope:"=?",tagClass:"&",onTagAdding:"&",onTagAdded:"&",onInvalidTag:"&",onTagRemoving:"&",onTagRemoved:"&",onTagClicked:"&"},replace:!1,transclude:!0,templateUrl:"ngTagsInput/tags-input.html",controller:["$scope","$attrs","$element",function(e,n,i){e.events=l.simplePubSub(),s.load("tagsInput",e,n,{template:[String,"ngTagsInput/tag-item.html"],type:[String,"text",u],placeholder:[String,"Add a tag"],tabindex:[Number,null],removeTagSymbol:[String,String.fromCharCode(215)],replaceSpacesWithDashes:[Boolean,!0],minLength:[Number,3],maxLength:[Number,t],addOnEnter:[Boolean,!0],addOnSpace:[Boolean,!1],addOnComma:[Boolean,!0],addOnBlur:[Boolean,!0],addOnPaste:[Boolean,!1],pasteSplitPattern:[RegExp,/,/],allowedTagsPattern:[RegExp,/.+/],enableEditingLastTag:[Boolean,!1],minTags:[Number,0],maxTags:[Number,t],displayProperty:[String,"text"],keyProperty:[String,""],allowLeftoverText:[Boolean,!1],addFromAutocompleteOnly:[Boolean,!1],spellcheck:[Boolean,!0],useStrings:[Boolean,!1]}),e.tagList=new c(e.options,e.events,l.handleUndefinedResult(e.onTagAdding,!0),l.handleUndefinedResult(e.onTagRemoving,!0)),this.registerAutocomplete=function(){return i.find("input"),{addTag:function(t){return e.tagList.add(t)},getTags:function(){return e.tagList.items},getCurrentTagText:function(){return e.newTag.text()},getOptions:function(){return e.options},getTemplateScope:function(){return e.templateScope},on:function(t,n){return e.events.on(t,n,!0),this}}},this.registerTagItem=function(){return{getOptions:function(){return e.options},removeTag:function(t){e.disabled||e.tagList.remove(t)}}}}],link:function(t,n,o,s){var c,u,p=[e.enter,e.comma,e.space,e.backspace,e.delete,e.left,e.right],d=t.tagList,h=t.events,f=t.options,g=n.find("input"),m=["minTags","maxTags","allowLeftoverText"];c=function(){s.$setValidity("maxTags",d.items.length<=f.maxTags),s.$setValidity("minTags",d.items.length>=f.minTags),s.$setValidity("leftoverText",!(!t.hasFocus&&!f.allowLeftoverText)||!t.newTag.text())},u=function(){i(function(){g[0].focus()})},s.$isEmpty=function(e){return!e||!e.length},t.newTag={text:function(e){return angular.isDefined(e)?(t.text=e,void h.trigger("input-change",e)):t.text||""},invalid:null},t.track=function(e){return e[f.keyProperty||f.displayProperty]},t.getTagClass=function(e,n){var i=e===d.selected;return[t.tagClass({$tag:e,$index:n,$selected:i}),{selected:i}]},t.$watch("tags",function(e){if(e){if(d.items=l.makeObjectArray(e,f.displayProperty),f.useStrings)return;t.tags=d.items}else d.items=[]}),t.$watch("tags.length",function(){c(),s.$validate()}),o.$observe("disabled",function(e){t.disabled=e}),t.eventHandlers={input:{keydown:function(e){h.trigger("input-keydown",e)},focus:function(){t.hasFocus||(t.hasFocus=!0,h.trigger("input-focus"))},blur:function(){i(function(){var e=r.prop("activeElement"),i=e===g[0],a=n[0].contains(e);(i||!a)&&(t.hasFocus=!1,h.trigger("input-blur"))})},paste:function(e){e.getTextData=function(){var t=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData;return t?t.getData("text/plain"):a.clipboardData.getData("Text")},h.trigger("input-paste",e)}},host:{click:function(){t.disabled||u()}},tag:{click:function(e){h.trigger("tag-clicked",{$tag:e})}}},h.on("tag-added",t.onTagAdded).on("invalid-tag",t.onInvalidTag).on("tag-removed",t.onTagRemoved).on("tag-clicked",t.onTagClicked).on("tag-added",function(){t.newTag.text("")}).on("tag-added tag-removed",function(){t.tags=d.getItems(),s.$setDirty(),u()}).on("invalid-tag",function(){t.newTag.invalid=!0}).on("option-change",function(e){-1!==m.indexOf(e.name)&&c()}).on("input-change",function(){d.clearSelection(),t.newTag.invalid=null}).on("input-focus",function(){n.triggerHandler("focus"),s.$setValidity("leftoverText",!0)}).on("input-blur",function(){f.addOnBlur&&!f.addFromAutocompleteOnly&&d.addText(t.newTag.text()),n.triggerHandler("blur"),c()}).on("input-keydown",function(n){var i,r,a,o,s=n.keyCode,c={};l.isModifierOn(n)||-1===p.indexOf(s)||(c[e.enter]=f.addOnEnter,c[e.comma]=f.addOnComma,c[e.space]=f.addOnSpace,i=!f.addFromAutocompleteOnly&&c[s],r=(s===e.backspace||s===e.delete)&&d.selected,o=s===e.backspace&&0===t.newTag.text().length&&f.enableEditingLastTag,a=(s===e.backspace||s===e.left||s===e.right)&&0===t.newTag.text().length&&!f.enableEditingLastTag,i?d.addText(t.newTag.text()):o?(d.selectPrior(),d.removeSelected().then(function(e){e&&t.newTag.text(e[f.displayProperty])})):r?d.removeSelected():a&&(s===e.left||s===e.backspace?d.selectPrior():s===e.right&&d.selectNext()),(i||a||r||o)&&n.preventDefault())}).on("input-paste",function(e){if(f.addOnPaste){var t=e.getTextData(),n=t.split(f.pasteSplitPattern);n.length>1&&(n.forEach(function(e){d.addText(e)}),e.preventDefault())}})}}}]),i.directive("tiTagItem",["tiUtil",function(e){return{restrict:"E",require:"^tagsInput",template:'<ng-include src="$$template"></ng-include>',scope:{$scope:"=scope",data:"="},link:function(t,n,i,r){var a=r.registerTagItem(),o=a.getOptions();t.$$template=o.template,t.$$removeTagSymbol=o.removeTagSymbol,t.$getDisplayText=function(){return e.safeToString(t.data[o.displayProperty])},t.$removeTag=function(){a.removeTag(t.$index)},t.$watch("$parent.$index",function(e){t.$index=e})}}}]),i.directive("autoComplete",["$document","$timeout","$sce","$q","tagsInputConfig","tiUtil",function(t,n,i,r,a,o){function s(e,t,n){var i,a,s,l={};return s=function(){return t.tagsInput.keyProperty||t.tagsInput.displayProperty},i=function(e,n){return e.filter(function(e){return!o.findInObjectArray(n,e,s(),function(e,n){return t.tagsInput.replaceSpacesWithDashes&&(e=o.replaceSpacesWithDashes(e),n=o.replaceSpacesWithDashes(n)),o.defaultComparer(e,n)})})},l.reset=function(){a=null,l.items=[],l.visible=!1,l.index=-1,l.selected=null,l.query=null},l.show=function(){t.selectFirstMatch?l.select(0):l.selected=null,l.visible=!0},l.load=o.debounce(function(n,c){l.query=n;var u=r.when(e({$query:n}));a=u,u.then(function(e){u===a&&(e=o.makeObjectArray(e.data||e,s()),e=i(e,c),l.items=e.slice(0,t.maxResultsToShow),l.items.length>0?l.show():l.reset())})},t.debounceDelay),l.selectNext=function(){l.select(++l.index)},l.selectPrior=function(){l.select(--l.index)},l.select=function(e){0>e?e=l.items.length-1:e>=l.items.length&&(e=0),l.index=e,l.selected=l.items[e],n.trigger("suggestion-selected",e)},l.reset(),l}function l(e,t){var n=e.find("li").eq(t),i=n.parent(),r=n.prop("offsetTop"),a=n.prop("offsetHeight"),o=i.prop("clientHeight"),s=i.prop("scrollTop");s>r?i.prop("scrollTop",r):r+a>o+s&&i.prop("scrollTop",r+a-o)}return{restrict:"E",require:"^tagsInput",scope:{source:"&",matchClass:"&"},templateUrl:"ngTagsInput/auto-complete.html",controller:["$scope","$element","$attrs",function(e,t,n){e.events=o.simplePubSub(),a.load("autoComplete",e,n,{template:[String,"ngTagsInput/auto-complete-match.html"],debounceDelay:[Number,100],minLength:[Number,3],highlightMatchedText:[Boolean,!0],maxResultsToShow:[Number,10],loadOnDownArrow:[Boolean,!1],loadOnEmpty:[Boolean,!1],loadOnFocus:[Boolean,!1],selectFirstMatch:[Boolean,!0],displayProperty:[String,""]}),e.suggestionList=new s(e.source,e.options,e.events),this.registerAutocompleteMatch=function(){return{getOptions:function(){return e.options},getQuery:function(){return e.suggestionList.query}}}}],link:function(t,n,i,r){var a,s=[e.enter,e.tab,e.escape,e.up,e.down],c=t.suggestionList,u=r.registerAutocomplete(),p=t.options,d=t.events;p.tagsInput=u.getOptions(),a=function(e){return e&&e.length>=p.minLength||!e&&p.loadOnEmpty},t.templateScope=u.getTemplateScope(),t.addSuggestionByIndex=function(e){c.select(e),t.addSuggestion()},t.addSuggestion=function(){var e=!1;return c.selected&&(u.addTag(angular.copy(c.selected)),c.reset(),e=!0),e},t.track=function(e){return e[p.tagsInput.keyProperty||p.tagsInput.displayProperty]},t.getSuggestionClass=function(e,n){var i=e===c.selected;return[t.matchClass({$match:e,$index:n,$selected:i}),{selected:i}]},u.on("tag-added tag-removed invalid-tag input-blur",function(){c.reset()}).on("input-change",function(e){a(e)?c.load(e,u.getTags()):c.reset()}).on("input-focus",function(){var e=u.getCurrentTagText();p.loadOnFocus&&a(e)&&c.load(e,u.getTags())}).on("input-keydown",function(n){var i=n.keyCode,r=!1;if(!o.isModifierOn(n)&&-1!==s.indexOf(i))return c.visible?i===e.down?(c.selectNext(),r=!0):i===e.up?(c.selectPrior(),r=!0):i===e.escape?(c.reset(),r=!0):(i===e.enter||i===e.tab)&&(r=t.addSuggestion()):i===e.down&&t.options.loadOnDownArrow&&(c.load(u.getCurrentTagText(),u.getTags()),r=!0),r?(n.preventDefault(),n.stopImmediatePropagation(),!1):void 0}),d.on("suggestion-selected",function(e){l(n,e)})}}}]),i.directive("tiAutocompleteMatch",["$sce","tiUtil",function(e,t){return{restrict:"E",require:"^autoComplete",template:'<ng-include src="$$template"></ng-include>',scope:{$scope:"=scope",data:"="},link:function(n,i,r,a){var o=a.registerAutocompleteMatch(),s=o.getOptions();n.$$template=s.template,n.$index=n.$parent.$index,n.$highlight=function(n){return s.highlightMatchedText&&(n=t.safeHighlight(n,o.getQuery())),e.trustAsHtml(n)},n.$getDisplayText=function(){return t.safeToString(n.data[s.displayProperty||s.tagsInput.displayProperty])}}}}]),i.directive("tiTranscludeAppend",function(){return function(e,t,n,i,r){r(function(e){t.append(e)})}}),i.directive("tiAutosize",["tagsInputConfig",function(e){return{restrict:"A",require:"ngModel",link:function(t,n,i,r){var a,o,s=e.getTextAutosizeThreshold();a=angular.element('<span class="input"></span>'),a.css("display","none").css("visibility","hidden").css("width","auto").css("white-space","pre"),n.parent().append(a),o=function(e){var t,r=e;return angular.isString(r)&&0===r.length&&(r=i.placeholder),r&&(a.text(r),a.css("display",""),t=a.prop("offsetWidth"),a.css("display","none")),n.css("width",t?t+s+"px":""),e},r.$parsers.unshift(o),r.$formatters.unshift(o),i.$observe("placeholder",function(e){r.$modelValue||o(e)})}}}]),i.directive("tiBindAttrs",function(){return function(e,t,n){e.$watch(n.tiBindAttrs,function(e){angular.forEach(e,function(e,t){n.$set(t,e)})},!0)}}),i.provider("tagsInputConfig",function(){var e={},t={},n=3;this.setDefaults=function(t,n){return e[t]=n,this},this.setActiveInterpolation=function(e,n){return t[e]=n,this},this.setTextAutosizeThreshold=function(e){return n=e,this},this.$get=["$interpolate",function(i){var r={};return r[String]=function(e){return e},r[Number]=function(e){return parseInt(e,10)},r[Boolean]=function(e){return"true"===e.toLowerCase()},r[RegExp]=function(e){return new RegExp(e)},{load:function(n,a,o,s){var l=function(){return!0};a.options={},angular.forEach(s,function(s,c){var u,p,d,h,f,g;u=s[0],p=s[1],d=s[2]||l,h=r[u],f=function(){var t=e[n]&&e[n][c];return angular.isDefined(t)?t:p},g=function(e){a.options[c]=e&&d(e)?h(e):f()},t[n]&&t[n][c]?o.$observe(c,function(e){g(e),a.events.trigger("option-change",{name:c,newValue:e})}):g(o[c]&&i(o[c])(a.$parent))})},getTextAutosizeThreshold:function(){return n}}}]}),i.factory("tiUtil",["$timeout","$q",function(e,t){var n={};return n.debounce=function(t,n){var i;return function(){var r=arguments;e.cancel(i),i=e(function(){t.apply(null,r)},n)}},n.makeObjectArray=function(e,t){if(!angular.isArray(e)||0===e.length||angular.isObject(e[0]))return e;var n=[];return e.forEach(function(e){var i={};i[t]=e,n.push(i)}),n},n.findInObjectArray=function(e,t,i,r){var a=null;return r=r||n.defaultComparer,e.some(function(e){return r(e[i],t[i])?(a=e,!0):void 0}),a},n.defaultComparer=function(e,t){return n.safeToString(e).toLowerCase()===n.safeToString(t).toLowerCase()},n.safeHighlight=function(e,t){if(e=n.encodeHTML(e),!(t=n.encodeHTML(t)))return e;var i=new RegExp("&[^;]+;|"+function(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}(t),"gi");return e.replace(i,function(e){return e.toLowerCase()===t.toLowerCase()?"<em>"+e+"</em>":e})},n.safeToString=function(e){return angular.isUndefined(e)||null==e?"":e.toString().trim()},n.encodeHTML=function(e){return n.safeToString(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},n.handleUndefinedResult=function(e,t){return function(){var n=e.apply(null,arguments);return angular.isUndefined(n)?t:n}},n.replaceSpacesWithDashes=function(e){return n.safeToString(e).replace(/\s/g,"-")},n.isModifierOn=function(e){return e.shiftKey||e.ctrlKey||e.altKey||e.metaKey},n.promisifyValue=function(e){return e=!!angular.isUndefined(e)||e,t[e?"when":"reject"]()},n.simplePubSub=function(){var e={};return{on:function(t,n,i){return t.split(" ").forEach(function(t){e[t]||(e[t]=[]),(i?[].unshift:[].push).call(e[t],n)}),this},trigger:function(t,i){return(e[t]||[]).every(function(e){return n.handleUndefinedResult(e,!0)(i)}),this}}},n}]),i.run(["$templateCache",function(e){e.put("ngTagsInput/tags-input.html",'<div class="host" tabindex="-1" ng-click="eventHandlers.host.click()" ti-transclude-append><div class="tags" ng-class="{focused: hasFocus}"><ul class="tag-list"><li class="tag-item" ng-repeat="tag in tagList.items track by track(tag)" ng-class="getTagClass(tag, $index)" ng-click="eventHandlers.tag.click(tag)"><ti-tag-item scope="templateScope" data="::tag"></ti-tag-item></li></ul><input class="input" autocomplete="off" ng-model="newTag.text" ng-model-options="{getterSetter: true}" ng-keydown="eventHandlers.input.keydown($event)" ng-focus="eventHandlers.input.focus($event)" ng-blur="eventHandlers.input.blur($event)" ng-paste="eventHandlers.input.paste($event)" ng-trim="false" ng-class="{\'invalid-tag\': newTag.invalid}" ng-disabled="disabled" ti-bind-attrs="{type: options.type, placeholder: options.placeholder, tabindex: options.tabindex, spellcheck: options.spellcheck}" ti-autosize></div></div>'),e.put("ngTagsInput/tag-item.html",'<span ng-bind="$getDisplayText()"></span> <a class="remove-button" ng-click="$removeTag()" ng-bind="::$$removeTagSymbol"></a>'),e.put("ngTagsInput/auto-complete.html",'<div class="autocomplete" ng-if="suggestionList.visible"><ul class="suggestion-list"><li class="suggestion-item" ng-repeat="item in suggestionList.items track by track(item)" ng-class="getSuggestionClass(item, $index)" ng-click="addSuggestionByIndex($index)" ng-mouseenter="suggestionList.select($index)"><ti-autocomplete-match scope="templateScope" data="::item"></ti-autocomplete-match></li></ul></div>'),e.put("ngTagsInput/auto-complete-match.html",'<span ng-bind-html="$highlight($getDisplayText())"></span>')}])}(),function(e,t){"use strict";function n(e){var t=[];return d(t,c).chars(e),t.join("")}var i,r,a,o,s,l,c,u,p,d,h=t.$$minErr("$sanitize");t.module("ngSanitize",[]).provider("$sanitize",function(){function n(e,t){return f(e.split(","),t)}function f(e,t){var n,i={};for(n=0;n<e.length;n++)i[t?l(e[n]):e[n]]=!0;return i}function g(e,t){t&&t.length&&r(e,f(t))}function m(e){for(var t={},n=0,i=e.length;n<i;n++){var r=e[n];t[r.name]=r.value}return t}function v(e){return e.replace(/&/g,"&amp;").replace(x,function(e){var t=e.charCodeAt(0);return e=e.charCodeAt(1),"&#"+(1024*(t-55296)+(e-56320)+65536)+";"}).replace(k,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function $(t){for(;t;){if(t.nodeType===e.Node.ELEMENT_NODE)for(var n=t.attributes,i=0,r=n.length;i<r;i++){var a=n[i],o=a.name.toLowerCase();"xmlns:ns1"!==o&&0!==o.lastIndexOf("ns1:",0)||(t.removeAttributeNode(a),i--,r--)}(n=t.firstChild)&&$(n),t=b("nextSibling",t)}}function b(e,t){var n=t[e];if(n&&u.call(t,n))throw h("elclob",t.outerHTML||t.outerText);return n}var y=!1,w=!1;this.$get=["$$sanitizeUri",function(e){return y=!0,w&&r(A,D),function(t){var n=[];return p(t,d(n,function(t,n){return!/^unsafe:/.test(e(t,n))})),n.join("")}}],this.enableSvg=function(e){return s(e)?(w=e,this):w},this.addValidElements=function(e){return y||(o(e)&&(e={htmlElements:e}),g(D,e.svgElements),g(C,e.htmlVoidElements),g(A,e.htmlVoidElements),g(A,e.htmlElements)),this},this.addValidAttrs=function(e){return y||r(I,f(e,!0)),this},i=t.bind,r=t.extend,a=t.forEach,o=t.isArray,s=t.isDefined,l=t.$$lowercase,c=t.noop,p=function(e,t){null===e||void 0===e?e="":"string"!=typeof e&&(e=""+e);var n=P(e);if(!n)return"";var i=5;do{if(0===i)throw h("uinput");i--,e=n.innerHTML,n=P(e)}while(e!==n.innerHTML);for(i=n.firstChild;i;){switch(i.nodeType){case 1:t.start(i.nodeName.toLowerCase(),m(i.attributes));break;case 3:t.chars(i.textContent)}var r;if(!((r=i.firstChild)||(1===i.nodeType&&t.end(i.nodeName.toLowerCase()),r=b("nextSibling",i))))for(;null==r&&(i=b("parentNode",i))!==n;)r=b("nextSibling",i),1===i.nodeType&&t.end(i.nodeName.toLowerCase());i=r}for(;i=n.firstChild;)n.removeChild(i)},d=function(e,t){var n=!1,r=i(e,e.push);return{start:function(e,i){e=l(e),!n&&O[e]&&(n=e),n||!0!==A[e]||(r("<"),r(e),a(i,function(n,i){var a=l(i),o="img"===e&&"src"===a||"background"===a;!0!==I[a]||!0===M[a]&&!t(n,o)||(r(" "),r(i),r('="'),r(v(n)),r('"'))}),r(">"))},end:function(e){e=l(e),n||!0!==A[e]||!0===C[e]||(r("</"),r(e),r(">")),e==n&&(n=!1)},chars:function(e){n||r(v(e))}}},u=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};var x=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,k=/([^#-~ |!])/g,C=n("area,br,col,hr,img,wbr"),T=n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),S=n("rp,rt"),E=r({},S,T),T=r({},T,n("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),S=r({},S,n("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),D=n("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),O=n("script,style"),A=r({},C,T,S,E),M=n("background,cite,href,longdesc,src,xlink:href,xml:base"),E=n("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),S=n("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),I=r({},M,S,E),P=function(e,t){function n(t){t="<remove></remove>"+t;try{var n=(new e.DOMParser).parseFromString(t,"text/html").body;return n.firstChild.remove(),n}catch(e){}}function i(e){return a.innerHTML=e,t.documentMode&&$(a),a}var r;if(!t||!t.implementation)throw h("noinert");r=t.implementation.createHTMLDocument("inert");var a=(r.documentElement||r.getDocumentElement()).querySelector("body");return a.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',a.querySelector("svg")?(a.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',a.querySelector("svg img")?n:i):function(t){t="<remove></remove>"+t;try{t=encodeURI(t)}catch(e){return}var n=new e.XMLHttpRequest;return n.responseType="document",n.open("GET","data:text/html;charset=utf-8,"+t,!1),n.send(null),t=n.response.body,t.firstChild.remove(),t}}(e,e.document)}).info({angularVersion:"1.7.8"}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var i=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i,a=t.$$minErr("linky"),o=t.isDefined,s=t.isFunction,l=t.isObject,c=t.isString;return function(t,u,p){function d(e){e&&v.push(n(e))}if(null==t||""===t)return t;if(!c(t))throw a("notstring",t);for(var h,f,g=s(p)?p:l(p)?function(){return p}:function(){return{}},m=t,v=[];t=m.match(i);)h=t[0],t[2]||t[4]||(h=(t[3]?"http://":"mailto:")+h),f=t.index,d(m.substr(0,f)),function(e,t){var n,i=g(e);v.push("<a ");for(n in i)v.push(n+'="'+i[n]+'" ');!o(u)||"target"in i||v.push('target="',u,'" '),v.push('href="',e.replace(/"/g,"&quot;"),'">'),d(t),v.push("</a>")}(h,t[0].replace(r,"")),m=m.substring(f+t[0].length);return d(m),e(v.join(""))}}])}(window,window.angular),function(e,t){"use strict";function n(e,n,i){function r(e,i,r){var o,s;r=r||{},s=r.expires,o=t.isDefined(r.path)?r.path:a,t.isUndefined(i)&&(s="Thu, 01 Jan 1970 00:00:00 GMT",i=""),t.isString(s)&&(s=new Date(s));var l=encodeURIComponent(e)+"="+encodeURIComponent(i);l+=o?";path="+o:"",l+=r.domain?";domain="+r.domain:"",l+=s?";expires="+s.toUTCString():"",l+=r.secure?";secure":"",l+=r.samesite?";samesite="+r.samesite:"";var c=l.length+1;return c>4096&&n.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+c+" > 4096 bytes)!"),l}var a=i.baseHref(),o=e[0];return function(e,t,n){o.cookie=r(e,t,n)}}t.module("ngCookies",["ng"]).info({angularVersion:"1.7.8"}).provider("$cookies",[function(){function e(e){return e?t.extend({},n,e):n}var n=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(n,i){return{get:function(e){return n()[e]},getObject:function(e){var n=this.get(e);return n?t.fromJson(n):n},getAll:function(){return n()},put:function(t,n,r){i(t,n,e(r))},putObject:function(e,n,i){this.put(e,t.toJson(n),i)},remove:function(t,n){i(t,void 0,e(n))}}}]}]),n.$inject=["$document","$log","$browser"],t.module("ngCookies").provider("$$cookieWriter",function(){this.$get=n})}(window,window.angular),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.tabindex","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.multiMap","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(e,t,n,i){var r=i.has("$animateCss")?i.get("$animateCss"):null;return{link:function(i,a,o){function s(e){return m?{width:e.scrollWidth+"px"}:{height:e.scrollHeight+"px"}}function l(){a.hasClass("collapse")&&a.hasClass("in")||t.resolve(d(i)).then(function(){a.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),r?r(a,{addClass:"in",easing:"ease",css:{overflow:"hidden"},to:s(a[0])}).start().finally(c):e.addClass(a,"in",{css:{overflow:"hidden"},to:s(a[0])}).then(c)},angular.noop)}function c(){a.removeClass("collapsing").addClass("collapse").css(v),h(i)}function u(){return a.hasClass("collapse")||a.hasClass("in")?void t.resolve(f(i)).then(function(){a.css(s(a[0])).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),r?r(a,{removeClass:"in",to:$}).start().finally(p):e.removeClass(a,"in",{to:$}).then(p)},angular.noop):p()}function p(){a.css($),a.removeClass("collapsing").addClass("collapse"),g(i)}var d=n(o.expanding),h=n(o.expanded),f=n(o.collapsing),g=n(o.collapsed),m=!1,v={},$={};(function(){m=!!("horizontal"in o),m?(v={width:""},$={width:"0"}):(v={height:""},$={height:"0"}),i.$eval(o.uibCollapse)||a.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css(v)})(),i.$watch(o.uibCollapse,function(e){e?u():l()})}}}]),angular.module("ui.bootstrap.tabindex",[]).directive("uibTabindexToggle",function(){return{restrict:"A",link:function(e,t,n){n.$observe("disabled",function(e){n.$set("tabindex",e?-1:null)})}}}),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse","ui.bootstrap.tabindex"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(i){(angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers)&&angular.forEach(this.groups,function(e){e!==i&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(n){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,i){t.addClass("panel"),i.addGroup(e),e.openClass=n.openClass||"panel-open",e.panelClass=n.panelClass||"panel-default",e.$watch("isOpen",function(n){t.toggleClass(e.openClass,!!n),n&&i.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)};var r="accordiongroup-"+e.$id+"-"+Math.floor(1e4*Math.random());e.headingId=r+"-tab",e.panelId=r+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(e,t,n,i,r){i.setHeading(r(e,angular.noop))}}}).directive("uibAccordionTransclude",function(){return{require:"^uibAccordionGroup",link:function(e,t,n,i){e.$watch(function(){return i[n.uibAccordionTransclude]},function(e){if(e){var n=angular.element(t[0].querySelector("uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"));n.html(""),n.append(e)}})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$element","$attrs","$interpolate","$timeout",function(e,t,n,i,r){e.closeable=!!n.close,t.addClass("alert"),n.$set("role","alert"),e.closeable&&t.addClass("alert-dismissible");var a=angular.isDefined(n.dismissOnTimeout)?i(n.dismissOnTimeout)(e.$parent):null;a&&r(function(){e.close()},parseInt(a,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/alert/alert.html"},transclude:!0,scope:{close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{
activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(e){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(t,n,i,r){var a=r[0],o=r[1],s=e(i.uibUncheckable);n.find("input").css({display:"none"}),o.$render=function(){n.toggleClass(a.activeClass,angular.equals(o.$modelValue,t.$eval(i.uibBtnRadio)))},n.on(a.toggleEvent,function(){if(!i.disabled){var e=n.hasClass(a.activeClass);e&&!angular.isDefined(i.uncheckable)||t.$apply(function(){o.$setViewValue(e?null:t.$eval(i.uibBtnRadio)),o.$render()})}}),i.uibUncheckable&&t.$watch(s,function(e){i.$set("uncheckable",e?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(e,t,n,i){function r(){return o(n.btnCheckboxTrue,!0)}function a(){return o(n.btnCheckboxFalse,!1)}function o(t,n){return angular.isDefined(t)?e.$eval(t):n}var s=i[0],l=i[1];t.find("input").css({display:"none"}),l.$render=function(){t.toggleClass(s.activeClass,angular.equals(l.$modelValue,r()))},t.on(s.toggleEvent,function(){n.disabled||e.$apply(function(){l.$setViewValue(t.hasClass(s.activeClass)?a():r()),l.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(e,t,n,i,r){function a(e){for(var t=0;t<g.length;t++)g[t].slide.active=t===e}function o(n,i,o){if(!$){if(angular.extend(n,{direction:o}),angular.extend(g[v].slide||{},{direction:o}),r.enabled(t)&&!e.$currentTransition&&g[i].element&&f.slides.length>1){g[i].element.data(m,n.direction);var s=f.getCurrentIndex();angular.isNumber(s)&&g[s].element&&g[s].element.data(m,n.direction),e.$currentTransition=!0,r.on("addClass",g[i].element,function(t,n){"close"===n&&(e.$currentTransition=null,r.off("addClass",t))})}e.active=n.index,v=n.index,a(i),u()}}function s(e){for(var t=0;t<g.length;t++)if(g[t].slide===e)return t}function l(){d&&(n.cancel(d),d=null)}function c(t){t.length||(e.$currentTransition=null)}function u(){l();var t=+e.interval;!isNaN(t)&&t>0&&(d=n(p,t))}function p(){var t=+e.interval;h&&!isNaN(t)&&t>0&&g.length?e.next():e.pause()}var d,h,f=this,g=f.slides=e.slides=[],m="uib-slideDirection",v=e.active,$=!1;t.addClass("carousel"),f.addSlide=function(t,n){g.push({slide:t,element:n}),g.sort(function(e,t){return+e.slide.index-+t.slide.index}),(t.index===e.active||1===g.length&&!angular.isNumber(e.active))&&(e.$currentTransition&&(e.$currentTransition=null),v=t.index,e.active=t.index,a(v),f.select(g[s(t)]),1===g.length&&e.play())},f.getCurrentIndex=function(){for(var e=0;e<g.length;e++)if(g[e].slide.index===v)return e},f.next=e.next=function(){var t=(f.getCurrentIndex()+1)%g.length;return 0===t&&e.noWrap()?void e.pause():f.select(g[t],"next")},f.prev=e.prev=function(){var t=f.getCurrentIndex()-1<0?g.length-1:f.getCurrentIndex()-1;return e.noWrap()&&t===g.length-1?void e.pause():f.select(g[t],"prev")},f.removeSlide=function(t){var n=s(t);g.splice(n,1),g.length>0&&v===n?n>=g.length?(v=g.length-1,e.active=v,a(v),f.select(g[g.length-1])):(v=n,e.active=v,a(v),f.select(g[n])):v>n&&(v--,e.active=v),0===g.length&&(v=null,e.active=null)},f.select=e.select=function(t,n){var i=s(t.slide);void 0===n&&(n=i>f.getCurrentIndex()?"next":"prev"),t.slide.index===v||e.$currentTransition||o(t.slide,i,n)},e.indexOfSlide=function(e){return+e.slide.index},e.isActive=function(t){return e.active===t.slide.index},e.isPrevDisabled=function(){return 0===e.active&&e.noWrap()},e.isNextDisabled=function(){return e.active===g.length-1&&e.noWrap()},e.pause=function(){e.noPause||(h=!1,l())},e.play=function(){h||(h=!0,u())},t.on("mouseenter",e.pause),t.on("mouseleave",e.play),e.$on("$destroy",function(){$=!0,l()}),e.$watch("noTransition",function(e){r.enabled(t,!e)}),e.$watch("interval",u),e.$watchCollection("slides",c),e.$watch("active",function(e){if(angular.isNumber(e)&&v!==e){for(var t=0;t<g.length;t++)if(g[t].slide.index===e){e=t;break}g[e]&&(a(e),f.select(g[e]),v=e)}})}]).directive("uibCarousel",function(){return{transclude:!0,controller:"UibCarouselController",controllerAs:"carousel",restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",["$animate",function(e){return{require:"^uibCarousel",restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(t,n,i,r){n.addClass("item"),r.addSlide(t,n),t.$on("$destroy",function(){r.removeSlide(t)}),t.$watch("active",function(t){e[t?"addClass":"removeClass"](n,"active")})}}}]).animation(".item",["$animateCss",function(e){function t(e,t,n){e.removeClass(t),n&&n()}var n="uib-slideDirection";return{beforeAddClass:function(i,r,a){if("active"===r){var o=!1,s=i.data(n),l="next"===s?"left":"right",c=t.bind(this,i,l+" "+s,a);return i.addClass(s),e(i,{addClass:l}).start().done(c),function(){o=!0}}a()},beforeRemoveClass:function(i,r,a){if("active"===r){var o=!1,s=i.data(n),l="next"===s?"left":"right",c=t.bind(this,i,l,a);return e(i,{addClass:l}).start().done(c),function(){o=!0}}a()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter","filterFilter",function(e,t,n,i,r){function a(e){return r($,{key:e},!0)[0]}function o(e){var t=[],n=e.split(""),r=e.indexOf("'");if(r>-1){var a=!1;e=e.split("");for(var o=r;o<e.length;o++)a?("'"===e[o]&&(o+1<e.length&&"'"===e[o+1]?(e[o+1]="$",n[o+1]=""):(n[o]="",a=!1)),e[o]="$"):"'"===e[o]&&(e[o]="$",n[o]="",a=!0);e=e.join("")}return angular.forEach($,function(i){var r=e.indexOf(i.key);if(r>-1){e=e.split(""),n[r]="("+i.regex+")",e[r]="$";for(var a=r+1,o=r+i.key.length;o>a;a++)n[a]="",e[a]="$";e=e.join(""),t.push({index:r,key:i.key,apply:i.apply,matcher:i.regex})}}),{regex:new RegExp("^"+n.join("")+"$"),map:i(t,"index")}}function s(e){for(var t,n,i=[],r=0;r<e.length;)if(angular.isNumber(n)){if("'"===e.charAt(r))(r+1>=e.length||"'"!==e.charAt(r+1))&&(i.push(l(e,n,r)),n=null);else if(r===e.length)for(;n<e.length;)t=c(e,n),i.push(t),n=t.endIdx;r++}else"'"!==e.charAt(r)?(t=c(e,r),i.push(t.parser),r=t.endIdx):(n=r,r++);return i}function l(e,t,n){return function(){return e.substr(t+1,n-t-1)}}function c(e,t){for(var n=e.substr(t),i=0;i<$.length;i++)if(new RegExp("^"+$[i].key).test(n)){var r=$[i];return{endIdx:t+r.key.length,parser:r.formatter}}return{endIdx:t+1,parser:function(){return n.charAt(0)}}}function u(e,t,n){return!(1>n)&&(1===t&&n>28?29===n&&(e%4==0&&e%100!=0||e%400==0):3!==t&&5!==t&&8!==t&&10!==t||31>n)}function p(e){return parseInt(e,10)}function d(e,t){return e&&t?m(e,t):e}function h(e,t){return e&&t?m(e,t,!0):e}function f(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function g(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function m(e,t,n){n=n?-1:1;var i=e.getTimezoneOffset();return g(e,n*(f(t,i)-i))}var v,$,b=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){v=t.id,this.parsers={},this.formatters={},$=[{key:"yyyy",regex:"\\d{4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(e){e=+e,this.year=69>e?e+2e3:e+1900},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return/^[0-9]$/.test(e.getMonth())?n(e,"MM"):n(e,"M")}},{key:"MMMM",regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)},formatter:function(e){return n(e,"MMMM")}},{key:"MMM",regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)},formatter:function(e){return n(e,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return/^[1-9]$/.test(e.getDate())?n(e,"dd"):n(e,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"d")}},{key:"EEEE",regex:t.DATETIME_FORMATS.DAY.join("|"),formatter:function(e){return n(e,"EEEE")}},{key:"EEE",regex:t.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(e){return n(e,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e},formatter:function(e){return n(e,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"s")}},{key:"a",regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)},formatter:function(e){return n(e,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(e){var t=e.match(/([+-])(\d{2})(\d{2})/),n=t[1],i=t[2],r=t[3];this.hours+=p(n+i),this.minutes+=p(n+r)},formatter:function(e){return n(e,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(e){return n(e,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(e){return n(e,"w")}},{key:"GGGG",regex:t.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(e){return n(e,"GGGG")}},{key:"GGG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GGG")}},{key:"GG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GG")}},{key:"G",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"G")}}],angular.version.major>=1&&angular.version.minor>4&&$.push({key:"LLLL",regex:t.DATETIME_FORMATS.STANDALONEMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.STANDALONEMONTH.indexOf(e)},formatter:function(e){return n(e,"LLLL")}})},this.init(),this.getParser=function(e){var t=a(e);return t&&t.apply||null},this.overrideParser=function(e,t){var n=a(e);n&&angular.isFunction(t)&&(this.parsers={},n.apply=t)}.bind(this),this.filter=function(e,n){return angular.isDate(e)&&!isNaN(e)&&n?(n=t.DATETIME_FORMATS[n]||n,t.id!==v&&this.init(),this.formatters[n]||(this.formatters[n]=s(n)),this.formatters[n].reduce(function(t,n){return t+n(e)},"")):""},this.parse=function(n,i,r){if(!angular.isString(n)||!i)return n;i=t.DATETIME_FORMATS[i]||i,i=i.replace(b,"\\$&"),t.id!==v&&this.init(),this.parsers[i]||(this.parsers[i]=o(i));var a=this.parsers[i],s=a.regex,l=a.map,c=n.match(s),p=!1;if(c&&c.length){var d,h;angular.isDate(r)&&!isNaN(r.getTime())?d={year:r.getFullYear(),month:r.getMonth(),date:r.getDate(),hours:r.getHours(),minutes:r.getMinutes(),seconds:r.getSeconds(),milliseconds:r.getMilliseconds()}:(r&&e.warn("dateparser:","baseDate is not a valid date"),d={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var f=1,g=c.length;g>f;f++){var m=l[f-1];"Z"===m.matcher&&(p=!0),m.apply&&m.apply.call(d,c[f])}var $=p?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,y=p?Date.prototype.setUTCHours:Date.prototype.setHours;return u(d.year,d.month,d.date)&&(!angular.isDate(r)||isNaN(r.getTime())||p?(h=new Date(0),$.call(h,d.year,d.month,d.date),y.call(h,d.hours||0,d.minutes||0,d.seconds||0,d.milliseconds||0)):(h=new Date(r),$.call(h,d.year,d.month,d.date),y.call(h,d.hours,d.minutes,d.seconds,d.milliseconds))),h}},this.toTimezone=d,this.fromTimezone=h,this.timezoneToOffset=f,this.addDateMinutes=g,this.convertTimezoneToLocal=m}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(e){var t=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,n=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(i,r){function a(e,t,n){l.push(e),c.push({scope:e,element:t}),f.forEach(function(t,n){o(t,e)}),e.$on("$destroy",s)}function o(t,i){var r=t.match(n),a=i.$eval(r[1]),o=r[2],s=u[t];if(!s){var l=function(t){var n=null;c.some(function(e){return e.scope.$eval(d)===t?(n=e,!0):void 0}),s.lastActivated!==n&&(s.lastActivated&&e.removeClass(s.lastActivated.element,a),n&&e.addClass(n.element,a),s.lastActivated=n)};u[t]=s={lastActivated:null,scope:i,watchFn:l,compareWithExp:o,watcher:i.$watch(o,l)}}s.watchFn(i.$eval(o))}function s(e){var t=e.targetScope,n=l.indexOf(t);if(l.splice(n,1),c.splice(n,1),l.length){var i=l[0];angular.forEach(u,function(e){e.scope===t&&(e.watcher=i.$watch(e.compareWithExp,e.watchFn),e.scope=i)})}else u={}}var l=[],c=[],u={},p=r.uibIsClass.match(t),d=p[2],h=p[1],f=h.split(",");return a}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",monthColumns:3,ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$element","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(e,t,n,i,r,a,o,s,l,c,u,p){function d(t){e.datepickerMode=t,e.datepickerOptions.datepickerMode=t}function h(t){var n;if(angular.version.minor<6)n=t.$options||e.datepickerOptions.ngModelOptions||l.ngModelOptions||{},n.getOption=function(e){return n[e]};else{var i=t.$options.getOption("timezone")||(e.datepickerOptions.ngModelOptions?e.datepickerOptions.ngModelOptions.timezone:null)||(l.ngModelOptions?l.ngModelOptions.timezone:null);n=t.$options.createChild(l.ngModelOptions).createChild(e.datepickerOptions.ngModelOptions).createChild(t.$options).createChild({timezone:i})}return n}var f=this,g={$setViewValue:angular.noop},m={},v=[];t.addClass("uib-datepicker"),n.$set("role","application"),e.datepickerOptions||(e.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","monthColumns","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(t){switch(t){case"customClass":case"dateDisabled":e[t]=e.datepickerOptions[t]||angular.noop;break;case"datepickerMode":e.datepickerMode=angular.isDefined(e.datepickerOptions.datepickerMode)?e.datepickerOptions.datepickerMode:l.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":f[t]=angular.isDefined(e.datepickerOptions[t])?r(e.datepickerOptions[t])(e.$parent):l[t];break;case"monthColumns":case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":f[t]=angular.isDefined(e.datepickerOptions[t])?e.datepickerOptions[t]:l[t];break;case"startingDay":angular.isDefined(e.datepickerOptions.startingDay)?f.startingDay=e.datepickerOptions.startingDay:angular.isNumber(l.startingDay)?f.startingDay=l.startingDay:f.startingDay=(a.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":e.$watch("datepickerOptions."+t,function(e){e?angular.isDate(e)?f[t]=p.fromTimezone(new Date(e),m.getOption("timezone")):(c&&o.warn("Literal date support has been deprecated, please switch to date object usage"),f[t]=new Date(s(e,"medium"))):f[t]=l[t]?p.fromTimezone(new Date(l[t]),m.getOption("timezone")):null,f.refreshView()});break;case"maxMode":case"minMode":e.datepickerOptions[t]?e.$watch(function(){return e.datepickerOptions[t]},function(n){f[t]=e[t]=angular.isDefined(n)?n:e.datepickerOptions[t],("minMode"===t&&f.modes.indexOf(e.datepickerOptions.datepickerMode)<f.modes.indexOf(f[t])||"maxMode"===t&&f.modes.indexOf(e.datepickerOptions.datepickerMode)>f.modes.indexOf(f[t]))&&(e.datepickerMode=f[t],e.datepickerOptions.datepickerMode=f[t])}):f[t]=e[t]=l[t]||null}}),e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),e.disabled=angular.isDefined(n.disabled)||!1,angular.isDefined(n.ngDisabled)&&v.push(e.$parent.$watch(n.ngDisabled,function(t){e.disabled=t,f.refreshView()})),e.isActive=function(t){return 0===f.compare(t.date,f.activeDate)&&(e.activeDateId=t.uid,!0)},this.init=function(t){g=t,m=h(g),e.datepickerOptions.initDate?(f.activeDate=p.fromTimezone(e.datepickerOptions.initDate,m.getOption("timezone"))||new Date,e.$watch("datepickerOptions.initDate",function(e){e&&(g.$isEmpty(g.$modelValue)||g.$invalid)&&(f.activeDate=p.fromTimezone(e,m.getOption("timezone")),f.refreshView())})):f.activeDate=new Date;var n=g.$modelValue?new Date(g.$modelValue):new Date;this.activeDate=isNaN(n)?p.fromTimezone(new Date,m.getOption("timezone")):p.fromTimezone(n,m.getOption("timezone")),g.$render=function(){f.render()}},this.render=function(){if(g.$viewValue){var e=new Date(g.$viewValue);!isNaN(e)?this.activeDate=p.fromTimezone(e,m.getOption("timezone")):u||o.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){e.selectedDt=null,this._refreshView(),e.activeDt&&(e.activeDateId=e.activeDt.uid);var t=g.$viewValue?new Date(g.$viewValue):null;t=p.fromTimezone(t,m.getOption("timezone")),g.$setValidity("dateDisabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,n){var i=g.$viewValue?new Date(g.$viewValue):null;i=p.fromTimezone(i,m.getOption("timezone"));var r=new Date;r=p.fromTimezone(r,m.getOption("timezone"));var a=this.compare(t,r),o={date:t,label:p.filter(t,n),selected:i&&0===this.compare(t,i),disabled:this.isDisabled(t),past:0>a,current:0===a,future:a>0,customClass:this.customClass(t)||null};return i&&0===this.compare(t,i)&&(e.selectedDt=o),f.activeDate&&0===this.compare(o.date,f.activeDate)&&(e.activeDt=o),o},this.isDisabled=function(t){return e.disabled||this.minDate&&this.compare(t,this.minDate)<0||this.maxDate&&this.compare(t,this.maxDate)>0||e.dateDisabled&&e.dateDisabled({date:t,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===f.minMode){var n=g.$viewValue?p.fromTimezone(new Date(g.$viewValue),m.getOption("timezone")):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n=p.toTimezone(n,m.getOption("timezone")),g.$setViewValue(n),g.$render()}else f.activeDate=t,d(f.modes[f.modes.indexOf(e.datepickerMode)-1]),e.$emit("uib:datepicker.mode");e.$broadcast("uib:datepicker.focus")},e.move=function(e){var t=f.activeDate.getFullYear()+e*(f.step.years||0),n=f.activeDate.getMonth()+e*(f.step.months||0);f.activeDate.setFullYear(t,n,1),f.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===f.maxMode&&1===t||e.datepickerMode===f.minMode&&-1===t||(d(f.modes[f.modes.indexOf(e.datepickerMode)+t]),e.$emit("uib:datepicker.mode"))},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var $=function(){f.element[0].focus()};e.$on("uib:datepicker.focus",$),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey&&!e.disabled)if(t.preventDefault(),f.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(f.isDisabled(f.activeDate))return;e.select(f.activeDate)}else!t.ctrlKey||"up"!==n&&"down"!==n?(f.handleKeyDown(n,t),f.refreshView()):e.toggleMode("up"===n?1:-1)},t.on("keydown",function(t){e.$apply(function(){e.keydown(t)})}),e.$on("$destroy",function(){for(;v.length;)v.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(e,t,n){function i(e,t){return 1!==t||e%4!=0||e%100==0&&e%400!=0?a[t]:29}function r(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}var a=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=t,this.init=function(t){angular.extend(t,this),e.showWeeks=t.showWeeks,t.refreshView()},this.getDates=function(e,t){for(var n,i=new Array(t),r=new Date(e),a=0;t>a;)n=new Date(r),i[a++]=n,r.setDate(r.getDate()+1);return i},this._refreshView=function(){var t=this.activeDate.getFullYear(),i=this.activeDate.getMonth(),a=new Date(this.activeDate);a.setFullYear(t,i,1);var o=this.startingDay-a.getDay(),s=o>0?7-o:-o,l=new Date(a);s>0&&l.setDate(1-s);for(var c=this.getDates(l,42),u=0;42>u;u++)c[u]=angular.extend(this.createDateObject(c[u],this.formatDay),{secondary:c[u].getMonth()!==i,uid:e.uniqueId+"-"+u});e.labels=new Array(7);for(var p=0;7>p;p++)e.labels[p]={abbr:n(c[p].date,this.formatDayHeader),full:n(c[p].date,"EEEE")};if(e.title=n(this.activeDate,this.formatDayTitle),e.rows=this.split(c,7),e.showWeeks){e.weekNumbers=[];for(var d=(11-this.startingDay)%7,h=e.rows.length,f=0;h>f;f++)e.weekNumbers.push(r(e.rows[f][d].date))}},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),i=new Date(t.getFullYear(),t.getMonth(),t.getDate());return n.setFullYear(e.getFullYear()),i.setFullYear(t.getFullYear()),n-i},this.handleKeyDown=function(e,t){var n=this.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var r=this.activeDate.getMonth()+("pageup"===e?-1:1);this.activeDate.setMonth(r,1),n=Math.min(i(this.activeDate.getFullYear(),this.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=i(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(n)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(e,t,n){this.step={years:1},this.element=t,this.init=function(e){angular.extend(e,this),e.refreshView()},this._refreshView=function(){for(var t,i=new Array(12),r=this.activeDate.getFullYear(),a=0;12>a;a++)t=new Date(this.activeDate),t.setFullYear(r,a,1),i[a]=angular.extend(this.createDateObject(t,this.formatMonth),{uid:e.uniqueId+"-"+a});e.title=n(this.activeDate,this.formatMonthTitle),e.rows=this.split(i,this.monthColumns),e.yearHeaderColspan=this.monthColumns>3?this.monthColumns-2:1},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth()),i=new Date(t.getFullYear(),t.getMonth());return n.setFullYear(e.getFullYear()),i.setFullYear(t.getFullYear()),n-i},this.handleKeyDown=function(e,t){var n=this.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=this.monthColumns;else if("right"===e)n+=1;else if("down"===e)n+=this.monthColumns;else if("pageup"===e||"pagedown"===e){var i=this.activeDate.getFullYear()+("pageup"===e?-1:1);this.activeDate.setFullYear(i)}else"home"===e?n=0:"end"===e&&(n=11);this.activeDate.setMonth(n)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(e,t,n){function i(e){return parseInt((e-1)/a,10)*a+1}var r,a;this.element=t,this.yearpickerInit=function(){r=this.yearColumns,a=this.yearRows*r,this.step={years:a}},this._refreshView=function(){for(var t,n=new Array(a),o=0,s=i(this.activeDate.getFullYear());a>o;o++)t=new Date(this.activeDate),t.setFullYear(s+o,0,1),n[o]=angular.extend(this.createDateObject(t,this.formatYear),{uid:e.uniqueId+"-"+o});e.title=[n[0].label,n[a-1].label].join(" - "),e.rows=this.split(n,r),e.columns=r},this.compare=function(e,t){return e.getFullYear()-t.getFullYear()},this.handleKeyDown=function(e,t){var n=this.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=r:"right"===e?n+=1:"down"===e?n+=r:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*a:"home"===e?n=i(this.activeDate.getFullYear()):"end"===e&&(n=i(this.activeDate.getFullYear())+a-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],restrict:"A",controller:"UibDatepickerController",controllerAs:"datepicker",link:function(e,t,n,i){var r=i[0],a=i[1];r.init(a)}}}).directive("uibDaypicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],restrict:"A",controller:"UibDaypickerController",link:function(e,t,n,i){var r=i[0];i[1].init(r)}}}).directive("uibMonthpicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],restrict:"A",controller:"UibMonthpickerController",link:function(e,t,n,i){var r=i[0];i[1].init(r)}}}).directive("uibYearpicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],restrict:"A",controller:"UibYearpickerController",link:function(e,t,n,i){var r=i[0];angular.extend(r,i[1]),r.yearpickerInit(),r.refreshView()}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){var n,i,r={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},a={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},o=/(HTML|BODY)/;return{getRawNode:function(e){return e.nodeName?e:e[0]||e},parseStyle:function(e){return e=parseFloat(e),isFinite(e)?e:0},offsetParent:function(n){n=this.getRawNode(n);for(var i=n.offsetParent||e[0].documentElement;i&&i!==e[0].documentElement&&function(e){return"static"===(t.getComputedStyle(e).position||"static")}(i);)i=i.offsetParent;return i||e[0].documentElement},scrollbarWidth:function(r){if(r){if(angular.isUndefined(i)){var a=e.find("body");a.addClass("uib-position-body-scrollbar-measure"),i=t.innerWidth-a[0].clientWidth,i=isFinite(i)?i:0,a.removeClass("uib-position-body-scrollbar-measure")}return i}if(angular.isUndefined(n)){var o=angular.element('<div class="uib-position-scrollbar-measure"></div>');e.find("body").append(o),n=o[0].offsetWidth-o[0].clientWidth,n=isFinite(n)?n:0,o.remove()}return n},scrollbarPadding:function(e){e=this.getRawNode(e);var n=t.getComputedStyle(e),i=this.parseStyle(n.paddingRight),r=this.parseStyle(n.paddingBottom),a=this.scrollParent(e,!1,!0),s=this.scrollbarWidth(o.test(a.tagName));return{scrollbarWidth:s,widthOverflow:a.scrollWidth>a.clientWidth,right:i+s,originalRight:i,heightOverflow:a.scrollHeight>a.clientHeight,bottom:r+s,originalBottom:r}},isScrollable:function(e,n){e=this.getRawNode(e);var i=n?r.hidden:r.normal,a=t.getComputedStyle(e);return i.test(a.overflow+a.overflowY+a.overflowX)},scrollParent:function(n,i,a){n=this.getRawNode(n);var o=i?r.hidden:r.normal,s=e[0].documentElement,l=t.getComputedStyle(n);if(a&&o.test(l.overflow+l.overflowY+l.overflowX))return n;var c="absolute"===l.position,u=n.parentElement||s;if(u===s||"fixed"===l.position)return s;for(;u.parentElement&&u!==s;){var p=t.getComputedStyle(u);if(c&&"static"!==p.position&&(c=!1),!c&&o.test(p.overflow+p.overflowY+p.overflowX))break;u=u.parentElement}return u},position:function(n,i){n=this.getRawNode(n);var r=this.offset(n);if(i){var a=t.getComputedStyle(n);r.top-=this.parseStyle(a.marginTop),r.left-=this.parseStyle(a.marginLeft)}var o=this.offsetParent(n),s={top:0,left:0};return o!==e[0].documentElement&&(s=this.offset(o),s.top+=o.clientTop-o.scrollTop,s.left+=o.clientLeft-o.scrollLeft),{width:Math.round(angular.isNumber(r.width)?r.width:n.offsetWidth),height:Math.round(angular.isNumber(r.height)?r.height:n.offsetHeight),top:Math.round(r.top-s.top),left:Math.round(r.left-s.left)}},offset:function(n){n=this.getRawNode(n);var i=n.getBoundingClientRect();return{width:Math.round(angular.isNumber(i.width)?i.width:n.offsetWidth),height:Math.round(angular.isNumber(i.height)?i.height:n.offsetHeight),top:Math.round(i.top+(t.pageYOffset||e[0].documentElement.scrollTop)),left:Math.round(i.left+(t.pageXOffset||e[0].documentElement.scrollLeft))}},viewportOffset:function(n,i,r){n=this.getRawNode(n),r=!1!==r;var a=n.getBoundingClientRect(),o={top:0,left:0,bottom:0,right:0},s=i?e[0].documentElement:this.scrollParent(n),l=s.getBoundingClientRect();if(o.top=l.top+s.clientTop,o.left=l.left+s.clientLeft,s===e[0].documentElement&&(o.top+=t.pageYOffset,o.left+=t.pageXOffset),o.bottom=o.top+s.clientHeight,o.right=o.left+s.clientWidth,r){var c=t.getComputedStyle(s);o.top+=this.parseStyle(c.paddingTop),o.bottom-=this.parseStyle(c.paddingBottom),o.left+=this.parseStyle(c.paddingLeft),o.right-=this.parseStyle(c.paddingRight)}return{top:Math.round(a.top-o.top),bottom:Math.round(o.bottom-a.bottom),left:Math.round(a.left-o.left),right:Math.round(o.right-a.right)}},parsePlacement:function(e){var t=a.auto.test(e);return t&&(e=e.replace(a.auto,"")),e=e.split("-"),e[0]=e[0]||"top",a.primary.test(e[0])||(e[0]="top"),e[1]=e[1]||"center",a.secondary.test(e[1])||(e[1]="center"),e[2]=!!t,e},positionElements:function(e,n,i,r){e=this.getRawNode(e),n=this.getRawNode(n);var o=angular.isDefined(n.offsetWidth)?n.offsetWidth:n.prop("offsetWidth"),s=angular.isDefined(n.offsetHeight)?n.offsetHeight:n.prop("offsetHeight");i=this.parsePlacement(i);var l=r?this.offset(e):this.position(e),c={top:0,left:0,placement:""};if(i[2]){var u=this.viewportOffset(e,r),p=t.getComputedStyle(n),d={width:o+Math.round(Math.abs(this.parseStyle(p.marginLeft)+this.parseStyle(p.marginRight))),height:s+Math.round(Math.abs(this.parseStyle(p.marginTop)+this.parseStyle(p.marginBottom)))};if(i[0]="top"===i[0]&&d.height>u.top&&d.height<=u.bottom?"bottom":"bottom"===i[0]&&d.height>u.bottom&&d.height<=u.top?"top":"left"===i[0]&&d.width>u.left&&d.width<=u.right?"right":"right"===i[0]&&d.width>u.right&&d.width<=u.left?"left":i[0],i[1]="top"===i[1]&&d.height-l.height>u.bottom&&d.height-l.height<=u.top?"bottom":"bottom"===i[1]&&d.height-l.height>u.top&&d.height-l.height<=u.bottom?"top":"left"===i[1]&&d.width-l.width>u.right&&d.width-l.width<=u.left?"right":"right"===i[1]&&d.width-l.width>u.left&&d.width-l.width<=u.right?"left":i[1],"center"===i[1])if(a.vertical.test(i[0])){var h=l.width/2-o/2;u.left+h<0&&d.width-l.width<=u.right?i[1]="left":u.right+h<0&&d.width-l.width<=u.left&&(i[1]="right")}else{var f=l.height/2-d.height/2;u.top+f<0&&d.height-l.height<=u.bottom?i[1]="top":u.bottom+f<0&&d.height-l.height<=u.top&&(i[1]="bottom")}}switch(i[0]){case"top":c.top=l.top-s;break;case"bottom":c.top=l.top+l.height;break;case"left":c.left=l.left-o;break;case"right":c.left=l.left+l.width}switch(i[1]){case"top":c.top=l.top;break;case"bottom":c.top=l.top+l.height-s;break;case"left":c.left=l.left;break;case"right":c.left=l.left+l.width-o;break
;case"center":a.vertical.test(i[0])?c.left=l.left+l.width/2-o/2:c.top=l.top+l.height/2-s/2}return c.top=Math.round(c.top),c.left=Math.round(c.left),c.placement="center"===i[1]?i[0]:i[0]+"-"+i[1],c},adjustTop:function(e,t,n,i){return-1!==e.indexOf("top")&&n!==i?{top:t.top-i+"px"}:void 0},positionArrow:function(e,n){e=this.getRawNode(e);var i=e.querySelector(".tooltip-inner, .popover-inner");if(i){var r=angular.element(i).hasClass("tooltip-inner"),o=r?e.querySelector(".tooltip-arrow"):e.querySelector(".arrow");if(o){var s={top:"",bottom:"",left:"",right:""};if(n=this.parsePlacement(n),"center"===n[1])return void angular.element(o).css(s);var l="border-"+n[0]+"-width",c=t.getComputedStyle(o)[l],u="border-";u+=a.vertical.test(n[0])?n[0]+"-"+n[1]:n[1]+"-"+n[0],u+="-radius";var p=t.getComputedStyle(r?i:e)[u];switch(n[0]){case"top":s.bottom=r?"0":"-"+c;break;case"bottom":s.top=r?"0":"-"+c;break;case"left":s.right=r?"0":"-"+c;break;case"right":s.left=r?"0":"-"+c}s[n[1]]=p,angular.element(o).css(s)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(e,t,n,i,r,a,o,s,l,c,u,p,d,h,f,g){function m(t){var n=p.parse(t,k,e.date);if(isNaN(n))for(var i=0;i<j.length;i++)if(n=p.parse(t,j[i],e.date),!isNaN(n))return n;return n}function v(e){if(angular.isNumber(e)&&(e=new Date(e)),!e)return null;if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=m(e);if(!isNaN(t))return p.toTimezone(t,P.getOption("timezone"))}return P.getOption("allowInvalid")?e:void 0}function $(e,t){var i=e||t;return!n.ngRequired&&!i||(angular.isNumber(i)&&(i=new Date(i)),!i||(!(!angular.isDate(i)||isNaN(i))||!!angular.isString(i)&&!isNaN(m(i))))}function b(n){if(e.isOpen||!e.disabled){var i=_[0],r=t[0].contains(n.target),a=void 0!==i.contains&&i.contains(n.target);!e.isOpen||r||a||e.$apply(function(){e.isOpen=!1})}}function y(n){27===n.which&&e.isOpen?(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!1}),t[0].focus()):40!==n.which||e.isOpen||(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!0}))}function w(){if(e.isOpen){var i=angular.element(_[0].querySelector(".uib-datepicker-popup")),r=n.popupPlacement?n.popupPlacement:d.placement,a=c.positionElements(t,i,r,T);i.css({top:a.top+"px",left:a.left+"px"}),i.hasClass("uib-position-measure")&&i.removeClass("uib-position-measure")}}function x(e){var t;return angular.version.minor<6?(t=angular.isObject(e.$options)?e.$options:{timezone:null},t.getOption=function(e){return t[e]}):t=e.$options,t}var k,C,T,S,E,D,O,A,M,I,P,_,j,N=!1,R=[];this.init=function(r){if(I=r,P=x(I),C=angular.isDefined(n.closeOnDateSelection)?e.$parent.$eval(n.closeOnDateSelection):d.closeOnDateSelection,T=angular.isDefined(n.datepickerAppendToBody)?e.$parent.$eval(n.datepickerAppendToBody):d.appendToBody,S=angular.isDefined(n.onOpenFocus)?e.$parent.$eval(n.onOpenFocus):d.onOpenFocus,E=angular.isDefined(n.datepickerPopupTemplateUrl)?n.datepickerPopupTemplateUrl:d.datepickerPopupTemplateUrl,D=angular.isDefined(n.datepickerTemplateUrl)?n.datepickerTemplateUrl:d.datepickerTemplateUrl,j=angular.isDefined(n.altInputFormats)?e.$parent.$eval(n.altInputFormats):d.altInputFormats,e.showButtonBar=angular.isDefined(n.showButtonBar)?e.$parent.$eval(n.showButtonBar):d.showButtonBar,d.html5Types[n.type]?(k=d.html5Types[n.type],N=!0):(k=n.uibDatepickerPopup||d.datepickerPopup,n.$observe("uibDatepickerPopup",function(e,t){var n=e||d.datepickerPopup;if(n!==k&&(k=n,I.$modelValue=null,!k))throw new Error("uibDatepickerPopup must have a date format specified.")})),!k)throw new Error("uibDatepickerPopup must have a date format specified.");if(N&&n.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");O=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),O.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":E}),A=angular.element(O.children()[0]),A.attr("template-url",D),e.datepickerOptions||(e.datepickerOptions={}),N&&"month"===n.type&&(e.datepickerOptions.datepickerMode="month",e.datepickerOptions.minMode="month"),A.attr("datepicker-options","datepickerOptions"),N?I.$formatters.push(function(t){return e.date=p.fromTimezone(t,P.getOption("timezone")),t}):(I.$$parserName="date",I.$validators.date=$,I.$parsers.unshift(v),I.$formatters.push(function(t){return I.$isEmpty(t)?(e.date=t,t):(angular.isNumber(t)&&(t=new Date(t)),e.date=p.fromTimezone(t,P.getOption("timezone")),p.filter(e.date,k))})),I.$viewChangeListeners.push(function(){e.date=m(I.$viewValue)}),t.on("keydown",y),_=i(O)(e),O.remove(),T?s.find("body").append(_):t.after(_),e.$on("$destroy",function(){for(!0===e.isOpen&&(l.$$phase||e.$apply(function(){e.isOpen=!1})),_.remove(),t.off("keydown",y),s.off("click",b),M&&M.off("scroll",w),angular.element(o).off("resize",w);R.length;)R.shift()()})},e.getText=function(t){return e[t+"Text"]||d[t+"Text"]},e.isDisabled=function(t){"today"===t&&(t=p.fromTimezone(new Date,P.getOption("timezone")));var n={};return angular.forEach(["minDate","maxDate"],function(t){e.datepickerOptions[t]?angular.isDate(e.datepickerOptions[t])?n[t]=new Date(e.datepickerOptions[t]):(g&&r.warn("Literal date support has been deprecated, please switch to date object usage"),n[t]=new Date(u(e.datepickerOptions[t],"medium"))):n[t]=null}),e.datepickerOptions&&n.minDate&&e.compare(t,n.minDate)<0||n.maxDate&&e.compare(t,n.maxDate)>0},e.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.dateSelection=function(n){e.date=n;var i=e.date?p.filter(e.date,k):null;t.val(i),I.$setViewValue(i),C&&(e.isOpen=!1,t[0].focus())},e.keydown=function(n){27===n.which&&(n.stopPropagation(),e.isOpen=!1,t[0].focus())},e.select=function(t,n){if(n.stopPropagation(),"today"===t){var i=new Date;angular.isDate(e.date)?(t=new Date(e.date),t.setFullYear(i.getFullYear(),i.getMonth(),i.getDate())):(t=p.fromTimezone(i,P.getOption("timezone")),t.setHours(0,0,0,0))}e.dateSelection(t)},e.close=function(n){n.stopPropagation(),e.isOpen=!1,t[0].focus()},e.disabled=angular.isDefined(n.disabled)||!1,n.ngDisabled&&R.push(e.$parent.$watch(a(n.ngDisabled),function(t){e.disabled=t})),e.$watch("isOpen",function(i){i?e.disabled?e.isOpen=!1:h(function(){w(),S&&e.$broadcast("uib:datepicker.focus"),s.on("click",b);var i=n.popupPlacement?n.popupPlacement:d.placement;T||c.parsePlacement(i)[2]?(M=M||angular.element(c.scrollParent(t)))&&M.on("scroll",w):M=null,angular.element(o).on("resize",w)},0,!1):(s.off("click",b),M&&M.off("scroll",w),angular.element(o).off("resize",w))}),e.$on("uib:datepicker.mode",function(){h(w,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(e,t,n,i){var r=i[0];i[1].init(r)}}}).directive("uibDatepickerPopupWrap",function(){return{restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(e){return function(t,n){var i;return function(){var r=this,a=Array.prototype.slice.call(arguments);i&&e.cancel(i),i=e(function(){t.apply(r,a)},n)}}}]),angular.module("ui.bootstrap.multiMap",[]).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var i=e[t];if(i){var r=i.indexOf(n);-1!==r&&i.splice(r,1),i.length||delete e[t]}}}}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.multiMap","ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope","$$multiMap",function(e,t,n){var i=null,r=n.createNew();this.isOnlyOpen=function(e,t){var n=r.get(t);if(n){if(n.reduce(function(t,n){return n.scope===e?n:t},{}))return 1===n.length}return!1},this.open=function(t,n,o){if(i||e.on("click",a),i&&i!==t&&(i.isOpen=!1),i=t,o){var s=r.get(o);if(s){-1===s.map(function(e){return e.scope}).indexOf(t)&&r.put(o,{scope:t})}else r.put(o,{scope:t})}},this.close=function(t,n,o){if(i===t&&(e.off("click",a),e.off("keydown",this.keybindFilter),i=null),o){var s=r.get(o);if(s){var l=s.reduce(function(e,n){return n.scope===t?n:e},{});l&&r.remove(o,l)}}};var a=function(e){if(i&&i.isOpen&&!(e&&"disabled"===i.getAutoClose()||e&&3===e.which)){var n=i.getToggleElement();if(!(e&&n&&n[0].contains(e.target))){var r=i.getDropdownElement();e&&"outsideClick"===i.getAutoClose()&&r&&r[0].contains(e.target)||(i.focusToggleElement(),i.isOpen=!1,t.$$phase||i.$apply())}}};this.keybindFilter=function(e){if(i){var t=i.getDropdownElement(),n=i.getToggleElement(),r=t&&t[0].contains(e.target),o=n&&n[0].contains(e.target);27===e.which?(e.stopPropagation(),i.focusToggleElement(),a()):i.isKeynavEnabled()&&-1!==[38,40].indexOf(e.which)&&i.isOpen&&(r||o)&&(e.preventDefault(),e.stopPropagation(),i.focusDropdownEntry(e.which))}}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(e,t,n,i,r,a,o,s,l,c,u){function p(){t.append(f.dropdownMenu)}var d,h,f=this,g=e.$new(),m=r.appendToOpenClass,v=r.openClass,$=angular.noop,b=n.onToggle?i(n.onToggle):angular.noop,y=!1,w=l.find("body");t.addClass("dropdown"),this.init=function(){n.isOpen&&(h=i(n.isOpen),$=h.assign,e.$watch(h,function(e){g.isOpen=!!e})),y=angular.isDefined(n.keyboardNav)},this.toggle=function(e){return g.isOpen=arguments.length?!!e:!g.isOpen,angular.isFunction($)&&$(g,g.isOpen),g.isOpen},this.isOpen=function(){return g.isOpen},g.getToggleElement=function(){return f.toggleElement},g.getAutoClose=function(){return n.autoClose||"always"},g.getElement=function(){return t},g.isKeynavEnabled=function(){return y},g.focusDropdownEntry=function(e){var n=f.dropdownMenu?angular.element(f.dropdownMenu).find("a"):t.find("ul").eq(0).find("a");switch(e){case 40:angular.isNumber(f.selectedOption)?f.selectedOption=f.selectedOption===n.length-1?f.selectedOption:f.selectedOption+1:f.selectedOption=0;break;case 38:angular.isNumber(f.selectedOption)?f.selectedOption=0===f.selectedOption?0:f.selectedOption-1:f.selectedOption=n.length-1}n[f.selectedOption].focus()},g.getDropdownElement=function(){return f.dropdownMenu},g.focusToggleElement=function(){f.toggleElement&&f.toggleElement[0].focus()},g.$watch("isOpen",function(r,h){var y=null,x=!1;if(angular.isDefined(n.dropdownAppendTo)){var k=i(n.dropdownAppendTo)(g);k&&(y=angular.element(k))}if(angular.isDefined(n.dropdownAppendToBody)){!1!==i(n.dropdownAppendToBody)(g)&&(x=!0)}if(x&&!y&&(y=w),y&&f.dropdownMenu&&(r?(y.append(f.dropdownMenu),t.on("$destroy",p)):(t.off("$destroy",p),p())),y&&f.dropdownMenu){var C,T,S,E=s.positionElements(t,f.dropdownMenu,"bottom-left",!0),D=0;if(C={top:E.top+"px",display:r?"block":"none"},T=f.dropdownMenu.hasClass("dropdown-menu-right"),T?(C.left="auto",S=s.scrollbarPadding(y),S.heightOverflow&&S.scrollbarWidth&&(D=S.scrollbarWidth),C.right=window.innerWidth-D-(E.left+t.prop("offsetWidth"))+"px"):(C.left=E.left+"px",C.right="auto"),!x){var O=s.offset(y);C.top=E.top-O.top+"px",T?C.right=window.innerWidth-(E.left-O.left+t.prop("offsetWidth"))+"px":C.left=E.left-O.left+"px"}f.dropdownMenu.css(C)}var A=y||t,M=y?m:v,I=A.hasClass(M),P=a.isOnlyOpen(e,y);if(I===!r){var _;_=y?P?"removeClass":"addClass":r?"addClass":"removeClass",o[_](A,M).then(function(){angular.isDefined(r)&&r!==h&&b(e,{open:!!r})})}if(r)f.dropdownMenuTemplateUrl?u(f.dropdownMenuTemplateUrl).then(function(e){d=g.$new(),c(e.trim())(d,function(e){var t=e;f.dropdownMenu.replaceWith(t),f.dropdownMenu=t,l.on("keydown",a.keybindFilter)})}):l.on("keydown",a.keybindFilter),g.focusToggleElement(),a.open(g,t,y);else{if(a.close(g,t,y),f.dropdownMenuTemplateUrl){d&&d.$destroy();var j=angular.element('<ul class="dropdown-menu"></ul>');f.dropdownMenu.replaceWith(j),f.dropdownMenu=j}f.selectedOption=null}angular.isFunction($)&&$(e,r)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(e,t,n,i){i.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(e,t,n,i){if(i&&!angular.isDefined(n.dropdownNested)){t.addClass("dropdown-menu");var r=n.templateUrl;r&&(i.dropdownMenuTemplateUrl=r),i.dropdownMenu||(i.dropdownMenu=t)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(e,t,n,i){if(i){t.addClass("dropdown-toggle"),i.toggleElement=t;var r=function(r){r.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){i.toggle()})};t.on("click",r),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(i.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.off("click",r)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t===e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,i=0;i<e.length;i++)if(t===e[i].key){n=i;break}return e.splice(n,1)[0]},removeTop:function(){return e.pop()},length:function(){return e.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.multiMap","ui.bootstrap.stackedMap","ui.bootstrap.position"]).provider("$uibResolve",function(){var e=this;this.resolver=null,this.setResolver=function(e){this.resolver=e},this.$get=["$injector","$q",function(t,n){var i=e.resolver?t.get(e.resolver):null;return{resolve:function(e,r,a,o){if(i)return i.resolve(e,r,a,o);var s=[];return angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?s.push(n.resolve(t.invoke(e))):angular.isString(e)?s.push(n.resolve(t.get(e))):s.push(n.resolve(e))}),n.all(s).then(function(t){var n={},i=0;return angular.forEach(e,function(e,r){n[r]=t[i++]}),n})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(e,t,n){function i(t,i,r){r.modalInClass&&(e.addClass(i,r.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(n,a){var o=a();t.modalOptions.animation?e.removeClass(i,r.modalInClass).then(o):o()}))}return{restrict:"A",compile:function(e,t){return e.addClass(t.backdropClass),i}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(e,t,n,i){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/modal/window.html"},link:function(r,a,o){a.addClass(o.windowTopClass||""),r.size=o.size,r.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},a.on("click",r.close),r.$isRendered=!0;var s=t.defer();r.$$postDigest(function(){s.resolve()}),s.promise.then(function(){var s=null;o.modalInClass&&(s=n(a,{addClass:o.modalInClass}).start(),r.$on(e.NOW_CLOSING_EVENT,function(e,t){var i=t();n(a,{removeClass:o.modalInClass}).start().then(i)})),t.when(s).then(function(){var t=e.getTop();if(t&&e.modalRendered(t.key),!i[0].activeElement||!a[0].contains(i[0].activeElement)){var n=a[0].querySelector("[autofocus]");n?n.focus():a[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",["$animate",function(e){return{link:function(t,n,i,r,a){a(t.$parent,function(t){n.empty(),e.enter(t,n)})}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(e,t,n,i,r,a,o,s,l){function c(e){return e.replace(O,function(e,t){return(t?"-":"")+e.toLowerCase()})}function u(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function p(){for(var e=-1,t=k.keys(),n=0;n<t.length;n++)k.get(t[n]).value.backdrop&&(e=n);return e>-1&&S>e&&(e=S),e}function d(e,t){var n=k.get(e).value,i=n.appendTo;k.remove(e),E=k.top(),E&&(S=parseInt(E.value.modalDomEl.attr("index"),10)),g(n.modalDomEl,n.modalScope,function(){var t=n.openedClass||x;C.remove(t,e);var r=C.hasKey(t);i.toggleClass(t,r),!r&&w&&w.heightOverflow&&w.scrollbarWidth&&(w.originalRight?i.css({paddingRight:w.originalRight+"px"}):i.css({paddingRight:""}),w=null),h(!0)},n.closedDeferred),f(),t&&t.focus?t.focus():i.focus&&i.focus()}function h(e){var t;k.length()>0&&(t=k.top().value,t.modalDomEl.toggleClass(t.windowTopClass||"",e))}function f(){if(b&&-1===p()){var e=y;g(b,y,function(){e=null}),b=void 0,y=void 0}}function g(t,n,i,r){function o(){o.done||(o.done=!0,e.leave(t).then(function(){i&&i(),t.remove(),r&&r.resolve()}),n.$destroy())}var s,l=null,c=function(){return s||(s=a.defer(),l=s.promise),function(){s.resolve()}};return n.$broadcast(T.NOW_CLOSING_EVENT,c),a.when(l).then(o)}function m(e){if(e.isDefaultPrevented())return e;var t=k.top();if(t)switch(e.which){case 27:t.value.keyboard&&(e.preventDefault(),r.$apply(function(){T.dismiss(t.key,"escape key press")}));break;case 9:var n=T.loadFocusElementList(t),i=!1;e.shiftKey?(T.isFocusInFirstItem(e,n)||T.isModalFocused(e,t))&&(i=T.focusLastFocusableElement(n)):T.isFocusInLastItem(e,n)&&(i=T.focusFirstFocusableElement(n)),i&&(e.preventDefault(),e.stopPropagation())}}function v(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}function $(){Array.prototype.forEach.call(document.querySelectorAll("["+D+"]"),function(e){var t=parseInt(e.getAttribute(D),10),n=t-1;e.setAttribute(D,n),n||(e.removeAttribute(D),e.removeAttribute("aria-hidden"))})}var b,y,w,x="modal-open",k=s.createNew(),C=o.createNew(),T={NOW_CLOSING_EVENT:"modal.stack.now-closing"},S=0,E=null,D="data-bootstrap-modal-aria-hidden-count",O=/[A-Z]/g;return r.$watch(p,function(e){y&&(y.index=e)}),n.on("keydown",m),r.$on("$destroy",function(){n.off("keydown",m)}),T.open=function(t,a){function o(e){if(e&&"BODY"!==e[0].tagName)return function(e){var t=e.parent()?e.parent().children():[];return Array.prototype.filter.call(t,function(t){return t!==e[0]})}(e).forEach(function(e){var t="true"===e.getAttribute("aria-hidden"),n=parseInt(e.getAttribute(D),10);n||(n=t?1:0),e.setAttribute(D,n+1),e.setAttribute("aria-hidden","true")}),o(e.parent())}var s=n[0].activeElement,u=a.openedClass||x;h(!1),E=k.top(),k.add(t,{deferred:a.deferred,renderDeferred:a.renderDeferred,closedDeferred:a.closedDeferred,modalScope:a.scope,backdrop:a.backdrop,keyboard:a.keyboard,openedClass:a.openedClass,windowTopClass:a.windowTopClass,animation:a.animation,appendTo:a.appendTo}),C.put(u,t);var d=a.appendTo,f=p();f>=0&&!b&&(y=r.$new(!0),y.modalOptions=a,y.index=f,b=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),b.attr({class:"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"}),a.backdropClass&&b.addClass(a.backdropClass),a.animation&&b.attr("modal-animation","true"),i(b)(y),e.enter(b,d),l.isScrollable(d)&&(w=l.scrollbarPadding(d),w.heightOverflow&&w.scrollbarWidth&&d.css({paddingRight:w.right+"px"})));var g;a.component?(g=document.createElement(c(a.component.name)),g=angular.element(g),g.attr({resolve:"$resolve","modal-instance":"$uibModalInstance",close:"$close($value)",dismiss:"$dismiss($value)"})):g=a.content,S=E?parseInt(E.value.modalDomEl.attr("index"),10)+1:0;var m=angular.element('<div uib-modal-window="modal-window"></div>');m.attr({class:"modal","template-url":a.windowTemplateUrl,"window-top-class":a.windowTopClass,role:"dialog","aria-labelledby":a.ariaLabelledBy,"aria-describedby":a.ariaDescribedBy,size:a.size,index:S,animate:"animate","ng-style":"{'z-index': 1050 + $$topModalIndex*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).append(g),a.windowClass&&m.addClass(a.windowClass),a.animation&&m.attr("modal-animation","true"),d.addClass(u),a.scope&&(a.scope.$$topModalIndex=S),e.enter(i(m)(a.scope),d),k.top().value.modalDomEl=m,k.top().value.modalOpener=s,o(m)},T.close=function(e,t){var n=k.get(e);return $(),n&&v(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),d(e,n.value.modalOpener),!0):!n},T.dismiss=function(e,t){var n=k.get(e);return $(),n&&v(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),d(e,n.value.modalOpener),!0):!n},T.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},T.getTop=function(){return k.top()},T.modalRendered=function(e){var t=k.get(e);t&&t.value.renderDeferred.resolve()},T.focusFirstFocusableElement=function(e){return e.length>0&&(e[0].focus(),!0)},T.focusLastFocusableElement=function(e){return e.length>0&&(e[e.length-1].focus(),!0)},T.isModalFocused=function(e,t){if(e&&t){var n=t.value.modalDomEl;if(n&&n.length)return(e.target||e.srcElement)===n[0]}return!1},T.isFocusInFirstItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[0]},T.isFocusInLastItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[t.length-1]},T.loadFocusElementList=function(e){if(e){var t=e.value.modalDomEl;if(t&&t.length){var n=t[0].querySelectorAll("a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]");return n?Array.prototype.filter.call(n,function(e){return u(e)}):n}}},T}]).provider("$uibModal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(t,n,i,r,a,o,s){function l(e){return e.template?n.when(e.template):r(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}var c={},u=null;return c.getPromiseChain=function(){return u},c.open=function(r){function c(){return m}var p=n.defer(),d=n.defer(),h=n.defer(),f=n.defer(),g={result:p.promise,opened:d.promise,closed:h.promise,rendered:f.promise,close:function(e){return s.close(g,e)},dismiss:function(e){return s.dismiss(g,e)}};if(r=angular.extend({},e.options,r),r.resolve=r.resolve||{},r.appendTo=r.appendTo||i.find("body").eq(0),!r.appendTo.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");if(!r.component&&!r.template&&!r.templateUrl)throw new Error("One of component or template or templateUrl options is required.");var m;m=r.component?n.when(o.resolve(r.resolve,{},null,null)):n.all([l(r),o.resolve(r.resolve,{},null,null)]);var v;return v=u=n.all([u]).then(c,c).then(function(e){function n(t,n,i,r){t.$scope=o,t.$scope.$resolve={},i?t.$scope.$uibModalInstance=g:t.$uibModalInstance=g;var a=n?e[1]:e;angular.forEach(a,function(e,n){r&&(t[n]=e),t.$scope.$resolve[n]=e})}var i=r.scope||t,o=i.$new();o.$close=g.close,o.$dismiss=g.dismiss,o.$on("$destroy",function(){o.$$uibDestructionScheduled||o.$dismiss("$uibUnscheduledDestruction")});var l,c,u={scope:o,deferred:p,renderDeferred:f,closedDeferred:h,animation:r.animation,backdrop:r.backdrop,keyboard:r.keyboard,backdropClass:r.backdropClass,windowTopClass:r.windowTopClass,windowClass:r.windowClass,windowTemplateUrl:r.windowTemplateUrl,ariaLabelledBy:r.ariaLabelledBy,ariaDescribedBy:r.ariaDescribedBy,size:r.size,openedClass:r.openedClass,appendTo:r.appendTo},m={},v={};r.component?(n(m,!1,!0,!1),m.name=r.component,u.component=m):r.controller&&(n(v,!0,!1,!0),c=a(r.controller,v,!0,r.controllerAs),r.controllerAs&&r.bindToController&&(l=c.instance,l.$close=o.$close,l.$dismiss=o.$dismiss,angular.extend(l,{$resolve:v.$scope.$resolve},i)),l=c(),angular.isFunction(l.$onInit)&&l.$onInit()),r.component||(u.content=e[0]),s.open(g,u),d.resolve(!0)},function(e){d.reject(e),p.reject(e)}).finally(function(){u===v&&(u=null)}),g},c}]};return e}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(e){return{create:function(t,n,i){t.setNumPages=i.numPages?e(i.numPages).assign:angular.noop,t.ngModelCtrl={$setViewValue:angular.noop},t._watchers=[],t.init=function(e,r){t.ngModelCtrl=e,t.config=r,e.$render=function(){t.render()},i.itemsPerPage?t._watchers.push(n.$parent.$watch(i.itemsPerPage,function(e){t.itemsPerPage=parseInt(e,10),n.totalPages=t.calculateTotalPages(),t.updatePage()})):t.itemsPerPage=r.itemsPerPage,n.$watch("totalItems",function(e,i){(angular.isDefined(e)||e!==i)&&(n.totalPages=t.calculateTotalPages(),t.updatePage())})},t.calculateTotalPages=function(){var e=t.itemsPerPage<1?1:Math.ceil(n.totalItems/t.itemsPerPage);return Math.max(e||0,1)},t.render=function(){n.page=parseInt(t.ngModelCtrl.$viewValue,10)||1},n.selectPage=function(e,i){i&&i.preventDefault(),(!n.ngDisabled||!i)&&n.page!==e&&e>0&&e<=n.totalPages&&(i&&i.target&&i.target.blur(),t.ngModelCtrl.$setViewValue(e),t.ngModelCtrl.$render())},n.getText=function(e){return n[e+"Text"]||t.config[e+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages},t.updatePage=function(){t.setNumPages(n.$parent,n.totalPages),n.page>n.totalPages?n.selectPage(n.totalPages):t.ngModelCtrl.$render()},n.$on("$destroy",function(){for(;t._watchers.length;)t._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(e,t,n,i){e.align=angular.isDefined(t.align)?e.$parent.$eval(t.align):i.align,n.create(this,e,t)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("uibPager",["uibPagerConfig",function(e){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],restrict:"A",controller:"UibPagerController",controllerAs:"pager",templateUrl:function(e,t){return t.templateUrl||"uib/template/pager/pager.html"},link:function(t,n,i,r){n.addClass("pager");var a=r[0],o=r[1];o&&a.init(o,e)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(e,t,n,i,r){function a(e,t,n){return{number:e,text:t,active:n}}function o(e,t){var n=[],i=1,r=t,o=angular.isDefined(l)&&t>l;o&&(c?(i=Math.max(e-Math.floor(l/2),1),(r=i+l-1)>t&&(r=t,i=r-l+1)):(i=(Math.ceil(e/l)-1)*l+1,r=Math.min(i+l-1,t)));for(var s=i;r>=s;s++){var h=a(s,d(s),s===e);n.push(h)}if(o&&l>0&&(!c||u||p)){if(i>1){if(!p||i>3){var f=a(i-1,"...",!1);n.unshift(f)}if(p){if(3===i){var g=a(2,"2",!1);n.unshift(g)}var m=a(1,"1",!1);n.unshift(m)}}if(t>r){if(!p||t-2>r){var v=a(r+1,"...",!1);n.push(v)}if(p){if(r===t-2){var $=a(t-1,t-1,!1);n.push($)}var b=a(t,t,!1);n.push(b)}}}return n}var s=this,l=angular.isDefined(t.maxSize)?e.$parent.$eval(t.maxSize):r.maxSize,c=angular.isDefined(t.rotate)?e.$parent.$eval(t.rotate):r.rotate,u=angular.isDefined(t.forceEllipses)?e.$parent.$eval(t.forceEllipses):r.forceEllipses,p=angular.isDefined(t.boundaryLinkNumbers)?e.$parent.$eval(t.boundaryLinkNumbers):r.boundaryLinkNumbers,d=angular.isDefined(t.pageLabel)?function(n){return e.$parent.$eval(t.pageLabel,{$page:n})}:angular.identity;e.boundaryLinks=angular.isDefined(t.boundaryLinks)?e.$parent.$eval(t.boundaryLinks):r.boundaryLinks,e.directionLinks=angular.isDefined(t.directionLinks)?e.$parent.$eval(t.directionLinks):r.directionLinks,t.$set("role","menu"),i.create(this,e,t),t.maxSize&&s._watchers.push(e.$parent.$watch(n(t.maxSize),function(e){l=parseInt(e,10),s.render()}));var h=this.render;this.render=function(){h(),e.page>0&&e.page<=e.totalPages&&(e.pages=o(e.page,e.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(e,t){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],restrict:"A",controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"uib/template/pagination/pagination.html"},link:function(e,n,i,r){n.addClass("pagination");var a=r[0],o=r[1];o&&a.init(o,t)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function e(e){var t=/[A-Z]/g;return e.replace(t,function(e,t){return(t?"-":"")+e.toLowerCase()})}var t={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},i={};this.options=function(e){angular.extend(i,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(r,a,o,s,l,c,u,p,d){function h(e){if(27===e.which){var t=f.top();t&&(t.value.close(),t=null)}}var f=d.createNew();return s.on("keyup",h),u.$on("$destroy",function(){s.off("keyup",h)}),function(r,u,d,h){function g(e){var t=(e||h.trigger||d).split(" ");return{show:t,hide:t.map(function(e){return n[e]||e})}}h=angular.extend({},t,i,h);var m=e(r),v=c.startSymbol(),$=c.endSymbol(),b="<div "+m+'-popup uib-title="'+v+"title"+$+'" '+(h.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+$+'" ')+'origin-scope="origScope" class="uib-position-measure '+u+'" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ in: isOpen }" ></div>';return{compile:function(e,t){var n=a(b);return function(e,t,i,a){function c(){F.isOpen?m():d()}function d(){U&&!e.$eval(i[u+"Enable"])||(y(),k(),F.popupDelay?I||(I=o(v,F.popupDelay,!1)):v())}function m(){$(),F.popupCloseDelay?P||(P=o(b,F.popupCloseDelay,!1)):b()}function v(){return $(),y(),F.content?(w(),void F.$evalAsync(function(){F.isOpen=!0,C(!0),B()})):angular.noop}function $(){I&&(o.cancel(I),I=null),_&&(o.cancel(_),_=null)}function b(){F&&F.$evalAsync(function(){F&&(F.isOpen=!1,C(!1),F.animation?M||(M=o(x,150,!1)):x())})}function y(){P&&(o.cancel(P),P=null),M&&(o.cancel(M),M=null)}function w(){O||(A=F.$new(),O=n(A,function(e){R?s.find("body").append(e):t.after(e)}),f.add(F,{close:b}),T())}function x(){$(),y(),S(),O&&(O.remove(),O=null,j&&o.cancel(j)),f.remove(F),A&&(A.$destroy(),A=null)}function k(){F.title=i[u+"Title"],F.content=z?z(e):i[r],F.popupClass=i[u+"Class"],F.placement=angular.isDefined(i[u+"Placement"])?i[u+"Placement"]:h.placement;var t=l.parsePlacement(F.placement)
;N=t[1]?t[0]+"-"+t[1]:t[0];var n=parseInt(i[u+"PopupDelay"],10),a=parseInt(i[u+"PopupCloseDelay"],10);F.popupDelay=isNaN(n)?h.popupDelay:n,F.popupCloseDelay=isNaN(a)?h.popupCloseDelay:a}function C(t){q&&angular.isFunction(q.assign)&&q.assign(e,t)}function T(){H.length=0,z?(H.push(e.$watch(z,function(e){F.content=e,!e&&F.isOpen&&b()})),H.push(A.$watch(function(){V||(V=!0,A.$$postDigest(function(){V=!1,F&&F.isOpen&&B()}))}))):H.push(i.$observe(r,function(e){F.content=e,!e&&F.isOpen?b():B()})),H.push(i.$observe(u+"Title",function(e){F.title=e,F.isOpen&&B()})),H.push(i.$observe(u+"Placement",function(e){F.placement=e||h.placement,F.isOpen&&B()}))}function S(){H.length&&(angular.forEach(H,function(e){e()}),H.length=0)}function E(e){F&&F.isOpen&&O&&(t[0].contains(e.target)||O[0].contains(e.target)||m())}function D(e){27===e.which&&m()}var O,A,M,I,P,_,j,N,R=!!angular.isDefined(h.appendToBody)&&h.appendToBody,L=g(void 0),U=angular.isDefined(i[u+"Enable"]),F=e.$new(!0),V=!1,q=!!angular.isDefined(i[u+"IsOpen"])&&p(i[u+"IsOpen"]),z=!!h.useContentExp&&p(i[r]),H=[],B=function(){O&&O.html()&&(_||(_=o(function(){var e=l.positionElements(t,O,F.placement,R),n=angular.isDefined(O.offsetHeight)?O.offsetHeight:O.prop("offsetHeight"),i=R?l.offset(t):l.position(t);O.css({top:e.top+"px",left:e.left+"px"});var r=e.placement.split("-");O.hasClass(r[0])||(O.removeClass(N.split("-")[0]),O.addClass(r[0])),O.hasClass(h.placementClassPrefix+e.placement)||(O.removeClass(h.placementClassPrefix+N),O.addClass(h.placementClassPrefix+e.placement)),j=o(function(){var e=angular.isDefined(O.offsetHeight)?O.offsetHeight:O.prop("offsetHeight"),t=l.adjustTop(r,i,n,e);t&&O.css(t),j=null},0,!1),O.hasClass("uib-position-measure")?(l.positionArrow(O,e.placement),O.removeClass("uib-position-measure")):N!==e.placement&&l.positionArrow(O,e.placement),N=e.placement,_=null},0,!1)))};F.origScope=e,F.isOpen=!1,F.contentExp=function(){return F.content},i.$observe("disabled",function(e){e&&$(),e&&F.isOpen&&b()}),q&&e.$watch(q,function(e){F&&!e===F.isOpen&&c()});var W=function(){L.show.forEach(function(e){"outsideClick"===e?t.off("click",c):(t.off(e,d),t.off(e,c)),t.off("keypress",D)}),L.hide.forEach(function(e){"outsideClick"===e?s.off("click",E):t.off(e,m)})};!function(){var n=[],r=[],a=e.$eval(i[u+"Trigger"]);W(),angular.isObject(a)?(Object.keys(a).forEach(function(e){n.push(e),r.push(a[e])}),L={show:n,hide:r}):L=g(a),"none"!==L.show&&L.show.forEach(function(e,n){"outsideClick"===e?(t.on("click",c),s.on("click",E)):e===L.hide[n]?t.on(e,c):e&&(t.on(e,d),t.on(L.hide[n],m)),t.on("keypress",D)})}();var G=e.$eval(i[u+"Animation"]);F.animation=angular.isDefined(G)?!!G:h.animation;var Y,J=u+"AppendToBody";Y=J in i&&void 0===i[J]||e.$eval(i[J]),R=angular.isDefined(Y)?Y:R,e.$on("$destroy",function(){W(),x(),F=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,i){return{link:function(r,a,o){var s,l,c,u=r.$eval(o.tooltipTemplateTranscludeScope),p=0,d=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),c&&(e.leave(c).then(function(){l=null}),l=c,c=null)};r.$watch(t.parseAsResourceUrl(o.uibTooltipTemplateTransclude),function(t){var o=++p;t?(i(t,!0).then(function(i){if(o===p){var r=u.$new(),l=i,h=n(l)(r,function(t){d(),e.enter(t,a)});s=r,c=h,s.$emit("$includeContentLoaded",t)}},function(){o===p&&(d(),r.$emit("$includeContentError",t))}),r.$emit("$includeContentRequested",t)):d()}),r.$on("$destroy",d)}}}]).directive("uibTooltipClasses",["$uibPosition",function(e){return{restrict:"A",link:function(t,n,i){if(t.placement){var r=e.parsePlacement(t.placement);n.addClass(r[0])}t.popupClass&&n.addClass(t.popupClass),t.animation&&n.addClass(i.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{restrict:"A",scope:{content:"@"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{restrict:"A",scope:{uibTitle:"@",contentExp:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&",uibTitle:"@"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{restrict:"A",scope:{uibTitle:"@",content:"@"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(e,t,n){function i(){return angular.isDefined(e.maxParam)?e.maxParam:n.max}var r=this,a=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=i(),this.addBar=function(e,t,n){a||t.css({transition:"none"}),this.bars.push(e),e.max=i(),e.title=n&&angular.isDefined(n.title)?n.title:"progressbar",e.$watch("value",function(t){e.recalculatePercentage()}),e.recalculatePercentage=function(){var t=r.bars.reduce(function(e,t){return t.percent=+(100*t.value/t.max).toFixed(2),e+t.percent},0);t>100&&(e.percent-=t-100)},e.$on("$destroy",function(){t=null,r.removeBar(e)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1),this.bars.forEach(function(e){e.recalculatePercentage()})},e.$watch("maxParam",function(e){r.bars.forEach(function(e){e.max=i(),e.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(e,t,n,i){i.addBar(e,t,n)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(e,t,n,i){i.addBar(e,angular.element(t.children()[0]),{title:n.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(e,t,n){var i={$setViewValue:angular.noop},r=this;this.init=function(r){i=r,i.$render=this.render,i.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff,this.enableReset=angular.isDefined(t.enableReset)?e.$parent.$eval(t.enableReset):n.enableReset;var a=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):n.titles;this.titles=angular.isArray(a)&&a.length>0?a:n.titles;var o=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(o)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;n>t;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){if(!e.readonly&&t>=0&&t<=e.range.length){var n=r.enableReset&&i.$viewValue===t?0:t;i.$setViewValue(n),i.$render()}},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=i.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=i.$viewValue,e.title=r.getTitle(e.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],restrict:"A",scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",link:function(e,t,n,i){var r=i[0],a=i[1];r.init(a)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(e){function t(e){for(var t=0;t<i.tabs.length;t++)if(i.tabs[t].index===e)return t}var n,i=this;i.tabs=[],i.select=function(e,a){if(!r){var o=t(n),s=i.tabs[o];if(s){if(s.tab.onDeselect({$event:a,$selectedIndex:e}),a&&a.isDefaultPrevented())return;s.tab.active=!1}var l=i.tabs[e];l?(l.tab.onSelect({$event:a}),l.tab.active=!0,i.active=l.index,n=l.index):!l&&angular.isDefined(n)&&(i.active=null,n=null)}},i.addTab=function(e){if(i.tabs.push({tab:e,index:e.index}),i.tabs.sort(function(e,t){return e.index>t.index?1:e.index<t.index?-1:0}),e.index===i.active||!angular.isDefined(i.active)&&1===i.tabs.length){var n=t(e.index);i.select(n)}},i.removeTab=function(e){for(var t,n=0;n<i.tabs.length;n++)if(i.tabs[n].tab===e){t=n;break}if(i.tabs[t].index===i.active){var r=t===i.tabs.length-1?t-1:t+1%i.tabs.length;i.select(r)}i.tabs.splice(t,1)},e.$watch("tabset.active",function(e){angular.isDefined(e)&&e!==n&&i.select(t(e))});var r;e.$on("$destroy",function(){r=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tabset.html"},link:function(e,t,n){e.vertical=!!angular.isDefined(n.vertical)&&e.$parent.$eval(n.vertical),e.justified=!!angular.isDefined(n.justified)&&e.$parent.$eval(n.justified)}}}).directive("uibTab",["$parse",function(e){return{require:"^uibTabset",replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(t,n,i,r,a){t.disabled=!1,i.disable&&t.$parent.$watch(e(i.disable),function(e){t.disabled=!!e}),angular.isUndefined(i.index)&&(r.tabs&&r.tabs.length?t.index=Math.max.apply(null,r.tabs.map(function(e){return e.index}))+1:t.index=0),angular.isUndefined(i.classes)&&(t.classes=""),t.select=function(e){if(!t.disabled){for(var n,i=0;i<r.tabs.length;i++)if(r.tabs[i].tab===t){n=i;break}r.select(n,e)}},r.addTab(t),t.$on("$destroy",function(){r.removeTab(t)}),t.$transcludeFn=a}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("uibTabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("uib-tab-heading")||e.hasAttribute("data-uib-tab-heading")||e.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===e.tagName.toLowerCase()||"data-uib-tab-heading"===e.tagName.toLowerCase()||"x-uib-tab-heading"===e.tagName.toLowerCase()||"uib:tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^uibTabset",link:function(t,n,i){var r=t.$eval(i.uibTabContentTransclude).tab;r.$transcludeFn(r.$parent,function(t){angular.forEach(t,function(t){e(t)?r.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(e,t,n,i,r,a,o){function s(){var t=+e.hours;return(e.showMeridian?t>0&&13>t:t>=0&&24>t)&&""!==e.hours?(e.showMeridian&&(12===t&&(t=0),e.meridian===C[1]&&(t+=12)),t):void 0}function l(){var t=+e.minutes;return t>=0&&60>t&&""!==e.minutes?t:void 0}function c(){var t=+e.seconds;return t>=0&&60>t?t:void 0}function u(e,t){return null===e?"":angular.isDefined(e)&&e.toString().length<2&&!t?"0"+e:e.toString()}function p(e){d(),k.$setViewValue(new Date(w)),h(e)}function d(){$&&$.$setValidity("hours",!0),b&&b.$setValidity("minutes",!0),y&&y.$setValidity("seconds",!0),k.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1,e.invalidSeconds=!1}function h(t){if(k.$modelValue){var n=w.getHours(),i=w.getMinutes(),r=w.getSeconds();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:u(n,!T),"m"!==t&&(e.minutes=u(i)),e.meridian=w.getHours()<12?C[0]:C[1],"s"!==t&&(e.seconds=u(r)),e.meridian=w.getHours()<12?C[0]:C[1]}else e.hours=null,e.minutes=null,e.seconds=null,e.meridian=C[0]}function f(e){w=m(w,e),p()}function g(e,t){return m(e,60*t)}function m(e,t){var n=new Date(e.getTime()+1e3*t),i=new Date(e);return i.setHours(n.getHours(),n.getMinutes(),n.getSeconds()),i}function v(){return(null===e.hours||""===e.hours)&&(null===e.minutes||""===e.minutes)&&(!e.showSeconds||e.showSeconds&&(null===e.seconds||""===e.seconds))}var $,b,y,w=new Date,x=[],k={$setViewValue:angular.noop},C=angular.isDefined(n.meridians)?e.$parent.$eval(n.meridians):o.meridians||a.DATETIME_FORMATS.AMPMS,T=!angular.isDefined(n.padHours)||e.$parent.$eval(n.padHours);e.tabindex=angular.isDefined(n.tabindex)?n.tabindex:0,t.removeAttr("tabindex"),this.init=function(t,i){k=t,k.$render=this.render,k.$formatters.unshift(function(e){return e?new Date(e):null});var r=i.eq(0),a=i.eq(1),s=i.eq(2);$=r.controller("ngModel"),b=a.controller("ngModel"),y=s.controller("ngModel"),(angular.isDefined(n.mousewheel)?e.$parent.$eval(n.mousewheel):o.mousewheel)&&this.setupMousewheelEvents(r,a,s),(angular.isDefined(n.arrowkeys)?e.$parent.$eval(n.arrowkeys):o.arrowkeys)&&this.setupArrowkeyEvents(r,a,s),e.readonlyInput=angular.isDefined(n.readonlyInput)?e.$parent.$eval(n.readonlyInput):o.readonlyInput,this.setupInputEvents(r,a,s)};var S=o.hourStep;n.hourStep&&x.push(e.$parent.$watch(i(n.hourStep),function(e){S=+e}));var E=o.minuteStep;n.minuteStep&&x.push(e.$parent.$watch(i(n.minuteStep),function(e){E=+e}));var D;x.push(e.$parent.$watch(i(n.min),function(e){var t=new Date(e);D=isNaN(t)?void 0:t}));var O;x.push(e.$parent.$watch(i(n.max),function(e){var t=new Date(e);O=isNaN(t)?void 0:t}));var A=!1;n.ngDisabled&&x.push(e.$parent.$watch(i(n.ngDisabled),function(e){A=e})),e.noIncrementHours=function(){var e=g(w,60*S);return A||e>O||w>e&&D>e},e.noDecrementHours=function(){var e=g(w,60*-S);return A||D>e||e>w&&e>O},e.noIncrementMinutes=function(){var e=g(w,E);return A||e>O||w>e&&D>e},e.noDecrementMinutes=function(){var e=g(w,-E);return A||D>e||e>w&&e>O},e.noIncrementSeconds=function(){var e=m(w,M);return A||e>O||w>e&&D>e},e.noDecrementSeconds=function(){var e=m(w,-M);return A||D>e||e>w&&e>O},e.noToggleMeridian=function(){return w.getHours()<12?A||g(w,720)>O:A||g(w,-720)<D};var M=o.secondStep;n.secondStep&&x.push(e.$parent.$watch(i(n.secondStep),function(e){M=+e})),e.showSeconds=o.showSeconds,n.showSeconds&&x.push(e.$parent.$watch(i(n.showSeconds),function(t){e.showSeconds=!!t})),e.showMeridian=o.showMeridian,n.showMeridian&&x.push(e.$parent.$watch(i(n.showMeridian),function(t){if(e.showMeridian=!!t,k.$error.time){var n=s(),i=l();angular.isDefined(n)&&angular.isDefined(i)&&(w.setHours(n),p())}else h()})),this.setupMousewheelEvents=function(t,n,i){var r=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.on("mousewheel wheel",function(t){A||e.$apply(r(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.on("mousewheel wheel",function(t){A||e.$apply(r(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()}),i.on("mousewheel wheel",function(t){A||e.$apply(r(t)?e.incrementSeconds():e.decrementSeconds()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,n,i){t.on("keydown",function(t){A||(38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply()))}),n.on("keydown",function(t){A||(38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply()))}),i.on("keydown",function(t){A||(38===t.which?(t.preventDefault(),e.incrementSeconds(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementSeconds(),e.$apply()))})},this.setupInputEvents=function(t,n,i){if(e.readonlyInput)return e.updateHours=angular.noop,e.updateMinutes=angular.noop,void(e.updateSeconds=angular.noop);var r=function(t,n,i){k.$setViewValue(null),k.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t,$&&$.$setValidity("hours",!1)),angular.isDefined(n)&&(e.invalidMinutes=n,b&&b.$setValidity("minutes",!1)),angular.isDefined(i)&&(e.invalidSeconds=i,y&&y.$setValidity("seconds",!1))};e.updateHours=function(){var e=s(),t=l();k.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(w.setHours(e),w.setMinutes(t),D>w||w>O?r(!0):p("h")):r(!0)},t.on("blur",function(t){k.$setTouched(),v()?d():null===e.hours||""===e.hours?r(!0):!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=u(e.hours,!T)})}),e.updateMinutes=function(){var e=l(),t=s();k.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(w.setHours(t),w.setMinutes(e),D>w||w>O?r(void 0,!0):p("m")):r(void 0,!0)},n.on("blur",function(t){k.$setTouched(),v()?d():null===e.minutes?r(void 0,!0):!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=u(e.minutes)})}),e.updateSeconds=function(){var e=c();k.$setDirty(),angular.isDefined(e)?(w.setSeconds(e),p("s")):r(void 0,void 0,!0)},i.on("blur",function(t){v()?d():!e.invalidSeconds&&e.seconds<10&&e.$apply(function(){e.seconds=u(e.seconds)})})},this.render=function(){var t=k.$viewValue;isNaN(t)?(k.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(w=t),D>w||w>O?(k.$setValidity("time",!1),e.invalidHours=!0,e.invalidMinutes=!0):d(),h())},e.showSpinners=angular.isDefined(n.showSpinners)?e.$parent.$eval(n.showSpinners):o.showSpinners,e.incrementHours=function(){e.noIncrementHours()||f(60*S*60)},e.decrementHours=function(){e.noDecrementHours()||f(60*-S*60)},e.incrementMinutes=function(){e.noIncrementMinutes()||f(60*E)},e.decrementMinutes=function(){e.noDecrementMinutes()||f(60*-E)},e.incrementSeconds=function(){e.noIncrementSeconds()||f(M)},e.decrementSeconds=function(){e.noDecrementSeconds()||f(-M)},e.toggleMeridian=function(){var t=l(),n=s();e.noToggleMeridian()||(angular.isDefined(t)&&angular.isDefined(n)?f(720*(w.getHours()<12?60:-60)):e.meridian=e.meridian===C[0]?C[1]:C[0])},e.blur=function(){k.$setTouched()},e.$on("$destroy",function(){for(;x.length;)x.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(e){return{require:["uibTimepicker","?^ngModel"],restrict:"A",controller:"UibTimepickerController",controllerAs:"timepicker",scope:{},templateUrl:function(t,n){return n.templateUrl||e.templateUrl},link:function(e,t,n,i){var r=i[0],a=i[1];a&&r.init(a,t.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var i=n.match(t);if(!i)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:i[3],source:e(i[4]),viewMapper:e(i[2]||i[1]),modelMapper:e(i[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(e,t,n,i,r,a,o,s,l,c,u,p,d){function h(){F.moveInProgress||(F.moveInProgress=!0,F.$digest()),Q()}function f(){F.position=A?p.offset(t):p.position(t),F.position.top+=t.prop("offsetHeight")}function g(e){var t;return angular.version.minor<6?(t=e.$options||{},t.getOption=function(e){return t[e]}):t=e.$options,t}var m,v,$=[9,13,27,38,40],b=e.$eval(n.typeaheadMinLength);b||0===b||(b=1),e.$watch(n.typeaheadMinLength,function(e){b=e||0===e?e:1});var y=e.$eval(n.typeaheadWaitMs)||0,w=!1!==e.$eval(n.typeaheadEditable);e.$watch(n.typeaheadEditable,function(e){w=!1!==e});var x,k,C=r(n.typeaheadLoading).assign||angular.noop,T=n.typeaheadShouldSelect?r(n.typeaheadShouldSelect):function(e,t){var n=t.$event;return 13===n.which||9===n.which},S=r(n.typeaheadOnSelect),E=!!angular.isDefined(n.typeaheadSelectOnBlur)&&e.$eval(n.typeaheadSelectOnBlur),D=r(n.typeaheadNoResults).assign||angular.noop,O=n.typeaheadInputFormatter?r(n.typeaheadInputFormatter):void 0,A=!!n.typeaheadAppendToBody&&e.$eval(n.typeaheadAppendToBody),M=n.typeaheadAppendTo?e.$eval(n.typeaheadAppendTo):null,I=!1!==e.$eval(n.typeaheadFocusFirst),P=!!n.typeaheadSelectOnExact&&e.$eval(n.typeaheadSelectOnExact),_=r(n.typeaheadIsOpen).assign||angular.noop,j=e.$eval(n.typeaheadShowHint)||!1,N=r(n.ngModel),R=r(n.ngModel+"($$$p)"),L=function(t,n){return angular.isFunction(N(e))&&v.getOption("getterSetter")?R(t,{$$$p:n}):N.assign(t,n)},U=d.parse(n.uibTypeahead),F=e.$new(),V=e.$on("$destroy",function(){F.$destroy()});F.$on("$destroy",V);var q="typeahead-"+F.$id+"-"+Math.floor(1e4*Math.random());t.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":q});var z,H;j&&(z=angular.element("<div></div>"),z.css("position","relative"),t.after(z),H=t.clone(),H.attr("placeholder",""),H.attr("tabindex","-1"),H.val(""),H.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),t.css({position:"relative","vertical-align":"top","background-color":"transparent"}),H.attr("id")&&H.removeAttr("id"),z.append(H),H.after(t));var B=angular.element("<div uib-typeahead-popup></div>");B.attr({id:q,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(n.typeaheadTemplateUrl)&&B.attr("template-url",n.typeaheadTemplateUrl),angular.isDefined(n.typeaheadPopupTemplateUrl)&&B.attr("popup-template-url",n.typeaheadPopupTemplateUrl);var W=function(){j&&H.val("")},G=function(){F.matches=[],F.activeIdx=-1,t.attr("aria-expanded",!1),W()},Y=function(e){return q+"-option-"+e};F.$watch("activeIdx",function(e){0>e?t.removeAttr("aria-activedescendant"):t.attr("aria-activedescendant",Y(e))});var J=function(e,t){return!!(F.matches.length>t&&e)&&e.toUpperCase()===F.matches[t].label.toUpperCase()},K=function(n,i){var r={$viewValue:n};C(e,!0),D(e,!1),a.when(U.source(e,r)).then(function(a){var o=n===m.$viewValue;if(o&&x)if(a&&a.length>0){F.activeIdx=I?0:-1,D(e,!1),F.matches.length=0;for(var s=0;s<a.length;s++)r[U.itemName]=a[s],F.matches.push({id:Y(s),label:U.viewMapper(F,r),model:a[s]});if(F.query=n,f(),t.attr("aria-expanded",!0),P&&1===F.matches.length&&J(n,0)&&(angular.isNumber(F.debounceUpdate)||angular.isObject(F.debounceUpdate)?u(function(){F.select(0,i)},angular.isNumber(F.debounceUpdate)?F.debounceUpdate:F.debounceUpdate.default):F.select(0,i)),j){var l=F.matches[0].label;angular.isString(n)&&n.length>0&&l.slice(0,n.length).toUpperCase()===n.toUpperCase()?H.val(n+l.slice(n.length)):H.val("")}}else G(),D(e,!0);o&&C(e,!1)},function(){G(),C(e,!1),D(e,!0)})};A&&(angular.element(l).on("resize",h),s.find("body").on("scroll",h));var Q=u(function(){F.matches.length&&f(),F.moveInProgress=!1},200);F.moveInProgress=!1,F.query=void 0;var X,Z=function(e){X=o(function(){K(e)},y)},ee=function(){X&&o.cancel(X)};G(),F.assignIsOpen=function(t){_(e,t)},F.select=function(i,r){var a,s,l={};k=!0,l[U.itemName]=s=F.matches[i].model,a=U.modelMapper(e,l),L(e,a),m.$setValidity("editable",!0),m.$setValidity("parse",!0),S(e,{$item:s,$model:a,$label:U.viewMapper(e,l),$event:r}),G(),!1!==F.$eval(n.typeaheadFocusOnSelect)&&o(function(){t[0].focus()},0,!1)},t.on("keydown",function(t){if(0!==F.matches.length&&-1!==$.indexOf(t.which)){var n=T(e,{$event:t});if(-1===F.activeIdx&&n||9===t.which&&t.shiftKey)return G(),void F.$digest();t.preventDefault();var i;switch(t.which){case 27:t.stopPropagation(),G(),e.$digest();break;case 38:F.activeIdx=(F.activeIdx>0?F.activeIdx:F.matches.length)-1,F.$digest(),i=B[0].querySelectorAll(".uib-typeahead-match")[F.activeIdx],i.parentNode.scrollTop=i.offsetTop;break;case 40:F.activeIdx=(F.activeIdx+1)%F.matches.length,F.$digest(),i=B[0].querySelectorAll(".uib-typeahead-match")[F.activeIdx],i.parentNode.scrollTop=i.offsetTop;break;default:n&&F.$apply(function(){angular.isNumber(F.debounceUpdate)||angular.isObject(F.debounceUpdate)?u(function(){F.select(F.activeIdx,t)},angular.isNumber(F.debounceUpdate)?F.debounceUpdate:F.debounceUpdate.default):F.select(F.activeIdx,t)})}}}),t.on("focus",function(e){x=!0,0!==b||m.$viewValue||o(function(){K(m.$viewValue,e)},0)}),t.on("blur",function(e){E&&F.matches.length&&-1!==F.activeIdx&&!k&&(k=!0,F.$apply(function(){angular.isObject(F.debounceUpdate)&&angular.isNumber(F.debounceUpdate.blur)?u(function(){F.select(F.activeIdx,e)},F.debounceUpdate.blur):F.select(F.activeIdx,e)})),!w&&m.$error.editable&&(m.$setViewValue(),F.$apply(function(){m.$setValidity("editable",!0),m.$setValidity("parse",!0)}),t.val("")),x=!1,k=!1});var te=function(n){t[0]!==n.target&&3!==n.which&&0!==F.matches.length&&(G(),c.$$phase||e.$digest())};s.on("click",te),e.$on("$destroy",function(){s.off("click",te),(A||M)&&ne.remove(),A&&(angular.element(l).off("resize",h),s.find("body").off("scroll",h)),B.remove(),j&&z.remove()});var ne=i(B)(F);A?s.find("body").append(ne):M?angular.element(M).eq(0).append(ne):t.after(ne),this.init=function(t){m=t,v=g(m),F.debounceUpdate=r(v.getOption("debounce"))(e),m.$parsers.unshift(function(t){return x=!0,0===b||t&&t.length>=b?y>0?(ee(),Z(t)):K(t):(C(e,!1),ee(),G()),w?t:t?void m.$setValidity("editable",!1):(m.$setValidity("editable",!0),null)}),m.$formatters.push(function(t){var n,i,r={};return w||m.$setValidity("editable",!0),O?(r.$model=t,O(e,r)):(r[U.itemName]=t,n=U.viewMapper(e,r),r[U.itemName]=void 0,i=U.viewMapper(e,r),n!==i?n:t)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","uibTypeahead"],link:function(e,t,n,i){i[1].init(i[0])}}}).directive("uibTypeaheadPopup",["$$debounce",function(e){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(t,n,i){t.templateUrl=i.templateUrl,t.isOpen=function(){var e=t.matches.length>0;return t.assignIsOpen({isOpen:e}),e},t.isActive=function(e){return t.active===e},t.selectActive=function(e){t.active=e},t.selectMatch=function(n,i){var r=t.debounce();angular.isNumber(r)||angular.isObject(r)?e(function(){t.select({activeIdx:n,evt:i})},angular.isNumber(r)?r:r.default):t.select({activeIdx:n,evt:i})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{scope:{index:"=",match:"=",query:"="},link:function(i,r,a){var o=n(a.templateUrl)(i.$parent)||"uib/template/typeahead/typeahead-match.html";e(o).then(function(e){var n=angular.element(e.trim());r.replaceWith(n),t(n)(i)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(e,t,n){function i(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function r(e){return/<.*>/g.test(e)}var a;return a=t.has("$sanitize"),function(t,o){return!a&&r(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=o?(""+t).replace(new RegExp(i(o),"gi"),"<strong>$&</strong>"):t,a||(t=e.trustAsHtml(t)),t}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion-group.html",'<div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n  <h4 class="panel-title">\n    <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading" ng-disabled="isDisabled" uib-tabindex-toggle><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n  </h4>\n</div>\n<div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n  <div class="panel-body" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("uib/template/alert/alert.html",'<button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n  <span aria-hidden="true">&times;</span>\n  <span class="sr-only">Close</span>\n</button>\n<div ng-transclude></div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/carousel.html",'<div class="carousel-inner" ng-transclude></div>\n<a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n  <span class="sr-only">previous</span>\n</a>\n<a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n  <span class="sr-only">next</span>\n</a>\n<ol class="carousel-indicators" ng-show="slides.length > 1">\n  <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n    <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n  </li>\n</ol>\n')}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/slide.html",'<div class="text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/datepicker.html",'<div ng-switch="datepickerMode">\n  <div uib-daypicker ng-switch-when="day" tabindex="0" class="uib-daypicker"></div>\n  <div uib-monthpicker ng-switch-when="month" tabindex="0" class="uib-monthpicker"></div>\n  <div uib-yearpicker ng-switch-when="year" tabindex="0" class="uib-yearpicker"></div>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(e){
e.put("uib/template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index" role="row">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::yearHeaderColspan}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepickerPopup/popup.html",'<ul role="presentation" class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n  <li ng-transclude></li>\n  <li ng-if="showButtonBar" class="uib-button-bar">\n    <span class="btn-group pull-left">\n      <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n      <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n    </span>\n    <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n  </li>\n</ul>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/window.html","<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n")}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(e){e.put("uib/template/pager/pager.html",'<li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("uib/template/pagination/pagination.html",'<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'first\')}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li role="menuitem" ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)" ng-disabled="ngDisabled&&!page.active" uib-tabindex-toggle>{{page.text}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'last\')}}</a></li>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind="content"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner"\n  uib-tooltip-template-transclude="contentExp()"\n  tooltip-template-transclude-scope="originScope()"></div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-html.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-template.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content"\n      uib-tooltip-template-transclude="contentExp()"\n      tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li class="uib-typeahead-match" ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0}),!function(){"use strict";function e(e){return angular.isUndefined(e)||null===e}var t={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(e){switch(e.which){case t.COMMAND:case t.SHIFT:case t.CTRL:case t.ALT:return!0}return!!(e.metaKey||e.ctrlKey||e.altKey)},isFunctionKey:function(e){return(e=e.which?e.which:e)>=112&&e<=123},isVerticalMovement:function(e){return~[t.UP,t.DOWN].indexOf(e)},isHorizontalMovement:function(e){return~[t.LEFT,t.RIGHT,t.BACKSPACE,t.DELETE].indexOf(e)},toSeparator:function(e){var n={ENTER:"\n",TAB:"\t",SPACE:" "}[e];return n||(t[e]?void 0:e)}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(e){return angular.element(this[0].querySelectorAll(e))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(e){for(var t=this[0],n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;t;){if(n.bind(t)(e))return t;t=t.parentElement}return!1});var n=0,i=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,skipFocusser:!1,dropdownPosition:"auto",removeSelected:!0,resetSearchInput:!0,generateId:function(){return n++},appendToBody:!1,spinnerEnabled:!1,spinnerClass:"glyphicon glyphicon-refresh ui-select-spin",backspaceReset:!0}).service("uiSelectMinErr",function(){var e=angular.$$minErr("ui.select");return function(){var t=e.apply(this,arguments),n=t.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(n)}}).directive("uisTranscludeAppend",function(){return{link:function(e,t,n,i,r){r(e,function(e){t.append(e)})}}}).filter("highlight",function(){function e(e){return(""+e).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n&&t?(""+t).replace(new RegExp(e(n),"gi"),'<span class="ui-select-highlight">$&</span>'):t}}).factory("uisOffset",["$document","$window",function(e,t){return function(n){var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:i.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}}}]);i.factory("$$uisDebounce",["$timeout",function(e){return function(t,n){var i;return function(){var r=this,a=Array.prototype.slice.call(arguments);i&&e.cancel(i),i=e(function(){t.apply(r,a)},n)}}}]),i.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile","$window",function(e,t,n,i,r){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){return t.addClass("ui-select-choices"),(t.parent().attr("theme")||e.theme)+"/choices.tpl.html"},compile:function(i,a){if(!a.repeat)throw n("repeat","Expected 'repeat' expression.");var o=a.groupBy,s=a.groupFilter;if(o){var l=i.querySelectorAll(".ui-select-choices-group");if(1!==l.length)throw n("rows","Expected 1 .ui-select-choices-group but got '{0}'.",l.length);l.attr("ng-repeat",t.getGroupNgRepeatExpression())}var c=t.parse(a.repeat),u=i.querySelectorAll(".ui-select-choices-row");if(1!==u.length)throw n("rows","Expected 1 .ui-select-choices-row but got '{0}'.",u.length);u.attr("ng-repeat",c.repeatExpression(o)).attr("ng-if","$select.open");var p=i.querySelectorAll(".ui-select-choices-row-inner");if(1!==p.length)throw n("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",p.length);return p.attr("uis-transclude-append",""),(r.document.addEventListener?u:p).attr("ng-click","$select.select("+c.itemName+",$select.skipFocusser,$event)"),function(t,n,r,a){a.parseRepeatAttr(r.repeat,o,s),a.disableChoiceExpression=r.uiDisableChoice,a.onHighlightCallback=r.onHighlight,a.minimumInputLength=parseInt(r.minimumInputLength)||0,a.dropdownPosition=r.position?r.position.toLowerCase():e.dropdownPosition,t.$watch("$select.search",function(e){e&&!a.open&&a.multiple&&a.activate(!1,!0),a.activeIndex=a.tagging.isActivated?-1:0,!r.minimumInputLength||a.search.length>=r.minimumInputLength?a.refresh(r.refresh):a.items=[]}),r.$observe("refreshDelay",function(){var n=t.$eval(r.refreshDelay);a.refreshDelay=void 0!==n?n:e.refreshDelay}),t.$watch("$select.open",function(e){e?(i.attr("role","listbox"),a.refresh(r.refresh)):n.removeAttr("role")})}}}}]),i.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","$$uisDebounce","uisRepeatParser","uiSelectMinErr","uiSelectConfig","$parse","$injector","$window",function(n,i,r,a,o,s,l,c,u,p,d){function h(e,t,n){if(e.findIndex)return e.findIndex(t,n);for(var i,r=Object(e),a=r.length>>>0,o=0;o<a;o++)if(i=r[o],t.call(n,i,o,r))return o;return-1}function f(){w.resetSearchInput&&(w.search=x,w.selected&&w.items.length&&!w.multiple&&(w.activeIndex=h(w.items,function(e){return angular.equals(this,e)},w.selected)))}function g(e,t){var n,i,r=[];for(n=0;n<t.length;n++)for(i=0;i<e.length;i++)e[i].name==[t[n]]&&r.push(e[i]);return r}function m(e,t){var n=T.indexOf(e);t&&-1===n&&T.push(e),!t&&n>-1&&T.splice(n,1)}function v(e){return T.indexOf(e)>-1}function $(e){function t(e,t){var n=i.indexOf(e);t&&-1===n&&i.push(e),!t&&n>-1&&i.splice(n,1)}function n(e){return i.indexOf(e)>-1}if(e){var i=[];w.isLocked=function(e,i){var r=!1,a=w.selected[i];return a&&(e?(r=!!e.$eval(w.lockChoiceExpression),t(a,r)):r=n(a)),r}}}function b(e){var n=!0;switch(e){case t.DOWN:if(!w.open&&w.multiple)w.activate(!1,!0);else if(w.activeIndex<w.items.length-1)for(var i=++w.activeIndex;v(w.items[i])&&i<w.items.length;)w.activeIndex=++i;break;case t.UP:var r=0===w.search.length&&w.tagging.isActivated?-1:0;if(!w.open&&w.multiple)w.activate(!1,!0);else if(w.activeIndex>r)for(var a=--w.activeIndex;v(w.items[a])&&a>r;)w.activeIndex=--a;break;case t.TAB:w.multiple&&!w.open||w.select(w.items[w.activeIndex],!0);break;case t.ENTER:w.open&&(w.tagging.isActivated||w.activeIndex>=0)?w.select(w.items[w.activeIndex],w.skipFocusser):w.activate(!1,!0);break;case t.ESC:w.close();break;default:n=!1}return n}function y(){var e=i.querySelectorAll(".ui-select-choices-content"),t=e.querySelectorAll(".ui-select-choices-row");if(t.length<1)throw l("choices","Expected multiple .ui-select-choices-row but got '{0}'.",t.length);if(!(w.activeIndex<0)){var n=t[w.activeIndex],r=n.offsetTop+n.clientHeight-e[0].scrollTop,a=e[0].offsetHeight;r>a?e[0].scrollTop+=r-a:r<n.clientHeight&&(w.isGrouped&&0===w.activeIndex?e[0].scrollTop=0:e[0].scrollTop-=n.clientHeight-r)}}var w=this,x="";if(w.placeholder=c.placeholder,w.searchEnabled=c.searchEnabled,w.sortable=c.sortable,w.refreshDelay=c.refreshDelay,w.paste=c.paste,w.resetSearchInput=c.resetSearchInput,w.refreshing=!1,w.spinnerEnabled=c.spinnerEnabled,w.spinnerClass=c.spinnerClass,w.removeSelected=c.removeSelected,w.closeOnSelect=!0,w.skipFocusser=!1,w.search=x,w.activeIndex=0,w.items=[],w.open=!1,w.focus=!1,w.disabled=!1,w.selected=void 0,w.dropdownPosition="auto",w.focusser=void 0,w.multiple=void 0,w.disableChoiceExpression=void 0,w.tagging={isActivated:!1,fct:void 0},w.taggingTokens={isActivated:!1,tokens:void 0},w.lockChoiceExpression=void 0,w.clickTriggeredSelect=!1,w.$filter=a,w.$element=i,w.$animate=function(){try{return p.get("$animate")}catch(e){return null}}(),w.searchInput=i.querySelectorAll("input.ui-select-search"),1!==w.searchInput.length)throw l("searchInput","Expected 1 input.ui-select-search but got '{0}'.",w.searchInput.length);w.isEmpty=function(){return e(w.selected)||""===w.selected||w.multiple&&0===w.selected.length},w.activate=function(e,t){if(w.disabled||w.open)w.open&&!w.searchEnabled&&w.close();else{t||f(),n.$broadcast("uis:activate"),w.open=!0,w.activeIndex=w.activeIndex>=w.items.length?0:w.activeIndex,-1===w.activeIndex&&!1!==w.taggingLabel&&(w.activeIndex=0);var a=i.querySelectorAll(".ui-select-choices-content"),o=i.querySelectorAll(".ui-select-search");if(w.$animate&&w.$animate.on&&w.$animate.enabled(a[0])){var s=function(t,n){
"start"===n&&0===w.items.length?(w.$animate.off("removeClass",o[0],s),r(function(){w.focusSearchInput(e)})):"close"===n&&(w.$animate.off("enter",a[0],s),r(function(){w.focusSearchInput(e)}))};w.items.length>0?w.$animate.on("enter",a[0],s):w.$animate.on("removeClass",o[0],s)}else r(function(){w.focusSearchInput(e),!w.tagging.isActivated&&w.items.length>1&&y()})}},w.focusSearchInput=function(e){w.search=e||w.search,w.searchInput[0].focus()},w.findGroupByName=function(e){return w.groups&&w.groups.filter(function(t){return t.name===e})[0]},w.parseRepeatAttr=function(e,t,i){function r(e){var r=n.$eval(t);if(w.groups=[],angular.forEach(e,function(e){var t=angular.isFunction(r)?r(e):e[r],n=w.findGroupByName(t);n?n.items.push(e):w.groups.push({name:t,items:[e]})}),i){var a=n.$eval(i);angular.isFunction(a)?w.groups=a(w.groups):angular.isArray(a)&&(w.groups=g(w.groups,a))}w.items=[],w.groups.forEach(function(e){w.items=w.items.concat(e.items)})}function a(e){w.items=e||[]}w.setItemsFn=t?r:a,w.parserResult=s.parse(e),w.isGrouped=!!t,w.itemProperty=w.parserResult.itemName;var o=w.parserResult.source,c=function(){var e=o(n);n.$uisSource=Object.keys(e).map(function(t){var n={};return n[w.parserResult.keyName]=t,n.value=e[t],n})};w.parserResult.keyName&&(c(),w.parserResult.source=u("$uisSource"+w.parserResult.filters),n.$watch(o,function(e,t){e!==t&&c()},!0)),w.refreshItems=function(e){e=e||w.parserResult.source(n);var t=w.selected;if(w.isEmpty()||angular.isArray(t)&&!t.length||!w.multiple||!w.removeSelected)w.setItemsFn(e);else if(void 0!==e&&null!==e){var i=e.filter(function(e){return angular.isArray(t)?t.every(function(t){return!angular.equals(e,t)}):!angular.equals(e,t)});w.setItemsFn(i)}"auto"!==w.dropdownPosition&&"up"!==w.dropdownPosition||n.calculateDropdownPos(),n.$broadcast("uis:refresh")},n.$watchCollection(w.parserResult.source,function(e){if(void 0===e||null===e)w.items=[];else{if(!angular.isArray(e))throw l("items","Expected an array but got '{0}'.",e);w.refreshItems(e),angular.isDefined(w.ngModel.$modelValue)&&(w.ngModel.$modelValue=null)}})};var k;w.refresh=function(e){void 0!==e&&(k&&r.cancel(k),k=r(function(){if(n.$select.search.length>=n.$select.minimumInputLength){var t=n.$eval(e);t&&angular.isFunction(t.then)&&!w.refreshing&&(w.refreshing=!0,t.finally(function(){w.refreshing=!1}))}},w.refreshDelay))},w.isActive=function(e){if(!w.open)return!1;var t=w.items.indexOf(e[w.itemProperty]),n=t==w.activeIndex;return!(!n||t<0)&&(n&&!angular.isUndefined(w.onHighlightCallback)&&e.$eval(w.onHighlightCallback),n)};var C=function(e){return w.selected&&angular.isArray(w.selected)&&w.selected.filter(function(t){return angular.equals(t,e)}).length>0},T=[];w.isDisabled=function(e){if(w.open){var t=e[w.itemProperty],n=w.items.indexOf(t),i=!1;if(n>=0&&(angular.isDefined(w.disableChoiceExpression)||w.multiple)){if(t.isTag)return!1;w.multiple&&(i=C(t)),!i&&angular.isDefined(w.disableChoiceExpression)&&(i=!!e.$eval(w.disableChoiceExpression)),m(t,i)}return i}},w.select=function(t,i,r){if(e(t)||!v(t)){if(!w.items&&!w.search&&!w.tagging.isActivated)return;if(!t||!v(t)){if(w.clickTriggeredSelect=!1,r&&("click"===r.type||"touchend"===r.type)&&t&&(w.clickTriggeredSelect=!0),w.tagging.isActivated&&!1===w.clickTriggeredSelect){if(!1===w.taggingLabel)if(w.activeIndex<0){if(void 0===t&&(t=void 0!==w.tagging.fct?w.tagging.fct(w.search):w.search),!t||angular.equals(w.items[0],t))return}else t=w.items[w.activeIndex];else if(0===w.activeIndex){if(void 0===t)return;if(void 0!==w.tagging.fct&&"string"==typeof t){if(!(t=w.tagging.fct(t)))return}else"string"==typeof t&&(t=t.replace(w.taggingLabel,"").trim())}if(C(t))return void w.close(i)}f(),n.$broadcast("uis:select",t),w.closeOnSelect&&w.close(i)}}},w.close=function(e){w.open&&(w.ngModel&&w.ngModel.$setTouched&&w.ngModel.$setTouched(),w.open=!1,f(),n.$broadcast("uis:close",e))},w.setFocus=function(){w.focus||w.focusInput[0].focus()},w.clear=function(e){w.select(null),e.stopPropagation(),r(function(){w.focusser[0].focus()},0,!1)},w.toggle=function(e){w.open?(w.close(),e.preventDefault(),e.stopPropagation()):w.activate()},w.isLocked=function(){return!1},n.$watch(function(){return angular.isDefined(w.lockChoiceExpression)&&""!==w.lockChoiceExpression},$);var S=null,E=!1;w.sizeSearchInput=function(){var e=w.searchInput[0],t=w.$element[0],i=function(){return t.clientWidth*!!e.offsetParent},a=function(t){if(0===t)return!1;var n=t-e.offsetLeft;return n<50&&(n=t),w.searchInput.css("width",n+"px"),!0};w.searchInput.css("width","10px"),r(function(){null!==S||a(i())||(S=n.$watch(function(){E||(E=!0,n.$$postDigest(function(){E=!1,a(i())&&(S(),S=null)}))},angular.noop))})},w.searchInput.on("keydown",function(e){var i=e.which;~[t.ENTER,t.ESC].indexOf(i)&&(e.preventDefault(),e.stopPropagation()),n.$apply(function(){var n=!1;if((w.items.length>0||w.tagging.isActivated)&&(b(i)||w.searchEnabled||(e.preventDefault(),e.stopPropagation()),w.taggingTokens.isActivated)){for(var a=0;a<w.taggingTokens.tokens.length;a++)w.taggingTokens.tokens[a]===t.MAP[e.keyCode]&&w.search.length>0&&(n=!0);n&&r(function(){w.searchInput.triggerHandler("tagged");var n=w.search.replace(t.MAP[e.keyCode],"").trim();w.tagging.fct&&(n=w.tagging.fct(n)),n&&w.select(n,!0)})}}),t.isVerticalMovement(i)&&w.items.length>0&&y(),i!==t.ENTER&&i!==t.ESC||(e.preventDefault(),e.stopPropagation())}),w.searchInput.on("paste",function(e){var n;if(n=window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):(e.originalEvent||e).clipboardData.getData("text/plain"),(n=w.search+n)&&n.length>0)if(w.taggingTokens.isActivated){for(var i=[],r=0;r<w.taggingTokens.tokens.length;r++){var a=t.toSeparator(w.taggingTokens.tokens[r])||w.taggingTokens.tokens[r];if(n.indexOf(a)>-1){i=n.split(a);break}}0===i.length&&(i=[n]);var o=w.search;angular.forEach(i,function(e){var t=w.tagging.fct?w.tagging.fct(e):e;t&&w.select(t,!0)}),w.search=o||x,e.preventDefault(),e.stopPropagation()}else w.paste&&(w.paste(n),w.search=x,e.preventDefault(),e.stopPropagation())}),w.searchInput.on("tagged",function(){r(function(){f()})});var D=o(function(){w.sizeSearchInput()},50);angular.element(d).bind("resize",D),n.$on("$destroy",function(){w.searchInput.off("keyup keydown tagged blur paste"),angular.element(d).off("resize",D)}),n.$watch("$select.activeIndex",function(e){e&&i.find("input").attr("aria-activedescendant","ui-select-choices-row-"+w.generatedId+"-"+e)}),n.$watch("$select.open",function(e){e||i.find("input").removeAttr("aria-activedescendant")})}]),i.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(e,t,n,i,r,a,o){return{restrict:"EA",templateUrl:function(e,n){return(n.theme||t.theme)+(angular.isDefined(n.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(r,s){var l=/{(.*)}\s*{(.*)}/.exec(s.ngClass);if(l){var c="{"+l[1]+", "+l[2]+"}";s.ngClass=c,r.attr("ng-class",c)}return angular.isDefined(s.multiple)?r.append("<ui-select-multiple/>").removeAttr("multiple"):r.append("<ui-select-single/>"),s.inputId&&(r.querySelectorAll("input.ui-select-search")[0].id=s.inputId),function(r,s,l,c,u){function p(e){if(f.open){if(!(window.jQuery?window.jQuery.contains(s[0],e.target):s[0].contains(e.target))&&!f.clickTriggeredSelect){var t;if(f.skipFocusser)t=!0;else{var n=["input","button","textarea","select"],i=angular.element(e.target).controller("uiSelect");(t=i&&i!==f)||(t=~n.indexOf(e.target.tagName.toLowerCase()))}f.close(t),r.$digest()}f.clickTriggeredSelect=!1}}function d(){var t=i(s);v=angular.element('<div class="ui-select-placeholder"></div>'),v[0].style.width=t.width+"px",v[0].style.height=t.height+"px",s.after(v),$=s[0].style.width,e.find("body").append(s),s[0].style.position="absolute",s[0].style.left=t.left+"px",s[0].style.top=t.top+"px",s[0].style.width=t.width+"px"}function h(){null!==v&&(v.replaceWith(s),v=null,s[0].style.position="",s[0].style.left="",s[0].style.top="",s[0].style.width=$,f.setFocus())}var f=c[0],g=c[1];f.generatedId=t.generateId(),f.baseTitle=l.title||"Select box",f.focusserTitle=f.baseTitle+" focus",f.focusserId="focusser-"+f.generatedId,f.closeOnSelect=function(){return angular.isDefined(l.closeOnSelect)?a(l.closeOnSelect)():t.closeOnSelect}(),r.$watch("skipFocusser",function(){var e=r.$eval(l.skipFocusser);f.skipFocusser=void 0!==e?e:t.skipFocusser}),f.onSelectCallback=a(l.onSelect),f.onRemoveCallback=a(l.onRemove),f.ngModel=g,f.choiceGrouped=function(e){return f.isGrouped&&e&&e.name},l.tabindex&&l.$observe("tabindex",function(e){f.focusInput.attr("tabindex",e),s.removeAttr("tabindex")}),r.$watch(function(){return r.$eval(l.searchEnabled)},function(e){f.searchEnabled=void 0!==e?e:t.searchEnabled}),r.$watch("sortable",function(){var e=r.$eval(l.sortable);f.sortable=void 0!==e?e:t.sortable}),l.$observe("backspaceReset",function(){var e=r.$eval(l.backspaceReset);f.backspaceReset=void 0===e||e}),l.$observe("limit",function(){f.limit=angular.isDefined(l.limit)?parseInt(l.limit,10):void 0}),r.$watch("removeSelected",function(){var e=r.$eval(l.removeSelected);f.removeSelected=void 0!==e?e:t.removeSelected}),l.$observe("disabled",function(){f.disabled=void 0!==l.disabled&&l.disabled}),l.$observe("resetSearchInput",function(){var e=r.$eval(l.resetSearchInput);f.resetSearchInput=void 0===e||e}),l.$observe("paste",function(){f.paste=r.$eval(l.paste)}),l.$observe("tagging",function(){if(void 0!==l.tagging){var e=r.$eval(l.tagging);f.tagging={isActivated:!0,fct:!0!==e?e:void 0}}else f.tagging={isActivated:!1,fct:void 0}}),l.$observe("taggingLabel",function(){void 0!==l.tagging&&("false"===l.taggingLabel?f.taggingLabel=!1:f.taggingLabel=void 0!==l.taggingLabel?l.taggingLabel:"(new)")}),l.$observe("taggingTokens",function(){if(void 0!==l.tagging){var e=void 0!==l.taggingTokens?l.taggingTokens.split("|"):[",","ENTER"];f.taggingTokens={isActivated:!0,tokens:e}}}),l.$observe("spinnerEnabled",function(){var e=r.$eval(l.spinnerEnabled);f.spinnerEnabled=void 0!==e?e:t.spinnerEnabled}),l.$observe("spinnerClass",function(){var e=l.spinnerClass;f.spinnerClass=void 0!==e?l.spinnerClass:t.spinnerClass}),angular.isDefined(l.autofocus)&&o(function(){f.setFocus()}),angular.isDefined(l.focusOn)&&r.$on(l.focusOn,function(){o(function(){f.setFocus()})}),e.on("click",p),r.$on("$destroy",function(){e.off("click",p)}),u(r,function(e){var t=angular.element("<div>").append(e),i=t.querySelectorAll(".ui-select-match");if(i.removeAttr("ui-select-match"),i.removeAttr("data-ui-select-match"),1!==i.length)throw n("transcluded","Expected 1 .ui-select-match but got '{0}'.",i.length);s.querySelectorAll(".ui-select-match").replaceWith(i);var r=t.querySelectorAll(".ui-select-choices");if(r.removeAttr("ui-select-choices"),r.removeAttr("data-ui-select-choices"),1!==r.length)throw n("transcluded","Expected 1 .ui-select-choices but got '{0}'.",r.length);s.querySelectorAll(".ui-select-choices").replaceWith(r);var a=t.querySelectorAll(".ui-select-no-choice");a.removeAttr("ui-select-no-choice"),a.removeAttr("data-ui-select-no-choice"),1==a.length&&s.querySelectorAll(".ui-select-no-choice").replaceWith(a)});var m=r.$eval(l.appendToBody);(void 0!==m?m:t.appendToBody)&&(r.$watch("$select.open",function(e){e?d():h()}),r.$on("$destroy",function(){h()}));var v=null,$="",b=null,y="direction-up";r.$watch("$select.open",function(){"auto"!==f.dropdownPosition&&"up"!==f.dropdownPosition||r.calculateDropdownPos()});var w=function(e,t){e=e||i(s),t=t||i(b),b[0].style.position="absolute",b[0].style.top=-1*t.height+"px",s.addClass(y)},x=function(e,t){s.removeClass(y),e=e||i(s),t=t||i(b),b[0].style.position="",b[0].style.top=""},k=function(){o(function(){if("up"===f.dropdownPosition)w();else{s.removeClass(y);var t=i(s),n=i(b),r=e[0].documentElement.scrollTop||e[0].body.scrollTop;t.top+t.height+n.height>r+e[0].documentElement.clientHeight?w(t,n):x(t,n)}b[0].style.opacity=1})},C=!1;r.calculateDropdownPos=function(){if(f.open){if(b=angular.element(s).querySelectorAll(".ui-select-dropdown"),0===b.length)return;if(""!==f.search||C||(b[0].style.opacity=0,C=!0),!i(b).height&&f.$animate&&f.$animate.on&&f.$animate.enabled(b)){var e=!0;f.$animate.on("enter",b,function(t,n){"close"===n&&e&&(k(),e=!1)})}else k()}else{if(null===b||0===b.length)return;b[0].style.opacity=0,b[0].style.position="",b[0].style.top="",s.removeClass(y)}}}}}}]),i.directive("uiSelectMatch",["uiSelectConfig",function(e){function t(e,t){return e[0].hasAttribute(t)?e.attr(t):e[0].hasAttribute("data-"+t)?e.attr("data-"+t):e[0].hasAttribute("x-"+t)?e.attr("x-"+t):void 0}return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(n){n.addClass("ui-select-match");var i=n.parent();return(t(i,"theme")||e.theme)+(angular.isDefined(t(i,"multiple"))?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(t,n,i,r){function a(e){r.allowClear=!!angular.isDefined(e)&&(""===e||"true"===e.toLowerCase())}r.lockChoiceExpression=i.uiLockChoice,i.$observe("placeholder",function(t){r.placeholder=void 0!==t?t:e.placeholder}),i.$observe("allowClear",a),a(i.allowClear),r.multiple&&r.sizeSearchInput()}}}]),i.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(n,i){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function(e,t){var n,i=this,r=e.$select;angular.isUndefined(r.selected)&&(r.selected=[]),e.$evalAsync(function(){n=e.ngModel}),i.activeMatchIndex=-1,i.updateModel=function(){n.$setViewValue(Date.now()),i.refreshComponent()},i.refreshComponent=function(){r.refreshItems&&r.refreshItems(),r.sizeSearchInput&&r.sizeSearchInput()},i.removeChoice=function(n){if(r.isLocked(null,n))return!1;var a=r.selected[n],o={};return o[r.parserResult.itemName]=a,r.selected.splice(n,1),i.activeMatchIndex=-1,r.sizeSearchInput(),t(function(){r.onRemoveCallback(e,{$item:a,$model:r.parserResult.modelMapper(e,o)})}),i.updateModel(),!0},i.getPlaceholder=function(){if(!r.selected||!r.selected.length)return r.placeholder}}],controllerAs:"$selectMultiple",link:function(r,a,o,s){function l(e){return angular.isNumber(e.selectionStart)?e.selectionStart:e.value.length}function c(e){var n=l(d.searchInput[0]),i=d.selected.length,r=i-1,a=f.activeMatchIndex,o=f.activeMatchIndex+1,s=f.activeMatchIndex-1,c=a;return!(n>0||d.search.length&&e==t.RIGHT||(d.close(),c=function(){switch(e){case t.LEFT:return~f.activeMatchIndex?s:r;case t.RIGHT:return~f.activeMatchIndex&&a!==r?o:(d.activate(),!1);case t.BACKSPACE:return~f.activeMatchIndex?f.removeChoice(a)?s:a:r;case t.DELETE:return!!~f.activeMatchIndex&&(f.removeChoice(f.activeMatchIndex),a)}}(),d.selected.length&&!1!==c?f.activeMatchIndex=Math.min(r,Math.max(0,c)):f.activeMatchIndex=-1,0))}function u(e){return void 0!==e&&void 0!==d.search&&e.filter(function(e){return void 0!==d.search.toUpperCase()&&void 0!==e&&e.toUpperCase()===d.search.toUpperCase()}).length>0}function p(e,t){var n=-1;if(angular.isArray(e))for(var i=angular.copy(e),r=0;r<i.length;r++)if(void 0===d.tagging.fct)i[r]+" "+d.taggingLabel===t&&(n=r);else{var a=i[r];angular.isObject(a)&&(a.isTag=!0),angular.equals(a,t)&&(n=r)}return n}var d=s[0],h=r.ngModel=s[1],f=r.$selectMultiple;d.multiple=!0,d.focusInput=d.searchInput,h.$isEmpty=function(e){return!e||0===e.length},h.$parsers.unshift(function(){for(var e,t={},n=[],i=d.selected.length-1;i>=0;i--)t={},t[d.parserResult.itemName]=d.selected[i],e=d.parserResult.modelMapper(r,t),n.unshift(e);return n}),h.$formatters.unshift(function(e){var t,n=d.parserResult&&d.parserResult.source(r,{$select:{search:""}}),i={};if(!n)return e;var a=[],o=function(e,n){if(e&&e.length){for(var o=e.length-1;o>=0;o--){if(i[d.parserResult.itemName]=e[o],t=d.parserResult.modelMapper(r,i),d.parserResult.trackByExp){var s=/(\w*)\./.exec(d.parserResult.trackByExp),l=/\.([^\s]+)/.exec(d.parserResult.trackByExp);if(s&&s.length>0&&s[1]==d.parserResult.itemName&&l&&l.length>0&&t[l[1]]==n[l[1]])return a.unshift(e[o]),!0}if(angular.equals(t,n))return a.unshift(e[o]),!0}return!1}};if(!e)return a;for(var s=e.length-1;s>=0;s--)o(d.selected,e[s])||o(n,e[s])||a.unshift(e[s]);return a}),r.$watchCollection(function(){return h.$modelValue},function(e,t){t!=e&&(angular.isDefined(h.$modelValue)&&(h.$modelValue=null),f.refreshComponent())}),h.$render=function(){if(!angular.isArray(h.$viewValue)){if(!e(h.$viewValue))throw n("multiarr","Expected model value to be array but got '{0}'",h.$viewValue);h.$viewValue=[]}d.selected=h.$viewValue,f.refreshComponent(),r.$evalAsync()},r.$on("uis:select",function(e,t){if(!(d.selected.length>=d.limit)){d.selected.push(t);var n={};n[d.parserResult.itemName]=t,i(function(){d.onSelectCallback(r,{$item:t,$model:d.parserResult.modelMapper(r,n)})}),f.updateModel()}}),r.$on("uis:activate",function(){f.activeMatchIndex=-1}),r.$watch("$select.disabled",function(e,t){t&&!e&&d.sizeSearchInput()}),d.searchInput.on("keydown",function(e){var n=e.which;r.$apply(function(){var i=!1;t.isHorizontalMovement(n)&&(i=c(n)),i&&n!=t.TAB&&(e.preventDefault(),e.stopPropagation())})}),d.searchInput.on("keyup",function(e){if(t.isVerticalMovement(e.which)||r.$evalAsync(function(){d.activeIndex=!1===d.taggingLabel?-1:0}),d.tagging.isActivated&&d.search.length>0){if(e.which===t.TAB||t.isControl(e)||t.isFunctionKey(e)||e.which===t.ESC||t.isVerticalMovement(e.which))return;if(d.activeIndex=!1===d.taggingLabel?-1:0,!1===d.taggingLabel)return;var n,i,a,o,s=angular.copy(d.items),l=angular.copy(d.items),c=!1,h=-1;if(void 0!==d.tagging.fct){if(a=d.$filter("filter")(s,{isTag:!0}),a.length>0&&(o=a[0]),s.length>0&&o&&(c=!0,s=s.slice(1,s.length),l=l.slice(1,l.length)),n=d.tagging.fct(d.search),l.some(function(e){return angular.equals(e,n)})||d.selected.some(function(e){return angular.equals(e,n)}))return void r.$evalAsync(function(){d.activeIndex=0,d.items=s});n&&(n.isTag=!0)}else{if(a=d.$filter("filter")(s,function(e){return e.match(d.taggingLabel)}),a.length>0&&(o=a[0]),i=s[0],void 0!==i&&s.length>0&&o&&(c=!0,s=s.slice(1,s.length),l=l.slice(1,l.length)),n=d.search+" "+d.taggingLabel,p(d.selected,d.search)>-1)return;if(u(l.concat(d.selected)))return void(c&&(s=l,r.$evalAsync(function(){d.activeIndex=0,d.items=s})));if(u(l))return void(c&&(d.items=l.slice(1,l.length)))}c&&(h=p(d.selected,n)),h>-1?s=s.slice(h+1,s.length-1):(s=[],n&&s.push(n),s=s.concat(l)),r.$evalAsync(function(){if(d.activeIndex=0,d.items=s,d.isGrouped){var e=n?s.slice(1):s;d.setItemsFn(e),n&&(d.items.unshift(n),d.groups.unshift({name:"",items:[n],tagging:!0}))}})}}),d.searchInput.on("blur",function(){i(function(){f.activeMatchIndex=-1})})}}}]),i.directive("uiSelectNoChoice",["uiSelectConfig",function(e){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){return t.addClass("ui-select-no-choice"),(t.parent().attr("theme")||e.theme)+"/no-choice.tpl.html"}}}]),i.directive("uiSelectSingle",["$timeout","$compile",function(n,i){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(r,a,o,s){var l=s[0],c=s[1];c.$parsers.unshift(function(t){if(e(t))return t;var n={};return n[l.parserResult.itemName]=t,l.parserResult.modelMapper(r,n)}),c.$formatters.unshift(function(t){if(e(t))return t;var n,i=l.parserResult&&l.parserResult.source(r,{$select:{search:""}}),a={};if(i){var o=function(e){return a[l.parserResult.itemName]=e,(n=l.parserResult.modelMapper(r,a))===t};if(l.selected&&o(l.selected))return l.selected;for(var s=i.length-1;s>=0;s--)if(o(i[s]))return i[s]}return t}),r.$watch("$select.selected",function(e){c.$viewValue!==e&&c.$setViewValue(e)}),c.$render=function(){l.selected=c.$viewValue},r.$on("uis:select",function(t,i){l.selected=i;var a={};a[l.parserResult.itemName]=i,n(function(){l.onSelectCallback(r,{$item:i,$model:e(i)?i:l.parserResult.modelMapper(r,a)})})}),r.$on("uis:close",function(e,t){n(function(){l.focusser.prop("disabled",!1),t||l.focusser[0].focus()},0,!1)}),r.$on("uis:activate",function(){u.prop("disabled",!0)});var u=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");i(u)(r),l.focusser=u,l.focusInput=u,a.parent().append(u),u.bind("focus",function(){r.$evalAsync(function(){l.focus=!0})}),u.bind("blur",function(){r.$evalAsync(function(){l.focus=!1})}),u.bind("keydown",function(e){return e.which===t.BACKSPACE&&!1!==l.backspaceReset?(e.preventDefault(),e.stopPropagation(),l.select(void 0),void r.$apply()):void(e.which===t.TAB||t.isControl(e)||t.isFunctionKey(e)||e.which===t.ESC||(e.which!=t.DOWN&&e.which!=t.UP&&e.which!=t.ENTER&&e.which!=t.SPACE||(e.preventDefault(),e.stopPropagation(),l.activate()),r.$digest()))}),u.bind("keyup input",function(e){e.which===t.TAB||t.isControl(e)||t.isFunctionKey(e)||e.which===t.ESC||e.which==t.ENTER||e.which===t.BACKSPACE||(l.activate(u.val()),u.val(""),r.$digest())})}}}]),i.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(e,t,n){return{require:["^^uiSelect","^ngModel"],link:function(t,i,r,a){if(null===t[r.uiSelectSort])throw n("sort","Expected a list to sort");var o=a[0],s=a[1],l=angular.extend({axis:"horizontal"},t.$eval(r.uiSelectSortOptions)),c=l.axis,u="dragging",p="dropping",d="dropping-before",h="dropping-after";t.$watch(function(){return o.sortable},function(e){e?i.attr("draggable",!0):i.removeAttr("draggable")}),i.on("dragstart",function(e){i.addClass(u),(e.dataTransfer||e.originalEvent.dataTransfer).setData("text",t.$index.toString())}),i.on("dragend",function(){m(u)});var f,g=function(e,t){this.splice(t,0,this.splice(e,1)[0])},m=function(e){angular.forEach(o.$element.querySelectorAll("."+e),function(t){angular.element(t).removeClass(e)})},v=function(e){e.preventDefault(),("vertical"===c?e.offsetY||e.layerY||(e.originalEvent?e.originalEvent.offsetY:0):e.offsetX||e.layerX||(e.originalEvent?e.originalEvent.offsetX:0))<this["vertical"===c?"offsetHeight":"offsetWidth"]/2?(m(h),i.addClass(d)):(m(d),i.addClass(h))},$=function(t){t.preventDefault();var n=parseInt((t.dataTransfer||t.originalEvent.dataTransfer).getData("text"),10);e.cancel(f),f=e(function(){b(n)},20)},b=function(e){var n=t.$eval(r.uiSelectSort),a=n[e],o=null;o=i.hasClass(d)?e<t.$index?t.$index-1:t.$index:e<t.$index?t.$index:t.$index+1,g.apply(n,[e,o]),s.$setViewValue(Date.now()),t.$apply(function(){t.$emit("uiSelectSort:change",{array:n,item:a,from:e,to:o})}),m(p),m(d),m(h),i.off("drop",$)};i.on("dragenter",function(){i.hasClass(u)||(i.addClass(p),i.on("dragover",v),i.on("drop",$))}),i.on("dragleave",function(e){e.target==i&&(m(p),m(d),m(h),i.off("dragover",v),i.off("drop",$))})}}}]),i.directive("uisOpenClose",["$parse","$timeout",function(e,t){return{restrict:"A",require:"uiSelect",link:function(n,i,r,a){a.onOpenCloseCallback=e(r.uisOpenClose),n.$watch("$select.open",function(e,i){e!==i&&t(function(){a.onOpenCloseCallback(n,{isOpen:e})})})}}}]),i.service("uisRepeatParser",["uiSelectMinErr","$parse",function(e,t){var n=this;n.parse=function(n){var i;if(!(i=n.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/)))throw e("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",n);var r=i[5],a="";if(i[3]){r=i[5].replace(/(^\()|(\)$)/g,"");var o=i[5].match(/^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/);o&&o[1].trim()&&(a=o[1],r=r.replace(a,""))}return{itemName:i[4]||i[2],keyName:i[3],source:t(r),filters:a,trackByExp:i[6],modelMapper:t(i[1]||i[4]||i[2]),repeatExpression:function(e){var t=this.itemName+" in "+(e?"$group.items":"$select.items");return this.trackByExp&&(t+=" track by "+this.trackByExp),t}}},n.getGroupNgRepeatExpression=function(){return"$group in $select.groups track by $group.name"}}])}(),angular.module("ui.select").run(["$templateCache",function(e){e.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" ng-show="$select.open && $select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><span class="ui-select-choices-row-inner"></span></div></li></ul>'),e.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected track by $index"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),e.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open && $select.searchEnabled" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty() && ($select.disabled !== true)" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'),e.put("bootstrap/no-choice.tpl.html",'<ul class="ui-select-no-choice dropdown-menu" ng-show="$select.items.length == 0"><li ng-transclude=""></li></ul>'),e.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-expanded="{{$select.open}}" aria-label="{{$select.baseTitle}}" ng-class="{\'spinner\': $select.refreshing}" ondrop="return false;"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),e.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><span ng-show="$select.open && $select.refreshing && $select.spinnerEnabled" class="ui-select-refreshing {{$select.spinnerClass}}"></span> <input type="search" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" class="form-control ui-select-search" ng-class="{ \'ui-select-search-hidden\' : !$select.searchEnabled }" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.open"><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),e.put("select2/choices.tpl.html",'<ul tabindex="-1" class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),e.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected track by $index" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'),e.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'),e.put("select2/no-choice.tpl.html",'<div class="ui-select-no-choice dropdown" ng-show="$select.items.length == 0"><div class="dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>'),e.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open || $select.items.length === 0}"><div class="ui-select-choices"></div></div></div>'),
e.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="search-container" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled, \'select2-search\':$select.searchEnabled}"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" ng-class="{\'select2-active\': $select.refreshing}" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div></div>'),e.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown" ng-class="{\'single\': !$select.multiple, \'multi\': $select.multiple}"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),e.put("selectize/match-multiple.tpl.html",'<div class="ui-select-match" data-value="" ng-repeat="$item in $select.selected track by $index" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'active\':$selectMultiple.activeMatchIndex === $index}" ui-select-sort="$select.selected"><span class="ui-select-match-item" ng-class="{\'select-locked\':$select.isLocked(this, $index)}"><span uis-transclude-append=""></span> <span class="remove ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&times;</span></span></div>'),e.put("selectize/match.tpl.html",'<div ng-hide="$select.searchEnabled && ($select.open || $select.isEmpty())" class="ui-select-match"><span ng-show="!$select.searchEnabled && ($select.isEmpty() || $select.open)" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty() || $select.open" ng-transclude=""></span></div>'),e.put("selectize/no-choice.tpl.html",'<div class="ui-select-no-choice selectize-dropdown" ng-show="$select.items.length == 0"><div class="selectize-dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>'),e.put("selectize/select-multiple.tpl.html",'<div class="ui-select-container selectize-control multi plugin-remove_button" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled}" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-model="$select.search" ng-disabled="$select.disabled" aria-expanded="{{$select.open}}" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),e.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled}" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.isEmpty() && !$select.open" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>')}]),function(e,t,n,i){function r(t,n){this.settings=null,this.options=e.extend({},r.Defaults,n),this.$element=e(t),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},e.each(["onResize","onThrottledResize"],e.proxy(function(t,n){this._handlers[n]=e.proxy(this[n],this)},this)),e.each(r.Plugins,e.proxy(function(e,t){this._plugins[e.charAt(0).toLowerCase()+e.slice(1)]=new t(this)},this)),e.each(r.Workers,e.proxy(function(t,n){this._pipe.push({filter:n.filter,run:e.proxy(n.run,this)})},this)),this.setup(),this.initialize()}r.Defaults={items:3,loop:!1,center:!1,rewind:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:t,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},r.Width={Default:"default",Inner:"inner",Outer:"outer"},r.Type={Event:"event",State:"state"},r.Plugins={},r.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(e){e.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(e){var t=this.settings.margin||"",n=!this.settings.autoWidth,i=this.settings.rtl,r={width:"auto","margin-left":i?t:"","margin-right":i?"":t};!n&&this.$stage.children().css(r),e.css=r}},{filter:["width","items","settings"],run:function(e){var t=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,n=null,i=this._items.length,r=!this.settings.autoWidth,a=[];for(e.items={merge:!1,width:t};i--;)n=this._mergers[i],n=this.settings.mergeFit&&Math.min(n,this.settings.items)||n,e.items.merge=n>1||e.items.merge,a[i]=r?t*n:this._items[i].width();this._widths=a}},{filter:["items","settings"],run:function(){var t=[],n=this._items,i=this.settings,r=Math.max(2*i.items,4),a=2*Math.ceil(n.length/2),o=i.loop&&n.length?i.rewind?r:Math.max(r,a):0,s="",l="";for(o/=2;o--;)t.push(this.normalize(t.length/2,!0)),s+=n[t[t.length-1]][0].outerHTML,t.push(this.normalize(n.length-1-(t.length-1)/2,!0)),l=n[t[t.length-1]][0].outerHTML+l;this._clones=t,e(s).addClass("cloned").appendTo(this.$stage),e(l).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var e=this.settings.rtl?1:-1,t=this._clones.length+this._items.length,n=-1,i=0,r=0,a=[];++n<t;)i=a[n-1]||0,r=this._widths[this.relative(n)]+this.settings.margin,a.push(i+r*e);this._coordinates=a}},{filter:["width","items","settings"],run:function(){var e=this.settings.stagePadding,t=this._coordinates,n={width:Math.ceil(Math.abs(t[t.length-1]))+2*e,"padding-left":e||"","padding-right":e||""};this.$stage.css(n)}},{filter:["width","items","settings"],run:function(e){var t=this._coordinates.length,n=!this.settings.autoWidth,i=this.$stage.children();if(n&&e.items.merge)for(;t--;)e.css.width=this._widths[this.relative(t)],i.eq(t).css(e.css);else n&&(e.css.width=e.items.width,i.css(e.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(e){e.current=e.current?this.$stage.children().index(e.current):0,e.current=Math.max(this.minimum(),Math.min(this.maximum(),e.current)),this.reset(e.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var e,t,n,i,r=this.settings.rtl?1:-1,a=2*this.settings.stagePadding,o=this.coordinates(this.current())+a,s=o+this.width()*r,l=[];for(n=0,i=this._coordinates.length;n<i;n++)e=this._coordinates[n-1]||0,t=Math.abs(this._coordinates[n])+a*r,(this.op(e,"<=",o)&&this.op(e,">",s)||this.op(t,"<",o)&&this.op(t,">",s))&&l.push(n);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+l.join("), :eq(")+")").addClass("active"),this.settings.center&&(this.$stage.children(".center").removeClass("center"),this.$stage.children().eq(this.current()).addClass("center"))}}],r.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var t,n,i;t=this.$element.find("img"),n=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:void 0,i=this.$element.children(n).width(),t.length&&i<=0&&this.preloadAutoWidthImages(t)}this.$element.addClass(this.options.loadingClass),this.$stage=e("<"+this.settings.stageElement+' class="'+this.settings.stageClass+'"/>').wrap('<div class="'+this.settings.stageOuterClass+'"/>'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this.$element.is(":visible")?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},r.prototype.setup=function(){var t=this.viewport(),n=this.options.responsive,i=-1,r=null;n?(e.each(n,function(e){e<=t&&e>i&&(i=Number(e))}),r=e.extend({},this.options,n[i]),"function"==typeof r.stagePadding&&(r.stagePadding=r.stagePadding()),delete r.responsive,r.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+i))):r=e.extend({},this.options),this.trigger("change",{property:{name:"settings",value:r}}),this._breakpoint=i,this.settings=r,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},r.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},r.prototype.prepare=function(t){var n=this.trigger("prepare",{content:t});return n.data||(n.data=e("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(t)),this.trigger("prepared",{content:n.data}),n.data},r.prototype.update=function(){for(var t=0,n=this._pipe.length,i=e.proxy(function(e){return this[e]},this._invalidated),r={};t<n;)(this._invalidated.all||e.grep(this._pipe[t].filter,i).length>0)&&this._pipe[t].run(r),t++;this._invalidated={},!this.is("valid")&&this.enter("valid")},r.prototype.width=function(e){switch(e=e||r.Width.Default){case r.Width.Inner:case r.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},r.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},r.prototype.onThrottledResize=function(){t.clearTimeout(this.resizeTimer),this.resizeTimer=t.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},r.prototype.onResize=function(){return!!this._items.length&&(this._width!==this.$element.width()&&(!!this.$element.is(":visible")&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))))},r.prototype.registerEventHandlers=function(){e.support.transition&&this.$stage.on(e.support.transition.end+".owl.core",e.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(t,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",e.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",e.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",e.proxy(this.onDragEnd,this)))},r.prototype.onDragStart=function(t){var i=null;3!==t.which&&(e.support.transform?(i=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","),i={x:i[16===i.length?12:4],y:i[16===i.length?13:5]}):(i=this.$stage.position(),i={x:this.settings.rtl?i.left+this.$stage.width()-this.width()+this.settings.margin:i.left,y:i.top}),this.is("animating")&&(e.support.transform?this.animate(i.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===t.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=e(t.target),this._drag.stage.start=i,this._drag.stage.current=i,this._drag.pointer=this.pointer(t),e(n).on("mouseup.owl.core touchend.owl.core",e.proxy(this.onDragEnd,this)),e(n).one("mousemove.owl.core touchmove.owl.core",e.proxy(function(t){var i=this.difference(this._drag.pointer,this.pointer(t));e(n).on("mousemove.owl.core touchmove.owl.core",e.proxy(this.onDragMove,this)),Math.abs(i.x)<Math.abs(i.y)&&this.is("valid")||(t.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},r.prototype.onDragMove=function(e){var t=null,n=null,i=null,r=this.difference(this._drag.pointer,this.pointer(e)),a=this.difference(this._drag.stage.start,r);this.is("dragging")&&(e.preventDefault(),this.settings.loop?(t=this.coordinates(this.minimum()),n=this.coordinates(this.maximum()+1)-t,a.x=((a.x-t)%n+n)%n+t):(t=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),n=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),i=this.settings.pullDrag?-1*r.x/5:0,a.x=Math.max(Math.min(a.x,t+i),n+i)),this._drag.stage.current=a,this.animate(a.x))},r.prototype.onDragEnd=function(t){var i=this.difference(this._drag.pointer,this.pointer(t)),r=this._drag.stage.current,a=i.x>0^this.settings.rtl?"left":"right";e(n).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==i.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(r.x,0!==i.x?a:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=a,(Math.abs(i.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},r.prototype.closest=function(t,n){var i=-1,r=this.width(),a=this.coordinates();return this.settings.freeDrag||e.each(a,e.proxy(function(e,o){return"left"===n&&t>o-30&&t<o+30?i=e:"right"===n&&t>o-r-30&&t<o-r+30?i=e+1:this.op(t,"<",o)&&this.op(t,">",a[e+1]||o-r)&&(i="left"===n?e+1:e),-1===i},this)),this.settings.loop||(this.op(t,">",a[this.minimum()])?i=t=this.minimum():this.op(t,"<",a[this.maximum()])&&(i=t=this.maximum())),i},r.prototype.animate=function(t){var n=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),n&&(this.enter("animating"),this.trigger("translate")),e.support.transform3d&&e.support.transition?this.$stage.css({transform:"translate3d("+t+"px,0px,0px)",transition:this.speed()/1e3+"s"}):n?this.$stage.animate({left:t+"px"},this.speed(),this.settings.fallbackEasing,e.proxy(this.onTransitionEnd,this)):this.$stage.css({left:t+"px"})},r.prototype.is=function(e){return this._states.current[e]&&this._states.current[e]>0},r.prototype.current=function(e){if(void 0===e)return this._current;if(0!==this._items.length){if(e=this.normalize(e),this._current!==e){var t=this.trigger("change",{property:{name:"position",value:e}});void 0!==t.data&&(e=this.normalize(t.data)),this._current=e,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current}},r.prototype.invalidate=function(t){return"string"===e.type(t)&&(this._invalidated[t]=!0,this.is("valid")&&this.leave("valid")),e.map(this._invalidated,function(e,t){return t})},r.prototype.reset=function(e){void 0!==(e=this.normalize(e))&&(this._speed=0,this._current=e,this.suppress(["translate","translated"]),this.animate(this.coordinates(e)),this.release(["translate","translated"]))},r.prototype.normalize=function(e,t){var n=this._items.length,i=t?0:this._clones.length;return!this.isNumeric(e)||n<1?e=void 0:(e<0||e>=n+i)&&(e=((e-i/2)%n+n)%n+i/2),e},r.prototype.relative=function(e){return e-=this._clones.length/2,this.normalize(e,!0)},r.prototype.maximum=function(e){var t,n,i,r=this.settings,a=this._coordinates.length;if(r.loop)a=this._clones.length/2+this._items.length-1;else if(r.autoWidth||r.merge){if((t=this._items.length-1)>=0)for(n=this._items[t].width(),i=this.$element.width();t--&&!((n+=this._items[t].width()+this.settings.margin)>i););else n=0;a=t+1}else a=r.center?this._items.length-1:this._items.length-r.items;return e&&(a-=this._clones.length/2),Math.max(a,0)},r.prototype.minimum=function(e){return e?0:this._clones.length/2},r.prototype.items=function(e){return void 0===e?this._items.slice():(e=this.normalize(e,!0),this._items[e])},r.prototype.mergers=function(e){return void 0===e?this._mergers.slice():(e=this.normalize(e,!0),this._mergers[e])},r.prototype.clones=function(t){var n=this._clones.length/2,i=n+this._items.length,r=function(e){return e%2==0?i+e/2:n-(e+1)/2};return void 0===t?e.map(this._clones,function(e,t){return r(t)}):e.map(this._clones,function(e,n){return e===t?r(n):null})},r.prototype.speed=function(e){return void 0!==e&&(this._speed=e),this._speed},r.prototype.coordinates=function(t){var n,i=1,r=t-1;return void 0===t?e.map(this._coordinates,e.proxy(function(e,t){return this.coordinates(t)},this)):(this.settings.center?(this.settings.rtl&&(i=-1,r=t+1),n=this._coordinates[t],n+=(this.width()-n+(this._coordinates[r]||0))/2*i):n=this._coordinates[r]||0,n=Math.ceil(n))},r.prototype.duration=function(e,t,n){return 0===n?0:Math.min(Math.max(Math.abs(t-e),1),6)*Math.abs(n||this.settings.smartSpeed)},r.prototype.to=function(e,t){var n=this.current(),i=null,r=e-this.relative(n),a=(r>0)-(r<0),o=this._items.length,s=this.minimum(),l=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(r)>o/2&&(r+=-1*a*o),e=n+r,(i=((e-s)%o+o)%o+s)!==e&&i-r<=l&&i-r>0&&(n=i-r,e=i,this.reset(n))):this.settings.rewind?(l+=1,e=(e%l+l)%l):e=Math.max(s,Math.min(l,e)),this.speed(this.duration(n,e,t)),this.current(e),this.$element.is(":visible")&&this.update()},r.prototype.next=function(e){e=e||!1,this.to(this.relative(this.current())+1,e)},r.prototype.prev=function(e){e=e||!1,this.to(this.relative(this.current())-1,e)},r.prototype.onTransitionEnd=function(e){if(void 0!==e&&(e.stopPropagation(),(e.target||e.srcElement||e.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},r.prototype.viewport=function(){var i;if(this.options.responsiveBaseElement!==t)i=e(this.options.responsiveBaseElement).width();else if(t.innerWidth)i=t.innerWidth;else{if(!n.documentElement||!n.documentElement.clientWidth)throw"Can not detect viewport width.";i=n.documentElement.clientWidth}return i},r.prototype.replace=function(t){this.$stage.empty(),this._items=[],t&&(t=t instanceof jQuery?t:e(t)),this.settings.nestedItemSelector&&(t=t.find("."+this.settings.nestedItemSelector)),t.filter(function(){return 1===this.nodeType}).each(e.proxy(function(e,t){t=this.prepare(t),this.$stage.append(t),this._items.push(t),this._mergers.push(1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},r.prototype.add=function(t,n){var i=this.relative(this._current);n=void 0===n?this._items.length:this.normalize(n,!0),t=t instanceof jQuery?t:e(t),this.trigger("add",{content:t,position:n}),t=this.prepare(t),0===this._items.length||n===this._items.length?(0===this._items.length&&this.$stage.append(t),0!==this._items.length&&this._items[n-1].after(t),this._items.push(t),this._mergers.push(1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[n].before(t),this._items.splice(n,0,t),this._mergers.splice(n,0,1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[i]&&this.reset(this._items[i].index()),this.invalidate("items"),this.trigger("added",{content:t,position:n})},r.prototype.remove=function(e){void 0!==(e=this.normalize(e,!0))&&(this.trigger("remove",{content:this._items[e],position:e}),this._items[e].remove(),this._items.splice(e,1),this._mergers.splice(e,1),this.invalidate("items"),this.trigger("removed",{content:null,position:e}))},r.prototype.preloadAutoWidthImages=function(t){t.each(e.proxy(function(t,n){this.enter("pre-loading"),n=e(n),e(new Image).one("load",e.proxy(function(e){n.attr("src",e.target.src),n.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",n.attr("src")||n.attr("data-src")||n.attr("data-src-retina"))},this))},r.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),e(n).off(".owl.core"),!1!==this.settings.responsive&&(t.clearTimeout(this.resizeTimer),this.off(t,"resize",this._handlers.onThrottledResize));for(var i in this._plugins)this._plugins[i].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},r.prototype.op=function(e,t,n){var i=this.settings.rtl;switch(t){case"<":return i?e>n:e<n;case">":return i?e<n:e>n;case">=":return i?e<=n:e>=n;case"<=":return i?e>=n:e<=n}},r.prototype.on=function(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i):e.attachEvent&&e.attachEvent("on"+t,n)},r.prototype.off=function(e,t,n,i){e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent&&e.detachEvent("on"+t,n)},r.prototype.trigger=function(t,n,i,a,o){var s={item:{count:this._items.length,index:this.current()}},l=e.camelCase(e.grep(["on",t,i],function(e){return e}).join("-").toLowerCase()),c=e.Event([t,"owl",i||"carousel"].join(".").toLowerCase(),e.extend({relatedTarget:this},s,n));return this._supress[t]||(e.each(this._plugins,function(e,t){t.onTrigger&&t.onTrigger(c)}),this.register({type:r.Type.Event,name:t}),this.$element.trigger(c),this.settings&&"function"==typeof this.settings[l]&&this.settings[l].call(this,c)),c},r.prototype.enter=function(t){e.each([t].concat(this._states.tags[t]||[]),e.proxy(function(e,t){void 0===this._states.current[t]&&(this._states.current[t]=0),this._states.current[t]++},this))},r.prototype.leave=function(t){e.each([t].concat(this._states.tags[t]||[]),e.proxy(function(e,t){this._states.current[t]--},this))},r.prototype.register=function(t){if(t.type===r.Type.Event){if(e.event.special[t.name]||(e.event.special[t.name]={}),!e.event.special[t.name].owl){var n=e.event.special[t.name]._default;e.event.special[t.name]._default=function(e){return!n||!n.apply||e.namespace&&-1!==e.namespace.indexOf("owl")?e.namespace&&e.namespace.indexOf("owl")>-1:n.apply(this,arguments)},e.event.special[t.name].owl=!0}}else t.type===r.Type.State&&(this._states.tags[t.name]?this._states.tags[t.name]=this._states.tags[t.name].concat(t.tags):this._states.tags[t.name]=t.tags,this._states.tags[t.name]=e.grep(this._states.tags[t.name],e.proxy(function(n,i){return e.inArray(n,this._states.tags[t.name])===i},this)))},r.prototype.suppress=function(t){e.each(t,e.proxy(function(e,t){this._supress[t]=!0},this))},r.prototype.release=function(t){e.each(t,e.proxy(function(e,t){delete this._supress[t]},this))},r.prototype.pointer=function(e){var n={x:null,y:null};return e=e.originalEvent||e||t.event,e=e.touches&&e.touches.length?e.touches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,e.pageX?(n.x=e.pageX,n.y=e.pageY):(n.x=e.clientX,n.y=e.clientY),n},r.prototype.isNumeric=function(e){return!isNaN(parseFloat(e))},r.prototype.difference=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},e.fn.owlCarousel=function(t){var n=Array.prototype.slice.call(arguments,1);return this.each(function(){var i=e(this),a=i.data("owl.carousel");a||(a=new r(this,"object"==typeof t&&t),i.data("owl.carousel",a),e.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(t,n){a.register({type:r.Type.Event,name:n}),a.$element.on(n+".owl.carousel.core",e.proxy(function(e){e.namespace&&e.relatedTarget!==this&&(this.suppress([n]),a[n].apply(this,[].slice.call(arguments,1)),this.release([n]))},a))})),"string"==typeof t&&"_"!==t.charAt(0)&&a[t].apply(a,n)})},e.fn.owlCarousel.Constructor=r}(window.Zepto||window.jQuery,window,document),function(e,t,n,i){var r=function(t){this._core=t,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":e.proxy(function(e){e.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=e.extend({},r.Defaults,this._core.options),this._core.$element.on(this._handlers)};r.Defaults={autoRefresh:!0,autoRefreshInterval:500},r.prototype.watch=function(){this._interval||(this._visible=this._core.$element.is(":visible"),this._interval=t.setInterval(e.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},r.prototype.refresh=function(){this._core.$element.is(":visible")!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},r.prototype.destroy=function(){var e,n;t.clearInterval(this._interval);for(e in this._handlers)this._core.$element.off(e,this._handlers[e]);for(n in Object.getOwnPropertyNames(this))"function"!=typeof this[n]&&(this[n]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoRefresh=r}(window.Zepto||window.jQuery,window,document),function(e,t,n,i){var r=function(t){this._core=t,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":e.proxy(function(t){if(t.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(t.property&&"position"==t.property.name||"initialized"==t.type))for(var n=this._core.settings,i=n.center&&Math.ceil(n.items/2)||n.items,r=n.center&&-1*i||0,a=(t.property&&void 0!==t.property.value?t.property.value:this._core.current())+r,o=this._core.clones().length,s=e.proxy(function(e,t){this.load(t)},this);r++<i;)this.load(o/2+this._core.relative(a)),o&&e.each(this._core.clones(this._core.relative(a)),s),a++},this)},this._core.options=e.extend({},r.Defaults,this._core.options),this._core.$element.on(this._handlers)};r.Defaults={lazyLoad:!1},r.prototype.load=function(n){var i=this._core.$stage.children().eq(n),r=i&&i.find(".owl-lazy");!r||e.inArray(i.get(0),this._loaded)>-1||(r.each(e.proxy(function(n,i){var r,a=e(i),o=t.devicePixelRatio>1&&a.attr("data-src-retina")||a.attr("data-src");this._core.trigger("load",{element:a,url:o},"lazy"),a.is("img")?a.one("load.owl.lazy",e.proxy(function(){a.css("opacity",1),this._core.trigger("loaded",{element:a,url:o},"lazy")},this)).attr("src",o):(r=new Image,r.onload=e.proxy(function(){a.css({"background-image":"url("+o+")",opacity:"1"}),this._core.trigger("loaded",{element:a,url:o},"lazy")},this),r.src=o)},this)),this._loaded.push(i.get(0)))},r.prototype.destroy=function(){var e,t;for(e in this.handlers)this._core.$element.off(e,this.handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.Lazy=r}(window.Zepto||window.jQuery,window,document),function(e,t,n,i){var r=function(t){this._core=t,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":e.proxy(function(e){e.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":e.proxy(function(e){e.namespace&&this._core.settings.autoHeight&&"position"==e.property.name&&this.update()},this),"loaded.owl.lazy":e.proxy(function(e){e.namespace&&this._core.settings.autoHeight&&e.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=e.extend({},r.Defaults,this._core.options),this._core.$element.on(this._handlers)};r.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},r.prototype.update=function(){var t=this._core._current,n=t+this._core.settings.items,i=this._core.$stage.children().toArray().slice(t,n),r=[],a=0;e.each(i,function(t,n){r.push(e(n).height())}),a=Math.max.apply(null,r),this._core.$stage.parent().height(a).addClass(this._core.settings.autoHeightClass)},r.prototype.destroy=function(){var e,t;for(e in this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoHeight=r}(window.Zepto||window.jQuery,window,document),function(e,t,n,i){var r=function(t){this._core=t,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":e.proxy(function(e){e.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":e.proxy(function(e){e.namespace&&this._core.settings.video&&this.isInFullScreen()&&e.preventDefault()},this),"refreshed.owl.carousel":e.proxy(function(e){e.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":e.proxy(function(e){e.namespace&&"position"===e.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":e.proxy(function(t){if(t.namespace){var n=e(t.content).find(".owl-video");n.length&&(n.css("display","none"),this.fetch(n,e(t.content)))}},this)},this._core.options=e.extend({},r.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",e.proxy(function(e){this.play(e)},this))};r.Defaults={video:!1,videoHeight:!1,videoWidth:!1},r.prototype.fetch=function(e,t){var n=function(){return e.attr("data-vimeo-id")?"vimeo":e.attr("data-vzaar-id")?"vzaar":"youtube"}(),i=e.attr("data-vimeo-id")||e.attr("data-youtube-id")||e.attr("data-vzaar-id"),r=e.attr("data-width")||this._core.settings.videoWidth,a=e.attr("data-height")||this._core.settings.videoHeight,o=e.attr("href");if(!o)throw new Error("Missing video URL.");if(i=o.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),
i[3].indexOf("youtu")>-1)n="youtube";else if(i[3].indexOf("vimeo")>-1)n="vimeo";else{if(!(i[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");n="vzaar"}i=i[6],this._videos[o]={type:n,id:i,width:r,height:a},t.attr("data-video",o),this.thumbnail(e,this._videos[o])},r.prototype.thumbnail=function(t,n){var i,r,a,o=n.width&&n.height?'style="width:'+n.width+"px;height:"+n.height+'px;"':"",s=t.find("img"),l="src",c="",u=this._core.settings,p=function(e){r='<div class="owl-video-play-icon"></div>',i=u.lazyLoad?'<div class="owl-video-tn '+c+'" '+l+'="'+e+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+e+')"></div>',t.after(i),t.after(r)};if(t.wrap('<div class="owl-video-wrapper"'+o+"></div>"),this._core.settings.lazyLoad&&(l="data-src",c="owl-lazy"),s.length)return p(s.attr(l)),s.remove(),!1;"youtube"===n.type?(a="//img.youtube.com/vi/"+n.id+"/hqdefault.jpg",p(a)):"vimeo"===n.type?e.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+n.id+".json",jsonp:"callback",dataType:"jsonp",success:function(e){a=e[0].thumbnail_large,p(a)}}):"vzaar"===n.type&&e.ajax({type:"GET",url:"//vzaar.com/api/videos/"+n.id+".json",jsonp:"callback",dataType:"jsonp",success:function(e){a=e.framegrab_url,p(a)}})},r.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},r.prototype.play=function(t){var n,i=e(t.target),r=i.closest("."+this._core.settings.itemClass),a=this._videos[r.attr("data-video")],o=a.width||"100%",s=a.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),r=this._core.items(this._core.relative(r.index())),this._core.reset(r.index()),"youtube"===a.type?n='<iframe width="'+o+'" height="'+s+'" src="//www.youtube.com/embed/'+a.id+"?autoplay=1&v="+a.id+'" frameborder="0" allowfullscreen></iframe>':"vimeo"===a.type?n='<iframe src="//player.vimeo.com/video/'+a.id+'?autoplay=1" width="'+o+'" height="'+s+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>':"vzaar"===a.type&&(n='<iframe frameborder="0"height="'+s+'"width="'+o+'" allowfullscreen mozallowfullscreen webkitAllowFullScreen src="//view.vzaar.com/'+a.id+'/player?autoplay=true"></iframe>'),e('<div class="owl-video-frame">'+n+"</div>").insertAfter(r.find(".owl-video")),this._playing=r.addClass("owl-video-playing"))},r.prototype.isInFullScreen=function(){var t=n.fullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement;return t&&e(t).parent().hasClass("owl-video-frame")},r.prototype.destroy=function(){var e,t;this._core.$element.off("click.owl.video");for(e in this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.Video=r}(window.Zepto||window.jQuery,window,document),function(e,t,n,i){var r=function(t){this.core=t,this.core.options=e.extend({},r.Defaults,this.core.options),this.swapping=!0,this.previous=void 0,this.next=void 0,this.handlers={"change.owl.carousel":e.proxy(function(e){e.namespace&&"position"==e.property.name&&(this.previous=this.core.current(),this.next=e.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":e.proxy(function(e){e.namespace&&(this.swapping="translated"==e.type)},this),"translate.owl.carousel":e.proxy(function(e){e.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};r.Defaults={animateOut:!1,animateIn:!1},r.prototype.swap=function(){if(1===this.core.settings.items&&e.support.animation&&e.support.transition){this.core.speed(0);var t,n=e.proxy(this.clear,this),i=this.core.$stage.children().eq(this.previous),r=this.core.$stage.children().eq(this.next),a=this.core.settings.animateIn,o=this.core.settings.animateOut;this.core.current()!==this.previous&&(o&&(t=this.core.coordinates(this.previous)-this.core.coordinates(this.next),i.one(e.support.animation.end,n).css({left:t+"px"}).addClass("animated owl-animated-out").addClass(o)),a&&r.one(e.support.animation.end,n).addClass("animated owl-animated-in").addClass(a))}},r.prototype.clear=function(t){e(t.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},r.prototype.destroy=function(){var e,t;for(e in this.handlers)this.core.$element.off(e,this.handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.Animate=r}(window.Zepto||window.jQuery,window,document),function(e,t,n,i){var r=function(t){this._core=t,this._timeout=null,this._paused=!1,this._handlers={"changed.owl.carousel":e.proxy(function(e){e.namespace&&"settings"===e.property.name?this._core.settings.autoplay?this.play():this.stop():e.namespace&&"position"===e.property.name&&this._core.settings.autoplay&&this._setAutoPlayInterval()},this),"initialized.owl.carousel":e.proxy(function(e){e.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":e.proxy(function(e,t,n){e.namespace&&this.play(t,n)},this),"stop.owl.autoplay":e.proxy(function(e){e.namespace&&this.stop()},this),"mouseover.owl.autoplay":e.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":e.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":e.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":e.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=e.extend({},r.Defaults,this._core.options)};r.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},r.prototype.play=function(e,t){this._paused=!1,this._core.is("rotating")||(this._core.enter("rotating"),this._setAutoPlayInterval())},r.prototype._getNextTimeout=function(i,r){return this._timeout&&t.clearTimeout(this._timeout),t.setTimeout(e.proxy(function(){this._paused||this._core.is("busy")||this._core.is("interacting")||n.hidden||this._core.next(r||this._core.settings.autoplaySpeed)},this),i||this._core.settings.autoplayTimeout)},r.prototype._setAutoPlayInterval=function(){this._timeout=this._getNextTimeout()},r.prototype.stop=function(){this._core.is("rotating")&&(t.clearTimeout(this._timeout),this._core.leave("rotating"))},r.prototype.pause=function(){this._core.is("rotating")&&(this._paused=!0)},r.prototype.destroy=function(){var e,t;this.stop();for(e in this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.autoplay=r}(window.Zepto||window.jQuery,window,document),function(e,t,n,i){"use strict";var r=function(t){this._core=t,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":e.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+e(t.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":e.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.splice(e.position,0,this._templates.pop())},this),"remove.owl.carousel":e.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.splice(e.position,1)},this),"changed.owl.carousel":e.proxy(function(e){e.namespace&&"position"==e.property.name&&this.draw()},this),"initialized.owl.carousel":e.proxy(function(e){e.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":e.proxy(function(e){e.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=e.extend({},r.Defaults,this._core.options),this.$element.on(this._handlers)};r.Defaults={nav:!1,navText:["prev","next"],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},r.prototype.initialize=function(){var t,n=this._core.settings;this._controls.$relative=(n.navContainer?e(n.navContainer):e("<div>").addClass(n.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=e("<"+n.navElement+">").addClass(n.navClass[0]).html(n.navText[0]).prependTo(this._controls.$relative).on("click",e.proxy(function(e){this.prev(n.navSpeed)},this)),this._controls.$next=e("<"+n.navElement+">").addClass(n.navClass[1]).html(n.navText[1]).appendTo(this._controls.$relative).on("click",e.proxy(function(e){this.next(n.navSpeed)},this)),n.dotsData||(this._templates=[e("<div>").addClass(n.dotClass).append(e("<span>")).prop("outerHTML")]),this._controls.$absolute=(n.dotsContainer?e(n.dotsContainer):e("<div>").addClass(n.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","div",e.proxy(function(t){var i=e(t.target).parent().is(this._controls.$absolute)?e(t.target).index():e(t.target).parent().index();t.preventDefault(),this.to(i,n.dotsSpeed)},this));for(t in this._overrides)this._core[t]=e.proxy(this[t],this)},r.prototype.destroy=function(){var e,t,n,i;for(e in this._handlers)this.$element.off(e,this._handlers[e]);for(t in this._controls)this._controls[t].remove();for(i in this.overides)this._core[i]=this._overrides[i];for(n in Object.getOwnPropertyNames(this))"function"!=typeof this[n]&&(this[n]=null)},r.prototype.update=function(){var e,t,n,i=this._core.clones().length/2,r=i+this._core.items().length,a=this._core.maximum(!0),o=this._core.settings,s=o.center||o.autoWidth||o.dotsData?1:o.dotsEach||o.items;if("page"!==o.slideBy&&(o.slideBy=Math.min(o.slideBy,o.items)),o.dots||"page"==o.slideBy)for(this._pages=[],e=i,t=0,n=0;e<r;e++){if(t>=s||0===t){if(this._pages.push({start:Math.min(a,e-i),end:e-i+s-1}),Math.min(a,e-i)===a)break;t=0,++n}t+=this._core.mergers(this._core.relative(e))}},r.prototype.draw=function(){var t,n=this._core.settings,i=this._core.items().length<=n.items,r=this._core.relative(this._core.current()),a=n.loop||n.rewind;this._controls.$relative.toggleClass("disabled",!n.nav||i),n.nav&&(this._controls.$previous.toggleClass("disabled",!a&&r<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!a&&r>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!n.dots||i),n.dots&&(t=this._pages.length-this._controls.$absolute.children().length,n.dotsData&&0!==t?this._controls.$absolute.html(this._templates.join("")):t>0?this._controls.$absolute.append(new Array(t+1).join(this._templates[0])):t<0&&this._controls.$absolute.children().slice(t).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(e.inArray(this.current(),this._pages)).addClass("active"))},r.prototype.onTrigger=function(t){var n=this._core.settings;t.page={index:e.inArray(this.current(),this._pages),count:this._pages.length,size:n&&(n.center||n.autoWidth||n.dotsData?1:n.dotsEach||n.items)}},r.prototype.current=function(){var t=this._core.relative(this._core.current());return e.grep(this._pages,e.proxy(function(e,n){return e.start<=t&&e.end>=t},this)).pop()},r.prototype.getPosition=function(t){var n,i,r=this._core.settings;return"page"==r.slideBy?(n=e.inArray(this.current(),this._pages),i=this._pages.length,t?++n:--n,n=this._pages[(n%i+i)%i].start):(n=this._core.relative(this._core.current()),i=this._core.items().length,t?n+=r.slideBy:n-=r.slideBy),n},r.prototype.next=function(t){e.proxy(this._overrides.to,this._core)(this.getPosition(!0),t)},r.prototype.prev=function(t){e.proxy(this._overrides.to,this._core)(this.getPosition(!1),t)},r.prototype.to=function(t,n,i){var r;!i&&this._pages.length?(r=this._pages.length,e.proxy(this._overrides.to,this._core)(this._pages[(t%r+r)%r].start,n)):e.proxy(this._overrides.to,this._core)(t,n)},e.fn.owlCarousel.Constructor.Plugins.Navigation=r}(window.Zepto||window.jQuery,window,document),function(e,t,n,i){"use strict";var r=function(n){this._core=n,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":e.proxy(function(n){n.namespace&&"URLHash"===this._core.settings.startPosition&&e(t).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":e.proxy(function(t){if(t.namespace){var n=e(t.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!n)return;this._hashes[n]=t.content}},this),"changed.owl.carousel":e.proxy(function(n){if(n.namespace&&"position"===n.property.name){var i=this._core.items(this._core.relative(this._core.current())),r=e.map(this._hashes,function(e,t){return e===i?t:null}).join();if(!r||t.location.hash.slice(1)===r)return;t.location.hash=r}},this)},this._core.options=e.extend({},r.Defaults,this._core.options),this.$element.on(this._handlers),e(t).on("hashchange.owl.navigation",e.proxy(function(e){var n=t.location.hash.substring(1),i=this._core.$stage.children(),r=this._hashes[n]&&i.index(this._hashes[n]);void 0!==r&&r!==this._core.current()&&this._core.to(this._core.relative(r),!1,!0)},this))};r.Defaults={URLhashListener:!1},r.prototype.destroy=function(){var n,i;e(t).off("hashchange.owl.navigation");for(n in this._handlers)this._core.$element.off(n,this._handlers[n]);for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},e.fn.owlCarousel.Constructor.Plugins.Hash=r}(window.Zepto||window.jQuery,window,document),function(e,t,n,i){function r(t,n){var r=!1,a=t.charAt(0).toUpperCase()+t.slice(1);return e.each((t+" "+s.join(a+" ")+a).split(" "),function(e,t){if(o[t]!==i)return r=!n||t,!1}),r}function a(e){return r(e,!0)}var o=e("<support>").get(0).style,s="Webkit Moz O ms".split(" "),l={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},c={csstransforms:function(){return!!r("transform")},csstransforms3d:function(){return!!r("perspective")},csstransitions:function(){return!!r("transition")},cssanimations:function(){return!!r("animation")}};c.csstransitions()&&(e.support.transition=new String(a("transition")),e.support.transition.end=l.transition.end[e.support.transition]),c.cssanimations()&&(e.support.animation=new String(a("animation")),e.support.animation.end=l.animation.end[e.support.animation]),c.csstransforms()&&(e.support.transform=new String(a("transform")),e.support.transform3d=c.csstransforms3d())}(window.Zepto||window.jQuery,window,document),function(e){var t,n,i=function(t){return t=e.extend(e.Event(t),function(){for(var t={},n=e.address.parameterNames(),i=0,r=n.length;i<r;i++)t[n[i]]=e.address.parameter(n[i]);return{value:e.address.value(),path:e.address.path(),pathNames:e.address.pathNames(),parameterNames:n,parameters:t,queryString:e.address.queryString()}}.call(e.address)),e(e.address).trigger(t),t},r=function(e){return Array.prototype.slice.call(e)},a=function(t,n,i){return e().bind.apply(e(e.address),Array.prototype.slice.call(arguments)),e.address},o=function(t,n){return e().unbind.apply(e(e.address),Array.prototype.slice.call(arguments)),e.address},s=function(){return j.pushState&&D.state!==t},l=function(){return("/"+N.pathname.replace(RegExp(D.state),"")+N.search+(c()?"#"+c():"")).replace(U,"/")},c=function(){var e=N.href.indexOf("#");return-1!=e?d(N.href.substr(e+1),E):""},u=function(){return s()?l():c()},p=function(e){return e=e.toString(),(D.strict&&"/"!=e.substr(0,1)?"/":"")+e},d=function(e,t){return D.crawlable&&t?(""!==e?"!":"")+e:e.replace(/^\!/,"")},h=function(e,t){return parseInt(e.css(t),10)},f=function(){if(!H){var e=u();decodeURI(Y)!=decodeURI(e)&&(M&&7>A?N.reload():(M&&!F&&D.history&&L(v,50),_old=Y,Y=e,g(E)))}},g=function(e){var t=i(k);e=i(e?C:T),L(m,10),(t.isDefaultPrevented()||e.isDefaultPrevented())&&(Y=_old,s()?j.popState({},"",D.state.replace(/\/$/,"")+(""===Y?"/":Y)):(H=S,I?D.history?N.hash="#"+d(Y,S):N.replace("#"+d(Y,S)):Y!=u()&&(D.history?N.hash="#"+d(Y,S):N.replace("#"+d(Y,S))),M&&!F&&D.history&&L(v,50),I?L(function(){H=E},1):H=E))},m=function(){if("null"!==D.tracker&&D.tracker!==y){var i=e.isFunction(D.tracker)?D.tracker:n[D.tracker],r=(N.pathname+N.search+(e.address&&!s()?e.address.value():"")).replace(/\/\//,"/").replace(/^\/$/,"");e.isFunction(i)?i(r):e.isFunction(n.urchinTracker)?n.urchinTracker(r):n.pageTracker!==t&&e.isFunction(n.pageTracker._trackPageview)?n.pageTracker._trackPageview(r):n._gaq!==t&&e.isFunction(n._gaq.push)&&n._gaq.push(["_trackPageview",decodeURI(r)])}},v=function(){var e="javascript:"+E+";document.open();document.writeln('<html><head><title>"+_.title.replace(/\'/g,"\\'")+"</title><script>var "+w+' = "'+encodeURIComponent(u()).replace(/\'/g,"\\'")+(_.domain!=N.hostname?'";document.domain="'+_.domain:"")+"\";<\/script></head></html>');document.close();";7>A?P.src=e:P.contentWindow.location.replace(e)},$=function(){if(V&&-1!=q){var e,t,n=V.substr(q+1).split("&");for(e=0;e<n.length;e++)t=n[e].split("="),/^(autoUpdate|crawlable|history|strict|wrap)$/.test(t[0])&&(D[t[0]]=isNaN(t[1])?/^(true|yes)$/i.test(t[1]):0!==parseInt(t[1],10)),/^(state|tracker)$/.test(t[0])&&(D[t[0]]=t[1]);V=y}_old=Y,Y=u()},b=function(){if(!B){B=S,$();var r=function(){var t,n=e("a"),i=n.size(),r=-1,a=function(){++r!=i&&(t=e(n.get(r)),t.is('[rel*="address:"]')&&t.address('[rel*="address:"]'),L(a,1))};if(L(a,1),D.crawlable){var o=N.pathname.replace(/\/$/,"");-1!=e("body").html().indexOf("_escaped_fragment_")&&e('a[href]:not([href^=http]), a[href*="'+document.domain+'"]').each(function(){var t=e(this).attr("href").replace(/^http:/,"").replace(RegExp(o+"/?$"),"");(""===t||-1!=t.indexOf("_escaped_fragment_"))&&e(this).attr("href","#"+encodeURI(decodeURIComponent(t.replace(/\/(.*)\?_escaped_fragment_=(.*)$/,"!$2"))))})}},a=e("body").ajaxComplete(r);r(),D.wrap&&(e("body > *").wrapAll('<div style="padding:'+(h(a,"marginTop")+h(a,"paddingTop"))+"px "+(h(a,"marginRight")+h(a,"paddingRight"))+"px "+(h(a,"marginBottom")+h(a,"paddingBottom"))+"px "+(h(a,"marginLeft")+h(a,"paddingLeft"))+'px;" />').parent().wrap('<div id="'+w+'" style="height:100%;overflow:auto;position:relative;'+(I&&!window.statusbar.visible?"resize:both;":"")+'" />'),e("html, body").css({height:"100%",margin:0,padding:0,overflow:"hidden"}),I&&e('<style type="text/css" />').appendTo("head").text("#"+w+"::-webkit-resizer { background-color: #fff; }")),M&&!F&&(r=_.getElementsByTagName("frameset")[0],P=_.createElement((r?"":"i")+"frame"),P.src="javascript:"+E,r?(r.insertAdjacentElement("beforeEnd",P),r[r.cols?"cols":"rows"]+=",0",P.noResize=S,P.frameBorder=P.frameSpacing=0):(P.style.display="none",P.style.width=P.style.height=0,P.tabIndex=-1,_.body.insertAdjacentElement("afterBegin",P)),L(function(){e(P).bind("load",function(){var e=P.contentWindow;_old=Y,(Y=e[w]!==t?e[w]:"")!=u()&&(g(E),N.hash=d(Y,S))}),P.contentWindow[w]===t&&v()},50)),L(function(){i("init"),g(E)},1),s()||(M&&7<A||!M&&F?n.addEventListener?n.addEventListener(x,f,E):n.attachEvent&&n.attachEvent("on"+x,f):R(f,50)),"state"in window.history&&e(window).trigger("popstate")}},y=null,w="jQueryAddress",x="hashchange",k="change",C="internalChange",T="externalChange",S=!0,E=!1,D={autoUpdate:S,crawlable:E,history:S,strict:S,wrap:E},O=navigator.userAgent.toLowerCase(),A=9,M=-1!==O.search("msie"),I=-1!==O.search("webkit");try{n=top.document!==t&&top.document.title!==t?top:window}catch(e){n=window}var P,_=n.document,j=n.history,N=n.location,R=setInterval,L=setTimeout,U=/\/{2,9}/g,F="on"+x in n,V=e("script:last").attr("src"),q=V?V.indexOf("?"):-1,z=_.title,H=E,B=E,W=S,G=E,Y=u();if(_old=Y,M){A=parseFloat(O.substr(O.indexOf("msie")+4)),_.documentMode&&_.documentMode!=A&&(A=8!=_.documentMode?7:8);var J=_.onpropertychange;_.onpropertychange=function(){J&&J.call(_),_.title!=z&&-1!=_.title.indexOf("#"+u())&&(_.title=z)}}if(j.navigationMode&&(j.navigationMode="compatible"),"complete"==document.readyState)var K=setInterval(function(){e.address&&(b(),clearInterval(K))},50);else $(),e(b);e(window).bind("popstate",function(){decodeURI(Y)!=decodeURI(u())&&(_old=Y,Y=u(),g(E))}).bind("unload",function(){n.removeEventListener?n.removeEventListener(x,f,E):n.detachEvent&&n.detachEvent("on"+x,f)}),e.address={bind:function(e,t,n){return a.apply(this,r(arguments))},unbind:function(e,t){return o.apply(this,r(arguments))},init:function(e,t){return a.apply(this,["init"].concat(r(arguments)))},change:function(e,t){return a.apply(this,[k].concat(r(arguments)))},internalChange:function(e,t){return a.apply(this,[C].concat(r(arguments)))},externalChange:function(e,t){return a.apply(this,[T].concat(r(arguments)))},baseURL:function(){var e=N.href;return-1!=e.indexOf("#")&&(e=e.substr(0,e.indexOf("#"))),/\/$/.test(e)&&(e=e.substr(0,e.length-1)),e},autoUpdate:function(e){return e!==t?(D.autoUpdate=e,this):D.autoUpdate},crawlable:function(e){return e!==t?(D.crawlable=e,this):D.crawlable},history:function(e){return e!==t?(D.history=e,this):D.history},state:function(e){if(e!==t){D.state=e;var n=l();return D.state!==t&&(j.pushState?"/#/"==n.substr(0,3)&&N.replace(D.state.replace(/^\/$/,"")+n.substr(2)):"/"!=n&&n.replace(/^\/#/,"")!=c()&&L(function(){N.replace(D.state.replace(/^\/$/,"")+"/#"+n)},1)),this}return D.state},strict:function(e){return e!==t?(D.strict=e,this):D.strict},tracker:function(e){return e!==t?(D.tracker=e,this):D.tracker},wrap:function(e){return e!==t?(D.wrap=e,this):D.wrap},update:function(){return G=S,this.value(Y),G=E,this},title:function(e){return e!==t?(L(function(){z=_.title=e,W&&P&&P.contentWindow&&P.contentWindow.document&&(P.contentWindow.document.title=e,W=E)},50),this):_.title},value:function(e){if(e!==t){if(e=p(e),"/"==e&&(e=""),Y==e&&!G)return;return _old=Y,Y=e,(D.autoUpdate||G)&&(g(S),s()?j[D.history?"pushState":"replaceState"]({},"",D.state.replace(/\/$/,"")+(""===Y?"/":Y)):(H=S,I?D.history?N.hash="#"+d(Y,S):N.replace("#"+d(Y,S)):Y!=u()&&(D.history?N.hash="#"+d(Y,S):N.replace("#"+d(Y,S))),M&&!F&&D.history&&L(v,50),I?L(function(){H=E},1):H=E)),this}return p(Y)},path:function(e){if(e!==t){var n=this.queryString(),i=this.hash();return this.value(e+(n?"?"+n:"")+(i?"#"+i:"")),this}return p(Y).split("#")[0].split("?")[0]},pathNames:function(){var e=this.path(),t=e.replace(U,"/").split("/");return("/"==e.substr(0,1)||0===e.length)&&t.splice(0,1),"/"==e.substr(e.length-1,1)&&t.splice(t.length-1,1),t},queryString:function(e){if(e!==t){var n=this.hash();return this.value(this.path()+(e?"?"+e:"")+(n?"#"+n:"")),this}return e=Y.split("?"),e.slice(1,e.length).join("?").split("#")[0]},parameter:function(n,i,r){var a,o;if(i!==t){var s=this.parameterNames();for(o=[],i=i===t||i===y?"":i.toString(),a=0;a<s.length;a++){var l=s[a],c=this.parameter(l);"string"==typeof c&&(c=[c]),l==n&&(c=i===y||""===i?[]:r?c.concat([i]):[i]);for(var u=0;u<c.length;u++)o.push(l+"="+c[u])}return-1==e.inArray(n,s)&&i!==y&&""!==i&&o.push(n+"="+i),this.queryString(o.join("&")),this}if(i=this.queryString()){for(r=[],o=i.split("&"),a=0;a<o.length;a++)i=o[a].split("="),i[0]==n&&r.push(i.slice(1).join("="));if(0!==r.length)return 1!=r.length?r:r[0]}},parameterNames:function(){var t=this.queryString(),n=[];if(t&&-1!=t.indexOf("="))for(var t=t.split("&"),i=0;i<t.length;i++){var r=t[i].split("=")[0];-1==e.inArray(r,n)&&n.push(r)}return n},hash:function(e){return e!==t?(this.value(Y.split("#")[0]+(e?"#"+e:"")),this):(e=Y.split("#"),e.slice(1,e.length).join("#"))}},e.fn.address=function(t){var n;return"string"==typeof t&&(n=t,t=void 0),e(this).attr("address")||e(n||this).live("click",function(n){if(n.shiftKey||n.ctrlKey||n.metaKey||2==n.which)return!0;e(this).is("a")&&(n.preventDefault(),n=t?t.call(this):/address:/.test(e(this).attr("rel"))?e(this).attr("rel").split("address:")[1].split(" ")[0]:void 0===e.address.state()||/^\/?$/.test(e.address.state())?e(this).attr("href").replace(/^(#\!?|\.)/,""):e(this).attr("href").replace(RegExp("^(.*"+e.address.state()+"|\\.)"),""),e.address.value(n))}).live("submit",function(n){e(this).is("form")&&(n.preventDefault(),n=e(this).attr("action"),n=t?t.call(this):(-1!=n.indexOf("?")?n.replace(/&$/,""):n+"?")+e(this).serialize(),e.address.value(n))}).attr("address",!0),this}}(jQuery),function(){function e(){for(T=!1,S=N;S--&&(D=_[S]);)D.isCSS||(D.cycle()?T=!0:D.stop(!1,D.complete,!1,!0));p?T?p(e):(d(e),D=C=null):T?v||(k=setInterval(e,Y)):(clearInterval(k),D=C=null),v=T}function t(e){e.cjFadeIn?(delete e.cjFadeIn,e.style.opacity=1,e.style.visibility="visible"):e.cjFadeOut&&(delete e.cjFadeOut,e.style.display="none")}function n(){v||e()}function i(e,t,n,i){_.splice(_.indexOf(e),1),N=_.length,n&&n(t,i)}function r(e){e.stopPropagation(),(e=this.cj)&&e.stop(e.complete)}function a(e,t,n){var i,r={};t=t.to;for(i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);Jacked.tween(e,r,n)}function o(e,t){return this["webkit"+e+t]||this["moz"+e+t]||this["o"+e+t]||this[e+t]||null}function s(e){var t;return(t=W.exec(e))?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),1]:(t=B.exec(e))?[17*parseInt(t[1],16),17*parseInt(t[2],16),17*parseInt(t[3],16),1]:void 0}function l(){for(var e in G)if(G.hasOwnProperty(e)&&e===y){w=G[e];break}}var c,u=window.getComputedStyle?document.defaultView.getComputedStyle:null,p=o("Request","AnimationFrame"),d=o("Cancel","AnimationFrame"),h=document.createElement("span").style,f=navigator.userAgent.toLowerCase(),g="Quint.easeOut",m=500;c=f.search("msie"),-1===c?c=[33.3,0]:(c=parseInt(f.substr(c+4,c+5),10),c=[9<=c?16.6:33.3,c]);var v,$,b,y,w,x,k,C,T,S,E,D,O,A,M,I,P,_=[],j="WebkitTransition"in h?["webkitTransitionEnd","-webkit-transition",-1!==f.search("chrome")?"chrome":"safari"]:"MozTransition"in h?["transitionend","-moz-transition","firefox"]:"MSTransition"in h?["transitionend","-ms-transition","ie"]:"OTransition"in h?["otransitionend","-o-transition","opera"]:"transition"in h?["transitionend","transition",null]:null,N=0,R=/,/g,L=/[A-Z]/g,U=/ cj-tween/g,F=/^\s+|\s+$/g,V=/{props}/,q=/{easing}/,z=/{duration}/,H=/(right|bottom|center)/,B=/#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])/,W=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})/,G={ios:!1,android:!1,winMobile:!1,firefox:!1,chrome:!1,safari:!1,opera:!1,ie:!1},Y=c[0];c=c[1];var J=0!==c&&9>c;if(p&&d||(p=d=null),j){var K=j[1],Q=document.createElement("style");$="WebkitTransform"in h?"WebkitTransform":"MozTransform"in h?"MozTransform":"msTransform"in h?"msTransform":"OTransform"in h?"OTransform":"transform"in h?"transform":null,A=function(){if("ontouchend"in document){if(-1!==f.search("iphone")||-1!==f.search("ipad"))return"ios";if(-1!==f.search("android")||-1!==f.search("applewebkit"))return"android";if(-1!==f.search("msie"))return"winMobile"}return null}(),Q.type="text/css",Q.innerHTML=".cj-tween{"+K+"-property:none !important;}",document.getElementsByTagName("head")[0].appendChild(Q),b=K+"-property:{props};"+K+"-duration:{duration}s;"+K+"-timing-function:cubic-bezier({easing});",y=A||j[2],P=/(chrome|opera)/.test(y),j=j[0],l()}if(J){if(8!==c)return;O=/(#|rgb|red|blue|green|black|white|yellow|pink|gray|grey|orange|purple)/,M=/(auto|inherit|rgb|%|#|red|blue|green|black|white|yellow|pink|gray|grey|orange|purple)/,I={red:"#F00",blue:"#00F",green:"#0F0",black:"#000",white:"#FFF",yellow:"#FF0",pink:"#FFC0CB",gray:"#808080",grey:"#808080",orange:"#FFA500",purple:"#800080"}}else O=/(#|rgb)/,M=/(auto|inherit|rgb|%|#)/;Array.prototype.indexOf||(Array.prototype.indexOf=function(e){for(var t=this.length;t--;)if(this[t]===e)return t;return-1}),Date.now||(Date.now=function(){return+new Date}),this.Jacked={ready:function(e){window.onload=e},setEngines:function(e){for(var t in e)G.hasOwnProperty(t)&&(G[t]=e[t]);l()},tween:function(e,t,n){e.cj&&e.cj.stop(),n||(n={}),n.mode?"timeline"!==n.mode&&j?new CJcss(e,t,n):new CJ(e,t,n):j&&w?new CJcss(e,t,n):new CJ(e,t,n)},fadeIn:function(e,t){t||(t={}),t.fadeIn=!0,Jacked.tween(e,{opacity:1},t)},fadeOut:function(e,t){t||(t={}),t.fadeOut=!0,Jacked.tween(e,{opacity:0},t)},percentage:function(e,t,n){if(e.cj&&e.cj.stop(),"from"in t&&"to"in t){n||(n={});var i=n.mode;i?"css3"===i&&j?a(e,t,n):new CJpercentage(e,t,n):j&&w?a(e,t,n):new CJpercentage(e,t,n)}},special:function(e,t){e.cj&&e.cj.stop(),new CJspecial(e,t)},transform:function(e,t,n,i){e.cj&&e.cj.stop(),j&&$?(n||(n={}),n.mode="css3","transform"in t&&(t[$]=t.transform,delete t.transform),new Jacked.tween(e,t,n)):i&&new Jacked.tween(e,i,n)},stopTween:function(e,t,n){(e=e.cj)&&(e.isCSS?e.stop(n):e.stop(t,n))},stopAll:function(t){d?d(e):clearInterval(k);var n,i=_.length;for(N=0;i--;)n=_[i],n.isCSS?n.stop(!1,!0):n.stop(t,!1,!0,!0);_=[],v=!1,C=null},setEase:function(e){var t=e.toLowerCase().split(".");2>t.length||X[t[0]]&&X[t[0]][t[1]]&&(g=e)},setDuration:function(e){isNaN(e)||(m=e)},getMobile:function(){return A},getIE:function(){return J},getBrowser:function(){return y},getTransition:function(){return j},getEngine:function(){return v},getTransform:function(){return $}},this.CJ=function(t,i,r){N=_.length;var a=t.cj=_[N++]=this;this.runner=function(o){if(a.obj=t,a.complete=r.callback,a.completeParams=r.callbackParams,!0===o)a.transitions=[];else{var s;o=0;var l=[],c=t.style,u=r.duration||m,p=(r.ease||g).toLowerCase().split("."),p=X[p[0]][p[1]];c.visibility="visible",r.fadeIn&&(c.display=r.display||"block",c.opacity=0),J&&"opacity"in i&&(c.filter="progid:DXImageTransform.Microsoft.Alpha(opacity="+(r.fadeIn?0:100)+")"),i.borderColor&&!P&&(c=i.borderColor,i.borderTopColor=c,i.borderRightColor=c,i.borderBottomColor=c,i.borderLeftColor=c,delete i.borderColor);for(s in i)i.hasOwnProperty(s)&&(l[o++]="backgroundPosition"!==s?a.animate(t,s,i[s],u,p):a.bgPosition(t,s,i[s],u,p));a.transitions=l,v?setTimeout(n,10):e()}},r.fadeOut?t.cjFadeOut=!0:r.fadeIn&&(t.cjFadeIn=!0),0===r.duration?(this.runner(!0),this.stop()):r.delay?this.delayed=setTimeout(this.runner,r.delay):this.runner()},CJ.prototype.cycle=function(){if(!(C=this.transitions))return!0;for(E=C.length,x=!1;E--;)C[E]()&&(x=!0);return x},CJ.prototype.animate=function(e,t,n,i,r){function a(){if(g=Date.now(),w+=g-b,s=r(w,y,v,i),b=g,(s=!p||J?$?s+.5|0:s-.5|0:s.toFixed(2))===f)return!0;if($){if(s>=n)return l[t]=h,!1}else if(s<=n)return l[t]=h,!1;return f=s,l[t]=s+m,!0}function o(){return!1}var s,l,c,p="opacity"===t,d=!0;if(p&&J?(l=e.filters.item("DXImageTransform.Microsoft.Alpha"),t="Opacity",s=l[t],n*=100):(l=e.style,c=l[t],s=""!==c?c:u?u(e,null)[t]:e.currentStyle[t]),M.test(s))if(O.test(s)){if(-1===n.search("rgb"))return J&&s in I&&(s=I[s]),this.color(e,t,s,n,i,r);d=!1}else s=0;else s=parseFloat(s);var h,f,g,m=p?0:"px",v=n-s,$=s<n,b=Date.now(),y=s,w=0;return h=n+m,!p||J?$?n-=.25:n+=.25:$?n-=.025:n+=.025,d?(a.stored=[t,h],a):(o.stored=[t,h],o)},CJ.prototype.color=function(e,t,n,i,r,a){function o(){if(d=Date.now(),v+=d-u,u=d,.99>(n=a(v,0,1,r))){for($=-1,f="rgb(";3>++$;)h=g[$],f+=h+n*(m[$]-h)|0,2>$&&(f+=",");return p[t]=f+")",!0}return p[t]=c,!1}function l(){return!1}var c=(-1!==i.search("#")?"":"#")+i,u=Date.now(),p=e.style;e=!1;var d,h,f,g=[],m=[],v=0,$=-1;if(-1!==n.search("rgb"))for($=-1,g=n.split("(")[1].split(")")[0].split(",");3>++$;)g[$]=parseInt(g[$],10);else g=s(n);for(m=s(i),
$=-1;3>++$;)g[$]!==m[$]&&(e=!0);return e?(o.stored=[t,c],o):(l.stored=[t,c],l)},CJ.prototype.bgPosition=function(e,t,n,i,r){function a(){return $=Date.now(),D+=$-T,T=$,.99>(v=r(D,0,1,i))?(h&&(b=w+g*v+.5|0),f&&(y=x+m*v+.5|0),b===p&&y===d||(p=b,d=y,E?(k.backgroundPositionX=b+"px",k.backgroundPositionY=y+"px"):k.backgroundPosition=b+"px "+y+"px",!0)):(E?(k.backgroundPositionX=s,k.backgroundPositionY=l):k[t]=c,!1)}function o(){return!1}var s,l,c,p,d,h,f,g,m,v,$,b,y,w,x,k=e.style,C=k[t],T=Date.now(),S=!0,E=J,D=0;return E?(w=e.currentStyle.backgroundPositionX,x=e.currentStyle.backgroundPositionY,(H.test(w)||H.test(x))&&(S=!1),"left"===w&&(w=0),"top"===x&&(x=0)):(v=""!==C?C.split(" "):u(e,null).backgroundPosition.split(" "),w=v[0],x=v[1]),-1!==w.search("%")&&"0%"!==w&&(S=!1),-1!==x.search("%")&&"0%"!==x&&(S=!1),w=parseInt(w,10),x=parseInt(x,10),n.hasOwnProperty("x")?(b=n.x,h=!0):(b=w,h=!1),n.hasOwnProperty("y")?(y=n.y,f=!0):(y=x,f=!1),h=h&&w!==b,f=f&&x!==y,!h&&!f&&(S=!1),g=b-w,m=y-x,s=b+"px",l=y+"px",c=E?[s,l]:s+" "+l,S?(a.stored=[t,c],a):(o.stored=[t,c],o)},CJ.prototype.stop=function(e,n,r){var a=this.obj;if(a){if(delete a.cj,e){e=this.transitions;for(var o,s,l=e.length;l--;)if(o=e[l].stored,s=o[0],J)switch(s){case"Opacity":a.filters.item("DXImageTransform.Microsoft.Alpha").Opacity=100*o[1];break;case"backgroundPosition":s=a.style,s.backgroundPositionX=o[1][0],s.backgroundPositionY=o[1][1];break;default:a.style[s]=o[1]}else a.style[s]=o[1]}t(a),n&&(n=this.complete),r||i(this,a,n,this.completeParams)}else clearTimeout(this.delayed),this.runner(!0),this.stop(e,n)},this.CJcss=function(e,t,n){N=_.length;var i=e.cj=_[N++]=this,a=e.style,o=$ in t;this.isCSS=!0,this.storage=e,this.complete=n.callback,this.completeParams=n.callbackParams,this.runner=function(){n.cssStep?(a.visibility="visible",i.stepped=setTimeout(i.step,30)):i.step()},this.step=function(s){if(i.obj=e,!0===s)i.moves="";else{var l,c,p,d,h,f,v=0;f=[];var $=[];s=e.getAttribute("style")||"";var y=n.duration||m,w=(n.ease||g).toLowerCase().split(".");for(c in t)if(t.hasOwnProperty(c)){if(p=c,h=p.match(L))for(l=h.length;l--;)d=h[l],p=p.replace(RegExp(d,"g"),"-"+d.toLowerCase());if(d=l=t[c],h="backgroundPosition"===c,M.test(d)||"opacity"===c||h||o)if(h){d=l.x,l=l.y,h=isNaN(d);var x=isNaN(l);if(h||x){var k=a.backgroundPosition,k=""!==k?k.split(" "):u(e,null).backgroundPosition.split(" ");h?d=k[0]:d+="px",x?l=k[1]:l+="px"}else d+="px",l+="px";d=d+" "+l+";"}else d+=";";else d+="px;";if(f[v]=p+":"+d,$[v++]=p,s&&-1!==(h=s.search(p))){for(p=s.length-1,l=h-1;++l<p&&";"!==s[l];);s=s.split(s.substring(h,l+1)).join("")}}i.moves=c=b.replace(V,$.toString()).replace(z,(.001*y).toFixed(2)).replace(q,Z[w[0]][w[1]]),f=f.toString(),o||(f=f.replace(R,"")),e.className=e.className.replace(U,""),e.addEventListener(j,r,!1),e.setAttribute("style",s.replace(F,"")+c+f)}},n.fadeIn?(e.cjFadeIn=!0,a.display=n.display||"block",a.opacity=0):n.fadeOut&&(e.cjFadeOut=!0),0===n.duration?(this.runner(!0),this.stop()):(n.cssStep||(a.visibility="visible"),this.delayed=n.delay?setTimeout(this.runner,30<n.delay?n.delay:30):setTimeout(this.runner,30))},CJcss.prototype.stop=function(e,n){var a=this.obj;e&&(e=this.complete),a?(delete a.cj,a.removeEventListener(j,r,!1),a.className+=" cj-tween",a.setAttribute("style",a.getAttribute("style").split(this.moves).join(";").split(";;").join(";")),t(a)):(clearTimeout(this.delayed),clearTimeout(this.stepped),t(this.storage)),n||i(this,a,e,this.completeParams)},this.CJpercentage=function(t,i,r){N=_.length;var a=t.cj=_[N++]=this;this.obj=t,this.complete=r.callback,this.completeParams=r.callbackParams,this.runner=function(){var o,s,l,c=0,u=[],p=i.to,d=i.from,h=r.duration||m,f=(r.ease||g).toLowerCase().split("."),f=X[f[0]][f[1]];for(o in d)d.hasOwnProperty(o)&&(l=parseInt(p[o],10),s=parseInt(d[o],10),u[c++]=[l>s,o,l,s]);t.style.visibility="visible",a.transitions=a.animate(t,u,h,f),v?setTimeout(n,10):e()},0===r.duration?this.stop():r.delay?this.delayed=setTimeout(this.runner,r.delay):this.runner()},CJpercentage.prototype.cycle=function(){return this.transitions()},CJpercentage.prototype.animate=function(e,t,n,i){var r,a,o,s,l,c=0,u=Date.now(),p=e.style,d=t.length;return function(e){if(a=Date.now(),c+=a-u,u=a,r=i(c,0,1,n),o=d,.99>r&&!e){for(;o--;)s=t[o],l=s[3],p[s[1]]=s[0]?l+(s[2]-l)*r+"%":l-(l-s[2])*r+"%";return!0}for(;o--;)s=t[o],p[s[1]]=s[2]+"%";return!1}},CJpercentage.prototype.stop=function(e,t,n){"delayed"in this&&clearTimeout(this.delayed);var r=this.obj;delete r.cj,e&&this.transitions&&this.transitions(!0),t&&(t=this.complete),n||i(this,r,t,this.completeParams)},this.CJspecial=function(t,i){if(i&&i.callback){N=_.length,_[N++]=t.cj=this;var r=this.complete=i.callback,a=i.ease||g,a=a.toLowerCase().split("."),a=X[a[0]][a[1]];this.obj=t,this.transitions=this.numbers(t,i.duration||m,a,r),v?setTimeout(n,10):e()}},CJspecial.prototype.cycle=function(){return this.transitions()},CJspecial.prototype.numbers=function(e,t,n,i){var r,a,o=0,s=Date.now();return function(){return a=Date.now(),o+=a-s,s=a,.97>(r=n(o,0,1,t))&&(i(e,r),!0)}},CJspecial.prototype.stop=function(e,t,n,r){var a=this.obj;a&&(delete a.cj,n||i(this),(e||r)&&this.complete(a,1,t))};var X={linear:{easenone:function(e,t,n,i){return n*e/i+t},easein:function(e,t,n,i){return n*e/i+t},easeout:function(e,t,n,i){return n*e/i+t},easeinout:function(e,t,n,i){return n*e/i+t}},quint:{easeout:function(e,t,n,i){return n*((e=e/i-1)*e*e*e*e+1)+t},easein:function(e,t,n,i){return n*(e/=i)*e*e*e*e+t},easeinout:function(e,t,n,i){return 1>(e/=i/2)?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t}},quad:{easein:function(e,t,n,i){return n*(e/=i)*e+t},easeout:function(e,t,n,i){return-n*(e/=i)*(e-2)+t},easeinout:function(e,t,n,i){return 1>(e/=i/2)?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}},quart:{easein:function(e,t,n,i){return n*(e/=i)*e*e*e+t},easeout:function(e,t,n,i){return-n*((e=e/i-1)*e*e*e-1)+t},easeinout:function(e,t,n,i){return 1>(e/=i/2)?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t}},cubic:{easein:function(e,t,n,i){return n*(e/=i)*e*e+t},easeout:function(e,t,n,i){return n*((e=e/i-1)*e*e+1)+t},easeinout:function(e,t,n,i){return 1>(e/=i/2)?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t}},circ:{easein:function(e,t,n,i){return-n*(Math.sqrt(1-(e/=i)*e)-1)+t},easeout:function(e,t,n,i){return n*Math.sqrt(1-(e=e/i-1)*e)+t},easeinout:function(e,t,n,i){return 1>(e/=i/2)?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t}},sine:{easein:function(e,t,n,i){return-n*Math.cos(e/i*(Math.PI/2))+n+t},easeout:function(e,t,n,i){return n*Math.sin(e/i*(Math.PI/2))+t},easeinout:function(e,t,n,i){return-n/2*(Math.cos(Math.PI*e/i)-1)+t}},expo:{easein:function(e,t,n,i){return 0===e?t:n*Math.pow(2,10*(e/i-1))+t},easeout:function(e,t,n,i){return e===i?t+n:n*(1-Math.pow(2,-10*e/i))+t},easeinout:function(e,t,n,i){return 0===e?t:e===i?t+n:1>(e/=i/2)?n/2*Math.pow(2,10*(e-1))+t:n/2*(2-Math.pow(2,-10*--e))+t}}},Z={linear:{easenone:"0.250, 0.250, 0.750, 0.750",easein:"0.420, 0.000, 1.000, 1.000",easeout:"0.000, 0.000, 0.580, 1.000",easeinout:"0.420, 0.000, 0.580, 1.000"},quint:{easein:"0.755, 0.050, 0.855, 0.060",easeout:"0.230, 1.000, 0.320, 1.000",easeinout:"0.860, 0.000, 0.070, 1.000"},quad:{easein:"0.550, 0.085, 0.680, 0.530",easeout:"0.250, 0.460, 0.450, 0.940",easeinout:"0.455, 0.030, 0.515, 0.955"},quart:{easein:"0.895, 0.030, 0.685, 0.220",easeout:"0.165, 0.840, 0.440, 1.000",easeinout:"0.770, 0.000, 0.175, 1.000"},cubic:{easein:"0.550, 0.055, 0.675, 0.190",easeout:"0.215, 0.610, 0.355, 1.000",easeinout:"0.645, 0.045, 0.355, 1.000"},circ:{easein:"0.600, 0.040, 0.980, 0.335",easeout:"0.075, 0.820, 0.165, 1.000",easeinout:"0.785, 0.135, 0.150, 0.860"},sine:{easein:"0.470, 0.000, 0.745, 0.715",easeout:"0.390, 0.575, 0.565, 1.000",easeinout:"0.445, 0.050, 0.550, 0.950"},expo:{easein:"0.950, 0.050, 0.795, 0.035",easeout:"0.190, 1.000, 0.220, 1.000",easeinout:"1.000, 0.000, 0.000, 1.000"}};c=h=null}(window),function(e){function t(e,t){t||(delete e.swipeLeft,delete e.swipeRight,delete e.stopProp),delete e.newPageX,delete e.pageX}function n(e){var t=e.touches?e.touches[0]:e;this.stopProp&&e.stopImmediatePropagation(),this.pageX=t.pageX,this.addEventListener(a,r),this.addEventListener(o,i)}function i(e){var t=this.newPageX=(e.touches?e.touches[0]:e).pageX;10<Math.abs(this.pageX-t)&&e.preventDefault()}function r(){var e=this.newPageX,l=this.pageX,c=this.cjThumbs;this.removeEventListener(o,i),this.removeEventListener(a,r),30>Math.abs(l-e)||(c||this.removeEventListener(s,n),l>e?this.swipeLeft&&(e=this.swipeLeft,t(this,c),e()):this.swipeRight&&(e=this.swipeRight,t(this,c),e(1)))}var a,o,s,l={touchSwipe:function(e,t){l.touchSwipeLeft(e,t),l.touchSwipeRight(e,t)},touchSwipeLeft:function(e,t,i){i&&(e.stopProp=!0),e.swipeLeft||(e.swipeLeft=t),e.swipeRight||e.addEventListener(s,n)},touchSwipeRight:function(e,t,i){i&&(e.stopProp=!0),e.swipeRight||(e.swipeRight=t),e.swipeLeft||e.addEventListener(s,n)},unbindSwipe:function(e){e.removeEventListener(s,n),e.removeEventListener(o,i),e.removeEventListener(a,r),t(e)}};"ontouchend"in document?(a="touchend",o="touchmove",s="touchstart"):(a="mouseup",o="mousemove",s="mousedown"),e.fn.cjSwipe=function(e,t,n){l[e](this[0],t,n)}}(jQuery),function(){function e(){this.a=this.b=this.g=this.r=0,this.next=null}var t=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],n=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];window.StackBlurImage=function(i,r,a){var o=document.getElementById(i),i=o.naturalWidth,s=o.naturalHeight,l=document.getElementById(r);if(l.style.width=i+"px",l.style.height=s+"px",l.width=i,l.height=s,l=l.getContext("2d"),l.clearRect(0,0,i,s),l.drawImage(o,0,0),!(isNaN(a)||1>a||isNaN(a)||1>a)){var c,u,p,d,h,f,g,m,v,$,b,y,w,x,k,C,T,S,E,a=0|a,r=document.getElementById(r).getContext("2d"),o=r.getImageData(0,0,i,s),l=o.data,D=p=null,O=t[a],A=n[a];c=a+a+1;var M=i-1,I=s-1,P=a+1,_=P*(P+1)/2,j=new e,D=j;for(p=1;p<c;p++)if(D=D.next=new e,p==P)var N=D;for(D.next=j,u=f=h=0;u<s;u++){for(w=x=k=g=m=v=0,$=P*(C=l[h]),b=P*(T=l[h+1]),y=P*(S=l[h+2]),g+=_*C,m+=_*T,v+=_*S,D=j,p=0;p<P;p++)D.r=C,D.g=T,D.b=S,D=D.next;for(p=1;p<P;p++)d=h+((M<p?M:p)<<2),g+=(D.r=C=l[d])*(E=P-p),m+=(D.g=T=l[d+1])*E,v+=(D.b=S=l[d+2])*E,w+=C,x+=T,k+=S,D=D.next;for(p=j,D=N,c=0;c<i;c++)l[h]=g*O>>A,l[h+1]=m*O>>A,l[h+2]=v*O>>A,g-=$,m-=b,v-=y,$-=p.r,b-=p.g,y-=p.b,d=f+((d=c+a+1)<M?d:M)<<2,w+=p.r=l[d],x+=p.g=l[d+1],k+=p.b=l[d+2],g+=w,m+=x,v+=k,p=p.next,$+=C=D.r,b+=T=D.g,y+=S=D.b,w-=C,x-=T,k-=S,D=D.next,h+=4;f+=i}for(c=0;c<i;c++){for(x=k=w=m=v=g=0,h=c<<2,$=P*(C=l[h]),b=P*(T=l[h+1]),y=P*(S=l[h+2]),g+=_*C,m+=_*T,v+=_*S,D=j,p=0;p<P;p++)D.r=C,D.g=T,D.b=S,D=D.next;for(d=i,p=1;p<=a;p++)h=d+c<<2,g+=(D.r=C=l[h])*(E=P-p),m+=(D.g=T=l[h+1])*E,v+=(D.b=S=l[h+2])*E,w+=C,x+=T,k+=S,D=D.next,p<I&&(d+=i);for(h=c,p=j,D=N,u=0;u<s;u++)d=h<<2,l[d]=g*O>>A,l[d+1]=m*O>>A,l[d+2]=v*O>>A,g-=$,m-=b,v-=y,$-=p.r,b-=p.g,y-=p.b,d=c+((d=u+P)<I?d:I)*i<<2,g+=w+=p.r=l[d],m+=x+=p.g=l[d+1],v+=k+=p.b=l[d+2],p=p.next,$+=C=D.r,b+=T=D.g,y+=S=D.b,w-=C,x-=T,k-=S,D=D.next,h+=i}r.putImageData(o,0,0)}}}(),function(e){function t(){yt=e(window),Pt=e("body"),en=e("body, html"),pt=e("<div />").addClass("jackbox-modal"),_t=e("<div />").addClass("jackbox-holder"),Ze=e("<div />").addClass("jackbox-wrapper"),Ie=e("<div />").addClass("jackbox-preloader"),De=e("<span />").addClass("jackbox-panel jackbox-panel-left"),Te=e("<span />").addClass("jackbox-panel jackbox-panel-right");var t=vt.createDocumentFragment();t.appendChild(Ze[0]),t.appendChild(Ie[0]),pt[0].appendChild(t),t=vt.createDocumentFragment(),t.appendChild(De[0]),t.appendChild(Te[0]),t.appendChild(_t[0]),Ze[0].appendChild(t),Me=e("<div />").addClass("jackbox-container"),Et||(t=e("<span />").addClass("jackbox-pre-outside").appendTo(Ie),e("<span />").addClass("jackbox-pre-inside").appendTo(t)),_n*=2,Ee=0,t=vt.createDocumentFragment(),Hn&&(ye=e(Hn).hide(),t.appendChild(ye[0])),t.appendChild(Me[0]),Bn&&(Z=e(Bn).hide(),t.appendChild(Z[0])),_t[0].appendChild(t),oe=-(Sn+jn),_e=[],ft=[],St=[],kt=[],jt.each(i),dn&&(e.address.internalChange(s),e.address.externalChange(o)),Tn=!0,Mt&&(dn?setTimeout(Mt,250):Mt(),Mt=null),jt=ft=Hn=Bn=_e=null}function n(t,n){var i,r,o=e(this),s=kt.length,l=-1;if(t&&"object"==typeof t){var c,u=o.attr("href");for(r in t)t.hasOwnProperty(r)&&"trigger"!==r&&(c=t[r],"href"===r&&u||o.attr("data-"+r,c),"group"===r&&(i=c))}if(i||(i=o.attr("data-group")),i){for(i=i.split(" ").join("").toLowerCase();s--;)if(kt[s]===i){l=s;break}if(-1<l){for(i=St[l],s=i.length;s--;)if(r=i[s],r[0]===o[0]){if(n)if(i.splice(s,1),r.off("click.jackbox"),o=i.length)for(l=0;l<o;l++)i[l].data("id",l);else St.splice(l,1),kt.splice(l,1),Yn--;return}s=i.length,i[s]=o}else{if(n)return;l=kt.length,s=St.length,kt[l]=i,Yn++,St[s]=[o],s=0}a(o),o.data({id:s,cat:l}),t&&t.trigger&&o.trigger("click")}}function i(){var t=e(this).attr("data-group").split(" ").join("").toLowerCase();if(Et){for(var n=kt.length,i=!1;n--;)if(kt[n]===t){i=!0;break}i||r(t)}else-1===kt.indexOf(t)&&r(t)}function r(t){kt[kt.length]=t,ft=[],e(Le+"[data-group="+t+"]").each(a),St[St.length]=ft,Yn++}function a(t){if(isNaN(t)?ht=t:(ht=e(this).data({id:t,cat:Yn}),ft[t]=ht),$t=ht.attr("href")||ht.attr("data-href")){var n;if(t="#"!==$t.charAt(0)?$t.toLowerCase().split(".").pop():"inline",n=$t,n=-1!==n.search("youtube.com")?"youtube":-1!==n.search("vimeo.com")?"vimeo":"mp4"===t&&"local")ht.data("type",n),ht.attr("data-thumbnail")||("vimeo"===n?H(ht,$t):"youtube"===n&&ht.attr("data-thumbnail","http://img.youtube.com/vi/"+$t.split("http://www.youtube.com/watch?v=")[1]+"/1.jpg"));else if("jpg"===t||"png"===t||"jpeg"===t||"gif"===t)ht.data("type","image");else switch(t){case"mp3":ht.data("type","audio");break;case"swf":ht.data("type","swf");break;case"inline":ht.data("type","inline");break;default:ht.data("type","iframe")}if(ht.on("click.jackbox",u),Qt=ht.attr("data-description")){if(_e)if(-1===(t=_e.indexOf(Qt))){if(Qt=e(Qt),!Qt.length)return;_e[_e.length]=Qt}else Qt=_e[t];else if(Qt=e(Qt),!Qt.length)return;ht.data("description",Qt)}}}function o(e){if(Kn){Kn=!1;var t=vt.URL.split("?url=");if(2===t.length)return void(window.location=t[0]+"#/"+t[1])}clearTimeout(Lt),l(e.value),-1!==Gn?Jn?(Jn=!1,s()):Lt=setTimeout(s,750):Xt&&L()}function s(e){"object"==typeof e&&(clearTimeout(Lt),l(e.value)),-1!==Gn?g():Xt&&L()}function l(e){if(!sn||on||yn||It[Wn].removeClass("jb-thumb-active"),"/"!==e?(e=e.split("/"),3===e.length?(Wn=parseInt(e[2],10)-1,isNaN(Wn)&&(Wn=0),Tt=e[1]):isNaN(e[1])?(Wn=0,Tt=e[1]):(Wn=parseInt(e[1],10)-1,Tt="/")):(Tt="/",Wn=0),"/"!==Tt){for(e=Yn;e--;)if(kt[e]===Tt){Gn=e,wt=St[Gn].length,nt=1!==wt;break}}else Gn=-1;yn=!1}function c(){clearTimeout(X),X=setTimeout(ci,100)}function u(t){t.stopPropagation(),t.preventDefault(),t=e(this).data(),p(t.cat,t.id,!0)}function p(t,n,i){if(clearTimeout(Lt),!i){if(sn)for(i=It.length;i--;)It[i].off("click.jackbox");De.off(".jackbox"),Te.off(".jackbox"),tn&&mt.off("keydown.jackbox"),st&&Re&&Ft.cjSwipe("unbindSwipe")}dn?e.address.value(kt[t]+"/"+(n+1)):(!sn||on||yn||It[Wn].removeClass("jb-thumb-active"),Wn=n,Gn=t,wt=St[Gn].length,nt=1!==wt,g())}function d(e){if(e&&(e.stopPropagation(),an))return!1;Xt&&(sn&&!on&&It[Wn].removeClass("jb-thumb-active"),Wn<St[Gn].length-1?Wn++:Wn=0,yn=!0,p(Gn,Wn))}function h(e){if(e&&(e.stopPropagation(),an))return!1;Xt&&(sn&&!on&&It[Wn].removeClass("jb-thumb-active"),0<Wn?Wn--:Wn=St[Gn].length-1,yn=!0,p(Gn,Wn))}function f(){for(var e=[pt[0],Ze[0],_t[0],Me[0]],t=4;t--;)e[t].removeEventListener("touchstart",q,!1),e[t].removeEventListener("touchmove",q,!1),e[t].removeEventListener("touchend",q,!1)}function g(){if(un=St[Gn],ht=un[Wn]){if(st)for(var t=[pt[0],Ze[0],_t[0],Me[0]],n=4;n--;)t[n].addEventListener("touchstart",q,!1),t[n].addEventListener("touchmove",q,!1),t[n].addEventListener("touchend",q,!1);$t=ht.attr("href")||ht.attr("data-href"),Xt?(an=!0,N(),b()):(Xt=!0,st||en.stop(),Ee=yt.scrollTop(),pt.appendTo(Pt).one("click.jackbox",R),pn||(Yt=pt.parents().each(m)),tn&&mt.on("keydown.jackbox_keyboard",x),Zt||(Zt=!0,pe=parseInt(_t.css("padding-left"),10)+parseInt(_t.css("padding-right"),10),ue=parseInt(_t.css("padding-top"),10)+parseInt(_t.css("padding-bottom"),10),fe=parseInt(De.css("width"),10)+14,lt=ue+_n,re=Sn+(jn<<1),it=parseInt(Ie.css("margin-top"),10),vn=it-(re>>1),te=parseInt(_t.css("padding-left"),10),ne=parseInt(_t.css("padding-top"),10),Se=e(".jackbox-fullscreen"),Se.length||(Se=null),ee=!st&&"safari"!==Jt&&("webkitRequestFullScreen"in pt[0]||"mozFullScreenEnabled"in vt)),qe=!An&&rn&&nt?0:oe,zt=yt.width(),Ht=yt.height(),_t.css({width:zt,height:Ht,marginLeft:-(zt>>1)-te,marginTop:-(Ht>>1)-ne}),Jacked.fadeIn(pt[0],{callback:$}),At=setTimeout(b,250),Ze.on("click.jackbox",Q))}}function m(){e(this).addClass("jackbox-overflow")}function v(){e(this).removeClass("jackbox-overflow")}function $(){pn||yt[0].scrollTo(0,0)}function b(){sn&&(It[Wn].addClass("jb-thumb-active"),on?on=!1:si(!1,!0));var t;t=ht.attr("data-autoplay")?ht.attr("data-autoplay"):kn,t="true"===t||!0===t;var n,i=ht.data("description")||null,r=ht.attr("data-title")||"";switch(at="true"===ht.attr("data-scaleUp"),Be=!(!i||"string"==typeof i)&&i.html(),Gt=ht.data("type"),t="true"===t||!0===t,r?(Ne=r,Oe=escape(Ne)):(Oe=!1,void 0!==dt&&(dt.data("links")&&dt.data("links").off(".jackbox"),dt.empty())),st&&(Re="image"===Gt,"inline"!==Gt&&"iframe"!==Gt&&vt.addEventListener("touchmove",q,!1)),"image"!==Gt&&_(),nn=!1,568<zt?Ie.css("margin-top",0===qe?vn:it):Ie.css("margin-top",it),Ze.show(),Ie.addClass("jackbox-spin-preloader"),Gt){case"image":qt=!0,Ft=e("<img />").addClass("jackbox-content").one("load.jackbox",Zn).prependTo(Me),st&&(Ft[0].addEventListener("touchstart",q,!1),Ft[0].addEventListener("touchmove",q,!1),Ft[0].addEventListener("touchend",q,!1)),Ft.attr("src",$t);break;case"youtube":st&&(nn=!0),Xn(zn.split("{url}").join($t.split("watch?v=")[1]).split("{autoplay}").join(t?1:0));break;case"vimeo":st&&(nn=!0),Xn(qn.split("{url}").join($t.substring($t.lastIndexOf("/"))).split("{autoplay}").join(t));break;case"local":var i=y(),r="true"===ht.attr("data-firefoxUsesFlash")?"true":"false",a=ht.attr("data-flashHasPriority")?ht.attr("data-flashHasPriority"):En.toString();n="false"===a&&ee&&"firefox"!==Jt,i=ht.attr("data-poster")?i+ht.attr("data-poster"):"false",Xn(Un+"?video="+$t+"&autoplay="+t+"&flashing="+a+"&width="+Nt+"&height="+Vt+"&poster="+i+"&firefox="+r,!0);break;case"audio":y(),Xn(Fn+"?audio="+$t+"&title="+(ht.attr("data-audiotitle")?ht.attr("data-audiotitle"):Oe)+"&autoplay="+t);break;case"swf":y(),Xn(Rn+"?swf="+$t+"&width="+bt.toString()+"&height="+Ct.toString());break;case"inline":t=e($t),t=t.length?t.html():"",Ft=e("<div />").addClass("jackbox-content jackbox-html").html(t).prependTo(Me),Ft.css("width",bt).find("a").on("click",K),ht.attr("data-height",Ft.outerHeight(!0)),_(),Zn();break;default:Xn($t,!1,!0)}ee&&(n?Se.hide():Se.show())}function y(){if(-1!==$t.search("http"))return"";var e=vt.URL.split("#")[0];return"/"!==e[e.length-1]&&(e=e.substring(0,e.lastIndexOf("/")+1)),$t=e+$t,e}function w(e){switch(e.keyCode){case 39:d();break;case 37:h();break;case 40:ai();break;case 38:ai()}}function x(e){27===e.keyCode&&R(e)}function k(){he.css("visibility","hidden")}function C(){ve.data("offLeft",ve.offset().left)}function T(){Ve.css({opacity:0,visibility:"hidden"})}function S(e){"object"==typeof e&&e.stopPropagation(),Xe<wt-Pe&&(Xe++,li(!1,!0))}function E(e){"object"==typeof e&&e.stopPropagation(),0<Xe&&(Xe--,li(!1,!0))}function D(t){t.stopPropagation(),t=e(this).parent(),t.addClass("jb-thumb-fadein"),st||t.addClass("jb-thumb-hover"),t.data("id")===Wn&&t.addClass("jb-thumb-active")}function O(t){if(t.stopPropagation(),an)return!1;(t=e(this).data("id"))!==Wn&&(sn&&It[Wn].removeClass("jb-thumb-active"),Wn=t,on=!0,p(Gn,Wn))}function A(){se?P():(yt.off(".jackbox"),se=!0,vt.mozFullScreenEnabled?(vt.addEventListener("mozfullscreenchange",M,!1),pt[0].mozRequestFullScreen()):pt[0].webkitRequestFullScreen&&(vt.addEventListener("webkitfullscreenchange",M,!1),pt[0].webkitRequestFullScreen()))}function M(){vt.webkitIsFullScreen||vt.mozFullScreen?ci():P(!0)}function I(e){vt.removeEventListener(e.type,I,!1),ci(),yt.on("resize.jackbox",c)}function P(e){se=!1,vt.mozFullScreenEnabled?(vt.removeEventListener("mozfullscreenchange",M,!1),e?(ci(),yt.on("resize.jackbox",c)):(vt.addEventListener("mozfullscreenchange",I,!1),vt.mozCancelFullScreen())):pt[0].webkitRequestFullScreen&&(vt.removeEventListener("webkitfullscreenchange",M,!1),e?(ci(),yt.on("resize.jackbox",c)):(vt.addEventListener("webkitfullscreenchange",I,!1),vt.webkitCancelFullScreen()))}function _(){qt=!1,Nt=ht.attr("data-width")?parseInt(ht.attr("data-width"),10):Mn,Vt=ht.attr("data-height")?parseInt(ht.attr("data-height"),10):In,at="true"===ht.attr("data-scaleUp"),j()}function j(){Bt=Nt+pe+fe+_n,Wt=Vt+lt,ci("true")}function N(){clearTimeout(At),Jacked.stopTween(_t[0]),yt.off(".jackbox"),st&&vt.removeEventListener("touchmove",q,!1),Ft&&(Jacked.stopTween(Ft[0]),Ft.remove(),Ft=null),fn&&(fn.remove(),fn=null),ye&&(Jacked.stopTween(ye[0],!0),ye.hide()),Z&&(Jacked.stopTween(Z[0],!0),Z.hide()),gt&&(gt.removeClass("jb-info-inactive"),Jacked.stopTween(we[0]),we.empty().hide())}function R(t){t.stopPropagation(),dn?e.address.value(""):L()}function L(){if(clearTimeout(Lt),N(),pt.unbind(".jackbox"),tn&&mt.off("keydown.jackbox_keyboard"),nt){tn&&mt.off("keydown.jackbox"),rt&&rt.off(".jackbox"),tt&&tt.off(".jackbox"),Ye&&ve&&ve.off(".jackbox"),Jacked.stopTween(Te[0],!0),Jacked.stopTween(De[0],!0);var e={opacity:0,visibility:"hidden"};Te.off(".jackbox").css(e),De.off(".jackbox").css(e)}else We&&We.show(),ze&&ze.show();if(Ze.hide().off(".jackbox"),Ie.removeClass("jackbox-spin-preloader"),void 0!==dt&&(dt.data("links")&&dt.data("links").off(".jackbox"),dt.empty()),ee&&Se.off(".jackbox"),He&&He.unbind(".jackbox"),gt&&gt.off(".jackbox"),sn){for(Jacked.stopTween(gn[0]),gn.off(".jackbox").hide();It.length;)e=It[0],Jacked.stopTween(e[0]),e.remove(),It.shift();Ae.off(".jackbox").hide(),be.off(".jackbox").hide(),st&&ve.cjSwipe("unbindSwipe"),Jacked.stopTween(me[0]),me.empty().css("margin-left",0),ze&&(ze.off(".jackbox"),ze&&(ke.hide(),Ce.show())),sn=It=null}pn||Yt.each(v),Jacked.fadeOut(pt[0],{duration:1e3,callback:F}),_t.css({marginLeft:$n,marginTop:ln}),st&&(f(),vt.removeEventListener("touchmove",q,!1)),setTimeout(U,10),he&&(he.css("visibility","hidden"),st&&(he[0].removeEventListener("touchstart",K,!1),he[0].removeEventListener("touchmove",K,!1),he[0].removeEventListener("touchend",K,!1))),ht=Xt=se=on=cn=mn=yn=xn=Fe=null}function U(){0!==Ee&&(pn||st?en.scrollTop(Ee):en.animate({scrollTop:Ee},{duration:300,queue:!1}))}function F(){pt.detach()}function V(e){e?h():d()}function q(e){e.preventDefault()}function z(t,n){if(!Xt&&"success"===n.toLowerCase()&&t){var i=t.length,r=document.URL;for(r.substring(0,r.lastIndexOf("/"));i--;)e("<img />").attr("src",Ue+"/"+t[i].split("../").join(""))}}function H(t,n){e.getJSON("http://vimeo.com/api/v2/video/"+n.split("http://vimeo.com/")[1]+".json?callback=?",{format:"json"},function(e){t.attr("data-thumbnail",e[0].thumbnail_small)})}function B(){var t=e(this),n=t.next("img"),i=n.attr("src");n.length&&(t=e("<img />").attr({width:n.attr("width"),height:n.attr("height")}).data("parent",t).one("load.jackbox",W).insertAfter(n),n.remove(),t.attr("src",i))}function W(){var t=e(this),n=t.data("parent"),i=parseInt(n.css("width"),10)||n.width(),r=parseInt(n.css("height"),10)||n.height(),n=e("<canvas />").addClass("jackbox-canvas-blur").attr({width:i,height:r}).insertBefore(n),r=Date.now(),i=r+1,r=r+2;t.attr("id",i),n.attr("id",r),StackBlurImage(i,r,29)}function G(){var t=e(this);t.parent().data({tip:t,tipWidth:t.width()-27,tipHeight:t.height()+17}).on("mouseenter.jackbox",Y).on("mouseleave.jackbox",J)}function Y(){var t=e(this),n=t.offset(),i=t.data();i.tipX=n.left,i.tipY=n.top,i.tip.css({opacity:1,visibility:"visible"}),t.on("mousemove.jackbox",ui)}function J(){var t=e(this).off("mousemove.jackbox");Et?t.data("tip").css("opacity",0):t.data("tip").css({opacity:0,visibility:"hidden"})}function K(e){e.stopImmediatePropagation()}function Q(t){e(t.target).is("a")||(t.stopPropagation(),t.preventDefault())}var X,Z,ee,te,ne,ie,re,ae,oe,se,le,ce,ue,pe,de,he,fe,ge,me,ve,$e,be,ye,we,xe,ke,Ce,Te,Se,Ee,De,Oe,Ae,Me,Ie,Pe,_e,je,Ne,Re,Le,Ue,Fe,Ve,qe,ze,He,Be,We,Ge,Ye,Je,Ke,Qe,Xe,Ze,et,tt,nt,it,rt,at,ot,st,lt,ct,ut,pt,dt,ht,ft,gt,mt,vt,$t,bt,yt,wt,xt,kt,Ct,Tt,St,Et,Dt,Ot,At,Mt,It,Pt,_t,jt,Nt,Rt,Lt,Ut,Ft,Vt,qt,zt,Ht,Bt,Wt,Gt,Yt,Jt,Kt,Qt,Xt,Zt,en,tn,nn,rn,an,on,sn,ln,cn,un,pn,dn,hn,fn,gn,mn,vn,$n,bn,yn,wn,xn,kn,Cn,Tn,Sn,En,Dn,On,An,Mn,In,Pn={useThumbs:!0,deepLinking:!0,autoPlayVideo:!1,flashVideoFirst:!1,defaultVideoWidth:960,defaultVideoHeight:540,thumbnailWidth:75,thumbnailHeight:50,useThumbTooltips:!0,dynamic:!1,baseName:"jackbox",className:".jackbox",preloadGraphics:!0,showInfoByDefault:!1,thumbsStartHidden:!1,showPageScrollbar:!1,useKeyboardControls:!0,fullscreenScalesContent:!0,defaultShareImage:"jackbox/img/default_share.jpg"},_n=10,jn=2,Nn="/php/graphics.php",Rn="/modules/jackbox_swf.html",Ln="/img/thumbs/default.jpg",Un="/modules/jackbox_video.html",Fn="/modules/jackbox_audio.html",Vn="/jackbox_social.php",qn="http://player.vimeo.com/video{url}?title=0&byline=0&portrait=0&autoplay={autoplay}&color=FFFFFF&wmode=transparent",zn="http://www.youtube.com/embed/{url}?autoplay={autoplay}&autohide=1&hd=1&iv_load_policy=3&showinfo=0&showsearch=0&wmode=transparent",Hn='<div class="jackbox-top clearfix"><div style="position: absolute; right: 50%; direction: rtl;" class="jackbox-custom-title"></div><div class="jackbox-top-icons"><span class="jackbox-fullscreen"><span class="jackbox-button jackbox-fs"></span><span class="jackbox-button jackbox-ns"></span></span><span class="jackbox-button jackbox-button-margin jackbox-close"></span></div><div />',Bn='<div class="jackbox-bottom clearfix"><div class="jackbox-controls"><span class="jackbox-button jackbox-arrow-left"></span><span class="jackbox-button jackbox-arrow-right"></span></div><div class="jackbox-title-text"><span class="jb-current"></span><span class="jb-divider">/</span><span class="jb-total"></span><span class="jackbox-title-txt"></span></div><div class="jackbox-bottom-icons"><span class="jackbox-button jackbox-info"></span><span class="jackbox-button-margin jackbox-button-thumbs"><span class="jackbox-button jackbox-hide-thumbs"></span><span class="jackbox-button jackbox-show-thumbs"></span></span></div></div>',Wn=1,Gn=-1,Yn=0,Jn=!0,Kn=!0,Qn={init:function(n,i){bn||"undefined"==typeof Jacked||(i&&e.extend(Pn,i),Le=Pn.className,rn=Pn.useThumbs,dn=Pn.deepLinking,Ye=Pn.useThumbTooltips,kn=Pn.autoPlayVideo,tn=Pn.useKeyboardControls,pn=Pn.showPageScrollbar,Cn=Pn.thumbnailWidth,Ut=Pn.fullscreenScalesContent,Sn=Pn.thumbnailHeight,En=Pn.flashVideoFirst,On=Pn.showInfoByDefault,An=Pn.thumbsStartHidden,Dn=Pn.defaultShareImage,Mn=Pn.defaultVideoWidth,In=Pn.defaultVideoHeight,Ue=Pn.baseName,Rn=Ue+Rn,Un=Ue+Un,Fn=Ue+Fn,Nn=Ue+Nn,Ln=Ue+Ln,Vn=Ue+Vn,vt=document,mt=e(document),bn=!0,Kt=Cn+jn,Rt=-1!==vt.URL.search("file:///"),Jacked.setEngines({ios:!0,safari:!0,opera:!0,firefox:!0}),Pn.preloadGraphics&&!Rt&&e.getJSON(Nn+"?jackbox_path=../img/graphics/",z),jt=n,Et=Jacked.getIE(),st=Jacked.getMobile(),Jt=Jacked.getBrowser(),xt="ie"===Jt,st&&(pn=!1),void 0!==e.address&&dn?xt||Pn.dynamic?(t(),e.address.update()):e.address.init(t):(dn=!1,t()),"undefined"==typeof StackBlurImage||Rt||Et||e(".jackbox-hover-blur").each(B),e(".jackbox-tooltip").each(G),Pn=null)},frameReady:function(){Xt&&Zn()},newItem:function(e,t){e.each(n,[t])},removeItem:function(e){e.each(n,[!1,!0])}},Xn=function(){var t={type:"text/html",frameborder:0,mozallowfullscreen:"mozallowfullscreen",webkitallowfullscreen:"webkitallowfullscreen",allowfullscreen:"allowfullscreen"};return function(n,i,r){t.width=bt,t.height=Ct,t.scrolling=r?"auto":"no",Ft=e("<iframe />").attr(t),nn?Ft.addClass("jackbox-youtube"):Ft.addClass("jackbox-content"),Ft.prependTo(Me),i||Ft.one("load.jackbox",Zn),Ft.attr("src",n)}}(),Zn=function(){var e={};return function(t){t&&t.stopPropagation(),qt&&(Nt=this.width||Ft.width(),Vt=this.height||Ft.height(),j()),e.width=bt,e.height=Ct,Ft.css(e),ei(!0),le&&le(),yt.on("resize.jackbox",c)}}(),ei=function(){var e={},t={},n={};return function(i){if(i){if(260>bt&&(Dt+=260-bt),(i=Math.max(bt,260))===Fe&&Ct===je)return void ti();e.callback=ti,e.duration=Fe?50<Math.abs(i-Fe)||50<Math.abs(Ct-je)?600:300:600}else i=bt,n.width=i,e.duration=300,delete e.callback,ye&&Jacked.tween(ye[0],n,e),Z&&Jacked.tween(Z[0],n,e),n.height=Ct,Jacked.stopTween(Ft[0],!0),Jacked.tween(Ft[0],n,e);t.marginLeft=-(.5+(Dt>>1)|0),t.marginTop=-(.5+(Ot>>1)|0),t.height=Ct,t.width=i,Fe||(t.opacity=1),Jacked.tween(_t[0],t,e),Fe=i,je=Ct}}(),ti=function(){var t={},n={opacity:1,visibility:"visible"};return function(){ni(),Ie.removeClass("jackbox-spin-preloader");var i=Math.max(bt,260);if(t.duration=600,qt&&!Et?Jacked.fadeIn(Ft[0],t):(nn?Ft.css("visibility","visible"):Ft.show(),"audio"!==Gt&&"local"!==Gt||Ft[0].contentWindow.cjInit()),t.duration=300,Et?(ye&&ye.css("width",i).show(),Z&&Z.css("width",i).show()):(ye&&(ye.css("width",i),Jacked.fadeIn(ye[0],t)),Z&&(Z.css("width",i),Jacked.fadeIn(Z[0],t))),gt&&Be?(gt.show(),we.html(Be).show(),xe=-we.outerHeight(),he.css("height",-xe<Ct?-xe:Ct),On?(Qe=!0,gt.addClass("jb-info-inactive"),we.css({visibility:"visible",marginTop:0})):(Qe=!1,we.css("margin-top",xe))):gt&&(gt.hide(),we.hide()),an=!1,!mn&&nt&&(De.css(n),Te.css(n)),!xn&&rn&&nt){var r,a,o,s,l,i=St[Gn],c=[],u=wt;for(xn=!0;u--;)o=i[u],o.attr("data-thumbnail")?c[u]=!1:(r=o.children("img"),r.length?(o.attr("data-thumbnail",r.attr("src")),c[u]=r):("image"===o.data("type")?o.attr("data-thumbnail",o.attr("href")||o.attr("data-href")):o.attr("data-thumbnail",Ln),c[u]=!1));for(It=[],gn||(u=vt.createDocumentFragment(),o=Sn>>1,gn=e("<div />").addClass("jackbox-thumb-holder").css("height",Sn).appendTo(pt),ve=e("<div />").addClass("jackbox-thumb-panel").css("height",Sn),be=e("<div />").addClass("jackbox-thumb-right"),Ae=e("<div />").addClass("jackbox-thumb-left"),u.appendChild(ve[0]),u.appendChild(be[0]),u.appendChild(Ae[0]),ve[0].cjThumbs=!0,gn[0].appendChild(u),me=e("<div />").addClass("jackbox-thumb-strip").appendTo(ve),Ae.css("top",o),be.css("top",o)),o=vt.createDocumentFragment(),u=0;u<wt;u++)a=It[u]=e("<div />").data("id",u).addClass("jackbox-thumb").css({width:Cn,height:Sn,left:Kt*u
}).on("click.jackbox",O),Ye&&(r=un[u].attr("data-thumbTooltip")||un[u].attr("data-title"))&&a.data("theTitle",r).on("mouseenter.jackbox",ri).on("mouseleave.jackbox",T),o.appendChild(a[0]),r=e("<img />").addClass("jb-thumb").one("load.jackbox",D).appendTo(a),a.data("theThumb",r),c[u]?(a=c[u].attr("width")||c[u].width(),s=c[u].attr("height")||c[u].height()):(a=Cn,s=Sn),a>Cn&&s>Sn&&(l=a>s?Cn/a:Sn/s,a*=l,s*=l,s<Sn&&(l=(Sn-s)/Sn,a+=a*l,s+=s*l),a<Cn&&(l=(Cn-a)/Cn,a+=a*l,s+=s*l),a!==(0|a)&&(a=a+1|0),s!==(0|s)&&(s=s+1|0)),r.attr({width:a,height:s,src:i[u].attr("data-thumbnail")});me[0].appendChild(o),de=It.length,$e=Kt*u,sn=!0,Xe=0,gn.on("click.jackbox",Q).show(),oi(),ze&&(An?(Ce.hide(),ke.show(),gn.css("bottom",qe)):(ke.hide(),Ce.show(),gn.css("bottom",0)),ze.on("click.jackbox",ai))}if(mn||(mn=!0,ee&&Se.on("click.jackbox",A),He&&He.one("click.jackbox",R),gt&&gt.on("click.jackbox",ii),nt&&(tt&&tt.on("click.jackbox",d),rt&&rt.on("click.jackbox",h),Ye&&ve&&ve.on("mouseenter.jackbox",C),st&&he&&(he[0].addEventListener("touchstart",K,!1),he[0].addEventListener("touchmove",K,!1),he[0].addEventListener("touchend",K,!1)))),st&&(Ft[0].removeEventListener("touchstart",q,!1),Ft[0].removeEventListener("touchmove",q,!1),Ft[0].removeEventListener("touchend",q,!1),f()),nt){if(sn)for(i=It.length;i--;)It[i].on("click.jackbox",O);De.on("click.jackbox",h),Te.on("click.jackbox",d),tn&&mt.on("keydown.jackbox",w),st&&Re&&Ft.cjSwipe("touchSwipe",V)}"inline"===Gt&&ci()}}(),ni=function(){var t={type:"text/html",frameborder:0,mozallowfullscreen:"mozallowfullscreen",webkitallowfullscreen:"webkitallowfullscreen",allowfullscreen:"allowfullscreen",scrolling:"no"};return function(){if(Ge||(Ge=!0,ut=e(".jb-total"),gt=e(".jackbox-info"),Ke=e(".jb-divider"),et=e(".jb-current"),He=e(".jackbox-close"),ct=e(".jackbox-title-text"),dt=e(".jackbox-title-txt"),We=e(".jackbox-controls"),rt=e(".jackbox-arrow-left"),hn=e(".jackbox-social"),tt=e(".jackbox-arrow-right"),ze=e(".jackbox-button-thumbs"),ke=e(".jackbox-show-thumbs"),Ce=e(".jackbox-hide-thumbs"),dt.length||(dt=null),ct.length||(ct=null),rt.length||(rt=null),Ke.length||(Ke=null),tt.length||(tt=null),We.length||(We=null),He.length||(He=null),hn.length||(hn=null),et.length&&ut.length||(et=null),ee?(e(".jackbox-ns").hide(),Se.length||(Se=ee=null)):Se&&Se.hide(),rn?ze.length&&ke.length&&Ce.length?ke.hide():ze=ke=Ce=null:(ze.hide(),ze=ke=Ce=null),gt.length?(he=e("<div />").addClass("jackbox-info-text").appendTo(Me).css("visibility","hidden"),we=e("<div />").addClass("jackbox-description-text").appendTo(he)):gt=null,Ye&&(Ve=e("<span />").addClass("jackbox-thumb-tip").css("bottom",Sn),ie=e("<span />").addClass("jackbox-thumb-tip-text").text("render me").appendTo(Ve),Ve.appendTo(pt),ce=(parseInt(Ve.css("padding-left"),10)<<1)-(jn<<1))),nt||(We&&We.hide(),ze&&ze.hide()),ct){"false"===Oe&&(Oe=!1);var n=dt&&Oe,i=n?" -&nbsp;":"";et&&nt?(et.text(Wn+1).show(),ut.html(wt+i).show(),Ke&&Ke.show()):(ut&&ut.hide(),et&&et.hide(),Ke&&Ke.hide()),n&&(dt.html(Ne),n=dt.find("a"),n.length&&(n.on("click.jackbox",K),dt.data("links",n)))}if(hn&&!Rt){var r,n=vt.URL.split("#")[0],i=n.length-1;-1!==n.search("/")&&("/"!==n.charAt(i)?(r=dn?n+"#/"+Tt+"/"+(Wn+1):n,n=n.substring(0,n.lastIndexOf("/"))):(n=n.substring(0,i),r=dn?n+"/#/"+Tt+"/"+(Wn+1):n)),qt?i=ht.attr("href")||ht.attr("data-href"):(i=ht.children("img"),i=i.length?i.attr("src"):Dn),-1===i.search("http")&&(i="/"!==i.charAt(0)?n+"/"+i:n+i),n=Oe?Oe.replace(/(<([^>]+)>)/gi,""):vt.title,n=n.split(".").join(""),t.width=200,t.height=21,t.src=Vn+"?url="+encodeURIComponent(r)+"&poster="+encodeURIComponent(i)+"&title="+escape(n),fn=e("<iframe />").attr(t).appendTo(hn)}}}(),ii=function(){var e={},t={duration:300};return function(n){n&&n.stopPropagation(),Qe?(e.marginTop=xe,t.callback=k,gt.removeClass("jb-info-inactive")):(gt.addClass("jb-info-inactive"),he.css("visibility","visible"),e.marginTop=0,delete t.callback),Jacked.tween(we[0],e,t),Qe=!Qe}}(),ri=function(){var t={opacity:1,visibility:"visible"};return function(){st&&(clearTimeout(ot),ot=setTimeout(T,2e3));var n,i,r,a=e(this);ie.text(a.data("theTitle")),n=parseInt(ie.css("width"),10),r=ve.data("offLeft"),a=a.offset().left,i=r+ve.width()-n-ce,t.width=n,t.left=a<r?r:a>i?i:a,Ve.css(t)}}(),ai=function(){var e={},t={duration:300};return function(n){n&&n.stopPropagation(),0===qe?(qe=oe,ze&&(Ce.hide(),ke.show())):(qe=0,ze&&(ke.hide(),Ce.show())),e.bottom=qe,Jacked.tween(gn[0],e,t),569>zt||(ci("true"),ei())}}(),oi=function(){var e={};return function(t){var n=zt-160;$e<n?(Pe=de,wn=!1):(Pe=n/Kt|0,wn=!0),ae=Kt*Pe-jn,ge=Pe-1,e.marginLeft=-(ae>>1)-jn,e.width=ae,ve.css(e),me.css("width",$e),si(t)}}(),si=function(){var e={},t={duration:300};return function(n,i){if(n)Xe=Wn,0!==Wn&&Wn+Pe>wt&&(Xe=wt-Pe),Jacked.stopTween(me[0]),me.css("left",Xe*-Kt);else{if(0===Wn)Xe=0;else if(Wn>Xe+ge)for(;Wn>Xe+ge;)Xe++;i?(e.left=Xe*-Kt,Jacked.tween(me[0],e,t)):(Jacked.stopTween(me[0]),me.css("left",Xe*-Kt))}li(n,!1)}}(),li=function(){var e={},t={duration:300};return function(n,i){if(Ae.off(".jackbox"),be.off(".jackbox"),wn){if(st&&ve.cjSwipe("unbindSwipe"),Xe<wt-Pe?(be.on("click.jackbox",S).show(),st&&ve.cjSwipe("touchSwipeLeft",S,!0)):be.hide(),0<Xe?(Ae.on("click.jackbox",E).show(),st&&ve.cjSwipe("touchSwipeRight",E,!0)):Ae.hide(),i)e.left=Xe*-Kt,Jacked.tween(me[0],e,t);else if(n||!cn){var r=ve.offset().left;Ae.css("left",r),be.css("left",r+ae),cn=!0}}else Ae.hide(),be.hide()}}(),ci=function(){var e={opacity:1},t={};return function(n){zt=yt.width(),Ht=Math.max(yt.height(),226);var i=568<zt&&0===qe?re:0;if(Je="audio"!==Gt&&"inline"!==Gt&&(se?at||Ut:at),Bt<zt&&Wt+i<Ht&&!Je)bt=Nt,Ct=Vt;else{bt=zt/Bt,Ct=Ht/Wt;var r=bt>Ct?Ct:bt;bt=Nt*r,Ct=Vt*r,zt>Ht?Ct+lt+i>Ht&&(Ct=Ht-ue-_n-i,bt=Ct/Vt*Nt):bt>Ct?bt+Bt>zt&&(bt=zt-_n,Ct=bt/Nt*Vt):Ct+lt+i>Ht&&(Ct=Ht-ue-_n-i,bt=Ct/Vt*Nt),bt!==(0|bt)&&(bt=bt+1|0),Ct!==(0|Ct)&&(Ct=Ct+1|0)}if("inline"===Gt){var r=zt-pe-fe-_n,a=Ht-ue-_n-i;bt=Nt>r?r:Nt,Ct=Vt<a?Vt:Ct}Dt=bt+pe,Ot=Ct+ue+i,"true"!==n&&(Jacked.stopTween(_t[0],!1,!0),Ft&&Jacked.stopTween(Ft[0],!0,!0),260>bt&&(Dt+=260-bt),n=Math.max(260,bt),e.width=n,e.height=Ct,t.marginLeft=-(.5*Dt+.5|0),t.marginTop=-(.5*Ot+.5|0),t.width=n,t.height=Ct,_t.css(t),Ft.css(e),Z&&(Jacked.stopTween(Z[0]),Z.css("width",n)),ye&&(Jacked.stopTween(ye[0]),ye.css("width",n)),gt&&Be&&(xe=-we.outerHeight(),he.css("height",-xe<Ct?-xe:Ct),Qe||(Jacked.stopTween(we[0],!1,!0),we.css("margin-top",xe))),sn&&oi(!0))}}(),ui=function(){var t={};return function(n){var i=e(this).data();t.left=n.pageX-i.tipX-i.tipWidth,t.top=n.pageY-i.tipY-i.tipHeight,i.tip.css(t)}}();e.fn.jackBox=function(e,t){return Qn.hasOwnProperty(e)&&Qn[e](this,t),this},e.jackBox={available:function(e){e&&(Tn?dn?setTimeout(e,250):e():Mt=e)},itemLoaded:function(e){le=e}}}(jQuery),function(e){e.flexslider=function(t,n){var i=e(t);i.vars=e.extend({},e.flexslider.defaults,n);var r,a=i.vars.namespace,o=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,s=("ontouchstart"in window||o||window.DocumentTouch&&document instanceof DocumentTouch)&&i.vars.touch,l="click touchend MSPointerUp",c="",u="vertical"===i.vars.direction,p=i.vars.reverse,d=i.vars.itemWidth>0,h="fade"===i.vars.animation,f=""!==i.vars.asNavFor,g={};e.data(t,"flexslider",i),g={init:function(){i.animating=!1,i.currentSlide=parseInt(i.vars.startAt?i.vars.startAt:0,10),isNaN(i.currentSlide)&&(i.currentSlide=0),i.animatingTo=i.currentSlide,i.atEnd=0===i.currentSlide||i.currentSlide===i.last,i.containerSelector=i.vars.selector.substr(0,i.vars.selector.search(" ")),i.slides=e(i.vars.selector,i),i.container=e(i.containerSelector,i),i.count=i.slides.length,i.syncExists=e(i.vars.sync).length>0,"slide"===i.vars.animation&&(i.vars.animation="swing"),i.prop=u?"top":"marginLeft",i.args={},i.manualPause=!1,i.stopped=!1,i.started=!1,i.startTimeout=null,i.transitions=!i.vars.video&&!h&&i.vars.useCSS&&function(){var e=document.createElement("div"),t=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var n in t)if(void 0!==e.style[t[n]])return i.pfx=t[n].replace("Perspective","").toLowerCase(),i.prop="-"+i.pfx+"-transform",!0;return!1}(),i.ensureAnimationEnd="",""!==i.vars.controlsContainer&&(i.controlsContainer=e(i.vars.controlsContainer).length>0&&e(i.vars.controlsContainer)),""!==i.vars.manualControls&&(i.manualControls=e(i.vars.manualControls).length>0&&e(i.vars.manualControls)),i.vars.randomize&&(i.slides.sort(function(){return Math.round(Math.random())-.5}),i.container.empty().append(i.slides)),i.doMath(),i.setup("init"),i.vars.controlNav&&g.controlNav.setup(),i.vars.directionNav&&g.directionNav.setup(),i.vars.keyboard&&(1===e(i.containerSelector).length||i.vars.multipleKeyboard)&&e(document).bind("keyup",function(e){var t=e.keyCode;if(!i.animating&&(39===t||37===t)){var n=39===t?i.getTarget("next"):37===t&&i.getTarget("prev");i.flexAnimate(n,i.vars.pauseOnAction)}}),i.vars.mousewheel&&i.bind("mousewheel",function(e,t){e.preventDefault();var n=0>t?i.getTarget("next"):i.getTarget("prev");i.flexAnimate(n,i.vars.pauseOnAction)}),i.vars.pausePlay&&g.pausePlay.setup(),i.vars.slideshow&&i.vars.pauseInvisible&&g.pauseInvisible.init(),i.vars.slideshow&&(i.vars.pauseOnHover&&i.hover(function(){i.manualPlay||i.manualPause||i.pause()},function(){i.manualPause||i.manualPlay||i.stopped||i.play()}),i.vars.pauseInvisible&&g.pauseInvisible.isHidden()||(i.vars.initDelay>0?i.startTimeout=setTimeout(i.play,i.vars.initDelay):i.play())),f&&g.asNav.setup(),s&&i.vars.touch&&g.touch(),(!h||h&&i.vars.smoothHeight)&&e(window).bind("resize orientationchange focus",g.resize),i.find("img").attr("draggable","false"),setTimeout(function(){i.vars.start(i)},200)},asNav:{setup:function(){i.asNav=!0,i.animatingTo=Math.floor(i.currentSlide/i.move),i.currentItem=i.currentSlide,i.slides.removeClass(a+"active-slide").eq(i.currentItem).addClass(a+"active-slide"),o?(t._slider=i,i.slides.each(function(){var t=this;t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",function(e){e.preventDefault(),e.currentTarget._gesture&&e.currentTarget._gesture.addPointer(e.pointerId)},!1),t.addEventListener("MSGestureTap",function(t){t.preventDefault();var n=e(this),r=n.index();e(i.vars.asNavFor).data("flexslider").animating||n.hasClass("active")||(i.direction=i.currentItem<r?"next":"prev",i.flexAnimate(r,i.vars.pauseOnAction,!1,!0,!0))})})):i.slides.on(l,function(t){t.preventDefault();var n=e(this),r=n.index();0>=n.offset().left-e(i).scrollLeft()&&n.hasClass(a+"active-slide")?i.flexAnimate(i.getTarget("prev"),!0):e(i.vars.asNavFor).data("flexslider").animating||n.hasClass(a+"active-slide")||(i.direction=i.currentItem<r?"next":"prev",i.flexAnimate(r,i.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){i.manualControls?g.controlNav.setupManual():g.controlNav.setupPaging()},setupPaging:function(){var t,n,r="thumbnails"===i.vars.controlNav?"control-thumbs":"control-paging",o=1;if(i.controlNavScaffold=e('<ol class="'+a+"control-nav "+a+r+'"></ol>'),i.pagingCount>1)for(var s=0;s<i.pagingCount;s++){if(n=i.slides.eq(s),t="thumbnails"===i.vars.controlNav?'<img src="'+n.attr("data-thumb")+'"/>':"<a>"+o+"</a>","thumbnails"===i.vars.controlNav&&!0===i.vars.thumbCaptions){var u=n.attr("data-thumbcaption");""!=u&&void 0!=u&&(t+='<span class="'+a+'caption">'+u+"</span>")}i.controlNavScaffold.append("<li>"+t+"</li>"),o++}i.controlsContainer?e(i.controlsContainer).append(i.controlNavScaffold):i.append(i.controlNavScaffold),g.controlNav.set(),g.controlNav.active(),i.controlNavScaffold.delegate("a, img",l,function(t){if(t.preventDefault(),""===c||c===t.type){var n=e(this),r=i.controlNav.index(n);n.hasClass(a+"active")||(i.direction=r>i.currentSlide?"next":"prev",i.flexAnimate(r,i.vars.pauseOnAction))}""===c&&(c=t.type),g.setToClearWatchedEvent()})},setupManual:function(){i.controlNav=i.manualControls,g.controlNav.active(),i.controlNav.bind(l,function(t){if(t.preventDefault(),""===c||c===t.type){var n=e(this),r=i.controlNav.index(n);n.hasClass(a+"active")||(i.direction=r>i.currentSlide?"next":"prev",i.flexAnimate(r,i.vars.pauseOnAction))}""===c&&(c=t.type),g.setToClearWatchedEvent()})},set:function(){var t="thumbnails"===i.vars.controlNav?"img":"a";i.controlNav=e("."+a+"control-nav li "+t,i.controlsContainer?i.controlsContainer:i)},active:function(){i.controlNav.removeClass(a+"active").eq(i.animatingTo).addClass(a+"active")},update:function(t,n){i.pagingCount>1&&"add"===t?i.controlNavScaffold.append(e("<li><a>"+i.count+"</a></li>")):1===i.pagingCount?i.controlNavScaffold.find("li").remove():i.controlNav.eq(n).closest("li").remove(),g.controlNav.set(),i.pagingCount>1&&i.pagingCount!==i.controlNav.length?i.update(n,t):g.controlNav.active()}},directionNav:{setup:function(){var t=e('<ul class="'+a+'direction-nav"><li><a class="'+a+'prev" href="#">'+i.vars.prevText+'</a></li><li><a class="'+a+'next" href="#">'+i.vars.nextText+"</a></li></ul>");i.controlsContainer?(e(i.controlsContainer).append(t),i.directionNav=e("."+a+"direction-nav li a",i.controlsContainer)):(i.append(t),i.directionNav=e("."+a+"direction-nav li a",i)),g.directionNav.update(),i.directionNav.bind(l,function(t){t.preventDefault();var n;(""===c||c===t.type)&&(n=e(this).hasClass(a+"next")?i.getTarget("next"):i.getTarget("prev"),i.flexAnimate(n,i.vars.pauseOnAction)),""===c&&(c=t.type),g.setToClearWatchedEvent()})},update:function(){var e=a+"disabled";1===i.pagingCount?i.directionNav.addClass(e).attr("tabindex","-1"):i.vars.animationLoop?i.directionNav.removeClass(e).removeAttr("tabindex"):0===i.animatingTo?i.directionNav.removeClass(e).filter("."+a+"prev").addClass(e).attr("tabindex","-1"):i.animatingTo===i.last?i.directionNav.removeClass(e).filter("."+a+"next").addClass(e).attr("tabindex","-1"):i.directionNav.removeClass(e).removeAttr("tabindex")}},pausePlay:{setup:function(){var t=e('<div class="'+a+'pauseplay"><a></a></div>');i.controlsContainer?(i.controlsContainer.append(t),i.pausePlay=e("."+a+"pauseplay a",i.controlsContainer)):(i.append(t),i.pausePlay=e("."+a+"pauseplay a",i)),g.pausePlay.update(i.vars.slideshow?a+"pause":a+"play"),i.pausePlay.bind(l,function(t){t.preventDefault(),(""===c||c===t.type)&&(e(this).hasClass(a+"pause")?(i.manualPause=!0,i.manualPlay=!1,i.pause()):(i.manualPause=!1,i.manualPlay=!0,i.play())),""===c&&(c=t.type),g.setToClearWatchedEvent()})},update:function(e){"play"===e?i.pausePlay.removeClass(a+"pause").addClass(a+"play").html(i.vars.playText):i.pausePlay.removeClass(a+"play").addClass(a+"pause").html(i.vars.pauseText)}},touch:function(){function e(e){i.animating?e.preventDefault():(window.navigator.msPointerEnabled||1===e.touches.length)&&(i.pause(),m=u?i.h:i.w,$=Number(new Date),y=e.touches[0].pageX,w=e.touches[0].pageY,g=d&&p&&i.animatingTo===i.last?0:d&&p?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:d&&i.currentSlide===i.last?i.limit:d?(i.itemW+i.vars.itemMargin)*i.move*i.currentSlide:p?(i.last-i.currentSlide+i.cloneOffset)*m:(i.currentSlide+i.cloneOffset)*m,c=u?w:y,f=u?y:w,t.addEventListener("touchmove",n,!1),t.addEventListener("touchend",r,!1))}function n(e){y=e.touches[0].pageX,w=e.touches[0].pageY,v=u?c-w:c-y,b=u?Math.abs(v)<Math.abs(y-f):Math.abs(v)<Math.abs(w-f);(!b||Number(new Date)-$>500)&&(e.preventDefault(),!h&&i.transitions&&(i.vars.animationLoop||(v/=0===i.currentSlide&&0>v||i.currentSlide===i.last&&v>0?Math.abs(v)/m+2:1),i.setProps(g+v,"setTouch")))}function r(){if(t.removeEventListener("touchmove",n,!1),i.animatingTo===i.currentSlide&&!b&&null!==v){var e=p?-v:v,a=e>0?i.getTarget("next"):i.getTarget("prev");i.canAdvance(a)&&(Number(new Date)-$<550&&Math.abs(e)>50||Math.abs(e)>m/2)?i.flexAnimate(a,i.vars.pauseOnAction):h||i.flexAnimate(i.currentSlide,i.vars.pauseOnAction,!0)}t.removeEventListener("touchend",r,!1),c=null,f=null,v=null,g=null}function a(e){e.stopPropagation(),i.animating?e.preventDefault():(i.pause(),t._gesture.addPointer(e.pointerId),x=0,m=u?i.h:i.w,$=Number(new Date),g=d&&p&&i.animatingTo===i.last?0:d&&p?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:d&&i.currentSlide===i.last?i.limit:d?(i.itemW+i.vars.itemMargin)*i.move*i.currentSlide:p?(i.last-i.currentSlide+i.cloneOffset)*m:(i.currentSlide+i.cloneOffset)*m)}function s(e){e.stopPropagation();var n=e.target._slider;if(n){var i=-e.translationX,r=-e.translationY;return x+=u?r:i,v=x,b=u?Math.abs(x)<Math.abs(-i):Math.abs(x)<Math.abs(-r),e.detail===e.MSGESTURE_FLAG_INERTIA?void setImmediate(function(){t._gesture.stop()}):void((!b||Number(new Date)-$>500)&&(e.preventDefault(),!h&&n.transitions&&(n.vars.animationLoop||(v=x/(0===n.currentSlide&&0>x||n.currentSlide===n.last&&x>0?Math.abs(x)/m+2:1)),n.setProps(g+v,"setTouch"))))}}function l(e){e.stopPropagation();var t=e.target._slider;if(t){if(t.animatingTo===t.currentSlide&&!b&&null!==v){var n=p?-v:v,i=n>0?t.getTarget("next"):t.getTarget("prev");t.canAdvance(i)&&(Number(new Date)-$<550&&Math.abs(n)>50||Math.abs(n)>m/2)?t.flexAnimate(i,t.vars.pauseOnAction):h||t.flexAnimate(t.currentSlide,t.vars.pauseOnAction,!0)}c=null,f=null,v=null,g=null,x=0}}var c,f,g,m,v,$,b=!1,y=0,w=0,x=0;o?(t.style.msTouchAction="none",t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",a,!1),t._slider=i,t.addEventListener("MSGestureChange",s,!1),t.addEventListener("MSGestureEnd",l,!1)):t.addEventListener("touchstart",e,!1)},resize:function(){!i.animating&&i.is(":visible")&&(d||i.doMath(),h?g.smoothHeight():d?(i.slides.width(i.computedW),i.update(i.pagingCount),i.setProps()):u?(i.viewport.height(i.h),i.setProps(i.h,"setTotal")):(i.vars.smoothHeight&&g.smoothHeight(),i.newSlides.width(i.computedW),i.setProps(i.computedW,"setTotal")))},smoothHeight:function(e){if(!u||h){var t=h?i:i.viewport;e?t.animate({height:i.slides.eq(i.animatingTo).height()},e):t.height(i.slides.eq(i.animatingTo).height())}},sync:function(t){var n=e(i.vars.sync).data("flexslider"),r=i.animatingTo;switch(t){case"animate":n.flexAnimate(r,i.vars.pauseOnAction,!1,!0);break;case"play":n.playing||n.asNav||n.play();break;case"pause":n.pause()}},uniqueID:function(t){return t.find("[id]").each(function(){var t=e(this);t.attr("id",t.attr("id")+"_clone")}),t},pauseInvisible:{visProp:null,init:function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)e[t]+"Hidden"in document&&(g.pauseInvisible.visProp=e[t]+"Hidden");if(g.pauseInvisible.visProp){var n=g.pauseInvisible.visProp.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(n,function(){g.pauseInvisible.isHidden()?i.startTimeout?clearTimeout(i.startTimeout):i.pause():i.started?i.play():i.vars.initDelay>0?setTimeout(i.play,i.vars.initDelay):i.play()})}},isHidden:function(){return document[g.pauseInvisible.visProp]||!1}},setToClearWatchedEvent:function(){clearTimeout(r),r=setTimeout(function(){c=""},3e3)}},i.flexAnimate=function(t,n,r,o,l){if(i.vars.animationLoop||t===i.currentSlide||(i.direction=t>i.currentSlide?"next":"prev"),f&&1===i.pagingCount&&(i.direction=i.currentItem<t?"next":"prev"),!i.animating&&(i.canAdvance(t,l)||r)&&i.is(":visible")){if(f&&o){var c=e(i.vars.asNavFor).data("flexslider");if(i.atEnd=0===t||t===i.count-1,c.flexAnimate(t,!0,!1,!0,l),i.direction=i.currentItem<t?"next":"prev",c.direction=i.direction,Math.ceil((t+1)/i.visible)-1===i.currentSlide||0===t)return i.currentItem=t,i.slides.removeClass(a+"active-slide").eq(t).addClass(a+"active-slide"),!1;i.currentItem=t,i.slides.removeClass(a+"active-slide").eq(t).addClass(a+"active-slide"),t=Math.floor(t/i.visible)}if(i.animating=!0,i.animatingTo=t,n&&i.pause(),i.vars.before(i),i.syncExists&&!l&&g.sync("animate"),i.vars.controlNav&&g.controlNav.active(),d||i.slides.removeClass(a+"active-slide").eq(t).addClass(a+"active-slide"),i.atEnd=0===t||t===i.last,i.vars.directionNav&&g.directionNav.update(),t===i.last&&(i.vars.end(i),i.vars.animationLoop||i.pause()),h)s?(i.slides.eq(i.currentSlide).css({opacity:0,zIndex:1}),i.slides.eq(t).css({opacity:1,zIndex:2}),i.wrapup(b)):(i.slides.eq(i.currentSlide).css({zIndex:1}).animate({opacity:0},i.vars.animationSpeed,i.vars.easing),i.slides.eq(t).css({zIndex:2}).animate({opacity:1},i.vars.animationSpeed,i.vars.easing,i.wrapup));else{var m,v,$,b=u?i.slides.filter(":first").height():i.computedW;d?(m=i.vars.itemMargin,$=(i.itemW+m)*i.move*i.animatingTo,v=$>i.limit&&1!==i.visible?i.limit:$):v=0===i.currentSlide&&t===i.count-1&&i.vars.animationLoop&&"next"!==i.direction?p?(i.count+i.cloneOffset)*b:0:i.currentSlide===i.last&&0===t&&i.vars.animationLoop&&"prev"!==i.direction?p?0:(i.count+1)*b:p?(i.count-1-t+i.cloneOffset)*b:(t+i.cloneOffset)*b,i.setProps(v,"",i.vars.animationSpeed),i.transitions?(i.vars.animationLoop&&i.atEnd||(i.animating=!1,i.currentSlide=i.animatingTo),i.container.unbind("webkitTransitionEnd transitionend"),i.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(i.ensureAnimationEnd),i.wrapup(b)}),clearTimeout(i.ensureAnimationEnd),i.ensureAnimationEnd=setTimeout(function(){i.wrapup(b)},i.vars.animationSpeed+100)):i.container.animate(i.args,i.vars.animationSpeed,i.vars.easing,function(){i.wrapup(b)})}i.vars.smoothHeight&&g.smoothHeight(i.vars.animationSpeed)}},i.wrapup=function(e){h||d||(0===i.currentSlide&&i.animatingTo===i.last&&i.vars.animationLoop?i.setProps(e,"jumpEnd"):i.currentSlide===i.last&&0===i.animatingTo&&i.vars.animationLoop&&i.setProps(e,"jumpStart")),i.animating=!1,i.currentSlide=i.animatingTo,i.vars.after(i)},i.animateSlides=function(){!i.animating&&!0&&i.flexAnimate(i.getTarget("next"))},i.pause=function(){clearInterval(i.animatedSlides),i.animatedSlides=null,i.playing=!1,i.vars.pausePlay&&g.pausePlay.update("play"),i.syncExists&&g.sync("pause")},i.play=function(){i.playing&&clearInterval(i.animatedSlides),i.animatedSlides=i.animatedSlides||setInterval(i.animateSlides,i.vars.slideshowSpeed),i.started=i.playing=!0,i.vars.pausePlay&&g.pausePlay.update("pause"),i.syncExists&&g.sync("play")},i.stop=function(){i.pause(),i.stopped=!0},i.canAdvance=function(e,t){var n=f?i.pagingCount-1:i.last;return!!t||(!(!f||i.currentItem!==i.count-1||0!==e||"prev"!==i.direction)||(!f||0!==i.currentItem||e!==i.pagingCount-1||"next"===i.direction)&&(!(e===i.currentSlide&&!f)&&(!!i.vars.animationLoop||(!i.atEnd||0!==i.currentSlide||e!==n||"next"===i.direction)&&(!i.atEnd||i.currentSlide!==n||0!==e||"next"!==i.direction))))},i.getTarget=function(e){return i.direction=e,"next"===e?i.currentSlide===i.last?0:i.currentSlide+1:0===i.currentSlide?i.last:i.currentSlide-1},i.setProps=function(e,t,n){var r=function(){var n=e||(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo;return-1*function(){if(d)return"setTouch"===t?e:p&&i.animatingTo===i.last?0:p?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:i.animatingTo===i.last?i.limit:n;switch(t){case"setTotal":return p?(i.count-1-i.currentSlide+i.cloneOffset)*e:(i.currentSlide+i.cloneOffset)*e;case"setTouch":return e;case"jumpEnd":return p?e:i.count*e;case"jumpStart":return p?i.count*e:e;default:return e}}()+"px"}();i.transitions&&(r=u?"translate3d(0,"+r+",0)":"translate3d("+r+",0,0)",n=void 0!==n?n/1e3+"s":"0s",i.container.css("-"+i.pfx+"-transition-duration",n),i.container.css("transition-duration",n)),i.args[i.prop]=r,(i.transitions||void 0===n)&&i.container.css(i.args),i.container.css("transform",r)},i.setup=function(t){if(h)i.slides.css({width:"100%",float:"left",marginRight:"-100%",position:"relative"}),"init"===t&&(s?i.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+i.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(i.currentSlide).css({opacity:1,zIndex:2}):i.slides.css({opacity:0,display:"block",zIndex:1}).eq(i.currentSlide).css({zIndex:2}).animate({opacity:1},i.vars.animationSpeed,i.vars.easing)),i.vars.smoothHeight&&g.smoothHeight();else{var n,r;"init"===t&&(i.viewport=e('<div class="'+a+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(i).append(i.container),i.cloneCount=0,i.cloneOffset=0,p&&(r=e.makeArray(i.slides).reverse(),i.slides=e(r),i.container.empty().append(i.slides))),i.vars.animationLoop&&!d&&(i.cloneCount=2,i.cloneOffset=1,"init"!==t&&i.container.find(".clone").remove(),g.uniqueID(i.slides.first().clone().addClass("clone").attr("aria-hidden","true")).appendTo(i.container),g.uniqueID(i.slides.last().clone().addClass("clone").attr("aria-hidden","true")).prependTo(i.container)),i.newSlides=e(i.vars.selector,i),n=p?i.count-1-i.currentSlide+i.cloneOffset:i.currentSlide+i.cloneOffset,u&&!d?(i.container.height(200*(i.count+i.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){i.newSlides.css({display:"block"}),i.doMath(),i.viewport.height(i.h),i.setProps(n*i.h,"init")},"init"===t?100:0)):(i.container.width(200*(i.count+i.cloneCount)+"%"),i.setProps(n*i.computedW,"init"),setTimeout(function(){i.doMath(),i.newSlides.css({width:i.computedW,float:"left",display:"block"}),i.vars.smoothHeight&&g.smoothHeight()},"init"===t?100:0))}d||i.slides.removeClass(a+"active-slide").eq(i.currentSlide).addClass(a+"active-slide"),i.vars.init(i)},i.doMath=function(){var e=i.slides.first(),t=i.vars.itemMargin,n=i.vars.minItems,r=i.vars.maxItems;i.w=void 0===i.viewport?i.width():i.viewport.width(),i.h=e.height(),i.boxPadding=e.outerWidth()-e.width(),d?(i.itemT=i.vars.itemWidth+t,i.minW=n?n*i.itemT:i.w,i.maxW=r?r*i.itemT-t:i.w,i.itemW=i.minW>i.w?(i.w-t*(n-1))/n:i.maxW<i.w?(i.w-t*(r-1))/r:i.vars.itemWidth>i.w?i.w:i.vars.itemWidth,i.visible=Math.floor(i.w/i.itemW),i.move=i.vars.move>0&&i.vars.move<i.visible?i.vars.move:i.visible,i.pagingCount=Math.ceil((i.count-i.visible)/i.move+1),i.last=i.pagingCount-1,i.limit=1===i.pagingCount?0:i.vars.itemWidth>i.w?i.itemW*(i.count-1)+t*(i.count-1):(i.itemW+t)*i.count-i.w-t):(i.itemW=i.w,i.pagingCount=i.count,i.last=i.count-1),i.computedW=i.itemW-i.boxPadding},i.update=function(e,t){i.doMath(),d||(e<i.currentSlide?i.currentSlide+=1:e<=i.currentSlide&&0!==e&&(i.currentSlide-=1),i.animatingTo=i.currentSlide),i.vars.controlNav&&!i.manualControls&&("add"===t&&!d||i.pagingCount>i.controlNav.length?g.controlNav.update("add"):("remove"===t&&!d||i.pagingCount<i.controlNav.length)&&(d&&i.currentSlide>i.last&&(i.currentSlide-=1,i.animatingTo-=1),g.controlNav.update("remove",i.last))),i.vars.directionNav&&g.directionNav.update()},i.addSlide=function(t,n){var r=e(t);i.count+=1,i.last=i.count-1,u&&p?void 0!==n?i.slides.eq(i.count-n).after(r):i.container.prepend(r):void 0!==n?i.slides.eq(n).before(r):i.container.append(r),i.update(n,"add"),i.slides=e(i.vars.selector+":not(.clone)",i),i.setup(),i.vars.added(i)},i.removeSlide=function(t){var n=isNaN(t)?i.slides.index(e(t)):t;i.count-=1,i.last=i.count-1,isNaN(t)?e(t,i.slides).remove():u&&p?i.slides.eq(i.last).remove():i.slides.eq(t).remove(),i.doMath(),i.update(n,"remove"),i.slides=e(i.vars.selector+":not(.clone)",i),i.setup(),i.vars.removed(i)},g.init()},e(window).blur(function(){focused=!1}).focus(function(){focused=!0}),e.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}},e.fn.flexslider=function(t){if(void 0===t&&(t={}),"object"==typeof t)return this.each(function(){var n=e(this),i=t.selector?t.selector:".slides > li",r=n.find(i);1===r.length&&!0===t.allowOneSlide||0===r.length?(r.fadeIn(400),t.start&&t.start(n)):void 0===n.data("flexslider")&&new e.flexslider(this,t)});var n=e(this).data("flexslider");switch(t){case"play":n.play();break;case"pause":n.pause();break;case"stop":n.stop();break;case"next":n.flexAnimate(n.getTarget("next"),!0);break;case"prev":case"previous":n.flexAnimate(n.getTarget("prev"),!0);break;default:"number"==typeof t&&n.flexAnimate(t,!0)}}}(jQuery);
/* sport.min.js */
function PagingService(e,t){var n=this;this.options=void 0===t?__psDefaultOptions:t;for(var a in __psDefaultOptions)this.options.hasOwnProperty(a)||(this.options[a]=__psDefaultOptions[a]);this.__source=null,this.rawData=e,this.itemsCount=function(){return(this.rawData||[]).length},this.getAllData=function(){return(this.rawData||[]).slice(0)},this.parsePageSize=function(e){var t=parseInt(e,10);isNaN(t)&&(t=this.options.pageSize);for(var n=!1,a=this.availablePageSizes(),o=0;o<a.length;o++){if(t==a[o]){n=!0;break}}return n||(t=this.options.pageSize),t},this.availablePageSizes=function(){for(var e=[],t=0;t<__psAvailablePageSizes.length;t++)e.push(__psAvailablePageSizes[t]);for(var n=(this.rawData||[]).length,a=0,t=0;t<e.length;t++)if(e[t]>=n){a=t+1;break}return a>0&&a<e.length&&e.splice(a),e},this.getPageCount=function(e){var t=this.itemsCount(),n=Math.ceil(t/e);return n>0?n:1},this.isPageIncluded=function(e,t,n){if(1==e||e==n)return!0;var a=t;return a<3&&(a=3),a>n-2&&(a=n-2),e==a||e==a-1||e==a+1},this.getPages=function(e,t){for(var n=this.getPageCount(e),a=[],o=1;o<=n;o++){var i=o;this.isPageIncluded(i,t,n)&&a.push(i)}return a},this.parseCurrentPage=function(e,t){if(void 0===e||void 0===t)return 1;var n=parseInt(e,10),a=this.getPageCount(t);return isNaN(n)||n<1||n>a?1:n},this.changePageSize=function(e){n.pageSize=e,n.applyPaging(n.__source),n.currentPage>1&&n.changePage(1)},this.changePage=function(e){n.currentPage=e,n.applyPaging(n.__source)},this.nextPage=function(){if(!this.pagingData.isLastPage){var e=n.currentPage+1;n.changePage(e)}},this.previousPage=function(){if(!this.pagingData.isFirstPage){var e=parseInt(n.currentPage||0)-1;n.changePage(e)}},this.setData=function(e,t){this.rawData=e,void 0!==t&&t&&(this.__source=t),this.applyPaging(this.__source),this.currentPage>1&&this.changePage(1)},this.applyPaging=function(e){this.rawData||(this.rawData=[]),null==e&&(e=[]),this.__source=e,e.splice(0,e.length);var t=this.parsePageSize(this.pageSize),n=this.parseCurrentPage(this.currentPage,t);this.currentPage=n,this.pageSize=t;var a=[],o=(this.currentPage-1)*t,i=o+t;if(i>this.rawData.length&&(i=this.rawData.length),this.rawData.length>0)for(var r=o;r<i;r++)a.push(this.rawData[r]);this.pagingData={gotPaging:a.length<this.itemsCount(),firstRecord:o+1,lastRecord:o+a.length,totalRecords:this.itemsCount(),pageSizes:this.availablePageSizes(),selectedPage:this.currentPage,selectedPageSize:this.pageSize,isFirstPage:1==this.currentPage,isLastPage:this.currentPage==this.getPageCount(this.pageSize),pages:this.getPages(this.pageSize,this.currentPage),pageCount:this.getPageCount(this.pageSize)};for(var r=0;r<a.length;r++)e.push(a[r]);this.options.applyDataCallback&&this.options.applyDataCallback()}}function getBooleanValue(e){return"string"==typeof e?["1","yes","true"].indexOf(e.toLowerCase())>=0:!!e}function IntegerTextboxKeyPress(e){var t=String.fromCharCode(e.which),n=parseInt(t);isNaN(n)&&e.preventDefault()}function IntegerTextboxBlur(e){var t=$(this),n=t.val();if(n.length>0){var a=parseInt(n);isNaN(a)||t.val(a.toString())}}function _sportUtilMisc_ParseColors(e){var t=(e||"").indexOf(",");if(t>0){var n=e.substr(0,t),a=e.substring(t+1);if(n.length>0&&a.length>0)return{Valid:!0,Even:n,Odd:a}}return{Valid:!1}}function TimedFunctions(){_sportUtilMiscTimer_Counter>1e6&&(_sportUtilMiscTimer_Counter=0),_sportUtilMiscTimer_Counter++,function(){if(_sportUtilMiscTimer_Counter%5==0){var e=$(".progress-dot");0!=e.length&&e.each(function(){var e=$(this);if(e.parents("div").first().is(":visible")){var t=e.text().length;++t>3&&(t=1);var n=Array(t+1).join(".");e.text(n)}})}}(),function(){var e=$(".alternating-colors");if(0!=e.length){var t=0;e.each(function(){var e=$(this),n=_sportUtilMisc_ParseColors(e.data("colors"));if(n.Valid){var a=t%2==0?n.Even:n.Odd;e.css("background-color",a),t++}})}}(),function(){var e=$(".dependant-height");0!=e.length&&e.each(function(){var e=$(this),t=e.data("source-element");if(t){var n=$("#"+t);if(1==n.length){var a=n[0].offsetHeight;a>0&&(e.css("height",a+"px"),e.css("line-height",a+"px"),e.css("vertical-alignment","middle"))}}})}(),function(){var e=$(".check-dirty");0!=e.length&&e.each(function(){var e=$(this);"1"!=e.data("check-dirty-attached")&&(e.find("input").each(function(){$(this).change(function(){e.data("is-dirty","1")})}),e.data("check-dirty-attached","1"))})}(),function(){var e=window.page_type_mapping;if(e&&null!=e){var t=$('a[href*="/page/"]');t.length>0&&t.each(function(){var t=$(this),n=t.attr("href"),a=n.lastIndexOf("/");if(a>0&&a<n.length-1){var o=n.substr(a+1),i=e[o];if(i){var r=n.replace("/page/","/"+i+"/");t.attr("href",r),t.onclick=null}}})}}(),function(){if(sportUtils.IsMobile()){var e=$(".mobile-reverse-order");0!=e.length&&e.each(function(){var e=$(this);if("1"!=e.data("reversed")){var t=e.find("> div");e.append(t.get().reverse()),e.data("reversed","1")}})}}(),function(){$(".match-group").each(function(){var e=$(this);if("1"!=e.data("applied-same-facility")){e.data("applied-same-facility","1");for(var t=e.find(".match-date-label").first(),n=e.find(".category-facility"),a="",o=0,i=0;i<n.length;i++){var r=$.trim(n.eq(i).text());if(r.length>0){if(a.length>0&&r!=a){if(o>1){var s=n.eq(i-1).parents(".group-match").first();t.clone().insertAfter(s),s.find(".alternating-colors").css("margin-bottom","10px")}o=0}o++,a=r}}}})}(),function(){var e=document.getElementById("VOD_row"),t=document.getElementById("pnlSales");if(e&&null!=e&&null!=t){var n=e.offsetTop+e.offsetHeight,a=n-t.offsetTop;$("#pnlSales").css("height",a+"px")}}()}function CheckFinalSubmission(){return $("#lblConfirmFinalSubmission").hasClass("fa-check-square-o")}!function(){"use strict";function e(e){return function(t,n,a){function o(t,n){var a=e.defer(),o=new XMLHttpRequest,i=new FormData;return i.append("attachment",n),o.open("POST",t),o.onload=function(e){200==e.target.status?a.resolve("ok"):a.reject("שגיאה בעת העלאת  קובץ לשרת")},o.onerror=function(e){a.reject("שגיאה בעת העלאת  קובץ לשרת")},o.send(i),a.promise}function i(e){var t=e.lastIndexOf("/");return t<0&&(t=e.lastIndexOf("\\")),t<0?e:t==e.length-1?"":e.substring(t+1)}function r(e,t){++c>100&&t([]);var n=e();null!=n?t(n):window.setTimeout(function(){r(e,t)},50)}var s,l,c=0;s=t[a.dropzone],l=new Dropzone(n[0],s.options),window.setTimeout(function(){var e=n.data("player-id"),t=n.data("file-type");if(e&&t){var a=e+"_"+t;window._AllDropZones_||(window._AllDropZones_={}),window._AllDropZones_[a]=l}},500);l.uploadFiles=function(e){for(var t=this,a=0;a<e.length;a++){var i=e[a];s.eventHandlers.sending&&s.eventHandlers.sending(t,i);var r=s.options.url,l=n.data("player-id");l&&(r=r.replace("$id",l)),o(r,i).then(function(e){console.log("File "+i.name+" uploaded successfully ("+i.size+" bytes)")},function(e){console.log("Error uploading file "+i.name+": "+e)});for(var c=Math.round(Math.min(60,Math.max(6,i.size/1e5))),u=0;u<c;u++){var d=100*(u+1);setTimeout(function(e,n,a){return function(){e.upload={progress:100*(a+1)/n,total:e.size,bytesSent:(a+1)*e.size/n},t.emit("uploadprogress",e,e.upload.progress,e.upload.bytesSent),100==e.upload.progress&&(e.status=Dropzone.SUCCESS,t.emit("success",e,"success",null),t.emit("complete",e),t.processQueue())}}(i,c,u),d)}}},angular.forEach(s.eventHandlers,function(e,t){l.on(t,e)}),s.existingFiles&&r(s.existingFiles,function(e){if(e.length>0){for(var t=0;t<e.length;t++){var n=e[t],a={name:i(n.Path),size:n.Size};l.options.addedfile.call(l,a),l.options.thumbnail.call(l,a,n.Path),l.files.push(a)}window.setTimeout(function(){$(".dz-preview").each(function(){var e=$(this);e.hasClass("dz-complete")||e.addClass("dz-complete")})},500)}})}}function t(e,t,n,a,o,i,r,s){function l(){localStorage.removeItem("logged_username"),localStorage.removeItem("logged_display_name"),localStorage.removeItem("logged_role")}function c(){return r.globalData.seasons.findIndex(function(e){return e.Season==r.globalData.selectedSeason.Season})}r.globalData={regions:[],loggedUser:null,pinnedChampionships:[],contentMapping:{},sportFieldIcons:{},seasons:[],currentSeason:sportUtils.getCurrentSeason(),selectedSeason:{Name:"",Season:0},defaultSeason:{Name:"",Season:0},feedbackResult:null},r.globalMethods={},r.globalModel={feedback:{}},r.IsMobileDevice=sportUtils.IsMobile(),r.homeState=r.IsMobileDevice?"home-mobile":"home",t.get("/api/common/all-global-data").then(function(e){var t=e.data;if(null!=t.Login?r.globalData.loggedUser={Login:t.Login.name,DisplayName:t.Login.displayName,Role:t.Login.role}:l(),null!=t.Sportsman&&(r.globalData.regions=t.Sportsman.Regions,r.globalData.pinnedChampionships=t.Sportsman.PermanentChampionships,t.Sportsman.SeasonsInUse.length>0)){r.globalData.seasons=t.Sportsman.SeasonsInUse.slice(0),r.globalData.seasons.sort(function(e,t){return e.Season-t.Season});var n=r.globalData.seasons.filter(function(e){return e.IsCurrent});if(0==n.length&&(n=[r.globalData.seasons.lastItem()]),r.globalData.defaultSeason=n[0],r.globalData.currentSeason.Season){var a=t.Sportsman.SeasonsInUse.findItem(function(e){return e.Season==r.globalData.currentSeason.Season});null!=a&&(r.globalData.currentSeason.FirstDay=a.FirstDay,r.globalData.currentSeason.LastDay=a.LastDay)}else r.globalData.currentSeason=sportUtils.shallowCopy(r.globalData.defaultSeason);r.globalData.selectedSeason=sportUtils.shallowCopy(r.globalData.currentSeason)}r.globalData.contentMapping=t.ContentMapping,r.globalData.sportFieldIcons=t.SportFieldIcons,contentUtils.InitPageTypes(t.PageTypes);var o=contentUtils.GetPageTypeMapping(),i={};for(var s in o){var c=o[s];i[s.toString()]=c.Name}window.page_type_mapping=i},function(e){console.log("error loading global data"),l()}),r.$on("$stateChangeSuccess",function(e,t,n,a,o){var i=t?t.name:"";i&&i.length>0&&sportUtils.InitiateScrollToTopProcess(),window.CropperImagePath="",window.CropperImageRatio=null,sportUtils.AttachAutoClick(),window.setTimeout(function(){window["google-analytics-page-hit"]?window["google-analytics-page-hit"]=null:window.ga&&window.ga("send","pageview",document.location.hash)},500)}),r.globalMethods.loginPanelClicked=function(){e.globalData.showLogin=!e.globalData.showLogin},r.mobileLoginClicked=function(){e.globalData.showLogin=!e.globalData.showLogin},r.globalMethods.gotNextSeason=function(){return c()<r.globalData.seasons.length-1},r.globalMethods.gotPrevSeason=function(){return c()>0},r.globalMethods.changeSeason=function(e){var t=c(),n=t+e;if(n>=0&&n<r.globalData.seasons.length){var a=r.globalData.seasons[n];r.globalData.selectedSeason=sportUtils.shallowCopy(a)}},r.globalMethods.applySeason=function(){sportUtils.setCurrentSeason(r.globalData.selectedSeason),document.location.reload(!0)},r.globalMethods.resetSeason=function(){sportUtils.setCurrentSeason(null),document.location.reload(!0)},r.globalMethods.gotoYoungSportsmenEvents=function(){localStorage.EventsSportFieldFilter=sportGlobalSettings.YoungSportsmenSeq,i.go("events")},r.globalMethods.register=function(){i.go("register")},r.globalMethods.SendFeedback=function(){r.globalData.feedbackSending=!0,r.globalData.feedbackResult=null,t.post("/api/mails/feedback",r.globalModel.feedback).then(function(e){r.globalData.feedbackSending=!1,r.globalData.feedbackResult={Token:e.data.Token||""}},function(e){r.globalData.feedbackSending=!1,r.globalData.feedbackResult={Error:e.data||"שגיאה כללית בעת שליחת משוב"},a(function(){r.globalData.feedbackResult=null},5e3)})},r.globalMethods.manageClicked=function(){var e=sportUtils.IsMobile()?"edit-results":"pages.manage";i.go(e)},r.globalMethods.logout=function(){t.post("/api/logout").then(function(){l(),document.location.href=document.location.pathname},function(e){alert("שגיאה בעת התנתקות"),document.location.reload(!0)})},r.globalMethods.login=function(){r.globalData.errorMessage=null,sportUtils.Login(n,t,r.globalModel.username,r.globalModel.password).then(function(e){document.location.reload(!0)},function(e){r.globalData.errorMessage=e})}}function n(e){}function a(e,t,n){function a(t,n,a){if(e.LoggedInUser&&e.LoggedInUser.role&&a.indexOf(e.LoggedInUser.role)>=0){var o="padding: 5px 5px 5px 5px;",i="";t==e.sender&&(o+=" background-color: #00ADEE;",i="color: white;");var r="";if(0==t.indexOf("#page-")){var s=parseInt(t.replace("#page-",""));isNaN(s)||(r="#/page/"+s,t="")}e.tabs.push({ListItemStyle:o,LinkStyle:i,State:t,Link:r,Description:n})}}e.tabs=[],e.IsMobileDevice=sportUtils.IsMobile(),sportUtils.VerifyUser(t,e,[2,3],function(n){1!=e.Unauthorized&&t.get("/api/common/content-mapping").then(function(t){var n=0;t.data&&t.data.Admin&&(n=t.data.Admin.Downloads||0),a("pages.manage","ניהול עמודי תוכן",[1,3]),a("register","רישום קבוצות ושחקנים",[2]),a("banners","ניהול פרסומות",[1,3]),a("reports",'דו"חות',[1]),a("edit-results","הזנת תוצאות משחקים",[1,2]),a("upya-manage","מחנות אימון",[1]),e.LoggedInUser.isClubUser&&a("club-register","טופס רישום מועדון",[2]),a("pages.regions","מחוזות",[1]),n>0&&a("article({page: "+n+"})","הורדות",[1]);var o=e.tabs.findIndex(function(e){return"color: white;"==e.LinkStyle});window.setTimeout(function(){document.getElementById("ddlMobileManageMenu").selectedIndex=o+1},500)})}),e.mobileMenuChanged=function(){var e=$("#ddlMobileManageMenu").find(":selected"),t=e.data("state"),a=e.data("link");t?n.go(t):a&&(document.location.href=a)}}angular.module("sport",["sport.home","sport.mobile","sport.flowers","sport.content","sport.register","sport.banners","sport.UPYA","sport.club-register","sport.reports","sport.events","sport.championships","ui.bootstrap","ngSanitize","ngCookies"]).config(["$urlRouterProvider",function(e){(document.location.href||"").toLowerCase().indexOf("players-register-form.html")<0&&(document.location.href||"").toLowerCase().indexOf("club-register-form.html")<0&&e.otherwise("/home")}]).config(["$compileProvider",function(e){e.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|waze|chrome-extension):/)}]).controller("SportMainCtrl",["$scope","$http","$q","$timeout","$interval","$state","$rootScope","SportService",t]).controller("ManageBreadcrumbsCtrl",["$scope",n]).controller("ManageTabsCtrl",["$scope","$http","$state",a]).filter("reverse",function(){return function(e){return e.slice().reverse()}}).filter("isNull",function(){return function(e,t){return void 0===e||null==e?t:e}}).filter("teamName",function(){return function(e,t){return eventsUtils.BuildTeamName(e,t)}}).filter("formatDateTime",["$filter",function(e){return function(t,n){if(null==t||!t)return"";if(!t.toISOString&&(t=new Date(t),!t.toISOString))return t;var a=t.toISOString();if(a.indexOf("-")>3&&a.indexOf("T")>9){var o=a.split("T"),i=o[0].split("-"),r=o[1].split(":");r[2]=r[2].substring(0,2);var s=i[0],l=i[1],c=i[2],u=r[0],d=r[1],p=r[2],g={dd:c,MM:l,yyyy:s,HH:u,mm:d,ss:p},h=n+"";for(var f in g)for(var m=g[f];h.indexOf(f)>=0;)h=h.replace(f,m);return h}return e("date")(t,n)}}]).directive("manageBreadcrumbs",function(){return{restrict:"E",scope:{description:"@?"},templateUrl:"views/manage-breadcrumbs.html",controller:"ManageBreadcrumbsCtrl"}}).directive("manageTabs",function(){return{restrict:"E",scope:{sender:"@?"},templateUrl:"views/manage-tabs.html",controller:"ManageTabsCtrl"}}).directive("fbComments",function(){return{restrict:"C",link:function(e,t,n){return t[0].dataset.href=document.location.href,"undefined"!=typeof FB&&null!==FB?FB.XFBML.parse(t.parent()[0]):void 0}}}).directive("changeBackground",["$animate",function(e){return{restrict:"EA",scope:{colorcode:"@?",selected:"@?"},link:function(e,t,n){t.on("mouseenter",function(){(!e.selected||0==e.selected||e.selected&&"false"==e.selected.toString())&&(t.addClass("change-color"),t.css("background-color",e.colorcode))}),t.on("mouseleave",function(){(!e.selected||0==e.selected||e.selected&&"false"==e.selected.toString())&&(t.removeClass("change-color"),t.css("background-color","transparent"))})}}}]).directive("dropzone",["$q",e])}(),function(){"use strict";angular.module("sport.banners",["components","ui.router"]).config(["$stateProvider",function(e){e.state("banners",{url:"/banners",views:{"main@":{templateUrl:"views/banners.html",controller:"BannersController"}}})}])}(),function(){"use strict";angular.module("sport.championships",["ui.router","ui.select"]).config(["$stateProvider",function(e){e.state("championships",{url:"/championships/:clubs",views:{"main@":{templateUrl:"views/championships.html",controller:"ChampionshipsController"}}}).state("championships.region",{url:"/:region",views:{"main@":{templateUrl:"views/championships.html",controller:"ChampionshipsController"}}}).state("championships.region.championship",{url:"/:category",views:{"main@":{templateUrl:"views/championships.html",controller:"ChampionshipsController"}}}).state("edit-results",{url:"/edit-results",views:{"main@":{templateUrl:"views/edit-results.html",controller:"EditResultsController"}}})}]).directive("championshipCategory",function(){return{restrict:"E",scope:{category:"=category"},templateUrl:"views/championship-category.html",controller:"ChampionshipCategoryCtrl"}}).directive("finalsTree",function(){return{restrict:"E",scope:{tree:"=tree"},templateUrl:"views/finals-tree.html",controller:"ChampionshipCategoryFinalsTreeCtrl"}})}(),function(){"use strict";angular.module("sport.club-register",["components","ui.router"]).config(["$stateProvider",function(e){e.state("club-register",{url:"/club-register",views:{"main@":{templateUrl:"views/club-register.html",controller:"ClubRegisterController"}}})}])}(),function(){"use strict";angular.module("components",[])}(),function(){"use strict";angular.module("sport.content",["ui.router","ui.select","ngTagsInput"]).config(["$stateProvider",function(e){e.state("page",{url:"/page/:page",views:{"main@":{templateUrl:"views/content.html",controller:"ContentController"}},data:{contentType:"page"}}).state("page.edit",{url:"/edit",views:{"main@":{templateUrl:"views/content-edit.html",controller:"ContentEditController"}},data:{contentType:null}}).state("videos",{url:"/videos",views:{"main@":{templateUrl:"views/content-list.html",controller:"ContentListController"}},data:{contentType:"video"}}).state("galleries",{url:"/galleries",views:{"main@":{templateUrl:"views/content-list.html",controller:"ContentListController"}},data:{contentType:"gallery"}}).state("articles",{url:"/articles",views:{"main@":{templateUrl:"views/content-list.html",controller:"ContentListController"}},data:{contentType:"article"}}).state("pages",{url:"/pages",views:{"main@":{templateUrl:"views/content-list.html",controller:"ContentListController"}},data:{contentType:null}}).state("pages.manage",{url:"/manage",views:{"main@":{templateUrl:"views/content-manage.html",controller:"ContentManageController"}}}).state("pages.regions",{url:"/regions",views:{"main@":{templateUrl:"views/content-regions.html",controller:"ContentRegionsController"}}}).state("files",{url:"/files/:page",views:{"main@":{templateUrl:"views/content.html",controller:"ContentController"}},data:{contentType:"files"}}).state("files.edit",{url:"/edit",views:{"main@":{templateUrl:"views/content-edit.html",controller:"ContentEditController"}},data:{contentType:"files"}}).state("event",{url:"/event/:page",views:{"main@":{templateUrl:"views/content.html",controller:"ContentController"}},data:{contentType:"event"}}).state("event.edit",{url:"/edit",views:{"main@":{templateUrl:"views/content-edit.html",controller:"ContentEditController"}},data:{contentType:"event"}}).state("video",{url:"/video/:page",views:{"main@":{templateUrl:"views/content.html",controller:"ContentController"}},data:{contentType:"video"}}).state("video.edit",{url:"/edit",views:{"main@":{templateUrl:"views/content-edit.html",controller:"ContentEditController"}},data:{contentType:"video"}}).state("gallery",{url:"/gallery/:page",views:{"main@":{templateUrl:"views/content.html",controller:"ContentController"}},data:{contentType:"gallery"}}).state("gallery.edit",{url:"/edit",views:{"main@":{templateUrl:"views/content-edit.html",controller:"ContentEditController"}},data:{contentType:"gallery"}}).state("article",{url:"/article/:page",views:{"main@":{templateUrl:"views/content.html",controller:"ContentController"}},data:{contentType:"article"}}).state("article.edit",{url:"/edit",views:{"main@":{templateUrl:"views/content-edit.html",controller:"ContentEditController"}},data:{contentType:"article"}})}])}(),function(){"use strict";angular.module("sport.events",["ui.router","ui.select"]).config(["$stateProvider",function(e){e.state("events",{url:"/events",views:{"main@":{templateUrl:"views/events.html",controller:"EventsController"}}}).state("events.date",{url:"/:date",views:{"main@":{templateUrl:"views/events.html",controller:"EventsController"}}})}])}(),function(){"use strict";angular.module("sport.flowers",["components","ui.router","sport.content","sport.events","sport.championships"]).config(["$stateProvider",function(e){e.state("flowers",{url:"/flowers",views:{"main@":{templateUrl:"views/flowers.html",controller:"FlowersController"}}})}])}(),function(){"use strict";angular.module("sport.home",["components","ui.router","sport.content","sport.events","sport.championships"]).config(["$stateProvider",function(e){e.state("home",{url:"/home",views:{"main@":{templateUrl:"views/home.html",controller:"HomeController"}}})}])}(),function(){"use strict";angular.module("sport.mobile",["components","ui.router","sport.content","sport.events","sport.championships"]).config(["$stateProvider",function(e){e.state("home-mobile",{url:"/m",views:{"main@":{templateUrl:"views/home-mobile.html",controller:"HomeMobileController"}}})}])}(),function(){"use strict";angular.module("sport.register",["ui.router"]).config(["$stateProvider",function(e){e.state("register",{url:"/register",views:{"main@":{templateUrl:"views/register.html",controller:"RegisterController"}}})}])}(),function(){"use strict";angular.module("sport.UPYA",["components","ui.router"]).config(["$stateProvider",function(e){e.state("UPYA",{url:"/UPYA",views:{"main@":{templateUrl:"views/UPYA.html",controller:"UPYA_Controller"}}}).state("upya-manage",{url:"/upya-manage",views:{"main@":{templateUrl:"views/upya-manage.html",controller:"UPYA_Manage_Controller"}}})}])}(),function(){"use strict";angular.module("sport.reports",["components","ui.router"]).config(["$stateProvider",function(e){e.state("reports",{url:"/reports",views:{"main@":{templateUrl:"views/reports.html",controller:"ReportsController"}}})}])}(),angular.module("sport").directive("calendar",function(){return{restrict:"E",scope:{calendar:"=source"},templateUrl:"views/calendar.html"}}),function(){"use strict";function e(){function e(e){return e.getDate?e.getDate():e.date?e.date:e.Date?e.Date:null}function t(e,t){this.year=e,this.month=t,this.monthName=i[t],this.weeks=[],this.hasItems=!1,this.itemsCount=0;var n=new Date(e,t,1);n.setDate(n.getDate()-n.getDay());for(var a=n.getMonth(),o=0;o<6;o++){for(var r={days:[],currentMonth:!1},s=0;s<7;s++){a==t&&(r.currentMonth=!0);var l=n.getDate();r.days.push({year:e,month:t,day:l,items:[],currentMonth:a==t}),n.setDate(n.getDate()+1),a=n.getMonth()}this.weeks.push(r)}}function n(e){this.year=e,this.months=[]}function a(e,t){this.years=[],this.events=e.filter(function(e){return!0}),this.selectedDate=t}function o(e,t){return new a(e,t)}var i=["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],r={};return a.prototype.BuildDayEvents=function(e,t,n){var a={};this.events.filter(function(a){return a.Date.getDate()==e&&a.Date.getMonth()==t&&a.Date.getFullYear()==n}).forEach(function(e){var t=e.SPORT_ID.toString(),n=a[t];n?n.DailyEvents.push(e):(e.DailyEvents=[e],a[t]=e)});var o=[],i=0;for(var r in a){var s=contentUtils.getSportFieldColor(parseInt(r)),l=3+10*i,c=a[r];c.style="right: "+l+"px; background-color: "+s+";",c.title=function(e){var t="",n="";return e.SPORT_ID==sportGlobalSettings.FlowersFieldSeq?(t="פרחי ספורט "+e.SportFieldName,n=e.FacilityName):(t=e.CHAMPIONSHIP_NAME+" "+e.CATEGORY_NAME,n=eventsUtils.BuildSportsmanDetails(e)),[t,n].join(", ")}(c),o.push(c),i++}return o},t.prototype.getDay=function(e){for(var t=0;t<this.weeks.length;t++)for(var n=this.weeks[t],a=0;a<n.days.length;a++)if(n.days[a].currentMonth&&n.days[a].day==e)return n.days[a]},t.prototype.addItem=function(t){var n=e(t);if(!n||n.getFullYear()!==this.year||n.getMonth()!==this.month)return!1;this.hasItems=!0,this.itemsCount++;var a=n.getDate(),o=this.getDay(a);return o?(o.items.push(t),o):null},n.prototype.makeMonth=function(e){if(0==this.months.length){var n=new t(this.year,e);return this.months=[n],n}for(;this.months[0].month>e;)this.months.splice(0,0,new t(this.year,this.months[0].month-1));for(;this.months[this.months.length-1].month<e;)this.months.push(new t(this.year,this.months[this.months.length-1].month+1));return this.months[e-this.months[0].month]},a.prototype.makeMonth=function(e,t){if(0==this.years.length){var a=new n(e);return this.years=[a],a.makeMonth(t)}for(;this.years[0].year>e;){this.years[0].makeMonth(0);var a=new n(this.years[0].year-1);a.makeMonth(11),this.years.splice(0,0,a)}for(;this.years[this.years.length-1].year<e;){this.years[this.years.length-1].makeMonth(11);var a=new n(this.years[this.years.length-1].year+1);a.makeMonth(0),this.years.push(a)}var a=this.years[e-this.years[0].year];return a.makeMonth(t)},a.prototype.getMonth=function(e,t){if(this.years.length>0)if(void 0!==t){if(e>=this.years[0].year&&e<=this.years[this.years.length-1].year){var n=this.years[e-this.years[0].year];if(n.months.length>0&&t>=n.months[0].month&&t<=n.months[n.months.length-1].month)return n.months[t-n.months[0].month]}}else for(var a=0;a<this.years.length&&e>=0;){if(e<this.years[a].months)return this.years[a].months[e];e-=this.years[a].months,a++}return null},a.prototype.addItem=function(t){var n=e(t);return n?this.makeMonth(n.getFullYear(),n.getMonth()).addItem(t):null},a.prototype.addItems=function(e,t){for(var n=0;n<e.length;n++){var a=this.addItem(e[n]);a&&t(a,e[n])}for(var o=0;o<this.years.length;o++)for(var i=this.years[o],s=0;s<i.months.length;s++){var l=i.months[s],c=l.month.toString()+"_"+l.year.toString();r[c]=l;for(var u=0;u<l.weeks.length;u++)for(var d=l.weeks[u],p=0;p<d.days.length;p++){var g=d.days[p];g.events=g.currentMonth?this.BuildDayEvents(g.day,g.month,g.year):[]}}},a.prototype.selectMonth=function(e,t){if(void 0!==t){var n=this.getMonth(e,t);n&&this.selectMonth(n)}else if(e)this.selectedMonth&&(this.selectedMonth.selected=!1,this.selectedDay&&(this.selectedDay.selected=!1,this.selectedDay=null)),this.selectedMonth=e,e.selected=!0;else if(this.selectedDate){var a=this.selectedDate,o=a.getFullYear(),t=a.getMonth(),i=this.getMonth(o,t);i||(i=this.getMonth(0)),i&&this.selectMonth(i)}},a.prototype.selectDay=function(e){this.selectedMonth&&this.selectedMonth.year==e.year&&this.selectedMonth.month==e.month||this.selectMonth(e.year,e.month),this.selectedDay&&(this.selectedDay.selected=!1),this.selectedDay=e,e.selected=!0},a.prototype.clearDaySelection=function(){this.selectedDay&&(this.selectedDay.selected=!1,this.selectedDay=null)},a.prototype.nextMonth=function(){var e={year:0};if(this.selectedMonth){var t=this.selectedMonth.month+1,n=this.selectedMonth.year;t>=12&&(t=0,n++);var a=t.toString()+"_"+n.toString();r[a]&&(e=r[a])}return e},a.prototype.selectNextMonth=function(){var e=this.nextMonth();e.year>0&&this.selectMonth(e)},a.prototype.prevMonth=function(){var e={year:0};if(this.selectedMonth){var t=this.selectedMonth.month-1,n=this.selectedMonth.year;t<0&&(t=11,n--);var a=t.toString()+"_"+n.toString();r[a]&&(e=r[a])}return e},a.prototype.selectPrevMonth=function(){var e=this.prevMonth();e.year>0&&this.selectMonth(e)},a.prototype.setCurrent=function(e){this.currentMonth&&(this.currentMonth.currentSelection=!1),this.currentDay&&(this.currentDay.currentSelection=!1),this.currentMonth=this.getMonth(e.year,e.month),this.currentMonth&&(this.currentMonth.currentSelection=!0),this.currentDay=e,this.currentDay.currentSelection=!0},{create:o}}angular.module("sport").factory("calendarService",[e])}(),function(){"use strict";function e(e,t,n,a,o,i,r,s,l,c,u,d,p,g){function h(){if(e.data.Categories.Rows=[],e.selected.Championship&&e.selected.Championship.Name){var t=e.data.Categories.All.filter(function(t){return t.Championship==e.selected.Championship.Name}),n=sportUtils.SplitArray(t,y);if(n.length>0){for(var a=n[n.length-1],o=y-a.length,i=0;i<o;i++)a.push({SportField:0,Name:"Blank_"+(i+1)});for(var i=0;i<n.length;i++){n[i].sort(function(e,t){return e.SportField-t.SportField})}}if(e.data.Categories.Rows=n,C.Category>0){var r=e.data.Categories.All.findItem(function(e){return e.CategoryId==C.Category});null!=r&&e.selectCategory(r),C.Category=0}}}function f(){var t=[];if(null==s)t=e.data.Championships.All;else{var n=e.selected.SportField?e.selected.SportField.Seq:0;t=e.data.Championships.All.filter(function(e){return e.SportField==n})}var a=sportUtils.SplitArray(t,S);if(a.length>0){for(var o=a[a.length-1],i=S-o.length,r=0;r<i;r++)o.push({SportField:0,Name:"Blank_"+(r+1)});for(var r=0;r<a.length;r++){a[r].sort(function(e,t){return e.SportField-t.SportField})}}if(e.data.Championships.Rows=a,C.Championship.length>0){if(C.SportId){var l=e.data.SportFields.All.findItem(function(e){return e.Seq==C.SportId});C.SportId=0,null!=l&&e.selectSportField(l)}var c=e.data.Championships.All.findItem(function(e){return e.Name==C.Championship});null!=c&&e.selectChampionship(c),C.Championship=""}}function m(){e.data.Championships.All=[],e.data.Championships.Rows=[],e.data.Categories.All=[],e.data.Categories.Rows=[];var n=e.selected.Season?e.selected.Season.Season:0,i=e.selected.Type?e.selected.Type.Value:v.Empty,l=e.selected.Region?e.selected.Region.Id:null;e.loading=!0,function(e,t,n){var i=o.defer();return T?g.sportFlowersEvents().then(function(e){var t=championshipsUtils.convertSportFlowersChampionships(e,a);i.resolve(t)},function(e){i.reject(e)}):null!=s?d.read({school:s.Symbol}).then(function(e){var t=e.slice(0);if(t=s.ClubsOnly?t.filter(function(e){return 1==e.IS_CLUBS}):t.filter(function(e){return 1!=e.IS_CLUBS}),s.ExcludedCategories){var n=s.ExcludedCategories.toAssociativeArray();t=t.filter(function(e){var t=e.CHAMPIONSHIP_CATEGORY_ID.toString();return!n[t]})}i.resolve(t)},function(e){i.reject(e)}):null!=r&&t&&e&&null!=n?d.read({season:t,region:n,omitEmpty:0}).then(function(t){var n=e==v.Clubs?1:0,a=t.slice(0).filter(function(e){return e.SPORT_ID==r.Seq&&e.IS_CLUBS==n});i.resolve(a)},function(e){i.reject(e)}):i.resolve([]),i.promise}(i,n,l).then(function(n){if(e.loading=!1,n&&n.length>0){if(null!=s){e.data.SportFields={All:[],Rows:[]};for(var a=0;a<n.length;a++){var o=n[a];null==e.data.SportFields.All.findItem(function(e){return e.Seq==o.SPORT_ID})&&e.data.SportFields.All.push({Seq:o.SPORT_ID,Name:o.SPORT_NAME})}var i=sportUtils.SplitArray(e.data.SportFields.All,S);if(i.length>0){for(var r=i[i.length-1],l=S-r.length,a=0;a<l;a++)r.push({Seq:0,Name:"Blank_"+(a+1)});for(var a=0;a<i.length;a++){i[a].sort(function(e,t){return e.Seq-t.Seq})}}e.data.SportFields.Rows=i}var c=n.toAssociativeArray(!0,"CHAMPIONSHIP_NAME","SPORT_ID"),d={};if(e.data.Championships.All=sportUtils.DistinctArray(n.map(function(e){return e.CHAMPIONSHIP_NAME})).map(function(e){return{Name:e,SportField:c[e]}}),u.show_championship_remarks){var p=n.map(function(e){return e.CHAMPIONSHIP_ID}).distinct(),g="/api/sportsman/championship-remarks?championships="+p.join(",");t.get(g).then(function(t){var n=t.data.toAssociativeArray(null,"CHAMPIONSHIP_NAME","REMARKS");e.data.Championships.All.forEach(function(e){e.Remarks=n[e.Name]})},function(e){console.log("error reading championship remarks")})}for(var a=0;a<n.length;a++){var h=n[a],m=h.CATEGORY_NAME,v=h.CHAMPIONSHIP_NAME,y=h.CHAMPIONSHIP_ID+"_"+m;d[y]||(e.data.Categories.All.push({Name:m,Championship:v,ChampionshipId:h.CHAMPIONSHIP_ID,SportField:h.SPORT_ID,CategoryId:h.CHAMPIONSHIP_CATEGORY_ID,Remarks:h.Remarks}),d[y]=!0)}f()}},function(t){e.loading=!1,console.log("error loading championships"),console.log(t)})}var v={Empty:0,Clubs:1,NonClub:2
},S=3,y=3,C={Championship:"",Category:0},I=sportGlobalSettings.FlowersFieldSeq,T=null!=r&&r.Seq==I;null!=r?(e.title="בחירת ",e.title+=r.Seq==sportGlobalSettings.FlowersFieldSeq?"אירוע":"אליפות",e.title+=" "+r.Name):null!=s&&(e.title="בחירת אליפות ",s.ClubsOnly&&(e.title+="מועדונים "),e.title+="עבור "+s.Name),e.selected={Season:0,Type:0,Region:0,Championship:0,Category:0,SportField:0},e.loading=!1,e.flowersFieldSeq=I,e.isFlowers=T,e.schoolTeamSelection=null==r&&null!=s,e.data={Seasons:l,Regions:c,Championships:{All:[],Rows:[]},Categories:{All:[],Rows:[]},Types:[{Name:"מועדון ספורט בית סיפרי",Value:v.Clubs},{Name:"אירועי ספורט משרד החינוך",Value:v.NonClub}]},e.cancelCaption=u&&u.cancelCaption?u.cancelCaption:"ביטול",e.confirmCaption=u&&u.confirmCaption?u.confirmCaption:"אישור",null!=c&&c.findIndex(function(e){return 0==e.Id})<0&&(c.push({Id:0,Name:"אליפויות ארציות"}),c.sort(function(e,t){return e.Id-t.Id})),contentUtils.InitSportFieldColors(t),e.getSportFieldColor=contentUtils.getSportFieldColor,e.getRoundedRectangleClass=sportUtils.getRoundedRectangleClass,null!=s&&null==r&&(e.data.Types=null),u.amount&&window.setTimeout(function(){$(".rating-"+u.amount).click()},500),function(){var n=o.defer();return u.category?T?n.resolve({Championship:u.EventName,Category:u.category}):t.get("/api/sportsman/category-data?category="+u.category).then(function(t){var a=t.data.SEASON,o=1==t.data.IS_CLUBS?v.Clubs:v.NonClub,i=t.data.REGION_ID,r=t.data.CHAMPIONSHIP_NAME,s=t.data.SPORT_ID;p.seasons.inUse().then(function(t){var l=t.findItem(function(e){return e.SeasonCode==a}).Season;e.data.Seasons&&(e.selected.Season=e.data.Seasons.findItem(function(e){return e.Season==l})),e.data.Types&&(e.selected.Type=e.data.Types.findItem(function(e){return e.Value==o})),e.data.Regions&&(e.selected.Region=e.data.Regions.findItem(function(e){return e.Id==i})),n.resolve({Championship:r,SportField:s,Category:u.category})})},function(e){n.reject(e)}):n.resolve(null),n.promise}().then(function(e){null!=e&&(C.Championship=e.Championship,C.Category=e.Category,C.SportId=e.SportField,m())}),u.category||function(){if(e.data.Seasons){var t=e.data.Seasons.filter(function(e){return e.IsCurrent});0==t.length&&(t=[e.data.Seasons.lastItem()]),e.selected.Season=t[0]}m()}(),null!=r&&r.Seq==I&&m(),e.getSportFieldFilterStyle=function(e){var t=e.SportField||e.Seq,n=contentUtils.getSportFieldColor(t);return sportUtils.getRoundedRectangleStyle(e,n)},e.dataChanged=function(e){m()},e.selectChampionship=function(t){e.selected.Championship&&(e.selected.Championship.Selected=!1),e.selected.Category&&(e.selected.Category.Selected=!1,e.selected.Category=0),e.data.RegisteredTeamsCount=0,t.Selected=!0,e.selected.Championship=t,h()},e.selectSportField=function(t){e.selected.SportField&&(e.selected.SportField.Selected=!1),e.selected.Championship&&(e.selected.Championship.Selected=!1,e.selected.Championship=0),e.selected.Category&&(e.selected.Category.Selected=!1,e.selected.Category=0),e.data.RegisteredTeamsCount=0,e.data.Categories.Rows=[],t.Selected=!0,e.selected.SportField=t,f()},e.selectCategory=function(t){if(e.selected.Category&&(e.selected.Category.Selected=!1),t.Selected=!0,e.selected.Category=t,null!=s&&s.Teams){var n=t.CategoryId.toString(),a=s.Teams[n]||[];e.data.RegisteredTeamsCount=a.length}},e.cancel=function(){n.dismiss("cancel")},e.confirm=function(){if(e.selected.Category)if(null==s)n.close(e.selected.Category);else{var t=function(){var e=parseInt($("#TeamsAmount").find(".selected-rating").text());return(isNaN(e)||e<=0)&&(e=1),e>5&&(e=5),e}();if(s.NoConfirmation)n.close({Category:e.selected.Category,Amount:t});else{var a="נא לאשר רישום "+function(e){return 1==e?"קבוצה אחת":e+" קבוצות"}(t)+" ל"+e.selected.Championship.Name+", "+e.selected.Category.Name;i.ask(a).then(function(){n.close({Category:e.selected.Category,Amount:t})})}}}}angular.module("sport").controller("ChampionshipSelectionCtrl",["$scope","$http","$uibModalInstance","$filter","$q","messageBox","sportField","schoolData","allSeasons","allRegions","options","ChampionshipsService","SportService","EventsService",e])}(),function(){"use strict";function e(e,t,n,a){e.calendar=n,e.selectedDate=new Date,e.title=a&&a.title?a.title:"בחירת תאריך",a&&(e.subTitle=a.subTitle,e.info=a.info,a.selectedDate&&(e.selectedDate=a.selectedDate)),e.cancelCaption=a&&a.cancelCaption?a.cancelCaption:"ביטול",e.confirmCaption=a&&a.confirmCaption?a.confirmCaption:"אישור",e.calendar.selectedMonth||e.calendar.selectMonth(),e.cancel=function(){t.dismiss("cancel")},e.confirm=function(){e.calendar.selectedDay&&t.close(e.calendar.selectedDay)},e.getDaysDiff=function(e){var t=new Date;t.setDate(e.day),t.setMonth(e.month),t.setFullYear(e.year);var n=new Date,a=t.getTime()-n.getTime();return parseInt(a/864e5)},e.dayClicked=function(e){n.selectDay(e)},e.generateDayClass=function(t){var n=[];return t.currentMonth&&n.push("current"),t.selected?n.push("bg-primary"):t.day==e.selectedDate.getDate()&&t.month==e.selectedDate.getMonth()&&t.year==e.selectedDate.getFullYear()?n.push("bg-info"):t.currentSelection&&!t.selected&&n.push("bg-success"),t.currentMonth&&t.items.length>0&&n.push("enabled"),n.join(" ")}}function t(e){function t(t,n){return e.open({templateUrl:"views/date-selector.html",controller:"DateSelectorCtrl",resolve:{calendar:function(){return t},options:function(){return n}}}).result}return{select:t}}angular.module("components").controller("DateSelectorCtrl",["$scope","$uibModalInstance","calendar","options",e]).factory("dateSelector",["$uibModal",t])}();var eventsUtils={BuildTeamName:function(e,t){var n=t?"Team"+t+"_School":"SCHOOL_NAME",a=t?"Team"+t+"_City":"CITY_NAME",o=t?"Team"+t+"_Index":"TEAM_INDEX",i=e[n],r=e[a],s=o.length>0?sportUtils.GetHebrewLetter(e[o]):"",l=i+"";return r&&r.length>0&&l.indexOf(r)<0&&(l+=" "+r),s.length>0&&(l+=" "+s+"'"),l.indexOf("-")>0&&(l=l.replace("-"," - ")),l},BuildGameDetails:function(e){return[e.PHASE_NAME,e.ROUND_NAME,e.CYCLE_NAME,e.SPORT_FIELD_NAME].filter(function(e){return null!=e&&e.length>0}).join(", ")},BuildSportsmanDetails:function(e){if(2==e.ChampionshipType)return e.SPORT_FIELD_NAME;if(!e.DailyEvents||e.DailyEvents.length<2){return eventsUtils.BuildTeamName(e,"A")+" מול "+eventsUtils.BuildTeamName(e,"B")}for(var t=e.DailyEvents[0],n=t.PHASE_NAME,a=t.ROUND_NAME,o=t.CYCLE_NAME,i=!0,r=!0,s=!0,l=1;l<e.DailyEvents.length;l++){var c=e.DailyEvents[l];c.PHASE_NAME!=n&&(i=!1),c.ROUND_NAME!=a&&(r=!1),c.CYCLE_NAME!=o&&(s=!1)}return i&&r&&s?[n,a,o].join(", "):i&&r?[n,a].join(", "):i?n:n+" עד "+e.DailyEvents.lastItem().PHASE_NAME}};!function(){"use strict";function e(e,t,n,a,o,i,r,s,l,c,u,d){function p(n,o,i,r,c){var u=l.Width+"x"+l.Height,d=[o,i,r,c].join(",");window.CropperImage_Crop_Now=null,t.post("/api/images/crop",{Data:n,Seq:s.Seq,AspectRatio:u,MetaData:d}).then(function(t){var n=t.data&&t.data.length>0?t.data[0]:"";e.loading=!1,a.close({ImageName:n,X:o,Y:i,Width:r,Height:c})},function(t){e.loading=!1,console.log("error cropping image:"),console.log(t),alert("שגיאה בעת שמירת נתונים, נא לנסות שוב מאוחר יותר")})}void 0!==r&&null!=r&&r||(r="Images"),e.existingImages=d.map(function(e){return e.FileName}),window.CropperImageRatio={Width:l.Width,Height:l.Height},window.CropperImagePath="/content/"+r+"/"+i+"/"+s.FileName,window.CropperImageData=u&&u.Width?u:null,c&&c.Width>0&&c.Height>0&&(window.CropperCanvasWidth=c.Width,window.CropperCanvasHeight=c.Height),e.title=o,e.loading=!1,e.changePicture=function(){n.open({templateUrl:"views/thumbnail-selection.html",controller:"ThumbnailSelectionCtrl",resolve:{pageSeq:function(){return i},images:function(){return e.existingImages}}}).result.then(function(e){var t=e.FileName;if(t==s.FileName)console.log("Same image selected, nothing to do");else{var n={Seq:0},o=d.findItem(function(e){return e.FileName==t});null==o?(n.FileName=t,n.FileSize=e.FileSize):(n.Seq=o.Seq,n.FileName=o.FileName),a.close({ChangeCroppedImage:n})}})},e.cancel=function(){a.dismiss("cancel")},e.confirm=function(){e.loading=!0,window.CropperImage_Crop_Now=p}}angular.module("sport").controller("ImageCropperCtrl",["$scope","$http","$uibModal","$uibModalInstance","title","pageSeq","sourceDirectory","imageData","ratio","canvas","metaData","existingImages",e])}(),function(){"use strict";function e(e,t,n,a,o,i,r,s){if(e.title="בחירת קישור עבור תמונה",e.selected={LinkType:0,ExternalUrl:"",UploadedFileName:""},e.pageSeq=a,e.imageSeq=o,e.imageFileName=r,e.existingLink=s,e.data={LinkTypes:[{Name:"פתיחה בגלרייה",Value:0},{Name:"קישור חיצוני",Value:1},{Name:"קובץ מצורף",Value:2}]},e.cancelCaption=i&&i.cancelCaption?i.cancelCaption:"ביטול",e.confirmCaption=i&&i.confirmCaption?i.confirmCaption:"אישור",e.selected.LinkType=e.data.LinkTypes[0],e.existingLink)switch(e.existingLink.Type){case 1:e.selected.LinkType=e.data.LinkTypes[1],e.selected.ExternalUrl=e.existingLink.ExternalUrl;break;case 2:e.selected.LinkType=e.data.LinkTypes[2],e.selected.UploadedFileName=e.existingLink.FileName,e.existingLink.IsImage=contentUtils.IsImageFile(e.existingLink.FileName),0==e.existingLink.IsImage&&(e.existingLink.PreviewClass=contentUtils.GeneratePreviewClass(e.existingLink.FileName))}e.dropzoneConfig={options:{paramName:"files",maxFiles:1,url:"/content/ImageAttachments/"+o,autoProcessQueue:!0,dictDefaultMessage:"ניתן לגרור לכאן קובץ, או ללחוץ להעלאה מהמחשב",dictRemoveFile:"הסרת קובץ",dictCancelUploadConfirmation:"ביטול העלאת קובץ",addRemoveLinks:!0},eventHandlers:{success:function(t,n){e.selected.UploadedFileName=t.name},maxfilesexceeded:function(e){var t=this;window.setTimeout(function(){t.removeFile(e)},200)}}},e.isInputValid=function(){if(e.selected.LinkType.Value)switch(e.selected.LinkType.Value){case 1:return sportUtils.ValidateUrl(e.selected.ExternalUrl+"").length>0;case 2:return e.selected.UploadedFileName&&e.selected.UploadedFileName.length>0}return!0},e.Delete=function(){n.ask("האם להסיר קישור מתמונה זו?").then(function(){t.close({Remove:!0})})},e.cancel=function(){t.dismiss("cancel")},e.confirm=function(){t.close({Type:e.selected.LinkType.Value,FileName:e.selected.UploadedFileName,ExternalUrl:sportUtils.ValidateUrl(e.selected.ExternalUrl)})}}angular.module("sport").controller("ImageLinkSelectionCtrl",["$scope","$uibModalInstance","messageBox","pageSeq","imageSeq","options","imageFileName","existingLink",e])}(),function(){"use strict";function e(e){function t(t,n){return e.open({templateUrl:"message.html",controller:"MessageCtrl",resolve:{message:function(){return t},options:function(){return n}}}).result}function n(e,n){return n||(n={}),n.cancelCaption||(n.cancelCaption="ביטול"),n.prompt&&window.setTimeout(function(){$("#userInput").focus()},1e3),t(e,n)}function a(e,n){return n||(n={}),n.isWarning=!0,t(e,n)}return{show:t,ask:n,warn:a}}function t(e,t,n,a,o){e.message=a,e.prompt=!1,e.htmlContents=!1,o&&(e.title=o.title,e.isWarning=o.isWarning,e.subTitle=o.subTitle,e.info=o.info,e.cancelCaption=o.cancelCaption,e.prompt=o.prompt,e.htmlContents=o.htmlContents,o.backgroundImage&&(e.style="background-image: url('"+o.backgroundImage+"');")),e.confirmCaption=o&&o.confirmCaption?o.confirmCaption:"אישור",e.htmlContents&&(e.message=n.trustAsHtml(e.message)),e.confirm=function(){t.close($("#userInput").val())},e.cancel=function(){t.dismiss("cancel")}}angular.module("sport").controller("MessageCtrl",["$scope","$uibModalInstance","$sce","message","options",t]).factory("messageBox",["$uibModal",e])}();var __psAvailablePageSizes=[5,10,20,50,100],__psDefaultPageSize=50,__psDefaultOptions={pageSize:__psDefaultPageSize,applyDataCallback:null},__psUniqueCounter=0,sportCustomizeMethods={AccessibilityComponent:{Customize:function(){var e=$(".accessibility_component .btn_accessibility");if(1==e.length){if(e.text().length>0){var t=e.find("img");e.text(""),e.append(t)}var n=$(window).height();e.css({width:"40px",top:n-60+"px"})}}},OwlCarousel:{SetArrowLocation:function(e,t,n,a){var o=[];return null==t||isNaN(t)||o.push("top: "+t+"px !important;"),null==n||isNaN(n)||o.push("right: "+n+"px !important;"),null==a||isNaN(a)||o.push("left: "+a+"px !important;"),o.length>0&&e.css("cssText",o.join(" ")),o},SetArrowDisplay:function(e,t,n){var a=t.slice(0);a.push("display: "+n+" !important;"),e.css("cssText",a.join(" "))},Customize:function(){$("owl-carousel").each(function(){var e=$(this);if("1"!=e.data("handled")){var t=e.find(".owl-prev"),n=e.find(".owl-next"),a=parseInt(e.data("arrows-top")),o=parseInt(e.data("arrow-right")),i=parseInt(e.data("arrow-left")),r=sportCustomizeMethods.OwlCarousel.SetArrowLocation(t,a,o,null),s=sportCustomizeMethods.OwlCarousel.SetArrowLocation(n,a,null,i);e.bind("mouseover",function(){sportCustomizeMethods.OwlCarousel.SetArrowDisplay(t,r,"block"),sportCustomizeMethods.OwlCarousel.SetArrowDisplay(n,s,"block"),e.mouseOutTimer&&window.clearTimeout(e.mouseOutTimer)}).bind("mouseout",function(){e.mouseOutTimer&&window.clearTimeout(e.mouseOutTimer),e.mouseOutTimer=window.setTimeout(function(){sportCustomizeMethods.OwlCarousel.SetArrowDisplay(t,r,"none"),sportCustomizeMethods.OwlCarousel.SetArrowDisplay(n,s,"none")},500)}),e.data("handled","1")}})}},TeamPunch:{Mobile:{Customize:function(){var e=$(".tp-banner-container");if(e.length>0){var t=e.find(".rev_caption");t.css("margin-right","15px"),t.find("p").css("font-size","12px"),e.find(".event_date").css("margin-bottom","10px")}}}},TopMenu:{Customize:function(e,t){function n(){var e=$("#schoolSportSideNav"),t=0,n=$("<i></i>").addClass("fa").addClass("fa-plus-square-o").css("margin-left","5px"),a=function(e,o,i){void 0!==i&&null!=i||(i=""),t++;var r="schoolSportSideNav_"+t;o.data("menu-id",r),o.attr("href","javascript:void(0)"),o.attr("onclick","OpenSubMenu(this);"),o.prepend(n.clone());var s=$("<div></div>");return s.addClass("sub-menu"),i.length>0&&s.addClass(i),s.attr("id",r),e.find("> ul > li").each(function(){var e=$(this),t=e.find("> a").first();if(1==t.length){var n=e.find("> .sub_menu_inner"),o=null;1==n.length?o=a(n,t,"sub-menu-level2"):t.bind("click",closeNav),s.append(t),null!=o&&s.append(o)}}),s};$(".main_menu>ul>li").each(function(){var t=$(this),n=t.find("a").first();n.find("i").remove();var o=t.find("> .sub_menu_wrap"),i=null;1==o.length?i=a(o,n):n.bind("click",closeNav),e.append(n),null!=i&&e.append(i)})}t&&$(".top_menu_button > .popup").css({right:"0px",left:"0px"});var a=$(".main_menu");if(1==a.length){var o=$("#lnkHome"),i=$("#GoogleMapsFrame");return void(t?(i.hide(),function(e,t){console.log("mobile screen detected"),window.qL_Finish_Now=!0,window.setInterval(function(){$(".accessibility_div_wrap").hide()},1e3),window.setTimeout(function(){$(window).scrollTop(0)},2e3),$(".main_menu > ul > li > a").css({"background-color":"transparent","border-color":"transparent","line-height":"auto",width:"100%","text-align":"right"}),$(".main_menu > ul > li > a > br").replaceWith("<span>&nbsp;</span>"),n()}()):(i.attr("src",i.data("src")),function(t,n){var a=t.width();if(a+n.width()>e&&n.position().left<0&&n.parents("div").first().css("width","100%"),e&&a>e){console.log("menu resize"),$("#MenuContainer").css("left","0%");for(var o=0;o<=20;){var i=0;if($(".main_menu > ul > li > a").each(function(){var e=$(this),t=parseInt(e.css("width"));!isNaN(t)&&t>=70&&(t-=3,e.css("width",t+"px"),i+=t+12)}),i<e)break;o++}}}(a,o)))}window.setTimeout(function(){sportCustomizeMethods.TopMenu.Customize(e,t)},100)}},ScreenSize:{Customize:function(){if(1==$("body").length){var e=$("body").width();if(e>0){var t=sportUtils.IsMobile();return t&&window.setInterval(sportCustomizeMethods.TeamPunch.Mobile.Customize,1500),void window.setTimeout(function(){sportCustomizeMethods.TopMenu.Customize(e,t)},100)}}window.setTimeout(sportCustomizeMethods.ScreenSize.Customize,100)}}};window.setInterval(sportCustomizeMethods.AccessibilityComponent.Customize,1e3),window.setInterval(sportCustomizeMethods.OwlCarousel.Customize,1e3),window.setTimeout(sportCustomizeMethods.ScreenSize.Customize,100),function(){"use strict";function e(e,t,n,a){function o(e){e.FirstDay&&(e.FirstDay=new Date(e.FirstDay)),e.LastDay&&(e.LastDay=new Date(e.LastDay))}function i(){return e.get("/api/seasons?season=all").then(function(e){for(var t=0;t<e.data.length;t++)o(e.data[t]);return e.data})}function r(){return e.get("/api/sportsman/seasons-in-use").then(function(e){for(var t=0;t<e.data.length;t++)o(e.data[t]);return e.data})}return{sportFields:function(t){void 0===t&&(t=!1);return e.get("/api/common/sports").then(function(e){for(var n=e.data,a={},o={},i=0;i<n.length;i++){var r=n[i];a[r.Seq.toString()]=r.Name,o[r.Seq.toString()]=r.ShortName}return t?{Full:a,Short:o}:a})},seasons:{all:i,inUse:r},currentSeason:function(e){void 0===e&&(e=0);var t=a.defer(),n=sportUtils.getCurrentSeason().Season;return e?t.resolve(e):n&&n>0?t.resolve(n):r().then(function(e){e.length>0?(n=e.findItem(function(e){return e.IsCurrent}),null==n&&(e.sort(function(e,t){return e.Season-t.Season}),n=e.lastItem()),t.resolve(n.Season)):t.reject("אין עונות בשימוש")},function(e){t.reject(e)}),t.promise}}}angular.module("sport").factory("SportService",["$http","$httpParamSerializer","$filter","$q",e])}(),String.prototype.compareTo=function(e){return this==e?0:this>e?-1:1},String.prototype.endsWith=function(e){return this.toLowerCase().lastIndexOf(e.toLowerCase())==this.length-e.length},String.prototype.startsWith=function(e){return 0==this.toLowerCase().indexOf(e.toLowerCase())},String.prototype.startsWithEnglishLetter=function(){if(this.length>0){var e=this.charAt(0).toLowerCase();return e>="a"&&e<="z"}return!1},Array.prototype.sortByProperty=function(e){this.sort(function(t,n){var a=t[e],o=n[e];return a<o?-1:a>o?1:0})},Array.prototype.setForAll=function(e,t){this.forEach(function(n){n[e]=t})},Array.prototype.take=function(e){for(var t=[],n=this,a=0;a<n.length&&!(t.length>=e);a++)t.push(n[a]);return t},Array.prototype.partialJoin=function(e,t){for(var n=[],a=this,o=0;o<t.length;o++){var i=t[o];i>=0&&i<a.length&&n.push(a[i])}return n.join(e)},Array.prototype.skip=function(e){for(var t=[],n=this,a=e;a<n.length;a++)t.push(n[a]);return t},Array.prototype.SplitByProperty=function(e){if(void 0===e||!e)return{};for(var t=this,n={},a=0;a<t.length;a++){var o=t[a],i=o[e].toString();n[i]||(n[i]=[]),n[i].push(o)}return n},Array.prototype.expand=function(e,t,n){void 0===n&&(n=!1);for(var a=this.length;a<t;a++)this.push(function(){if(n){var t={};for(var a in e)t[a]=e[a];return t}return e}())},Array.prototype.trimAfter=function(e){this.splice(e)},Array.prototype.removeItem=function(e,t){var n=this;void 0===t&&(t=n.indexOf(e)),t>=0&&n.splice(t,1)},Array.prototype.indexOf=function(e){for(var t=this,n=-1,a=0;a<t.length;a++)if(t[a]==e){n=a;break}return n},Array.prototype.moveItem=function(e,t){var n=this;n.splice(t,0,n.splice(e,1)[0])},Array.prototype.appendArray=function(e){if(null!=e&&e.hasOwnProperty("length"))for(var t=0;t<e.length;t++)this.push(e[t])},Array.prototype.mergeWith=function(e){for(var t=this,n=[],a=0;a<t.length;a++)n.push(t[a]);if(void 0!==e&&e.length)for(var a=0;a<e.length;a++)n.push(e[a]);return n},Array.prototype.lastItem=function(){var e=this;return 0==e.length?null:e[e.length-1]},Array.prototype.firstOrDefault=function(e){var t=this;return 0==t.length?e:t[0]},[].findIndex||(Array.prototype.findIndex=function(e){for(var t=this,n=0;n<t.length;n++)if(1==e(t[n]))return n;return-1}),[].findItem||(Array.prototype.findItem=function(e){for(var t=this,n=0;n<t.length;n++){var a=t[n];if(1==e(a))return a}return null}),Array.prototype.toAssociativeArray=function(e,t,n){var a=this;void 0===e&&(e=!0),void 0===t&&(t=""),void 0===n&&(n="");for(var o={},i=0;i<a.length;i++){var r=a[i],s=t.length>0&&r.hasOwnProperty(t)?r[t].toString():r.toString(),l=n.length>0&&r.hasOwnProperty(n)?r[n]:e;o[s]=l}return o},Array.prototype.distinct=function(){for(var e=this,t={},n=[],a=0;a<e.length;a++){var o=null==e[a]?"":e[a],i=o.toString();t[i]||(n.push(o),t[i]=!0)}return n},Array.prototype.Sum=function(e){void 0===e&&(e="");var t=this;e.length>0&&(t=t.map(function(t){return t[e]}));for(var n=0,a=0;a<t.length;a++){var o=null==t[a]?0:parseInt(t[a],10);isNaN(o)||(n+=o)}return n},Date.prototype.withoutTime=function(){var e=new Date(this);return e.setHours(0,0,0,0,0),e},Date.prototype.isSameDate=function(e){var t=this;return t.getFullYear()==e.getFullYear()&&t.getMonth()==e.getMonth()&&t.getDate()==e.getDate()};var sportGlobalSettings={RecentAmount:999,RecentFlowersContent:8,YoungSportsmenSeq:998,FlowersFieldSeq:999,GeneralSportFieldSeq:1e3,LocalStorageKeys:{CurrentSeason:{Name:"school_sport_season_name",Year:"school_sport_season_hebrew_year"}}},sportUtils={scrollToTopInterval:0,scrollToTopEventsAttached:!1,scrollToTopCounter:0,hebrewLetters:["א","ב","ג","ד","ה","ו","ז","ח","ט","י","כ","ל","מ","נ","ס","ע","פ","צ","ק","ר","ש","ת"],grades:["א'","ב'","ג'","ד'","ה'","ו'","ז'","ח'","ט'","י'",'י"א','י"ב'],hebrewNumbers:{Asarot:["","עשרים","שלושים","ארבעים","חמישים","שישים","שבעים","שמונים","תשעים"],OneToTenMale:["אחד","שני","שלושה","ארבעה","חמישה","שישה","שבעה","שמונה","תשעה","עשרה"],OneToTenFemale:["אחת","שתי","שלוש","ארבע","חמש","שש","שבע","שמונה","תשע","עשר"]},IsMobile:function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},GetCurrentDate:function(){return new Date},FocusElement:function(e){var t=$(e).first();if(1==t.length){var n=$("input").attr("type","text");return n.prependTo(t),n.focus(),n.remove(),window.scrollY}return 0},HideWhenFramed:function(e){"1"==sportUtils.ParseQueryString().iframe&&e.forEach(function(e){e.length>0&&$(e).hide()})},ApplyEnglishChampionship:function(){function e(e){e.children("div").eq(0).appendTo(e),e.children("div").eq(1).prependTo(e)}function t(){function e(e){for(var t in e){$("#"+t).parents(".col-lg-4").first().find(".tabs_nav>li").each(function(){$(this).css("float","left")})}}var n={lblChoosePhase:"Choose phase",lblChooseGroup:"Choose group",lblChooseRound:"Choose round",lblGamesPlan:"Games Plan",lblTeamsList:"Teams List",lblFacilitiesList:"Facilities List"};if(3!=$("#pnlCategoryChooseFilters>div").length)window.setTimeout(t,100);else{$("#pnlCategoryChooseFilters>div").eq(0).appendTo($("#pnlCategoryChooseFilters")),$("#pnlCategoryChooseFilters>div").eq(1).prependTo($("#pnlCategoryChooseFilters")),$("#pnlGamesAndTeams>div").eq(0).appendTo($("#pnlGamesAndTeams")),$("#pnlTeamsList").css("text-align","left"),$("#pnlFacilitiesList").css("text-align","left"),$("#lblRankingTable").text("Ranking Table"),$("#lblRankingTable").css("text-transform","none"),$("#pnlFullTableButton").removeClass("pull-left").addClass("pull-right"),$("#lblFullTableButton").text("Full table"),$("#lblRankingTableTeamName").text("Team Name"),$("#lblRankingTableScore").text("Score"),$("#lblFullTableButton")[0].style.setProperty("margin-left","50px","important"),$("#lblFullTableButton").parents("a").first().css({width:"200px",height:"32px"}),$(".tabs_container").each(function(){this.style.setProperty("float","left","important")});for(var a in n){var o=$("#"+a);o.text(n[a]),o.css({"text-align":"left","text-transform":"none"}),o.parents(".col-lg-4").first().find(".tabs_nav>li").each(function(t){"lblChoosePhase"==a&&0==t&&$(this).text("All phases"),$(this).bind("click",function(){window.setTimeout(function(){e(n)},500)})})}e(n);var i=$("#lblFullChampionshipName").text().split(" ");if(i.length>2){var r=i.take(i.length-2);$("#lblFullChampionshipName").text(r.join(" "))}}}var n=sportUtils.ParseQueryString();"1"!=n.English&&"1"!=n.english||($(".section_title").css("text-align","left"),window.setTimeout(t,100),window.setInterval(function(){$("h3").css("text-align","left"),$(".match-group").css("direction","ltr"),$(".match-row").each(function(){var t=$(this);"1"!=t.data("switched-cells")&&(e(t),t.data("switched-cells","1"),t.find(".match-facility-container").css("text-align","left"),t.find(".facility-label").text("Facility:"),t.find(".match-time-container").css("text-align","left"),t.find(".time-label").text("Time:"),t.find(".match-delayed-game").hide())}),$(".match-date-label").each(function(){var e=$(this);"1"!=e.data("replaced-text")&&(e.text(e.text().replace("תאריך:","Date:")),e.data("replaced-text","1"))})},1e3))},MobileStyle:function(e,t,n){void 0===t&&(t=""),void 0===n&&(n="");var a=n;return a+=function(e,t){var n="";return t.length>0&&(e.length>0&&(n+=" "),n+=t),n}(a,sportUtils.IsMobile()?t:e)},TranslateGrade:function(e,t){if(null!=e&&e>0&&null!=t){var n=t-e;if(n>=0&&n<sportUtils.grades.length)return sportUtils.grades[n]}return""},WaitForElements:function(e,t){function n(a,o){if(200*o>1e3*t)a.reject("timeout");else{var i={},r=0;e.forEach(function(e){var t=$(e);t.length>0&&(i[e]=t,r++)}),r>=e.length?a.resolve(i):window.setTimeout(function(){n(a,o+1)},200)}}var a=jQuery.Deferred();return n(a,0),a.promise()},DoWhenReady:function(e,t,n){if(void 0===n&&(n=0),!(n>1e4)){var a=$(e);if(a.length>0)return void t(a);window.setTimeout(function(){sportUtils.DoWhenReady(e,t,n+1)},2e3)}},CssWhenReady:function(e,t,n){sportUtils.DoWhenReady(e,function(e){var a=null;void 0===n?a=t:(a={},a[t]=n),e.css(a)})},Login:function(e,t,n,a){var o=e.defer(),i=$.trim(n||""),r=a||"";return i.length>0&&r.length>0?t.post("/api/login",{username:i,password:r}).then(function(e){var t=e.data;window.localStorage.setItem("logged_username",i),window.localStorage.setItem("logged_display_name",t.displayName),window.localStorage.setItem("logged_role",t.role),window.localStorage.setItem("logged_user_seq",t.seq),o.resolve(e.data)},function(e){e&&401==e.status?o.reject("שם משתמש ו/או סיסמה שגויים"):o.reject("שגיאה בעת התחברות")}):o.reject("יש להזין שם  וסיסמא"),o.promise},IsValidEmail:function(e){var t=$.trim((e||"").toString());if(0==t.length)return!0;var n=t.split("@");if(2!=n.length)return!1;var a=$.trim(n[0]),o=$.trim(n[1]);return 0!=a.length&&0!=o.length&&!("."==o.substr(0,1)||"."==o.substr(o.length-1,1)||o.indexOf(".")<0)},ParseHebrewCurrency:function(e){function t(e){var t="";e=e.filter(function(e){return e.length>0});for(var n=0;n<e.length;n++){var a=e[n];n>0&&(t+=" ",e.length>1&&n==e.length-1&&(t+="ו","שני"!=a&&"שתי"!=a||(a+="ם"))),t+=a}return t}function n(e,a,o){if(void 0===o&&(o=[]),(e=Math.floor(e))>=1e5)return e.toString();var i=Math.floor(e/1e3);if(i>0){var r=e%1e3,s="";s=1==i?"אלף":2==i?"אלפיים":n(i,!1)+" אלף",o.push(s);var l=n(r,a);return o.push(l),t(o)}var c=Math.floor(e/100);if(c>0){var r=e%100,u="";u=1==c?"מאה":2==c?"מאתיים":n(c,!1)+" מאות",o.push(u);var l=n(r,a);return o.push(l),t(o)}if(e<=0)return t(o);if(1==e)return o.push(a?"אחד":"אחת"),t(o);var d=a?sportUtils.hebrewNumbers.OneToTenMale:sportUtils.hebrewNumbers.OneToTenFemale;if(e<=10)return o.push(d[e-1]),t(o);if(e%10==0){var p=Math.floor(e/10);return o.push(sportUtils.hebrewNumbers.Asarot[p-1]),t(o)}if(e<20){e-=10;var g=d[e-1];2==e&&(g+="ם");var h=a?sportUtils.hebrewNumbers.OneToTenFemale[9]:sportUtils.hebrewNumbers.OneToTenMale[9];return o.push(g+" "+h),t(o)}var f=e%10,m=n(e-f,!1);return o.push(m),o.push(n(f,a)),t(o)}for(;e.indexOf(",")>0;)e=e.replace(",","");e=e.replace("/","."),e=e.replace("\\","."),e=e.replace("|",".");var a=parseFloat(e);if(!isNaN(a)){var o=parseInt(a),i=parseInt(a%1*100+.5);if(o>0&&i>=0){var r=n(o,!0);1==o?r="שקל "+r:r+=" שקלים";var s=n(i,!1),l=r+"";return s.length>0&&(1==i?s="אגורה "+s:s+=" אגורות",l+=" ו"+s),l+" בלבד"}}return""},IsValidInteger:function(e){return!isNaN(Number(e))&&e%1==0},IsValidPhoneNumber:function(e){var t=$.trim((e||"").toString()).replace("+","").replace("972","").replace("-","");return 0==t.length||!(t.length<9)&&sportUtils.IsValidInteger(t)},ParseQueryString:function(e){if((void 0===e||null==e)&&(e=window.location.search||"",0==e.length)){var t=window.location.hash||"",n=t.indexOf("?");n>=0&&(e=t.substr(n))}var a={};if(0==e.indexOf("?"))for(var o=e.substr(1).split("&"),i=0;i<o.length;i++){var r=o[i];if(r.length>0){var s=r.split("=");2==s.length&&s[0].length>0&&(a[s[0]]=s[1]||"")}}return a},RemoveSpecialCharacters:function(e){for(var t="`~!@#$%^&*()-=_+/\\[]{};:'\"|,<>?",n="",a=0;a<e.length;a++){var o=e.charAt(a);t.indexOf(o)<0&&(n+=o)}return n},GetHebrewLetter:function(e){if(null!=e&&e){var t=e-1;if(t>=0&&t<sportUtils.hebrewLetters.length)return sportUtils.hebrewLetters[t]}return""},InitCustomSelect:function(){$(".custom_select").each(function(){var e=$(this).children("ul"),t=$(this).find("select"),n=$(this).find(".select_title");if($(this).find("[data-filter]").length)for(var a=0,o=t.children("option").length;a<o;a++)e.append('<li data-filter="'+t.children("option").eq(a).data("filter")+'">'+t.children("option").eq(a).text()+"</li>");else for(var a=0,o=t.children("option").length;a<o;a++)e.append("<li>"+t.children("option").eq(a).text()+"</li>");t.hide(),n.on("click",function(){e.slideToggle(400),$(this).toggleClass("active")}),e.on("click","li",function(){var a=$(this).text();n.text(a),e.slideUp(400),t.val(a),n.toggleClass("active")})})},ValidateUrl:function(e){return void 0!==e&&null!=e&&e&&0!=e.toString().length?e.indexOf(".")<1?"":(e=e.toLowerCase(),e.indexOf("http://")<0&&e.indexOf("https://")<0&&(e="http://"+e),e):""},countWords:function(e){if(null==e||!e||0==e.toString().length)return 0;for(var t=e.toString();t.indexOf("  ")>0;)t=t.replace("  "," ");return t.split(" ").length},parseDate:function(e){if(null!=e&&8==e.toString().length){var t=parseInt(e.substr(0,2)),n=parseInt(e.substr(2,2)),a=parseInt(e.substr(4,4));if(!isNaN(t)&&t>0&&t<=31&&!isNaN(n)&&n>0&&n<=12&&!isNaN(a)&&a>1900&&a<=2100)return new Date(a,n-1,t)}return null},isNullOrEmpty:function(e){return void 0===e||(null==e||0==$.trim(e.toString()).length)},shallowCopy:function(e){var t={};if(null!=e)for(var n in e)t[n]=e[n];return t},VerifyUser:function(e,t,n,a){function o(){t.Unauthorized=!0,window.qL_Finish_Now=!0,null!=a&&a(!1)}function i(){null!=a?a(!0):ChainFactory.Next()}void 0===n&&(n=[]),void 0===a&&(a=null),e.get("/api/login").then(function(e){e&&e.data?(t.LoggedInUser=sportUtils.shallowCopy(e.data),1==e.data.role?i():n.indexOf(e.data.role)>=0?i():o()):o()},function(e){console.log("error verifying user"),console.log(e),o()})},AttachAutoClick:function(){
$(".auto-click").off("keypress"),$(".auto-click").keypress(function(e){var t=$(this),n=t.data("button-id");if(n){13==(e.keyCode||e.which)&&(e.preventDefault(),$("#"+n).trigger("click"),t.trigger("change"))}})},AddIfDoesNotExist:function(e,t,n){var a=t.toString();e[a]||(e[a]=n)},FlattenAssociativeArray:function(e,t){void 0===t&&(t=null);var n=[];for(var a in e)null!=t&&e[a]!=t||n.push(a);return n},SplitArray:function(e,t){(void 0===t||t<1)&&(t=1);for(var n=[],a=[],o=0;o<e.length;o++){var i=e[o];o>0&&o%t==0&&(n.push(a),a=[]),a.push(i)}return a.length>0&&n.push(a),n},CopyArray:function(e,t){if(e&&t)for(var n=0;n<e.length;n++){var a=e[n];t.push(a)}},InsertIntoArray:function(e,t){for(var n=[t],a=0;a<e.length;a++)n.push(e[a]);return n},DistinctArray:function(e,t){void 0===t&&(t="");for(var n={},a=[],o=0;o<e.length;o++){var i=null==e[o]?"":e[o],r=t.length>0?(i[t]||"").toString():i.toString();n[r]||(a.push(i),n[r]=!0)}return a},IsArray:function(e){return!!e&&e.constructor===Array},EncodeHTML:function(e){void 0!==e&&null!=e||(e="");for(var t=e.toString();t.indexOf("\r\n")>=0;)t=t.replace("\r\n","\n");for(;t.indexOf("\n\r")>=0;)t=t.replace("\n\r","\n");for(;t.indexOf("\n")>=0;)t=t.replace("\n","<br />");return t},StripHtmlTags:function(e){var t="";if(e&&e.length>0)for(var n=!1,a="",o=0;o<e.length;o++){var i=e.charAt(o);n&&">"==i?(n=!1,a=""):("<"==i&&(n=!0,a=""),n?a+=i:t+=i)}return a.length>0&&(t+=a),t},CreateShortVersion:function(e,t,n){var a=this;if(null==e||!e||0==e.length)return"";void 0===n&&(n=!0);var o=a.StripHtmlTags(e);if(o.length>t){for(var i=" ,.-()[]{}?!",r=t;r>=0&&!(i.indexOf(o.charAt(r))>=0);)r--;r>0&&(o=o.substr(0,r),n&&(o+="..."))}return o},HebrewMonthName:function(e){switch(e){case 1:return"ינואר";case 2:return"פברואר";case 3:return"מרץ";case 4:return"אפריל";case 5:return"מאי";case 6:return"יוני";case 7:return"יולי";case 8:return"אוגוסט";case 9:return"ספטמבר";case 10:return"אוקטובר";case 11:return"נובמבר";case 12:return"דצמבר"}return""},InitJackbox:function(){$(".jackbox[data-group]").length&&($(".jackbox[data-group]").each(function(){var e=$(this),t=10;try{e.jackBox("removeItem")}catch(e){t=1e3}window.setTimeout(function(){e.jackBox("init",{showInfoByDefault:!1,deepLinking:!1,preloadGraphics:!1,fullscreenScalesContent:!0,autoPlayVideo:!1,flashVideoFirst:!1,defaultVideoWidth:960,defaultVideoHeight:540,baseName:".jackbox",className:".jackbox",useThumbs:!0,thumbsStartHidden:!1,thumbnailWidth:75,thumbnailHeight:50,useThumbTooltips:!1,showPageScrollbar:!1,useKeyboardControls:!0})},t)}),window.setInterval(function(){var e=$(".jackbox-content");if(e.length>0){for(var t=e.attr("src"),n=null,a=$("#galleryContainer").find("img"),o=0;o<a.length;o++){var i=a.eq(o);if(i.attr("src")==t){n=i;break}}if(null!=n){var r=$.trim(n.parents("li").find(".image-description").text());$(".jackbox-custom-title").text(r)}}},1e3))},autoSizeFrames:[],autoSizeTimer:0,FrameAutoSize:function(e){sportUtils.IsMobile()||e&&e.Id&&e.Id.length>0&&sportUtils.autoSizeFrames.indexOf(e.Id)<0&&(sportUtils.autoSizeFrames.push(e),sportUtils.autoSizeTimer||(sportUtils.autoSizeTimer=window.setInterval(function(){for(var e=0;e<sportUtils.autoSizeFrames.length;e++){var t=sportUtils.autoSizeFrames[e],n=t.Id,a=$("#"+n);if(1==a.length){var o=a.parent();if(o.length>0){var i=o.width();if(i>0){var r=parseInt(a.data("previousParentWidth"));if(isNaN(r)||r!=i){var s=t.Src.replace("$width",i.toString());a.attr("src",s),a.data("previousParentWidth",i)}}}}}},1e3)))},IsInteger:function(e){return parseInt(e,10)==e},getRoundedRectangleClass:function(e,t){var n=["common_rounded_rectangle"];return e.Selected?n.push("selected_rounded_rectangle"):n.push("transparent_rounded_rectangle"),void 0!==t&&t&&n.push(t),n.join(" ")},getRoundedRectangleStyle:function(e,t){var n="border-color: "+t+";";return e.Selected&&(n+=" background-color: "+t+";"),n},getCurrentSeason:function(){return{Name:localStorage[sportGlobalSettings.LocalStorageKeys.CurrentSeason.Name]||"",Season:localStorage[sportGlobalSettings.LocalStorageKeys.CurrentSeason.Year]||0}},setCurrentSeason:function(e){null!=e&&e.Season>0?(localStorage[sportGlobalSettings.LocalStorageKeys.CurrentSeason.Name]=e.Name,localStorage[sportGlobalSettings.LocalStorageKeys.CurrentSeason.Year]=e.Season):(localStorage.removeItem(sportGlobalSettings.LocalStorageKeys.CurrentSeason.Name),localStorage.removeItem(sportGlobalSettings.LocalStorageKeys.CurrentSeason.Year))},IsValidIdNumber:function(e){var t=String(e);if(t.length>9||t.length<5||isNaN(t))return!1;for(;t.length<9;)t="0"+t;for(var n,a=0,o=0;o<9;o++)n=Number(t.charAt(o)),n*=o%2+1,n>9&&(n-=9),a+=n;return a%10==0},HandleFinalsTree:function(){function e(e){return $.trim(e.find(".team-name").text())}function t(e){return parseInt($.trim(e.find(".team-score").text()))}if($(".quarter-finals-right-side").length>0){var n=$(".quarter-finals-right-side").first(),a=$(".FinalsTreeContainer"),o=n.position().left+n.width(),i=$(".FinalsTreeContainer").parents(".row").first().width();if(i>o){var r=Math.floor((i-o)/2);a.css("left",r+"px")}var s=$(".team-box.finals");if(2==s.length){var l=s.eq(0),c=s.eq(1),u={},d={};u[e(l)]=!0,u[e(c)]=!0;var p=t(l),g=t(c);isNaN(p)||isNaN(p)||(p>g?l.addClass("winner-team"):g>p&&c.addClass("winner-team"))}$(".team-box.semi-finals-right-side,.team-box.semi-finals-left-side").each(function(){var t=$(this),n=e(t);d[n]=!0,1==u[n]&&t.addClass("winner-team")}),$(".team-box.quarter-finals-left-side,.team-box.quarter-finals-right-side").each(function(){var t=$(this),n=e(t);1==d[n]&&t.addClass("winner-team")})}window.setTimeout(sportUtils.HandleFinalsTree,500)},InitiateScrollToTopProcess:function(){function e(t){sportUtils.scrollToTopInterval&&(t.target&&"qLoverlay"==t.target.id||(window.clearInterval(sportUtils.scrollToTopInterval),sportUtils.scrollToTopInterval=0,$(document).unbind("mousemove keyup keydown touchstart touchmove mousewheel",e)))}0==sportUtils.scrollToTopInterval&&(sportUtils.scrollToTopInterval=window.setInterval(function(){if(sportUtils.scrollToTopCounter>=50)return void window.clearInterval(sportUtils.scrollToTopInterval);document&&document.body&&document.body.scrollTop>0&&(document.body.scrollTop=0,sportUtils.scrollToTopCounter++,sportUtils.scrollToTopEventsAttached||($(document).bind("mousemove keyup keydown touchstart touchmove mousewheel",e),sportUtils.scrollToTopEventsAttached=!0))},100))},IntegerOnlyTextbox:function(e){var t=$("#"+e);1==t.length&&(t.unbind("keypress",IntegerTextboxKeyPress).unbind("blur",IntegerTextboxBlur),t.bind("keypress",IntegerTextboxKeyPress).bind("blur",IntegerTextboxBlur))},SerializeForQueryString:function(e,t,n){void 0===n&&(n=!1);var a=[];for(var o in e){var i=e[o];if(null!=i&&(0==n||1==n&&!isNaN(parseInt(i)))){var r=t+o.toString();a.push(r+"="+encodeURIComponent(i))}}return a.join("&")}},ChainFactory={Callbacks:[],CurrentIndex:0,Next:function(){if(this.CurrentIndex<this.Callbacks.length){var e=this.CurrentIndex;this.CurrentIndex++,this.Callbacks[e]()}},Execute:function(){this.Callbacks=[],this.CurrentIndex=0;for(var e=0;e<arguments.length;e++){var t=arguments[e];"function"==typeof t&&this.Callbacks.push(t)}this.Next()}},_sportUtilMiscTimer_Counter=0,_sportUtilMiscTimer=window.setInterval(TimedFunctions,200);!function(){"use strict";function e(e,t,n,a,o,i){function r(t,n){var o=5242880,i=function(){var e=n.type;return e&&0!=e.length&&"image"==e.split("/")[0].toLowerCase()?n.size>o?"גודל קובץ מקסימלי הוא "+(o/1048576).toFixed(1)+" מגהבייט":"":"ניתן להעלות קובץ תמונה בלבד"}();return!(i.length>0)||(e.$apply(function(){e.imageUploadError=i}),window.setTimeout(function(){t.removeFile(n)},200),a(function(){e.imageUploadError=""},5e3),!1)}e.imageFileNames=i,e.pageSeq=o,e.imageUploadError="",e.selectImage=function(e,t){void 0===t&&(t=0),n.close({FileName:e,FileSize:t})},e.dropzoneConfig={options:{paramName:"files",maxFiles:1,url:"/content/Images/"+o,autoProcessQueue:!0,dictDefaultMessage:"אפשר לגרור לכאן תמונה חדשה, או ללחוץ להעלאה מהמחשב",dictRemoveFile:"הסרת תמונה",dictCancelUploadConfirmation:"ביטול העלאת תמונה",addRemoveLinks:!0},eventHandlers:{success:function(t,n){r(this,t)&&e.selectImage(t.name,t.size)},maxfilesexceeded:function(e){var t=this;window.setTimeout(function(){t.removeFile(e)},200)}}},e.cancel=function(){n.dismiss("cancel")}}angular.module("sport").controller("ThumbnailSelectionCtrl",["$scope","$http","$uibModalInstance","$timeout","pageSeq","images",e])}();var bannerUtils={ApplyFrequencyPercentage:function(e){if(e.length>0){var t=e.Sum("Frequency");if(1==e.length||0==t){e[0].FrequencyPercentage=100;for(var n=1;n<e.length;n++)e[n].FrequencyPercentage=0}else e.forEach(function(e){var n=Math.floor(e.Frequency/t*100+.5);e.FrequencyPercentage=n})}},ApplyDirtyState:function(e){if(e.Seq){if(!e.original_Seq){var t=[];for(var n in e)-1==n.indexOf("$")&&"FrequencyPercentage"!=n&&"Submitting"!=n&&t.push(n);e.OriginalProperties=t,t.forEach(function(t){e["original_"+t]=e[t]})}if(e.OriginalProperties&&e.OriginalProperties.length>0){for(var a=!1,o=0;o<e.OriginalProperties.length;o++){var n=e.OriginalProperties[o];if(e["original_"+n]!=e[n]){a=!0;break}}e.IsDirty=a}}}};!function(){"use strict";function e(e,t,n,a,o,i,r){function s(){sportUtils.VerifyUser(n,e,[3]),window.qL_step_finished=!0}function l(){e.generalData.NewBanner={CanSave:!1,Frequency:10},e.generalData.NewBanner.Location=e.generalData.possibleLocations[0]}function c(t){var n=e.banners.filter(function(e){return e.BannerType==t});bannerUtils.ApplyFrequencyPercentage(n)}function u(){for(var t=0;t<e.banners.length;t++){var n=e.banners[t];n.VideoPath="/content/Banners/"+n.Seq+"/"+n.FileName,n.Location=e.generalData.possibleLocations.findItem(function(e){return e.BannerType==n.BannerType})}e.banners.map(function(e){return e.BannerType}).distinct().forEach(function(e){c(e)}),window.qL_step_finished=!0,window.qL_Finish_Now=!0}function d(){e.error=!1,n.get("/api/banners").then(function(t){if(e.banners=[],t.data&&t.data.length)for(var n=0;n<t.data.length;n++)e.banners.push(t.data[n]);u()},function(t){console.log("error reading banners"),console.log(t),e.error=!0,window.qL_step_finished=!0,window.qL_Finish_Now=!0})}function p(t,n){function a(t,n){var a=null;null!=(a="new"==t?e.generalData.NewBanner:e.banners.findItem(function(e){return e.Seq==t}))&&(a.uploadError=n)}var i=function(){var e=n.type,t=!e||0==e.length,a=e.split("/")[1].toLowerCase();return t||"webm"!=a&&"mp4"!=a?"ניתן להעלות קובץ webm או mp4 בלבד":""}();return!(i.length>0)||(e.$apply(function(){a(g.ActiveBannerSeq,i)}),window.setTimeout(function(){t.removeFile(n)},200),o(function(){a(g.ActiveBannerSeq,"")},5e3),!1)}var g={ActiveBannerSeq:0},h={};e.banners=[],e.Unauthorized=!1,e.generalData={possibleLocations:[{BannerType:1,Name:"עמוד הבית"}]},l(),i(function(){for(var t=0;t<e.banners.length;t++){var n=e.banners[t];bannerUtils.ApplyDirtyState(n)}e.generalData.NewBanner.CanSave=e.generalData.NewBanner.BannerName&&e.generalData.NewBanner.FileName&&e.generalData.NewBanner.FileSize},1e3),e.dropzoneConfig={options:{paramName:"files",maxFiles:1,url:"/content/Banners/temp",autoProcessQueue:!0,dictDefaultMessage:"ניתן לגרור לכאן סרטון, או ללחוץ להעלאה מהמחשב",dictRemoveFile:"הסרת סרטון",dictCancelUploadConfirmation:"ביטול העלאת קובץ",addRemoveLinks:!0},eventHandlers:{success:function(t,n){var a=this;if(g.ActiveBannerSeq=$(this.element).parents(".banner-section").first().data("uniqueid"),p(this,t)){var o=null;o="new"==g.ActiveBannerSeq?e.generalData.NewBanner:e.banners.findItem(function(e){return e.Seq==g.ActiveBannerSeq}),null!=o&&(o.FileName=t.name,o.FileSize=t.size,h[g.ActiveBannerSeq.toString()]=a)}},maxfilesexceeded:function(e){var t=this;window.setTimeout(function(){t.removeFile(e)},200)}}},ChainFactory.Execute(s,d),window.qL_steps_amount=2,e.FocusNewBanner=function(){var e=$("#txtNewBannerName");if(e.length>0){var t=e.offset().top;document.body.scrollTop=t-120,e.focus()}},e.GetNewBannerSaveButtonStyle=function(){var t=["margin-bottom: 15px;"];return e.generalData.NewBanner.CanSave?t.push("cursor: pointer;"):(t.push("background-color: gray;"),t.push("text-decoration: none;")),t.join(" ")},e.GetNewBannerSaveButtonIconStyle=function(){return e.generalData.NewBanner.CanSave?"":"color: #d0d0d0; background-color: gray;"},e.GetFrequencyClass=function(e,t){var n="button button_type_icon_small icon button_grey_light";0==t&&(n+=" button_grey_light_zero");var a="button_grey_light_hover";return 0==t&&(a+="_zero"),e.Frequency==t&&(n+=" "+a),n},e.ChooseFrequency=function(e,t){e.Frequency=t,c(e.BannerType)},e.DeleteBanner=function(t){function a(t,n){if(t.Deleting.Active=!1,o(function(){t.Deleting=null},5e3),n){var a=e.banners.findIndex(function(e){return e.Seq==t.Seq});a>=0&&(e.banners.splice(a,1),c(t.BannerType))}else t.Deleting.Error=!0}var i="האם למחוק ";i+=t.BannerName?"את הפרסומת "+t.BannerName:"פרסומת זו",i+="?",i+="<br />פעולה זו אינה הפיכה!",r.ask(i).then(function(){t.Deleting={Active:!0},n.delete("/api/banners/"+t.Seq).then(function(e){a(t,!0)},function(e){a(t,!1)})})},e.Save=function(t){function a(e){e.IsDirty=!1,e.OriginalProperties&&e.OriginalProperties.forEach(function(t){e["original_"+t]=e[t]})}function i(e,t){e.Submitting.Active=!1,o(function(){e.Submitting=null},5e3),t?(e.Submitting.Success=!0,a(e)):e.Submitting.Error=!0}function r(e){var t=h[e.toString()];if(t)for(var n=0;n<t.files.length;n++){var a=t.files[n];t.removeFile(a)}}if(t.Seq||t.CanSave)if(t.Location&&(t.BannerType=t.Location.BannerType),t.Submitting={Active:!0},t.Seq)n.put("/api/banners",t).then(function(e){t.AttachmentSeq=e.data.AttachmentSeq,t.VideoPath="/content/Banners/"+t.Seq+"/"+t.FileName,i(t,!0),r(t.Seq)},function(e){i(t,!1)});else{var s=sportUtils.shallowCopy(e.generalData.NewBanner);s.BannerType=s.Location?s.Location.BannerType:1,n.post("/api/banners",s).then(function(t){s.Seq=t.data.BannerSeq,s.AttachmentSeq=t.data.AttachmentSeq,s.DateCreated=t.data.DateCreated,s.UploadedBy={Seq:e.LoggedInUser.seq,Login:e.LoggedInUser.name,Name:e.LoggedInUser.displayName,Role:e.LoggedInUser.role},s.VideoPath="/content/Banners/"+s.Seq+"/"+s.FileName,i(s,!0),r("new"),e.banners.push(s),l(),c(s.BannerType),o(function(){a(s)},1200)},function(e){i(s,!1)})}}}angular.module("sport.banners").controller("BannersController",["$scope","$state","$http","$filter","$timeout","$interval","messageBox",e])}(),function(){"use strict";function e(e,t,n,a,o,i,r,s,l,c,u,d){function p(){o.get("/api/sportsman/regions").then(function(t){if(e.allRegions=t.data.slice(0),null!=e.region){var n=e.region.REGION_ID;e.allRegions.forEach(function(e){e.REGION_ID==n&&(e.Selected=!0)})}})}function g(){e.sportFieldsInUse.All=sportUtils.DistinctArray(w.map(function(e){return e.SPORT_ID})).map(function(e){return{Id:e,Name:T[e.toString()]}});var t=sportUtils.SplitArray(e.sportFieldsInUse.All,D);if(t.length>0){for(var n=t[t.length-1],a=D-n.length,o=0;o<a;o++)n.push({Id:0,Name:"Blank_"+(o+1)});for(var o=0;o<t.length;o++){t[o].sort(function(e,t){return e.Id-t.Id})}}e.sportFieldsInUse.Rows=t}function h(){if(0==e.championshipsFilters.SportField)return e.championshipsFilters.Championship="",void(e.championshipsInUse.Rows=[]);var t=e.championshipsInUse.All.filter(function(t){return t.SportField==e.championshipsFilters.SportField}),n=sportUtils.SplitArray(t,P);if(n.length>0){for(var a=n[n.length-1],o=P-a.length,i=0;i<o;i++)a.push({SportField:0,Name:"Blank_"+(i+1)});for(var i=0;i<n.length;i++){n[i].sort(function(e,t){return e.SportField-t.SportField})}}e.championshipsInUse.Rows=n}function f(){if(""==e.championshipsFilters.Championship)return void(e.categoriesInUse.Rows=[]);var t=e.categoriesInUse.All.filter(function(t){return t.Championship==e.championshipsFilters.Championship});t.sortByProperty("Name");var n=sportUtils.SplitArray(t,F);if(n.length>0){for(var a=n[n.length-1],o=F-a.length,i=0;i<o;i++)a.push({SportField:0,Name:"Blank_"+(i+1)});for(var i=0;i<n.length;i++){n[i].sort(function(e,t){return e.SportField-t.SportField})}}e.categoriesInUse.Rows=n}function m(){l.sportFields().then(function(e){T=e,window.qL_step_finished=!0,ChainFactory.Next()},function(e){console.log("error reading sport fields: "+e),window.qL_step_finished=!0,ChainFactory.Next()})}function v(){function t(){var t=a.defer();return 0==n.region&&0==e.isClubs?u.sportFlowersEvents().then(function(e){t.resolve(e)},function(e){t.reject("שגיאה בעת  טעינת נתונים מהשרת")}):t.resolve([]),t.promise}var r=a.defer();return w=[],e.loading=!0,c.read({region:n.region,omitEmpty:0}).then(function(n){t().then(function(t){_=t.slice(0),o.get("/api/sportsman/permanent-championships").then(function(a){var o=a.data.slice(0),s={};o.forEach(function(e){s[e.CHAMPIONSHIP_CATEGORY_ID.toString()]=!0}),e.loading=!1;var l=1==e.isClubs?1:0;w=n.slice(0).filter(function(e){return e.IS_CLUBS==l&&!s[e.CHAMPIONSHIP_CATEGORY_ID.toString()]});for(var c=championshipsUtils.convertSportFlowersChampionships(t,i),u=0;u<c.length;u++){var d=c[u];w.push(d)}var p=w.toAssociativeArray(!0,"CHAMPIONSHIP_NAME","SPORT_ID");e.championshipsInUse.All=sportUtils.DistinctArray(w.map(function(e){return e.CHAMPIONSHIP_NAME})).map(function(e){return{Name:e,SportField:p[e]}}),h(),e.categoriesInUse.All=[];for(var m={},u=0;u<w.length;u++){var v=w[u],S=v.CATEGORY_NAME,y=v.CHAMPIONSHIP_NAME,C=v.SPORT_ID+"_"+y+"_"+S;v.SPORT_ID==sportGlobalSettings.FlowersFieldSeq&&(C+="_"+v.CHAMPIONSHIP_ID+"_"+v.CHAMPIONSHIP_CATEGORY_ID),m[C]||(e.categoriesInUse.All.push({Name:S,Championship:y,SportField:v.SPORT_ID,CategoryId:v.CHAMPIONSHIP_CATEGORY_ID,SportType:v.SPORT_TYPE}),m[C]=!0)}f(),g(),r.resolve("done")},function(t){e.loading=!1,r.reject(t)})},function(t){e.loading=!1,r.reject(t)})},function(t){e.loading=!1,r.reject("שגיאה בעת  טעינת נתונים מהשרת")}),r.promise}function S(t){I();var n=C(t);if(e.selectedCategory.Name=n,e.selectedCategory.ID=t.CategoryId,t.SportField!=sportGlobalSettings.FlowersFieldSeq)u.sportsmanEvents({category:t.CategoryId}).then(function(n){window.qL_step_finished=!0,n.sort(function(e,t){return e.Date.getTime()-t.Date.getTime()}),d.championship(t.CategoryId).then(function(a){window.qL_step_finished=!0,a&&a.length>0&&(e.selectedCategory.Pages=a,e.selectedCategory.Pages.forEach(function(e){e.BannerButtonClass="button banner_button "+contentUtils.GetBannerType(e.Type),e.HebrewType=contentUtils.HebrewPageType(e.Type)}),contentUtils.ApplyPagesData(e.selectedCategory.Pages));var r=60*(new Date).getTimezoneOffset()*1e3,l=t.Championship&&t.Championship.indexOf("כדורעף")>=0,u=n.map(function(e,t){var n=!1;return l||(n=!!e.DATE_CHANGED_DATE),{SPORT_ID:e.SPORT_ID,ROUND_NAME:e.ROUND_NAME,CYCLE_NAME:e.CYCLE_NAME,PHASE_NAME:e.PHASE_NAME,GROUP_NAME:e.GROUP_NAME,Date:e.Date,Group:e.NGROUP,Phase:e.PHASE,GameDetails:eventsUtils.BuildGameDetails(e),TeamA:eventsUtils.BuildTeamName(e,"A"),TeamB:eventsUtils.BuildTeamName(e,"B"),TeamA_Score:e.TEAM_A_SCORE,TeamB_Score:e.TEAM_B_SCORE,TeamA_Id:e.TEAM_A_ID,TeamB_Id:e.TEAM_B_ID,FacilityName:e.FACILITY_NAME,FacilityAddress:e.FACILITY_ADDRESS,FacilityCity:e.FACILITY_CITY,Result:e.RESULT,TimeWithoutZone:new Date(e.TimeWithoutZone),SecondsSinceEpoch:e.SecondsSinceEpoch,LocalTime:new Date(1e3*e.SecondsSinceEpoch+r),FormattedTime:e.FormattedTime,PartsData:championshipsUtils.ConvertPartsResult(e.PARTS_RESULT),HideDelayedMessage:l,IsDelayed:n,Id:t+1}});e.selectedCategory.LoadingPhases=!0,c.teams(t.CategoryId,u,t.SportType).then(function(n){var a=n.Teams,r={};if(a.Competitors)for(var l=0;l<a.Competitors.length;l++){var d=a.Competitors[l],p=d.TeamId;if(p){var g=d.PhaseIndex,h=p+"_"+g;r[h]||(r[h]=[]),r[h].push(d)}}var f=n.Tree;window.qL_step_finished=!0,c.selectedPhase(t.CategoryId).then(function(n){window.qL_step_finished=!0,e.selectedCategory.LoadingPhases=!1,e.selectedCategory.FinalsTree=f,e.selectedCategory.Matches=u,e.selectedCategory.SportType=t.SportType,sportUtils.HideWhenFramed(["#main_header",".breadcrumb","#pnlRegionSelection","#pnlChampionshipFiles","#pnlCategoryChooseFilters","#pnlChooseRegion","#pnlChooseSportAndCategory","#pnlChangeChampionship",".footer"]),sportUtils.ApplyEnglishChampionship();var l=function(t,n){void 0===n&&(n=null),t&&(e.selectedCategory.ShowMatches=!1),s(function(){e.selectedCategory.ShowMatches=!0,null!=n&&n()},1e3)},c={},d={};if(e.selectedCategory.Matches.forEach(function(e){c[e.TeamA]=e.TeamA_Id,c[e.TeamB]=e.TeamB_Id,e.FacilityName&&e.FacilityName.length>0&&(d[e.FacilityName]={Address:e.FacilityAddress,City:e.FacilityCity})}),1!=t.SportType){var p=[];for(var g in c)p.push({Name:g,Id:c[g]});var h=[];for(var m in d){var v=d[m],S="";v.Address&&v.Address.length>0&&(S=v.Address),v.City&&v.City.length>0&&S.indexOf(v.City)<0&&(S.length>0&&(S+=", "),S+=v.City),h.push({Name:m,FullAddress:S})}e.selectedCategory.AllTeams=p.filter(championshipsUtils.actualTeamsFilter),e.selectedCategory.AllFacilities=h,championshipsUtils.InitTeamNamesHeightTimer()}e.selectedCategory.selectedTeam=null,e.selectedCategory.selectedFacility=null,e.selectedCategory.prevSelectedTeam="",e.selectedCategory.prevSelectedFacility="",e.selectedCategory.FilteredMatches=e.selectedCategory.Matches,e.selectedCategory.setSelectedTeam=function(t,n){if(void 0!==n){var a=t;1==n&&(e.selectedCategory.selectedTeam=a.Team,e.selectedCategory.selectedFacility=null,e.selectedCategory.selectedPlayers=null)}else if(l(!0),e.selectedCategory.selectedTeam=t,e.selectedCategory.selectedFacility=null,e.selectedCategory.selectedPlayers=null,null!=t){var i=c[t.Name];if(i){var s=null;if(e.selectedCategory.SelectedMatchesGroup&&e.selectedCategory.SelectedMatchesGroup.Teams&&(s=e.selectedCategory.SelectedMatchesGroup.Teams.findItem(function(e){return e.TEAM_ID==i})),null==s){var u=null,d=null;e.selectedCategory.Phases.forEach(function(e){null==s&&e.AllGroups&&e.AllGroups.forEach(function(t){null==s&&t.Teams&&null!=(s=t.Teams.findItem(function(e){return e.TEAM_ID==i}))&&(u=e,d=t)})}),null!=u&&null!=d&&e.selectedCategory.changeMatchesPhase&&(e.selectedCategory.changeMatchesPhase(u),e.selectedCategory.changeGroup(d))}o.get("/api/sportsman/teams/"+i+"/players").then(function(t){e.selectedCategory.selectedPlayers=t.data})}}if(null!=e.selectedCategory.selectedTeam){var i=e.selectedCategory.selectedTeam.Id,p=e.selectedCategory.Phases.findIndex(function(e){return 1==e.Selected}),g=i+"_"+p,h=r[g];h&&(e.selectedCategory.selectedTeam.Competitors=h)}},e.selectedCategory.setSelectedCompetitor=function(t){e.selectedCategory.selectedCompetitor=t},e.selectedCategory.setSelectedCompetition=function(t,n){void 0===n&&(n=!1),e.selectedCategory.setSelectedCompetitor(null),e.selectedCategory.selectedCompetition=t,n&&(document.body.scrollTop=50)},e.selectedCategory.setSelectedFacility=function(t,n){if(void 0===n&&(n=null),e.selectedCategory.Matches&&e.selectedCategory.Matches.forEach(function(e){e.ShowFacilityDetails=!1}),null!=n&&(n.ShowFacilityDetails=!0,null==t&&e.selectedCategory.AllFacilities&&(t=e.selectedCategory.AllFacilities.findItem(function(e){return e.Name==n.FacilityName}))),null!=t&&e.selectedCategory.Matches){var a=!1;if(e.selectedCategory.SelectedMatchesRound&&e.selectedCategory.SelectedMatchesRound.Cycles)for(var o=0;o<e.selectedCategory.SelectedMatchesRound.Cycles.length;o++){var i=e.selectedCategory.SelectedMatchesRound.Cycles[o];if(i.MatchGroups)for(var r=0;r<i.MatchGroups.length;r++){var s=i.MatchGroups[r];if(s.Matches)for(var c=0;c<s.Matches.length;c++){var u=s.Matches[c];if(u.FacilityName==t.Name){a=!0;break}}if(a)break}if(a)break}if(!a){var d=e.selectedCategory.Matches.findItem(function(e){return e.FacilityName==t.Name});if(null!=d&&e.selectedCategory.Phases){var p=e.selectedCategory.Phases.findItem(function(e){return e.Index==d.Phase});if(null!=p&&(e.selectedCategory.changeMatchesPhase(p),p.AllGroups)){var g=p.AllGroups.findItem(function(e){return e.Index==d.Group});if(null!=g&&(e.selectedCategory.changeGroup(g),p.Rounds)){var h=p.Rounds.findItem(function(e){return e.Name==d.ROUND_NAME});null!=h&&e.selectedCategory.changeMatchesRound(h)}}}}}l(!0),e.selectedCategory.selectedFacility=t,null!=n&&(n.ShowFacilityDetails=!0)},e.selectedCategory.IsDateVisible=function(t){var n=e.selectedCategory.FilteredMatches.findIndex(function(e){return e.Id==t.Id});if(n>0){var a=e.selectedCategory.FilteredMatches[n-1];return i("date")(a.Date,"dd/MM/yyyy")!=i("date")(t.Date,"dd/MM/yyyy")}return!0},e.selectedCategory.getTeamRowStyle=function(t,n){var a=null==e.selectedCategory.selectedTeam?"":e.selectedCategory.selectedTeam.Name;return n?a==t?"background-color: #00ADEE;":"":a==t.Name?"background-color: #00ADEE;":""},e.selectedCategory.getCompetitorRowStyle=function(t){var n=null==e.selectedCategory.selectedCompetitor?"":e.selectedCategory.selectedCompetitor.ShirtNumber,a=t.CellValues[0];return n&&n==a?"background-color: #00ADEE;":""};var y=[];1==t.SportType?a.RankingTables&&a.RankingTables.length>0&&(y=a.RankingTables.map(function(e){return{Name:e.PhaseName}})):y=sportUtils.DistinctArray(e.selectedCategory.Matches,"PHASE_NAME").map(function(e){return{Name:e.PHASE_NAME}});var C=n||0;if(C>=y.length&&(C=0),1==t.SportType){if(e.selectedCategory.AllTeams=[],e.selectedCategory.AllCompetitions=[],a.RankingTables&&a.RankingTables.length>0){var I=a.RankingTables[C];e.selectedCategory.AllTeams=I.Teams,e.selectedCategory.AllCompetitions=I.Competitions}e.selectedCategory.CompetitorMapping=r}var T=[],w=[];if(y.length>0){y[C].Selected=!0;for(var _=0;_<y.length;_++){var D=y[_];if(D.Index=_,1==t.SportType){var P=[];if(a.RankingTables&&a.RankingTables.length>0){var F=a.RankingTables[_],N={};if(F.Competitions){var b={},A=0;if(F.Competitions.forEach(function(e){N[e.GroupName]=e.GroupIndex;var t=e.Name;b[t]||(b[t]=[],A++),b[t].push(e)}),F.Competitions.length>A){var E=[];for(var R in b){var M=b[R],U={};M.forEach(function(e){U[e.GroupIndex.toString()]=e}),E.push({Name:R,GroupCompetitions:U})}F.Competitions=E}else F.Competitions.forEach(function(e){e.GroupCompetitions={},e.GroupCompetitions[e.GroupIndex.toString()]=e})}w=F.Teams,P=F.Competitions,T=sportUtils.DistinctArray(F.Rows.map(function(e){return e.GroupName})).map(function(e){return{Name:e,Index:N[e],ColumnTitles:F.ColumnTitles,Rows:F.Rows.filter(function(t){return t.GroupName==e})}})}D.Teams=w,D.Competitions=P,D.AllGroups=T,_==C&&(e.selectedCategory.AllCompetitions=P)}else{w=a.filter(function(e){return e.PHASE_NAME==D.Name}),T=sportUtils.DistinctArray(w,"GROUP_NAME").map(function(e){return{Name:e.GROUP_NAME}});for(var x=0;x<T.length;x++){var O=T[x];O.Teams=w.filter(function(e){return e.GROUP_NAME==O.Name}),O.Teams.forEach(function(e){e.Name=eventsUtils.BuildTeamName(e,null)}),O.Index=x}D.AllGroups=T}}}if(e.selectedCategory.Phases=[],y.length>0){var H=[],p=[];y.forEach(function(e){e.AllGroups.forEach(function(e){p.appendArray(e.Teams)})}),H.push({Index:-1,Name:"כל הבתים",Selected:!1,Teams:p}),y.forEach(function(e){H.appendArray(e.AllGroups)}),e.selectedCategory.Phases.push({Index:-1,Name:"כל השלבים",Selected:!1,AllGroups:H}),e.selectedCategory.Phases.appendArray(y)}if(e.selectedCategory.Phases.length>0&&(e.selectedCategory.SelectedPhase=e.selectedCategory.Phases[C],e.selectedCategory.FinalsTree)){championshipsUtils.ApplyFinalsTree(e.selectedCategory.FinalsTree,e.selectedCategory.Phases,e.selectedCategory.Matches);var $=e.selectedCategory.Phases.length,q={Name:"משחקי הצלבה",Index:$,TreePhase:!0,Selected:!0};e.selectedCategory.Phases.forEach(function(e){e.Selected=!1}),e.selectedCategory.Phases.push(q),e.selectedCategory.SelectedPhase=q}var k="/api/sportsman/championship-category/"+t.CategoryId+"/grades";o.get(k).then(function(t){for(var n={},a=0;a<t.data.length;a++){var o=t.data[a];n[(o.TEAM_NUMBER||"").toString()]=o.GRADE_NAME}e.selectedCategory.GradeMapping=n},function(e){console.log("error loading grades"),console.log(e)}),window.qL_Finish_Now=!0,l(!1,function(){window.setTimeout(function(){contentUtils.CarouselAutoSlide("matchesCarousel")},100)}),sportUtils.HandleFinalsTree()},function(t){console.log("error loading teams"),console.log(t),window.qL_Finish_Now=!0,e.selectedCategory.LoadingPhases=!1})},function(t){console.log("error loading active phase"),console.log(t),window.qL_Finish_Now=!0,e.selectedCategory.LoadingPhases=!1})},function(t){console.log("error loading championships"),console.log(t),window.qL_Finish_Now=!0,e.selectedCategory.LoadingPhases=!1})},function(t){console.log("error loading matches"),console.log(t),window.qL_Finish_Now=!0,e.selectedCategory.LoadingPhases=!1});else{var a=_.findItem(function(e){return e.Seq==t.CategoryId});if(null!=a){e.selectedCategory.Name="פרחי ספורט - "+a.EventName;var r=a.SportFieldName;a.FacilityName&&(r+=" "+a.FacilityName),e.selectedCategory.SportFlowersData={Description:r,Date:a.DateTime,FacilityName:a.FacilityName},d.championship("sf-"+t.CategoryId).then(function(t){window.qL_step_finished=!0,t&&t.length>0&&(e.selectedCategory.Pages=t,e.selectedCategory.Pages.forEach(function(e){e.BannerButtonClass="button banner_button "+contentUtils.GetBannerType(e.Type),e.HebrewType=contentUtils.HebrewPageType(e.Type)}),contentUtils.ApplyPagesData(e.selectedCategory.Pages))})}}}function y(){function t(t){var n=w.filter(function(e){return e.CHAMPIONSHIP_CATEGORY_ID==t});if(n.length>0){var a=n[0],o=e.sportFieldsInUse.All.filter(function(e){return e.Id==a.SPORT_ID});if(o.length>0){e.toggleSportFieldFilter(o[0]);var i=e.championshipsInUse.All.filter(function(e){return e.Name==a.CHAMPIONSHIP_NAME});if(i.length>0){e.toggleChampionshipFilter(i[0]);var r=e.categoriesInUse.All.filter(function(e){return e.CategoryId==t});if(r.length>0){var s=r[0];return s.Selected=!0,s}}}}return null}v().then(function(){window.qL_step_finished=!0;var a=!1;if(n.category){var i=0,r=!1;if(0==n.category.indexOf("sf-")?(i=parseInt(n.category.replace("sf-","")),r=!0):n.category>0&&(i=parseInt(n.category)),!isNaN(i)&&i>0){var s=null;e.showPermanentChampionships?o.get("/api/sportsman/category-data?category="+i).then(function(e){s={Name:e.data.CATEGORY_NAME,Championship:e.data.CHAMPIONSHIP_NAME,SportField:e.data.SPORT_ID,SportType:e.data.SPORT_TYPE,CategoryId:i},a=!0,S(s)}):null!=(s=t(i))&&(r||(a=!0),S(s))}}a||(window.qL_Finish_Now=!0),ChainFactory.Next()},function(t){e.error=t,window.qL_Finish_Now=!0,ChainFactory.Next()})}function C(e){if(e.SportField==sportGlobalSettings.FlowersFieldSeq)return"פרחי ספורט";var t=e.Name,n=e.Championship;return t!=n&&(n+=" "+t),n}function I(){e.selectedCategory={Name:"",Matches:[]}}var T={},w=[],_=[],D=4,P=4,F=4;if(e.championshipsFilters={SportField:0,Championship:""},e.sportFieldsInUse={All:[],Rows:[]},e.championshipsInUse={All:[],Rows:[]},e.categoriesInUse={All:[],Rows:[]},e.selectedCategory=null,e.error="",e.loading=!0,e.region=null,e.isClubs=1==n.clubs,e.showPermanentChampionships="p"==n.region,e.currentSeason=sportUtils.getCurrentSeason(),e.championshipChoosingTitle="",e.categoryChoosingTitle="",n.category&&n.category>0&&!e.showPermanentChampionships){var N=n.category;o.get("/api/sportsman/category-data?category="+N).then(function(a){window.qL_step_finished=!0;var o=a.data.SEASON,i=a.data.CHAMPIONSHIP_NAME,r=a.data.IS_CLUBS,s=a.data.REGION_ID;null!=o&&o||t.go("championships",{clubs:n.clubs,region:n.region}),l.seasons.inUse().then(function(a){window.qL_step_finished=!0;var c=a.filter(function(e){return e.SeasonCode==o});if(0==c.length)e.error="לא נמצאה עונה עבור האליפות "+i;else{var u=c[0].Season;l.currentSeason().then(function(e){if(window.qL_Finish_Now=!0,u!=e)t.go("championships",{clubs:n.clubs,region:n.region});else{var a=1==n.clubs?1:0;if(r!=a||s!=n.region)return void t.go("championships.region.championship",{clubs:r,region:s,category:N})}})}})})}if(contentUtils.InitSportFieldColors(o,function(){window.qL_step_finished=!0}),null!=n.region){var b=n.region,A=n.category;"p"==b?o.get("/api/sportsman/permanent-championships").then(function(t){if(e.permanentChampionships=t.data.slice(0),A)for(var n=0;n<e.permanentChampionships.length;n++){var a=e.permanentChampionships[n];if(a.CHAMPIONSHIP_CATEGORY_ID==A){a.Selected=!0;break}}}):o.get("/api/sportsman/regions").then(function(t){var n=t.data.filter(function(e){return e.REGION_ID==b})
;n.length>0&&(e.region=n[0],o.get("/api/pages?region="+b).then(function(t){var n=t.data.slice(0);n.length>0&&(e.regionPages=n.take(8),contentUtils.ApplyPagesData(e.regionPages),e.regionPages.forEach(function(e){e.Date=new Date(e.Date),e.HebrewType=contentUtils.HebrewPageType(e.Type),e.BannerButtonClass="button banner_button "+contentUtils.GetBannerType(e.Type)})),p()}))})}else p();ChainFactory.Execute(m,y),window.qL_steps_amount=7,r(function(){if(e.selectedCategory&&e.selectedCategory.Matches&&e.selectedCategory.Matches.length>0){var t=null==e.selectedCategory.selectedTeam?"":e.selectedCategory.selectedTeam.Name,n=e.selectedCategory.prevSelectedTeam,a=null==e.selectedCategory.selectedFacility?"":e.selectedCategory.selectedFacility.Name,o=e.selectedCategory.prevSelectedFacility;if(t!=n||a!=o){e.selectedCategory.FilteredMatches=[];var i=e.selectedCategory.Matches.filter(function(e){var n=0==t.length||e.TeamA==t||e.TeamB==t,o=0==a.length||e.FacilityName==a;return n&&o});s(function(){e.selectedCategory.FilteredMatches=i,e.selectedCategory.OnFilteredMatchesChange&&e.selectedCategory.OnFilteredMatchesChange()},100),e.selectedCategory.prevSelectedTeam=t,e.selectedCategory.prevSelectedFacility=a}}},100),e.getSportFieldColor=contentUtils.getSportFieldColor,e.getRegionColor=contentUtils.getRegionColor,e.getRoundedRectangleClass=sportUtils.getRoundedRectangleClass,e.getSportFieldStyle=function(e){var t=contentUtils.getSportFieldColor(e);return"background-color: "+t+"; border-color: "+t+";"},e.totalChampionshipsCount=function(){return w.length},e.getSportFieldFilterStyle=function(e){var t=e.Id||e.SportField,n=contentUtils.getSportFieldColor(t),a=sportUtils.getRoundedRectangleStyle(e,n);return e.SportWordCount&&e.SportWordCount>2&&(a+=" line-height: inherit;"),a},e.getRegionFilterStyle=function(e){var t=contentUtils.getRegionColor(e.REGION_ID);return sportUtils.getRoundedRectangleStyle(e,t)},e.getPermanentChampionshipFilterStyle=function(e){var t=contentUtils.getSportFieldColor(e.SPORT_ID);return sportUtils.getRoundedRectangleStyle(e,t)},e.toggleSportFieldFilter=function(t){var n=t.Id;if(e.championshipChoosingTitle=n==sportGlobalSettings.FlowersFieldSeq?"אירוע פרחי ספורט:":"אליפות:",e.clearChampionshipFilter(),e.championshipsFilters.SportField){var a=e.sportFieldsInUse.All.filter(function(t){return t.Id==e.championshipsFilters.SportField});a.length>0&&(a[0].Selected=!1)}t.Selected=!t.Selected,e.championshipsFilters.SportField=n,e.championshipsInUse.All.filter(function(e){return e.SportField==n&&e.Selected}).forEach(function(t){e.toggleChampionshipFilter(t)}),h(),e.championshipsFilters.Championship="",I(),f()},e.toggleChampionshipFilter=function(t){var n=t.Name;if(e.categoryChoosingTitle=e.championshipsFilters.SportField==sportGlobalSettings.FlowersFieldSeq?"פעילות פרחי ספורט:":"קטגוריית אליפות:",e.championshipsFilters.Championship.length>0){var a=e.championshipsInUse.All.filter(function(t){return t.Name==e.championshipsFilters.Championship});a.length>0&&(a[0].Selected=!1)}t.Selected=!t.Selected,e.championshipsFilters.Championship=n,I(),f()},e.ChangeChampionshipClicked=function(){document.location.hash="#/m?c="+e.selectedCategory.ID},e.RegionClicked=function(e){t.go("championships.region",{clubs:n.clubs,region:e.REGION_ID})},e.PermanentChampionshipClicked=function(e){t.go("championships.region.championship",{clubs:0,region:"p",category:e.CHAMPIONSHIP_CATEGORY_ID})},e.JumpToCategory=function(e){var a=e.SportField==sportGlobalSettings.FlowersFieldSeq?"sf-"+e.CategoryId:e.CategoryId;t.go("championships.region.championship",{clubs:n.clubs,region:n.region,category:a})},e.clearSportFieldFilter=function(){e.championshipsFilters.SportField=0;for(var t=0;t<e.sportFieldsInUse.All.length;t++)e.sportFieldsInUse.All[t].Selected=!1;h(),f(),e.clearChampionshipFilter()},e.clearChampionshipFilter=function(){e.championshipsFilters.Championship="";for(var t=0;t<e.championshipsInUse.Rows.length;t++)for(var n=e.championshipsInUse.Rows[t],a=0;a<n.length;a++)n[a].Selected=!1}}function t(e,t,n,a,o,i){function r(){if(e.category&&(e.category.changeMatchesPhase||(e.category.changeMatchesPhase=e.changeMatchesPhase),e.category.changeGroup||(e.category.changeGroup=e.changeGroup),e.category.changeMatchesRound||(e.category.changeMatchesRound=e.changeMatchesRound),e.category.OnFilteredMatchesChange||(e.category.OnFilteredMatchesChange=function(){var t=e.category.SelectedMatchesPhase;t&&e.changeMatchesPhase(t)}),e.category.Matches&&e.category.Matches.length>0)){e.changeMatchesPhase(e.category.Phases[0]);var t=sportUtils.GetCurrentDate().withoutTime(),o=e.category.Matches.findItem(function(e){return e.Date.withoutTime()>=t});if(null!=o){var i=n("date")(o.Date,"dd/MM/yyyy"),s='div[data-date="'+i+'"]',l=0;window.setTimeout(function(){if((l=sportUtils.FocusElement(s))>0){var e=!1,t=new Date;$(window).scroll(function(){if(0==window.scrollY&&!e){(new Date).getTime()-t.getTime()<=2e3&&(e=!0,window.scrollTo(0,l))}})}},200)}}else a(r,100)}contentUtils.InitSportFieldColors(t),contentUtils.InitRegionColors(t),e.getRoundedRectangleClass=sportUtils.getRoundedRectangleClass,e.IsMobileDevice=i.IsMobileDevice,a(r,100),e.getMatchStyle=function(e,t){var n="background-color: "+contentUtils.getSportFieldColor(e.SPORT_ID)+";";return t&&t.length>0&&(n+=" color: "+t+";"),n},e.getScoreStyle=function(e,t,n){if(void 0!==n&&e.PartsData){var a=t,o="A"==a?"B":"A";return e.PartsData["Team"+a][n]<e.PartsData["Team"+o][n]?"font-weight: normal;":"font-weight: bold;"}var i="font-size: 50px; line-height: 40px; margin-bottom: 10px; text-align: center;";return(1!=e.Result&&3!=e.Result||"B"!=t)&&(2!=e.Result&&4!=e.Result||"A"!=t)||(i+=" font-weight: normal;"),i},e.openFullRankingTable=function(){null!=e.category.SelectedMatchesPhase&&null!=e.category.SelectedMatchesGroup&&o.open({templateUrl:"views/ranking-table-dialog.html",controller:"RankingTableDialogCtrl",resolve:{categoryData:function(){return{Category:{Id:e.category.ID,Name:e.category.Name},Phase:{Index:e.category.SelectedMatchesPhase.Index,Name:e.category.SelectedMatchesPhase.Name},Group:{Index:e.category.SelectedMatchesGroup.Index,Name:e.category.SelectedMatchesGroup.Name},RankingTables:e.category.RankingTables||null}}}}).result.then(function(t){e.category.RankingTables=t})},e.changePhase=function(t){e.category.Phases.filter(function(e){return e.Selected}).forEach(function(e){e.Selected=!1}),e.category.setSelectedCompetition(null),e.category.setSelectedTeam(null),t.Selected=!0,e.category.SelectedPhase=t,t.Teams&&(e.category.AllTeams=t.Teams),t.Competitions&&(e.category.AllCompetitions=t.Competitions)},e.changeGroup=function(t){if(t.hasOwnProperty("Index")){var n=t;e.category.SelectedMatchesGroup=n,e.category.SelectedMatchesPhase.AllGroups.forEach(function(e){e.SelectedForMatches=!1}),n.SelectedForMatches=!0,e.category.OnFilteredMatchesChange&&e.category.OnFilteredMatchesChange()}else{var a=parseInt(t);if(!isNaN(a)){var o=e.category.SelectedMatchesGroup.Index,i=o+a;i>=e.category.SelectedMatchesPhase.AllGroups.length&&(i=0),i<0&&(i=e.category.SelectedMatchesPhase.AllGroups.length-1),e.changeGroup(e.category.SelectedMatchesPhase.AllGroups[i])}}},e.changeMatchesPhase=function(t){if(null!=e.category.SelectedMatchesPhase&&e.category.SelectedMatchesPhase&&e.category.SelectedMatchesPhase.Index==t.Index||(e.category.Phases.filter(function(e){return e.SelectedForMatches}).forEach(function(e){e.SelectedForMatches=!1}),e.category.SelectedMatchesGroup=null,e.category.setSelectedCompetition(null),e.category.setSelectedTeam(null),t.SelectedForMatches=!0,e.category.SelectedMatchesPhase=t,e.category.SelectedMatchesPhase.AllGroups&&e.category.SelectedMatchesPhase.AllGroups.length>0&&(e.category.SelectedMatchesPhase.AllGroups.forEach(function(e){e.SelectedForMatches=!1}),e.category.SelectedMatchesGroup=e.category.SelectedMatchesPhase.AllGroups[0],e.category.SelectedMatchesGroup.SelectedForMatches=!0)),t.Rounds=[],e.category.FilteredMatches){var n=e.category.SelectedMatchesGroup?e.category.SelectedMatchesGroup.Index:-1;t.Index<0&&t.Rounds.push({Index:-1,Name:"כל הסיבובים"}),t.Rounds.appendArray(e.category.FilteredMatches.filter(function(e){return(t.Index<0||e.Phase==t.Index)&&(n<0||e.Group==n)}).map(function(e){return e.ROUND_NAME}).distinct().map(function(e,t){return{Index:t,Name:e}})),t.Rounds.length>0&&e.changeMatchesRound(t.Rounds[0])}},e.changeMatchesRound=function(t){function a(e,t,n,a,o){e.Matches.forEach(function(e){e.HideDelayedMessage||(e.IsDelayed=!1)});var i=e.CycleName;if(!e[o]&&t[i])for(var r=n;r<a.length;r++){var s=a[r];if(s.CycleName!=e.CycleName)break;s.Matches.forEach(function(e){e.HideDelayedMessage||(e.IsDelayed=!0,e.OriginalDate=t[i].Date)})}t[i]||(t[i]=e)}e.category.SelectedMatchesPhase.Rounds.filter(function(e){return e.Selected}).forEach(function(e){e.Selected=!1}),t.Selected=!0,e.category.SelectedMatchesRound=t,t.Cycles=[];var o=e.category.SelectedMatchesPhase.Index,i=e.category.SelectedMatchesGroup?e.category.SelectedMatchesGroup.Index:-1;if(e.category.FilteredMatches&&(e.category.FilteredMatches.sort(function(e,t){return e.Date-t.Date}),t.Matches=e.category.FilteredMatches.filter(function(e){return(o<0||e.Phase==o)&&(t.Index<0||e.ROUND_NAME==t.Name)&&(i<0||e.Group==i)}),t.MatchGroups=[],t.Matches.length>0)){t.Matches.sortByProperty("Date");var r=t.Matches.map(function(e){return n("date")(e.Date,"dd/MM/yyyy")}).distinct();t.MatchGroups=r.map(function(e){var a=t.Matches.filter(function(t){return n("date")(t.Date,"dd/MM/yyyy")==e}),o=a[0];return{Date:e,Matches:a,CycleName:o.CYCLE_NAME,GameDetails:o.GameDetails}});var s="",l="";t.MatchGroups.forEach(function(e){var t=e.GameDetails,n=e.CycleName;s.length>0&&s==t&&(e.SameDetails=!0),l.length>0&&l==n&&(e.SameCycle=!0),s=t,l=n});var c={};if(t.Index<0){var u={};t.MatchGroups.forEach(function(e){var t=e.GameDetails.split(", "),n=t.partialJoin("_",[0,1,3]);u[n]||(u[n]=[]),u[n].push(e)});for(var d in u){c={};var p=u[d];p.forEach(function(e,t){a(e,c,t,p,"SameDetails")})}}else t.MatchGroups.forEach(function(e,n){a(e,c,n,t.MatchGroups,"SameCycle")})}},e.getTableSectionTitle=function(){return e.category.selectedTeam&&e.category.selectedTeam.FullReportTables&&e.category.selectedTeam.FullReportTables.length>0?"סיכום קבוצתי מפורט - "+e.category.selectedTeam.Name:e.category.selectedCompetition?"דירוג אישי למקצוע - "+e.category.selectedCompetition.Name:1==e.category.SportType?"טבלת דירוג כללי":"טבלאות"},e.isTeamFullReportTableVisible=function(t){return!e.category.selectedCompetition||t.Caption.indexOf(e.category.selectedCompetition.Name)>=0},e.isGroupVisible=function(t){return!!t.Name&&(1!=e.category.SportType||(!e.category.selectedTeam||e.category.selectedTeam.GroupIndex==t.Index))},e.getCompetitorGrade=function(t){if(!e.category.GradeMapping)return"";var n=t.CellValues[0];return e.category.GradeMapping[n.toString()]||""}}function n(e,t,n){}function a(e,t,n,a){function o(){sportUtils.VerifyUser(t,e,[2]),window.qL_step_finished=!0}function i(){for(var t={},n=0;n<u.length;n++){var a=u[n];sportUtils.AddIfDoesNotExist(t,a.REGION_ID,a.REGION_NAME)}e.data.Regions=[];for(var o in t)e.data.Regions.push({REGION_ID:parseInt(o),REGION_NAME:t[o]});e.data.Regions.sort(function(e,t){return t.REGION_ID-e.REGION_ID}),1==e.data.Regions.length&&e.RegionClicked(e.data.Regions[0]),window.qL_Finish_Now=!0,l()}function r(){for(var t={},n=0;n<e.data.Matches.length;n++){var a=e.data.Matches[n];sportUtils.AddIfDoesNotExist(t,a.PHASE,a.PHASE_NAME)}e.data.Phases=[];for(var o in t){var i=parseInt(o),r=e.data.Matches.filter(function(e){return e.PHASE==i});e.data.Phases.push({Index:parseInt(i),Name:t[o],Matches:r})}e.data.Phases.sort(function(e,t){return t.Index-e.Index}),e.data.Phases.length>0&&e.PhaseClicked(e.data.Phases[0])}function s(){function n(e){for(var t=0;t<u.length;t++){var n=u[t];if(n.PartsData=championshipsUtils.ConvertPartsResult(n.PARTS_RESULT),null!=n.OVERRIDEN_PARTS_RESULT&&(n.PartsData=championshipsUtils.ConvertPartsResult(n.OVERRIDEN_PARTS_RESULT)),null!=n.OVERRIDEN_RESULT&&(n.RESULT=n.OVERRIDEN_RESULT),null==n.RESULT?(n.TEAM_A_SCORE=null,n.TEAM_B_SCORE=null):3==n.RESULT?n.TechnicalWin_A=!0:4==n.RESULT&&(n.TechnicalWin_B=!0),null!=e){var a=n.CHAMPIONSHIP_CATEGORY_ID+"_"+n.match_number;n.UploadedFileUrl=e[a]||null}}i()}e.loading=!0,t.get("/api/sportsman/past-matches").then(function(a){e.loading=!1,u=a.data.slice(0),t.get("/api/common/match-forms").then(function(e){var t={};e.data&&e.data.forEach(function(e){var n=e.CHAMPIONSHIP_CATEGORY_ID+"_"+e.match_number;t[n]=e.ContentPath}),n(t)},function(e){console.log("error loading match forms"),n(null)})},function(t){e.loading=!1,console.log(t),e.error="שגיאה בעת טעינת נתונים"})}function l(){var t=sportUtils.ParseQueryString(),n=t.v;if(n&&parseInt(n)>0){var a=u.findItem(function(e){return e.CHAMPIONSHIP_CATEGORY_ID==n});if(null!=a){var o=e.data.Regions.findItem(function(e){return e.REGION_ID==a.REGION_ID});if(null!=o){e.RegionClicked(o);var i=e.data.SportFields.findItem(function(e){return e.SPORT_ID==a.SPORT_ID});if(null!=i){e.SportFieldClicked(i);var r=e.data.Championships.findItem(function(e){return e.CHAMPIONSHIP_ID==a.CHAMPIONSHIP_ID});null!=r&&(e.ChampionshipClicked(r),e.CategoryClicked(a))}}}}}function c(n,a){1==e.LoggedInUser.role&&t.get("/api/sportsman/data-gateway").then(function(e){var o=e.data+"?ccid="+n.CHAMPIONSHIP_CATEGORY_ID+"&action=set_match_result";o+="&match_number="+n.match_number,3==a?o+="&technical_A=1":4==a&&(o+="&technical_B=1"),t.get(o).then(function(e){if(!e.data||!e.data.Message||"OK"!=e.data.Message){var t=e.data.Error||"failed to set result in sportsman";console.log(t)}},function(e){console.log("error while setting result in sportsman")})})}var u=[],d=0;e.Unauthorized=!1,e.selected={Region:null,SportField:null,Championship:null,Category:null},e.data={Regions:[],Categories:[],Championships:[],SportFields:[],Matches:[],Phases:[]},e.MobileStyle=sportUtils.MobileStyle,window.qL_steps_amount=2,ChainFactory.Execute(o,s),contentUtils.InitSportFieldColors(t),contentUtils.InitRegionColors(t),e.getSportFieldColor=contentUtils.getSportFieldColor,e.getRegionColor=contentUtils.getRegionColor,e.getRoundedRectangleClass=sportUtils.getRoundedRectangleClass,e.getSportFieldStyle=function(e){var t=contentUtils.getSportFieldColor(e);return"background-color: "+t+"; border-color: "+t+";"},e.getMatchStyle=function(e,t){var n="background-color: "+contentUtils.getSportFieldColor(e.SPORT_ID)+";";return t&&t.length>0&&(n+=" color: "+t+";"),n},e.getRegionFilterStyle=function(e){var t=contentUtils.getRegionColor(e.REGION_ID);return sportUtils.getRoundedRectangleStyle(e,t)},e.getSportFieldFilterStyle=function(e){var t=e.SPORT_ID,n=contentUtils.getSportFieldColor(t),a=sportUtils.getRoundedRectangleStyle(e,n);return e.SportWordCount&&e.SportWordCount>2&&(a+=" line-height: inherit;"),a},e.getScoreStyle=function(t,n,a){if(t.PartsData){var o=n,i="A"==o?"B":"A",r=t.PartsData["Team"+o][a],s=t.PartsData["Team"+i][a],l=[];return l.push(r<s?"font-weight: normal;":"font-weight: bold;"),e.HasPendingPartScore(t)&&l.push("border: 1px dashed black;"),l.join(" ")}return""},e.$watch("Unauthorized",function(e){1==e&&window.setTimeout(function(){championshipsUtils.BindDummyLogin(),$("#txtDummyUserName").focus()},500)}),e.totalChampionshipsCount=function(){return u.length},e.CategoryClicked=function(n){if(!n||!e.selected.Category||e.selected.Category.CHAMPIONSHIP_CATEGORY_ID!=n.CHAMPIONSHIP_CATEGORY_ID)if(e.selected.Category=n,championshipsUtils.InitTeamNamesHeightTimer(),e.data.Categories.forEach(function(e){e.Selected=!!n&&e.CHAMPIONSHIP_CATEGORY_ID==n.CHAMPIONSHIP_CATEGORY_ID}),null!=n&&null!=e.selected.Region&&null!=e.selected.SportField&&null!=e.selected.Championship){var a=e.selected.Region.REGION_ID,o=e.selected.SportField.SPORT_ID,i=e.selected.Championship.CHAMPIONSHIP_ID;if(e.data.Matches=championshipsUtils.ExtractDistinctMatches(u.filter(function(e){return e.REGION_ID==a&&e.SPORT_ID==o&&e.CHAMPIONSHIP_ID==i&&e.CHAMPIONSHIP_CATEGORY_ID==n.CHAMPIONSHIP_CATEGORY_ID})),r(),championshipsUtils.InitPhaseVisibility(),!n.TechnicalRule&&!n.TechnicalRuleLoading){var s="/api/sportsman/data-gateway";n.TechnicalRuleLoading=!0,t.get(s).then(function(e){s=e.data,s+="?ccid="+n.CHAMPIONSHIP_CATEGORY_ID+"&technical=1",t.get(s).then(function(e){n.TechnicalRuleLoading=!1,null!=e.data.Winner?n.TechnicalRule=sportUtils.shallowCopy(e.data):n.TechnicalRule={}},function(e){n.TechnicalRuleLoading=!1})})}}else e.data.Matches=[]},e.ChampionshipClicked=function(t){if(!t||!e.selected.Championship||e.selected.Championship.CHAMPIONSHIP_ID!=t.CHAMPIONSHIP_ID)if(e.CategoryClicked(null),e.selected.Championship=t,e.data.Championships.forEach(function(e){e.Selected=!!t&&e.CHAMPIONSHIP_ID==t.CHAMPIONSHIP_ID}),null!=t&&null!=e.selected.Region&&null!=e.selected.SportField){var n=e.selected.Region.REGION_ID,a=e.selected.SportField.SPORT_ID;e.data.Categories=championshipsUtils.ExtractDistinctMatches(u.filter(function(e){return e.REGION_ID==n&&e.SPORT_ID==a&&e.CHAMPIONSHIP_ID==t.CHAMPIONSHIP_ID}),["CHAMPIONSHIP_CATEGORY_ID"]),e.data.Categories.forEach(function(e){e.Selected=!1}),1==e.data.Categories.length&&e.CategoryClicked(e.data.Categories[0])}else e.data.Categories=[]},e.SportFieldClicked=function(t){if(!t||!e.selected.SportField||e.selected.SportField.SPORT_ID!=t.SPORT_ID)if(e.ChampionshipClicked(null),e.selected.SportField=t,e.data.SportFields.forEach(function(e){e.Selected=!!t&&e.SPORT_ID==t.SPORT_ID}),null!=t&&null!=e.selected.Region){var n=e.selected.Region.REGION_ID;e.data.Championships=championshipsUtils.ExtractDistinctMatches(u.filter(function(e){return e.REGION_ID==n&&e.SPORT_ID==t.SPORT_ID}),["CHAMPIONSHIP_ID"]),e.data.Championships.forEach(function(e){e.Selected=!1}),1==e.data.Championships.length&&e.ChampionshipClicked(e.data.Championships[0])}else e.data.Championships=[]},e.RegionClicked=function(t){t&&e.selected.Region&&e.selected.Region.REGION_ID==t.REGION_ID||(e.SportFieldClicked(null),e.selected.Region=t,e.data.Regions.forEach(function(e){e.Selected=!!t&&e.REGION_ID==t.REGION_ID}),null!=t?(e.data.SportFields=championshipsUtils.ExtractDistinctMatches(u.filter(function(e){return e.REGION_ID==t.REGION_ID}),["SPORT_ID"]),e.data.SportFields.forEach(function(e){e.Selected=!1}),1==e.data.SportFields.length&&e.SportFieldClicked(e.data.SportFields[0])):e.data.SportFields=[])},e.HasPendingScore=function(e){return championshipsUtils.HasPendingScore(e)},e.HasPendingPartScore=function(e){return championshipsUtils.HasPendingPartScore(e)},e.getEditIconStyle=function(e){var t="font-size: 60px; margin-top: 10px;",n="";return null!=e.OVERRIDEN_TEAM_A_SCORE&&null!=e.OVERRIDEN_TEAM_B_SCORE&&(n=1!=e.OverridenScoreApproved?"#ED0013":"#00ADEE"),n.length>0&&(t+=" color: "+n+";"),t},e.getPhaseRowStyle=function(e){var t="margin-bottom: 10px;",n="";return e.Expanded&&(n="#5bc0de"),n.length>0&&(t+=" background-color: "+n+";"),t},e.getTeamScoreClass=function(t,n){var a=e.HasPendingScore(t);if(a||null!=t.TEAM_A_SCORE&&null!=t.TEAM_A_SCORE){var o=["team-score","label","label-info"];if(a)o.push("pending-score");else{var i=t.TEAM_A_SCORE,r=t.TEAM_B_SCORE;if(i!=r){var s=i>r?"A":"B";o.push(n==s?"winner-team":"loser-team")}}return o.join(" ")}return""},e.editScore=function(n){d&&window.clearInterval(d),d=window.setInterval(function(){window.match_uploaded_file&&(n.UploadedFileUrl="NULL"==window.match_uploaded_file?null:window.match_uploaded_file,window.match_uploaded_file=null)},200),a.open({templateUrl:"views/match-results-dialog.html",controller:"MatchResultDialogCtrl",resolve:{match:function(){return sportUtils.shallowCopy(n)},technicalRule:function(){return e.selected.Category.TechnicalRule}}}).result.then(function(e){t.post("/api/sportsman/match-result",{Match:e}).then(function(t){n.ORIGINAL_SCORE_A=t.data.ORIGINAL_SCORE_A,n.ORIGINAL_SCORE_B=t.data.ORIGINAL_SCORE_B,n.OverridenScoreApproved=t.data.OverridenScoreApproved,n.OVERRIDEN_TEAM_A_SCORE=e.OVERRIDEN_TEAM_A_SCORE,n.OVERRIDEN_TEAM_B_SCORE=e.OVERRIDEN_TEAM_B_SCORE,n.TEAM_A_SCORE=n.OVERRIDEN_TEAM_A_SCORE,n.TEAM_B_SCORE=n.OVERRIDEN_TEAM_B_SCORE,n.PartsData=championshipsUtils.ConvertPartsResult(e.OVERRIDEN_PARTS_RESULT),n.RESULT=e.RESULT,3==n.RESULT?n.TechnicalWin_A=!0:4==n.RESULT&&(n.TechnicalWin_B=!0),c(n,e.RESULT)},function(e){console.log(e),alert("שגיאה בעת עדכון תוצאה, נא לנסות שוב מאוחר יותר")})})},e.PhaseClicked=function(e){e.Expanded=!e.Expanded,window["toggle-phase-visibility"]=e.Index},e.approvePendingScore=function(e){t.put("/api/sportsman/pending-score",{Match:e}).then(function(t){e.TEAM_A_SCORE=e.OVERRIDEN_TEAM_A_SCORE,e.TEAM_B_SCORE=e.OVERRIDEN_TEAM_B_SCORE,e.OverridenScoreApproved=1,c(e,e.RESULT)},function(e){console.log(e),alert("שגיאה בעת אישור תוצאה, נא לנסות שוב מאוחר יותר")})},e.rejectPendingScore=function(e){var n="/api/sportsman/pending-score?"+sportUtils.SerializeForQueryString(e,"Match_");t.delete(n).then(function(t){e.OverridenScoreApproved=null,e.OVERRIDEN_TEAM_A_SCORE=null,e.OVERRIDEN_TEAM_B_SCORE=null},function(e){console.log(e),alert("שגיאה בעת מחיקת תוצאה, נא לנסות שוב מאוחר יותר")})}}angular.module("sport.championships").controller("ChampionshipsController",["$scope","$state","$stateParams","$q","$http","$filter","$interval","$timeout","SportService","ChampionshipsService","EventsService","ContentService",e]).controller("ChampionshipCategoryCtrl",["$scope","$http","$filter","$timeout","$uibModal","$rootScope",t]).controller("ChampionshipCategoryFinalsTreeCtrl",["$scope","$http","$filter",n]).controller("EditResultsController",["$scope","$http","$filter","$uibModal",a])}(),function(){"use strict";function e(e,t,n,a){return{read:function(n){void 0===n&&(n={});var o=n.region||null,i=n.omitEmpty||0,r=n.season||0,s=n.school||null;return a.currentSeason(r).then(function(n){var a="/api/sportsman/championships";return a+="?"+t({season:n,region:o,omitEmpty:i,school:s}),e.get(a).then(function(e){for(var t=0;t<e.data.length;t++)e.data[t];return e.data})})},teams:function(n,a,o){function i(e,t){var n=e.findItem(function(e){return e.TEAM_ID==t});if(null!=n){var a=n.NGROUP,o=e.filter(function(e){return e.NGROUP==a});return{TeamA:o[0],TeamB:o[1]}}return null}void 0===o&&(o=0);var r={};null!=a&&a.length>0&&a.forEach(function(e){var t=e.FacilityName,n=e.Date,a=[e.Phase,e.Group,e.TeamA_Id].join("_"),o=[e.Phase,e.Group,e.TeamB_Id].join("_");r[a]||(r[a]=[]),r[o]||(r[o]=[]),r[a].push({Score:e.TeamA_Score,Facility:t,Date:n}),r[o].push({Score:e.TeamB_Score,Facility:t,Date:n})});var s="";if(1==o)return s="/api/sportsman/data-gateway",e.get(s).then(function(t){return s=t.data,s+="?ccid="+n,e.get(s).then(function(e){return{Teams:e.data,Tree:null}})});s="/api/sportsman/category-teams";var l=t({category:n});return s+="?"+l,e.get(s).then(function(e){for(var t=e.data.Tree?e.data.Teams:e.data,n=[],a=0;a<t.length;a++){var o=t[a];n.push(o)}var s=e.data.Tree;if(null!=s&&s){for(var l in s)for(var c=s[l],a=0;a<c.length;a++){var u=c[a],d=[u.PHASE,u.NGROUP,u.TEAM_ID].join("_");u.Matches=r[d],u.Match=null!=u.Matches?u.Matches[0]:null,u.Name=eventsUtils.BuildTeamName(u,null)}var p=s.Finals.slice(0);s.Finals={TeamA:p[0],TeamB:p[1]};var g=s.SemiFinals.slice(0);s.SemiFinals={Group1:i(g,s.Finals.TeamB.TEAM_ID),Group2:i(g,s.Finals.TeamA.TEAM_ID)};var h=s.QuarterFinals.slice(0);s.QuarterFinals={Group1:i(h,s.SemiFinals.Group1.TeamA.TEAM_ID),Group2:i(h,s.SemiFinals.Group1.TeamB.TEAM_ID),Group3:i(h,s.SemiFinals.Group2.TeamA.TEAM_ID),Group4:i(h,s.SemiFinals.Group2.TeamB.TEAM_ID)}}return{Teams:n,Tree:s}})},selectedPhase:function(n){var a="/api/sportsman/active-phase";return a+="?"+t({category:n}),e.get(a).then(function(e){return e.data.ActivePhase})}}}angular.module("sport.events").factory("ChampionshipsService",["$http","$httpParamSerializer","$filter","SportService",e])}();var championshipsUtils={_dummyLoginTimer:0,_phaseVisibilityTimer:0,_teamNamesHeightTimer:0,convertSportFlowersChampionships:function(e,t){for(var n=[],a=0;a<e.length;a++){var o=e[a],i={CHAMPIONSHIP_CATEGORY_ID:o.Seq,CATEGORY_NAME:o.FacilityName||t("date")(o.DateTime,"dd/MM"),CHAMPIONSHIP_ID:o.EventSeq,CHAMPIONSHIP_NAME:o.EventName,SPORT_ID:sportGlobalSettings.FlowersFieldSeq,IS_CLUBS:0,SPORT_NAME:"פרחי ספורט",TotalTeams:1};n.push(i)}return n},ConvertPartsResult:function(e){var t=null;if(null!=e&&e&&e.length>0){var n=[];e.split("|").forEach(function(e){if(e.length>0){var t=e.split("-");if(2==t.length){var a=parseInt(t[0]),o=parseInt(t[1]);!isNaN(a)&&a>=0&&!isNaN(o)&&o>=0&&n.push({TeamA:a,TeamB:o})}}}),n.length>0&&(t={TeamA:n.map(function(e){return e.TeamA}),TeamB:n.map(function(e){return e.TeamB})})}return t},CreatePartsResult:function(e){var t=null;return null!=e&&e.length>0&&(t=e.map(function(e){return null!=e.ScoreA&&null!=e.ScoreB?[e.ScoreA,e.ScoreB].join("-"):""}).filter(function(e){return e.length>0}).join("|")),t},HasPendingScore:function(e){return null!=e.OVERRIDEN_TEAM_A_SCORE&&null!=e.OVERRIDEN_TEAM_B_SCORE&&1!=e.OverridenScoreApproved},HasPendingPartScore:function(e){return null!=e.OVERRIDEN_PARTS_RESULT&&1!=e.OverridenScoreApproved},actualTeamsFilter:function(e){var t=e.Name;return t.indexOf("מנצחת משחק")<0&&t.indexOf("מפסידת משחק")<0&&t.indexOf(" מיקום ")<0},ExtractTreeMatches:function(e){function t(e,t,n){return!(!e||!t)&&(n.push({TeamA_Id:e.TEAM_ID,TeamB_Id:t.TEAM_ID,PhaseIndex:e.PHASE}),!0)}var n=[];for(var a in e){var o=e[a];if(!t(o.TeamA,o.TeamB,n))for(var i in o){var r=o[i];t(r.TeamA,r.TeamB,n)}}return n},ApplyFinalsTree:function(e,t,n){if(e&&t&&0!=t.length&&n&&0!=n.length){var a=n.SplitByProperty("Phase"),o=championshipsUtils.ExtractTreeMatches(e),i={};o.forEach(function(e){var t=[e.PhaseIndex,e.TeamA_Id,e.TeamB_Id].join("_");i[t]=!0});var r=sportUtils.ParseQueryString();"1"!=r.English&&"1"!=r.english&&t.forEach(function(e){if(e.Index>=0){var t=a[e.Index.toString()],n=t.filter(function(e){var t=[e.Phase,e.TeamA_Id,e.TeamB_Id].join("_"),n=[e.Phase,e.TeamB_Id,e.TeamA_Id].join("_");return i[t]||i[n]});n.length>0&&(n.length==t.length?e.Hidden=!0:e.Name="משחקי מבחן")}})}},ExtractDistinctMatches:function(e,t){void 0!==t&&null!=t&&0!=t.length||(t=["CHAMPIONSHIP_CATEGORY_ID","PHASE","NGROUP","ROUND","MATCH","CYCLE"]);var n=[],a={};return e.forEach(function(e){var o=t.map(function(t){return e[t]}).join("_");a[o]||(n.push(sportUtils.shallowCopy(e)),a[o]=!0)}),n},BindDummyLogin:function(){sportUtils.AttachAutoClick(),$("#txtDummyUserName").bind("change",function(){$("#username").val($(this).val()),$("#username").trigger("change")}),$("#txtDummyPassword").bind("change",function(){$("#password").val($(this).val()),$("#password").trigger("change")}),$("#btnDummyLogin").bind("click",function(){$("#btnLogin").trigger("click")}),championshipsUtils._dummyLoginTimer&&window.clearInterval(championshipsUtils._dummyLoginTimer);var e=$("#pnlLoginError");championshipsUtils._dummyLoginTimer=window.setInterval(function(){var t=$.trim($("#loginErrorPanel").text());e.text(t),t.length>0?e.show():e.hide()},100)},InitPhaseVisibility:function(){championshipsUtils._phaseVisibilityTimer&&window.clearInterval(championshipsUtils._phaseVisibilityTimer),championshipsUtils._phaseVisibilityTimer=window.setInterval(function(){var e=window["toggle-phase-visibility"];if(null!=e){window["toggle-phase-visibility"]=null;var t=$('.phase-contents[data-phase-index="'+e+'"]');if(1==t.length){t.is(":visible")?t.hide("slow"):t.show("slow")}}},100)},InitTeamNamesHeightTimer:function(){championshipsUtils._teamNamesHeightTimer&&window.clearInterval(championshipsUtils._teamNamesHeightTimer),championshipsUtils._teamNamesHeightTimer=window.setInterval(function(){var e=$(".match-row");e.length>0&&e.each(function(){var e=$(this),t=e.find(".team_name");if(2==t.length){var n=t.eq(0),a=t.eq(1),o=n.height(),i=a.height();if(o!=i){var r=Math.max(o,i);(r==o?a:n).css("height",r+"px")}}})},200)}};!function(){"use strict";function e(e,t,n,a,o,i,r,s,l){function c(t,n){if(null!=e.match.PartsData){var a=e.match.PartsData["Team"+t];if(n>=0&&n<a.length)return a[n]}return null}function u(t,n,a){e.fileUploadError=t,window.setTimeout(function(){n.removeFile(a)},200),o(function(){e.fileUploadError=""},5e3)}function d(e,t){var n=function(){var e=t.type,n=!e||0==e.length,a=!n&&"image"==e.split("/")[0].toLowerCase(),o=!n&&"pdf"==e.split("/")[1].toLowerCase();return a||o?"":"ניתן להעלות קובץ תמונה או PDF בלבד"}();return!(n.length>0)||(u(n,e,t),!1)}function p(){championshipsUtils.HasPendingScore(s)?(e.match.NewScore_A=e.match.OVERRIDEN_TEAM_A_SCORE,e.match.NewScore_B=e.match.OVERRIDEN_TEAM_B_SCORE):(e.match.NewScore_A=e.match.TEAM_A_SCORE,e.match.NewScore_B=e.match.TEAM_B_SCORE)}var g=s.UploadedFileUrl&&s.UploadedFileUrl.length>0,h="/content/Matches/"+[s.CHAMPIONSHIP_CATEGORY_ID,s.match_number,"form"].join("/"),f="ניתן לגרור לכאן טופס ";g&&(f+="חדש "),f+="או ללחוץ להעלאה",e.match=s,e.match.OriginalResult=e.match.RESULT,e.match.OverridenPartScore=null,null!=e.match.PartsData&&(e.match.ShowPartScore=!0),window.setTimeout(function(){var e=sportUtils.IsMobile()?"edTeamA_Score_mobile":"edTeamA_Score",t=sportUtils.IsMobile()?"edTeamB_Score_mobile":"edTeamB_Score";$("#"+e).focus(),sportUtils.IntegerOnlyTextbox(e),sportUtils.IntegerOnlyTextbox(t)},500),t.get("/api/sportsman/data-gateway").then(function(n){var a=n.data+"?ccid="+s.CHAMPIONSHIP_CATEGORY_ID;t.get(a).then(function(t){if(null!=t.data&&null!=t.data.GameStructure&&t.data.GameStructure.PartCount){e.match.OverridenPartScore=[];for(var n=0;n<t.data.GameStructure.PartCount;n++){var a=c("A",n),o=c("B",n);e.match.OverridenPartScore.push({ScoreA:a,OriginalScoreA:a,ScoreB:o,OriginalScoreB:o,IsExtension:!1})}if(t.data.GameStructure.ExtensionCount)for(var n=0;n<t.data.GameStructure.ExtensionCount;n++){var a=c("A",n+t.data.GameStructure.PartCount),o=c("B",n+t.data.GameStructure.PartCount),i={ScoreA:a,OriginalScoreA:a,ScoreB:o,OriginalScoreB:o,IsExtension:!0};0==n&&(i.FirstExtension=!0),e.match.OverridenPartScore.push(i)}}})}),e.dropzoneConfig={options:{paramName:"files",maxFiles:1,url:h,autoProcessQueue:!0,dictDefaultMessage:f,dictRemoveFile:"הסרת טופס",dictCancelUploadConfirmation:"ביטול העלאת קובץ",addRemoveLinks:!0},eventHandlers:{success:function(n,a){e.fileUploadError="",e.fileUploaded=!1;var o=this;if(d(o,n)){var i=h+"/"+n.name,r={Category:e.match.CHAMPIONSHIP_CATEGORY_ID,Match:e.match.match_number,Path:i};t.post("/api/common/match-forms",r).then(function(){e.match.UploadedFileUrl=i,e.fileUploaded=!0,window.match_uploaded_file=i},function(e){u("שגיאה בעת העלאת קובץ נא לנסות שוב מאוחר יותר",o,n)})}},maxfilesexceeded:function(e){var t=this;window.setTimeout(function(){t.removeFile(e)},200)},removedfile:function(e){console.log("file removed: "+e.name),window.match_uploaded_file="NULL"}}},p(),e.getPartScoreStyle=function(e){return e.FirstExtension?"margin-bottom: 10px;":""},e.getFileUploadIconStyle=function(){var t="font-size: 70px; margin-top: 20px;";return e.fileUploaded&&(t+=" color: green; margin-top: -10px;"),t},e.isConfirmDisabled=function(){if(null!=e.match.OverridenPartScore){if(null!=e.match.OverridenPartScore.findItem(function(e){return e.OriginalScoreA!=e.ScoreA||e.OriginalScoreB!=e.ScoreB}))return!1}if(e.match.OriginalResult==e.match.RESULT){if(null==e.match.NewScore_A||""==e.match.NewScore_A)return!0;if(null==e.match.NewScore_B||""==e.match.NewScore_B)return!0;if(e.match.NewScore_A==e.match.TEAM_A_SCORE&&e.match.NewScore_B==e.match.TEAM_B_SCORE)return!0}return!1},e.TechnicalWinChanged=function(t){if(e.match["TechnicalWin_"+t]){var n="A"==t?"B":"A";e.match["TechnicalWin_"+n]=!1,null!=l&&null!=l.Winner&&(e.match["NewScore_"+t]=l.Winner,e.match["NewScore_"+n]=l.Loser)}else p();e.match.TechnicalWin_A?e.match.RESULT=3:e.match.TechnicalWin_B?e.match.RESULT=4:e.match.RESULT=null},e.deleteMatchForm=function(){r.ask("האם למחוק את טופס המשחק?").then(function(){var n="/api/common/match-forms?category="+e.match.CHAMPIONSHIP_CATEGORY_ID+"&match="+e.match.match_number;t.delete(n).then(function(t){e.match.UploadedFileUrl=null,window.match_uploaded_file="NULL"},function(e){
alert("שגיאה בעת מחיקת טופס משחק מהמערכת, נא לנסות שוב מאוחר יותר"),console.log("error deleting match form"),console.log(e)})})},e.clearPartsData=function(){e.match.OverridenPartScore&&e.match.OverridenPartScore.forEach(function(e){e.ScoreA=null,e.ScoreB=null})},e.cancel=function(){n.dismiss("cancel")},e.confirm=function(){e.match.OVERRIDEN_TEAM_A_SCORE=e.match.NewScore_A,e.match.OVERRIDEN_TEAM_B_SCORE=e.match.NewScore_B,e.match.OVERRIDEN_PARTS_RESULT=championshipsUtils.CreatePartsResult(e.match.OverridenPartScore),n.close(e.match)}}angular.module("sport").controller("MatchResultDialogCtrl",["$scope","$http","$uibModalInstance","$filter","$timeout","$q","messageBox","match","technicalRule",e])}(),function(){"use strict";function e(e,t,n,a,o,i,r,s){function l(){return null==e.data.AllTables?void(e.error="לא קיימים נתונים עבור אליפות זו"):s.Phase.Index>=e.data.AllTables.length?void(e.error="אין נתוני דירוג עבור שלב אליפות נבחר"):(e.data.RankingTable=e.data.AllTables[s.Phase.Index],e.data.RankingTable.GroupRows=[],e.data.RankingTable.Rows&&(e.data.RankingTable.GroupRows=e.data.RankingTable.Rows.filter(function(e){return e.GroupName==s.Group.Name}),e.data.RankingTable.GroupRows.sortByProperty("Position")),void window.setTimeout(function(){var e=$(".modal-content");if(e.length>0){var t=$("#tblRanking").width(),n=e.width();if(t>n){var a=Math.floor((t-n)/2);e.css("width",t+50+"px"),e.css("left",a+"px")}}},500))}e.data={FullCaption:s.Category.Name+", "+s.Phase.Name+", "+s.Group.Name,AllTables:s.RankingTables,RankingTable:null},null==e.data.AllTables?(console.log("reading from server..."),e.loading=!0,t.get("/api/sportsman/data-gateway").then(function(n){var a=n.data;a+="?ccid="+s.Category.Id,t.get(a).then(function(t){e.loading=!1,e.data.AllTables=t.data.RankingTables,l()})},function(t){e.loading=!1,e.error="שגיאה בעת טעינת נתונים מהשרת, נא לנסות שוב מאוחר יותר"})):l(),window.setInterval(function(){var e=$("#lbDots");if(e.parents("div").first().is(":visible")){var t=e.text().length;++t>3&&(t=1);var n=Array(t+1).join(".");e.text(n)}},1e3),e.close=function(){n.close(e.data.AllTables)}}angular.module("sport").controller("RankingTableDialogCtrl",["$scope","$http","$uibModalInstance","$filter","$timeout","$q","messageBox","categoryData",e])}(),function(){"use strict";function e(e,t,n,a,o,i,r,s){function l(){n.get("/api/school-club/team-orders").then(function(t){e.school.OrdersBasket=t.data,e.school.OrdersBasket.forEach(function(e,t){e.Index=t+1})},function(e){console.log("error getting orders basket")})}function c(){var t=e.loggedUser.SchoolSymbol;n.get("/api/sportsman/school-data?symbol="+t).then(function(t){e.isClubSchool=1==t.data.CLUB_STATUS}),t&&registerUtils.buildSchoolName(n,t).then(function(t){e.loggedUser.SchoolName=t},function(e){console.log("error reading school name"),console.log(e)})}function u(t){e.data.clubFormTabs.forEach(function(e){e.Index!=t.Index&&(e.Active=!1)}),t.Active=!0,e.data.selectedTab=t}function d(){return e.data.clubFormTabs.findItem(function(e){return 1==e.Active})}function p(e,t,n,a){if(void 0===a&&(a=[]),e.length>0){if(0==n.length){var o={};a.forEach(function(e){o[e]=!0});for(var i in e[0])o[i]||n.push(i)}var r=t;e.forEach(function(e){n.forEach(function(t){e[t+"TabIndex"]=r,r++})})}}function g(t){function n(t){var n=e.school[t.Property],a=!1;switch(t.Type){case"boolean":a=1==n;break;case"not-empty":a=n&&n.toString().length>0}return a}var a=T[t.Index.toString()]||[];if(a.length>0){var o=a.filter(function(e){return 0==n(e)}).map(function(e){return e.Message});if(o.length>0){var i="יש למלא את השדות הבאים: <br />"+o.join("<br />");return s.warn(i,{title:"שדות דרושים חסרים",htmlContents:!0}),!1}}return!0}function h(t){function a(e,t){return t.length>0&&!t.endsWith("_")&&(t+="_"),e.filter(function(e){return e.PropertyName.startsWith(t)})}function o(e,t,n,o,i){function r(e,t){var n=o[e];if(n&&null!=t){if(n.IsBoolean)return"1"==t;if(n.IsArray)return t.split(",");var a=n.Items.findItem(function(e){return e[n.KeyProperty]==t});if(null!=a)return a}return t}void 0!==o&&null!=o||(o={}),"undefined"==i&&(i=!1);var s=a(t,n);0!=s.length&&s.forEach(function(t){var n=t.PropertyName.split("_"),a=n.lastItem(),o=null;if(3==n.length){var s=n[1];e.hasOwnProperty(s)&&(o=e[s])}if(n.length>3&&(a=n.skip(2).join("_")),null==o&&(o=e),a&&(o.hasOwnProperty(a)||i)){var l=t.PropertyValue;o[a]=r(a,l)}})}function i(e,t,n,i,r){void 0===i&&(i={}),"undefined"==r&&(r=!1);var s=a(t,n);e.forEach(function(e,t){var a=e.Id||e.Index;a||(a=t+1),o(e,s,n+"_"+a,i,r)})}function r(e,t,n,a){var o=e[n];o&&(t[a]=o)}void 0===t&&(t=null),n.get("/api/school-club/data").then(function(a){var s=a.data;S=s.slice(0),i(e.data.coachesData,s,"Coach",{AuthorizationLevel:{Items:e.data.authorizationLevels,KeyProperty:"Id"},PassedCoachTraining:{Items:e.data.yesNoOptions,KeyProperty:"Id"}}),o(e.school,s,"School",{IsAssociation:{IsBoolean:!0},IsAssociationConfirmed:{IsBoolean:!0},HasConfirmedClubTerms:{IsBoolean:!0},HasConfirmedFacilityTerms:{IsBoolean:!0}},!0),i(e.data.managementBoardMembers,s,"ManagementBoardMember",{},!0),i(e.data.hostingDays,s,"HostingDay",{},!0),e.data.hostingDays.forEach(function(e){e.Categories.forEach(function(t){r(e,t,"Category_"+t.Index+"_Name","Name"),r(e,t,"Category_"+t.Index+"_Weekday","Weekday"),r(e,t,"Category_"+t.Index+"_HostingHour","HostingHour")})}),n.get("/api/common/school-user-data").then(function(a){var o=sportUtils.shallowCopy(a.data);n.get("/api/common/club-facility-data").then(function(n){var a=n.data.filter(function(e){return e.REGION_ID==o.REGION_ID});e.data.facilitySportFields=sportUtils.DistinctArray(a,"SportFieldSeq").map(function(e){return{Id:e.SportFieldSeq,Name:e.SportFieldName}}),i(e.data.facilitySportFields,S,"FacilitySportField",{},!0),p(e.data.facilitySportFields,3,["Address","Contact","HostingHours"]),null!=t&&t("SUCCESS")},function(e){console.log("error reading facility data"),null!=t&&t("ERROR")})},function(e){console.log("error reading school data"),null!=t&&t("ERROR")})},function(e){console.log("error reading school club data"),null!=t&&t("ERROR")})}function f(){var t="/api/sportsman/school/"+e.loggedUser.SchoolSymbol+"/personnel";n.get(t).then(function(t){var n=t.data,a={ManagerEmail:"SCHOOL_EMAIL",ManagerName:"SCHOOL_MANAGER_NAME",FaxNumber:"SCHOOL_FAX",PhoneNumber:"SCHOOL_PHONE",ChairmanAddress:"CHAIRMAN_ADDRESS",ChairmanName:"CHAIRMAN_NAME",ChairmanZipCode:"CHAIRMAN_ZIP_CODE",ChairmanCity:"CHAIRMAN_CITY_NAME",ChairmanFax:"CHAIRMAN_FAX",ChairmanPhoneNumber:"CHAIRMAN_PHONE",CoordinatorAddress:"COORDINATOR_ADDRESS",CoordinatorName:"COORDINATOR_NAME",CoordinatorZipCode:"COORDINATOR_ZIP_CODE",CoordinatorCity:"COORDINATOR_CITY_NAME",CoordinatorCellPhone:"COORDINATOR_CELL_PHONE",CoordinatorPhoneNumber:"COORDINATOR_PHONE",CoordinatorFax:"COORDINATOR_FAX",CoordinatorEmailAddress:"COORDINATOR_EMAIL"};for(var o in a){var i=e.school[o];void 0!==i&&null!=i&&0!=i.toString().length||(e.school[o]=n[a[o]])}},function(e){console.log("error reading school personnel")})}function m(e,t,a,o,i){void 0===a&&(a=[]),void 0===o&&(o=null),void 0===i&&(i=null),a.findIndex(function(e){return"Id"==e})<0&&a.push("Id"),a.findIndex(function(e){return"Index"==e})<0&&a.push("Index"),t.length>0&&!t.endsWith("_")&&(t+="_");var r={Data:e,Prefix:t,Excluded:a};n.post("/api/school-club/data",r).then(function(e){null!=o&&o(e)},function(e){null!=i&&i(e)})}function v(e,t,n,a,o,i){if(a>=e.length)return void o();var r=e[a],s=r.Id||r.Index;if(s){m(r,t+"_"+s+"_",n,function(){v(e,t,n,a+1,o,i)},function(e){null!=i&&i(e)})}else i("no id found for item in index "+a)}var S=null,y=["ראשונה","שנייה","שלישית","רביעית","חמישית","שישית","שביעית","שמינית","תשיעית","עשירית"],C={1:"padding: 5px 5px 5px 5px;",2:""},I={1:"background-color: #00ADEE;",2:"color: white;"},T={1:[{Property:"HasConfirmedClubTerms",Type:"boolean",Message:"אישור קריאת התחייבות"}],4:[{Property:"HasConfirmedFacilityTerms",Type:"boolean",Message:"אישור קריאת התחייבות"}]};e.loggedUser=null,e.hasConfirmedFinalSubmission=!1,e.data={selectedTab:null,authorizationLevels:registerUtils.sharedClubData.authorizationLevels,yesNoOptions:registerUtils.sharedClubData.yesNoOptions,clubFormTabs:[{Index:1,Caption:'פרטי ביה"ס'},{Index:2,Caption:"רישום קבוצות",NoData:!0},{Index:3,Caption:"דמי רישום"},{Index:4,Caption:"מתקני פעילות"},{Index:5,Caption:"חברי הנהלת מועדון"},{Index:6,Caption:"נתוני מאמנים"}],facilitySportFields:[],hebrewWeekDays:[{Index:1,Name:"א'"},{Index:2,Name:"ב'"},{Index:3,Name:"ג'"},{Index:4,Name:"ד'"},{Index:5,Name:"ה'"}],managementBoardMembers:[{Id:1,Caption:'יו"ר'},{Id:2,Caption:'סגן יו"ר'},{Id:3,Caption:"רכז מועדון"},{Id:4,Caption:"חבר"},{Id:5,Caption:"חבר"},{Id:6,Caption:"חבר"}],hostingDays:[{Id:1,SportField:"כדורעף",Categories:[{Index:1,Name:"",Weekday:"",HostingHour:""},{Index:2,Name:"",Weekday:"",HostingHour:""},{Index:3,Name:"",Weekday:"",HostingHour:""},{Index:4,Name:"",Weekday:"",HostingHour:""},{Index:5,Name:"",Weekday:"",HostingHour:""},{Index:6,Name:"",Weekday:"",HostingHour:""}]},{Id:2,SportField:"כדוריד",Categories:[{Index:1,Name:"",Weekday:"",HostingHour:""},{Index:2,Name:"",Weekday:"",HostingHour:""}]},{Id:3,SportField:"כדורגל",Categories:[{Index:1,Name:"",Weekday:"",HostingHour:""}]},{Id:4,SportField:"כדורסל",Categories:[{Index:1,Name:"",Weekday:"",HostingHour:""}]},{Id:5,SportField:"טניס שולחן",Categories:[{Index:1,Name:"",Weekday:"",HostingHour:""}]},{Id:6,SportField:"בדמינטון",Categories:[{Index:1,Name:"",Weekday:"",HostingHour:""}]}],coachesData:[]},e.school={OrdersBasket:[],Cheque:{}},l(),e.data.clubFormTabs.length>0&&u(e.data.clubFormTabs[0]);for(var w=0;w<=6;w++)e.data.coachesData.push({Id:w+1,SportField:"",Name:"",IdNumber:"",AgeRange:"",Gender:"",AuthorizationLevel:null,PassedCoachTraining:null,Cellular:"",Address:"",Email:""});if(p(e.data.managementBoardMembers,1,["Name","Role"]),p(e.data.coachesData,1,[],["Id"]),e.data.hostingDays.length>0){var _=1;e.data.hostingDays.forEach(function(e){p(e.Categories,_,["Name","Weekday","HostingHour"]),_+=3*e.Categories.length,e.Categories.forEach(function(t){t.NamePlaceholder="קטגוריית "+e.SportField,e.Categories.length>1&&(t.NamePlaceholder+=" "+y[t.Index-1]),t.WeekdayPlaceholder="יום פעילות עבור ",t.HostingHoursPlaceholder="שעות אירוח עבור ",e.Categories.length>1?(t.WeekdayPlaceholder+=t.NamePlaceholder,t.HostingHoursPlaceholder+=t.NamePlaceholder):(t.WeekdayPlaceholder+=e.SportField,t.HostingHoursPlaceholder+=e.SportField)})})}i(function(){"1"==window.reload_orders_basket&&(console.log("reloading orders basket due to trigger..."),window.reload_orders_basket=null,l())},1e3),n.get("/api/login").then(function(n){n&&n.data&&null!=n.data&&(e.loggedUser={Seq:n.data.seq,Login:n.data.name,DisplayName:n.data.displayName,Role:n.data.role,SchoolSymbol:n.data.schoolSymbol},n.data.isClubUser?(c(),h(function(){f()})):t.go("register"))},function(e){console.log("error getting logged in user"),console.log(e)}),o(function(){window.qL_Finish_Now=!0},1e3),i(function(){$("form").each(function(){var t=$(this);if("1"==t.data("is-dirty")){var n=parseInt(t.data("tab-index"));if(!isNaN(n)&&n>0){var a=e.data.clubFormTabs.findItem(function(e){return e.Index==n});null!=a&&(a.IsDirty=!0)}}})},500),e.getFormTabStyle=function(e,t){var n=C[t.toString()];return e.Active&&(n+=" "+I[t.toString()]),n},e.tabClicked=function(t){var n=d();if(null==n)return void u(t);n.Index!=t.Index&&g(n)&&e.saveTab(n,function(){u(t)})},e.getAuthorizationLevelClass=function(e,t){return e.AuthorizationLevel&&e.AuthorizationLevel.Id==t.Id?"fa fa-check":"fa fa-circle-o"},e.getPassedCoachTrainingClass=function(e,t){return e.PassedCoachTraining&&e.PassedCoachTraining.Id==t.Id?"fa fa-check":"fa fa-circle-o"},e.getAssociationClass=function(){return e.school.IsAssociation?"fa fa-check-square-o":"fa fa-square-o"},e.authorizationLevelClicked=function(e,t){t.AuthorizationLevel=e},e.passedCoachTrainingClicked=function(e,t){t.PassedCoachTraining=e},e.associationClicked=function(){e.school.IsAssociation=!e.school.IsAssociation},e.getAssociationConfirmedClass=function(){return e.school.IsAssociationConfirmed?"fa fa-check-square-o":"fa fa-square-o"},e.associationConfirmedClicked=function(){e.school.IsAssociationConfirmed=!e.school.IsAssociationConfirmed},e.getHasConfirmedClubTermsClass=function(){return e.school.HasConfirmedClubTerms?"fa fa-check-square-o":"fa fa-square-o"},e.getHasConfirmedFacilityTermsClass=function(){return e.school.HasConfirmedFacilityTerms?"fa fa-check-square-o":"fa fa-square-o"},e.getFacilitySportWeekdayClass=function(e,t){return e.Days&&e.Days.indexOf(t.Index)>=0?"fa fa-check-square-o":"fa fa-square-o"},e.getHasConfirmedFinalSubmissionClass=function(){return e.hasConfirmedFinalSubmission?"fa fa-check-square-o":"fa fa-square-o"},e.hasConfirmedClubTermsClicked=function(){e.school.HasConfirmedClubTerms=!e.school.HasConfirmedClubTerms},e.hasConfirmedFacilityTermsClicked=function(){e.school.HasConfirmedFacilityTerms=!e.school.HasConfirmedFacilityTerms},e.hasConfirmedFinalSubmissionClicked=function(){e.hasConfirmedFinalSubmission=!e.hasConfirmedFinalSubmission},e.facilitySportWeekdayClicked=function(e,t){e.Days||(e.Days=[]);var n=e.Days.indexOf(t.Index);n>=0?e.Days.removeItem(t.Index,n):e.Days.push(t.Index)},e.ParseChequeSum=function(){var t=e.school.Cheque.Sum;return t&&t.length>0?sportUtils.ParseHebrewCurrency(t):""},e.focusFacilityField=function(e,t){$(".facility-"+t+'[data-sportfield-id="'+e.Id+'"]').find("input").focus()},e.addTeam=function(){var t=e.school.OrdersBasket.map(function(e){return e.CHAMPIONSHIP_CATEGORY_ID});r.open({templateUrl:"views/championship-selection.html",controller:"ChampionshipSelectionCtrl",resolve:{schoolData:function(){return{Name:e.loggedUser.SchoolName,Symbol:e.loggedUser.SchoolSymbol,ClubsOnly:!0,NoConfirmation:!0,ExcludedCategories:t}},sportField:function(){return null},allSeasons:function(){return null},allRegions:function(){return null},options:function(){return{show_championship_remarks:!0}}}}).result.then(function(e){var t={Category:e.Category.CategoryId,Amount:e.Amount};n.put("/api/school-club/team-order",t).then(function(e){l()},function(e){console.log("error posting new order")})})},e.coachIdNumberChanged=function(t){var n=t.IdNumber?parseInt(t.IdNumber):0;if(!isNaN(n)&&n>0){var a=e.data.coachesData.findItem(function(e){return e.Id!=t.Id&&e.IdNumber&&parseInt(e.IdNumber)==n});if(null!=a)for(var o in a)if("Id"!=o&&"IdNumber"!=o){var i=a[o];null!=i&&""!=i&&(t[o]=i)}}},e.deleteTeamOrder=function(e){s.ask("האם למחוק הזמנה זו?").then(function(){n.delete("/api/school-club/team-order?category="+e.CHAMPIONSHIP_CATEGORY_ID).then(function(){l()},function(e){console.log(e),alert("שגיאה בעת מחיקת קבוצה, נא לנסות מאוחר יותר")})})},e.editTeamOrder=function(t){var a=e.school.OrdersBasket.map(function(e){return e.CHAMPIONSHIP_CATEGORY_ID}),o=a.filter(function(e){return e!=t.CHAMPIONSHIP_CATEGORY_ID});r.open({templateUrl:"views/championship-selection.html",controller:"ChampionshipSelectionCtrl",resolve:{schoolData:function(){return{Name:e.loggedUser.SchoolName,Symbol:e.loggedUser.SchoolSymbol,ClubsOnly:!0,NoConfirmation:!0,ExcludedCategories:o}},sportField:function(){return null},allSeasons:function(){return null},allRegions:function(){return null},options:function(){return{category:t.CHAMPIONSHIP_CATEGORY_ID,amount:t.Amount,show_championship_remarks:!0}}}}).result.then(function(e){var a={OldCategory:t.CHAMPIONSHIP_CATEGORY_ID,NewCategory:e.Category.CategoryId,Amount:e.Amount};n.post("/api/school-club/team-order",a).then(function(e){l()},function(e){console.log("error updating order"),alert("שגיאה בעת עדכון נתוני קבוצה, נא לנסות שוב מאוחר יותר")})})},e.saveTab=function(t,n){if(void 0!==t&&null!=t||(t=d()),void 0===n&&(n=null),null==t)return console.log("no active tab"),void(null!=n&&n());console.log("saving tab "+t.Index+"...");var a=null,i=null,r="",s=[];switch(t.Index){case 1:i=e.school,r="School_Data",s.push("OrdersBasket"),s.push("Cheque"),s.push("HasConfirmedFacilityTerms");break;case 3:i=e.school.Cheque,r="School_Cheque";break;case 4:a=e.data.facilitySportFields,r="FacilitySportField",s.push("Name");break;case 5:a=e.data.managementBoardMembers,r="ManagementBoardMember",s.push("Caption");break;case 6:a=e.data.coachesData,r="Coach"}var l=function(){4==t.Index&&m({HasConfirmedFacilityTerms:e.school.HasConfirmedFacilityTerms},"School_Facility",[],null,null),t.SaveInProgress=!1,t.SavedSuccessfully=!0,t.IsDirty=!1,null!=n&&n("success"),o(function(){t.SavedSuccessfully=!1},5e3)},c=function(){t.SaveInProgress=!1,t.SaveFailed=!0,null!=n&&n("error"),o(function(){t.SaveFailed=!1},5e3)};null!=a?(t.SaveInProgress=!0,v(a,r,s,0,l,c)):null!=i?(t.SaveInProgress=!0,m(i,r,s,l,c)):null!=n&&n()},e.saveAndMove=function(){var t=d();null!=t&&(6==t.Index?e.hasConfirmedFinalSubmission||s.warn("נא לאשר שליחת נתונים ורישום קבוצות",{title:"הדפסת טופס רישום"}):e.saveTab(t,function(){var n=t.Index+1,a=e.data.clubFormTabs.findItem(function(e){return e.Index==n});null!=a&&e.tabClicked(a)}))}}function t(e,t,n,a){e.confirm=function(){t.close("OK")}}angular.module("sport.club-register").controller("ClubRegisterController",["$scope","$state","$http","$filter","$timeout","$interval","$uibModal","messageBox",e]).controller("ClubRegisterWelcomeDialogCtrl",["$scope","$uibModalInstance","$sce","school",t])}(),function(){"use strict";function e(e){return{link:function(t,n){var a=n.parents("#items-container").first().find("#slider"),o=n.parents("#items-container").first().find("#carousel"),i=a.find("ul"),r=o.find("ul");e(function(){i.append($("<li>"+n.html()+"</li>"));var e=n.find("img.carousel-image");0==e.length&&(e=n.find("img")),e.length>0?r.append($('<li><img src="'+e.attr("src")+'" alt=""></li>')):r.append($('<li><img src="" alt=""></li>')),n.find(".jackbox").removeAttr("data-group");var t=i.find("li").length;o.css("display",o.data("flexCarouselHidden")||t<=1?"none":"block"),a.removeData("flexslider"),a.flexslider({animation:"slide",controlNav:!1,animationLoop:!1,directionNav:t>1,animationSpeed:1e3,prevText:"",nextText:"",slideshow:!1,sync:"#carousel"})})}}}function t(e){return{template:'<div id="items-container"><div id="slider" class="flexslider">  <ul class="slides">  </ul></div><div id="carousel" class="flexslider">  <ul class="slides">  </ul></div><div id="items" style="display: none;" ng-transclude></div></div>',transclude:!0,link:function(t,n,a){var o=n.find("#slider"),i=n.find("#carousel");null==a.carousel||getBooleanValue(a.carousel)||(i.data("flexCarouselHidden",!0),i.css("display","none")),e(function(){i.flexslider({animation:"slide",controlNav:!1,directionNav:!1,animationLoop:!1,slideshow:!1,prevText:"",nextText:"",itemWidth:100,asNavFor:"#slider"}),o.flexslider({animation:"slide",controlNav:!1,animationLoop:!1,directionNav:!1,animationSpeed:1e3,prevText:"",nextText:"",slideshow:!1,sync:"#carousel"})})}}}angular.module("components").directive("flexItem",["$timeout",e]).directive("flexSlider",["$timeout",t])}(),function(){"use strict";function e(e){return{link:function(t,n){e(function(){for(var e=n.parents("#items-container").first().find(".owl-carousel"),t=n.prev(),a=void 0;t.length>0;){var o=t.data("owlPosition");if(null!=o){a=o+1;break}t=t.prev()}var i=0;for(t=n.next();t.length>0;){var o=t.data("owlPosition");null!=o&&(i=o,void 0===a&&(a=o),t.data("owlPosition",o+1)),t=t.next()}n.data("owlPosition",a||0);var r=n.find(".owl-video").length>0?"item":"item-video";e.owlCarousel("add",$('<div class="'+r+'">'+n.html()+"</div>"),a>i?void 0:a),e.owlCarousel("refresh")}),n.on("$destroy",function(){var e=n.data("owlPosition");if(null!=e){var t=n.parents("#items-container").first().find(".owl-carousel");t.owlCarousel("remove",e),t.owlCarousel("refresh")}})}}}function t(){return{template:'<div id="items-container" class="owl-theme"><div class="owl-carousel"></div><div id="items" style="display: none;" ng-transclude></div></div>',transclude:!0,link:function(e,t,n){var a={rtl:null==n.rtl||getBooleanValue(n.rtl),autoWidth:!0,items:n.items||3,navSpeed:n.navSpeed||800,navigation:!0,nav:null==n.nav||getBooleanValue(n.nav),dots:null!=n.dots&&getBooleanValue(n.dots),margin:null==n.margin?12:n.margin,loop:null==n.loop||getBooleanValue(n.loop),video:null==n.video||getBooleanValue(n.video),navText:null==n.navText?["",""]:getBooleanValue(n.navText),responsive:{0:{items:n.itemsSm||1},481:{items:n.itemsMd||2},980:{items:n.itemsLg||3}}};t.find(".owl-carousel").owlCarousel(a)}}}angular.module("components").directive("owlCarousel",t).directive("owlItem",["$timeout",e])}(),function(){"use strict";function e(e,t,n,a,o,i,r,s,l){function c(e){if(1==e.Type||5==e.Type){e.Attachments=(e.Data||[]).slice(0),5==e.Type&&(e.Attachments=e.Attachments.filter(function(e){return e.Description&&e.Description.length>0}));for(var t=0;t<e.Attachments.length;t++){var n=e.Attachments[t];n.Index=t,n.DateUploaded&&(n.DateUploaded=new Date(n.DateUploaded)),5==e.Type&&(n.FileType=contentUtils.ParseFileType(n.FileName))}}switch(e.Type){case 2:e.EncodedData=sportUtils.EncodeHTML(e.Data);break;case 3:var a={};contentUtils.TryParseVideo(e.Data,a)?e.VideoUrl=o.trustAsResourceUrl(a.embed):e.VideoUrl="";break;case 6:e.Data.AboutMe&&(e.Data.AboutMe=sportUtils.EncodeHTML(e.Data.AboutMe))}}function u(){window.qL_steps_amount=3,l.read(h).then(function(a){if(window.qL_step_finished=!0,a.Type&&a.Type!=contentUtils.ParsePageType(e.pageType))return"1"==r.get("edit.controller.abort")?(r.remove("edit.controller.abort"),void(window.qL_Finish_Now=!0)):void t.go(contentUtils.ParsePageType(a.Type),{page:h});if(void 0===a.Sections||null==a.Sections)return void t.go("home");for(var o=0;o<a.Sections.length;o++){var i=a.Sections[o];if(c(i),6==i.Type){for(var s=i,l=o-1;l>=0;l--){var u=a.Sections[l];6==u.Type&&(s=u)}s.Contacts||(s.Contacts=[]),i.Data.SectionIndex=i.Index,s.Contacts.push(i.Data)}}for(var o=0;o<a.Sections.length;o++){var i=a.Sections[o];if(6==i.Type&&i.Contacts){i.Contacts.sort(function(e,t){return e.SectionIndex-t.SectionIndex}),i.ContactRows=sportUtils.SplitArray(i.Contacts,2);for(var d=i.ContactRows[i.ContactRows.length-1],p=2-d.length,l=0;l<p;l++)d.push({Name:""})}}window.qL_step_finished=!0,a.Author&&a.Author.AboutMe&&(a.Author.AboutMe=sportUtils.EncodeHTML(a.Author.AboutMe)),e.pageData=a,e.pageData.Seq=h,n.get("/api/common/contacts?type=2&apply=pages").then(function(e){window.qL_step_finished=!0;for(var t=[],n=0;n<e.data.length;n++)t.push(e.data[n]);for(var n=0;n<a.Sections.length;n++){var o=a.Sections[n];if(6==o.Type&&o.ContactRows&&o.ContactRows.length>0)for(var i=0;i<o.ContactRows.length;i++)for(var r=o.ContactRows[i],s=0;s<r.length;s++){var l=r[s];if(l.Picture){var c=l.Picture.Seq,u=t.findItem(function(e){return e.PictureSeq==c});null!=u&&u.PicturePageSeq&&(l.Picture.PageSeq=u.PicturePageSeq)}}}window.qL_Finish_Now=!0}),ChainFactory.Next()},function(e){alert("שגיאה בעת טעינת נתונים מהשרת"),ChainFactory.Next()})}function d(){l.list(null,null).then(function(t){var a=t.filter(function(t){return t.Seq!=e.pageData.Seq&&t.SportFieldSeq==e.pageData.SportFieldSeq&&t.DefaultImageSeq});e.recentPages=a.take(2),contentUtils.InitCroppedImages(n,function(){for(var t=0;t<e.recentPages.length;t++){var n=e.recentPages[t];n.HebrewType=contentUtils.HebrewPageType(n.Type,!1),n.DefaultImagePath=contentUtils.BuildDefaultImagePath(n),contentUtils.BuildCroppedImages(n)}}),ChainFactory.Next()},function(e){console.log("error reading recent pages"),console.log(e),ChainFactory.Next()})}function p(){if("gallery"==e.pageType){e.pageData.GalleryImages=e.pageData.Sections[0].Data.slice(0);for(var t=0;t<e.pageData.GalleryImages.length;t++){e.pageData.GalleryImages[t].Index=t}e.pageData.GalleryImageRows=contentUtils.BuildImageRows(e.pageData.GalleryImages,4),ChainFactory.Next()}else ChainFactory.Next()}function g(){window.setTimeout(function(){sportUtils.InitJackbox()},1e3),ChainFactory.Next()}var h=a.page;e.pageData=null,e.loggedInUser=null,e.pageType=t.current.data.contentType,e.pluralCaption=contentUtils.HebrewPageType(e.pageType,!0),e.singularCaption=contentUtils.HebrewPageType(e.pageType,!1),i.$on("$locationChangeSuccess",function(){i.actualLocation=s.path()}),i.$watch(function(){return s.path()},function(e,n){if(i.actualLocation===e&&r.get("scs_pages.manage")==t.current.name){var a=r.getAll();for(var o in a)0==o.indexOf("scs_")&&r.remove(o);r.put("content.controller.abort","1"),t.go("pages.manage")}});var f=new Date;n.get("/api/common/logged-user?nnn="+f.getTime()).then(function(t){e.loggedInUser=t.data},function(e){console.log("error reading logged in user"),console.log(e)}),ChainFactory.Execute(u,d,p,g),e.croppedContactPicturePath=function(e){var t=e.Seq,n=contentUtils.getCroppedImage(t,"1x1");return n.File.length>0?"/content/Cropped/"+t+"/"+n.File:"/content/Contacts/"+e.PageSeq+"/"+e.FileName},e.canEditContent=function(){return null!=e.loggedInUser&&(1==e.loggedInUser.Role||3==e.loggedInUser.Role)}}angular.module("sport.content").controller("ContentController",["$scope","$state","$http","$stateParams","$sce","$rootScope","$cookies","$location","ContentService",e])}(),function(){"use strict";function e(e,t,n,a,o,i,r,s,l,c,u,d,p,g,h,f){function m(t){var n=z[e.pageType];return!(null==n||!n)&&("all"==n||n.indexOf(t.Id)>=0)}function v(){var t=k.filter(function(e){return 1==e.Seq});t.length>0&&(e.selected.AuthorName=t[0].Name)}function S(){sportUtils.VerifyUser(a,e,[3])}function y(){e.generalData.sportFields=[],a.get("/api/common/sports").then(function(t){L=t.data;for(var n=0;n<L.length;n++)e.generalData.sportFields.push(L[n]);window.qL_step_finished=!0,ChainFactory.Next()},function(e){alert("error loading sports: "+e),window.qL_step_finished=!0,ChainFactory.Next()})}function C(){e.generalData.Tags=[],a.get("/api/common/tags?type=1").then(function(t){q=t.data;for(var n=0;n<q.length;n++)e.generalData.Tags.push(q[n]);window.qL_step_finished=!0,ChainFactory.Next()},function(e){alert("error loading tags: "+e),window.qL_step_finished=!0,ChainFactory.Next()})}function I(){contentUtils.InitCroppedImages(a,function(){window.qL_step_finished=!0,ChainFactory.Next()})}function T(){e.generalData.Authors=[],a.get("/api/common/contacts?type=1").then(function(t){k=t.data;for(var n=0;n<k.length;n++){var a=k[n];a.AboutMe&&(a.AboutMe=sportUtils.EncodeHTML(a.AboutMe)),e.generalData.Authors.push(a.Name)}"new"==G&&v(),window.qL_step_finished=!0,ChainFactory.Next()},function(e){alert("error loading authors: "+e),window.qL_step_finished=!0,ChainFactory.Next()})}function w(){e.generalData.Contacts=[],a.get("/api/common/contacts?type=2&apply=pages").then(function(t){e.generalData.Contacts=[];for(var n=0;n<t.data.length;n++)e.generalData.Contacts.push(t.data[n]);for(var n=0;n<e.generalData.Contacts.length;n++){var a=e.generalData.Contacts[n];a.PictureName&&a.PicturePageSeq&&(a.Picture={Seq:a.PictureSeq,FileName:a.PictureName,PageSeq:a.PicturePageSeq}),a.DisplayName=a.Name,a.Role&&(a.DisplayName+=" ("+a.Role+")")}window.qL_step_finished=!0,ChainFactory.Next()},function(e){alert("error loading contacts: "+e),window.qL_step_finished=!0,ChainFactory.Next()})}function _(){e.generalData.Seasons=[],f.seasons.inUse().then(function(t){t.length>0&&(e.generalData.Seasons=t.slice(0),e.generalData.Seasons.sort(function(e,t){return e.Season-t.Season})),window.qL_step_finished=!0,ChainFactory.Next()},function(e){console.log("error getting seasons"),console.log(e),window.qL_step_finished=!0,ChainFactory.Next()})}function D(){e.generalData.Regions=[],a.get("/api/sportsman/regions").then(function(t){e.generalData.Regions=t.data.filter(function(e){return e.REGION_ID>0}),e.generalData.Regions.forEach(function(e){e.Id=e.REGION_ID,e.Name=e.REGION_NAME}),window.qL_step_finished=!0,ChainFactory.Next()},function(e){console.log("error getting regions"),console.log(e),window.qL_step_finished=!0,ChainFactory.Next()})}function P(e){var t=contentUtils.ExtractAllAttachments(e),n=t.filter(function(e){return e.IsDefault}),a=n.length>0?n[0]:{Seq:0,FileName:""};return 0==a.Seq&&t.length>0&&(a=t[0]),a}function F(e,t,n,a,o){void 0===o&&(o="");var i=contentUtils.getCroppedImage(t,a).File,r="";i.length>0?r="/content/Cropped/"+t+"/"+i:o&&o.length>0&&(r="/content/Images/"+e.Seq+"/"+o),r.length>0&&(e.CroppedImages[n]=r)}function N(e){e.CroppedImages={Slider:"",Homepage:""};var t=P(e),n=e.SliderThumbnailSeq||t.Seq,a=e.HomepageThumbnailSeq||t.Seq;n&&F(e,n,"Slider","58x39",e.SliderThumbnailImage),a&&F(e,a,"Homepage","383x100",e.HomepageThumbnailImage)}function b(){function n(){function t(n,o,r){if(!o||0==o.length||r>=o.length)return void n.resolve(o);var s=o[r],l=s.CategoryId;if(0==l.indexOf("sf-")){var c=l.replace("sf-","");a.get("/api/flowers/events?activity="+c).then(function(e){if(e.data&&e.data.length>0){var a=championshipsUtils.convertSportFlowersChampionships([e.data[0]],i)[0];s.CategoryId=c,s.Championship=a.CHAMPIONSHIP_NAME,s.Name=a.CATEGORY_NAME,t(n,o,r+1)}},function(e){t(n,o,r+1)})}else a.get("/api/sportsman/category-data?category="+l).then(function(a){if(a.data.SPORT_ID==e.selected.sportField.Seq){var i=a.data.CHAMPIONSHIP_NAME,l=a.data.CATEGORY_NAME;s.Championship=i,s.Name=l,t(n,o,r+1)}else t(n,o,r+1)},function(e){t(n,o,r+1)})}var n=o.defer();if(e.pageData.ChampionshipCategoryIds&&e.pageData.ChampionshipCategoryIds.length>0&&e.selected.sportField){var r=[];e.pageData.ChampionshipCategoryIds.forEach(function(e){r.push({CategoryId:e,Championship:"",Name:""})}),t(n,r,0)}else n.resolve(null);return n.promise}"new"!=G?h.read(G).then(function(o){if(o.Type&&o.Type!=contentUtils.ParsePageType(e.pageType))return void t.go(contentUtils.ParsePageType(o.Type)+".edit",{page:G});var i=o.SportFieldSeq;if(i){var r=e.generalData.sportFields.filter(function(e){return e.Seq==i});r.length>0&&(e.selected.sportField=r[0])}if(o.Sections&&o.Sections.length>0)for(var s=0;s<o.Sections.length;s++){var l=o.Sections[s];A(o,l)}if(N(o),e.pageData=o,e.pageData.Sections)for(var s=0;s<e.pageData.Sections.length;s++){var l=e.pageData.Sections[s];if(null==l.Index&&(l.Index=s),B++,l.UniqueId="section_"+B,6==l.Type&&l.Data&&l.Data.Picture){var c=l.Data.Picture.Seq,u=e.generalData.Contacts.findItem(function(e){return e.PictureSeq==c});null!=u&&u.PicturePageSeq&&(l.Data.Picture.PageSeq=u.PicturePageSeq)}}e.pageData.ShowAuthorDetails&&$("#chkAuthorDetails").prop("checked",!0),e.pageData.AuthorSeq?e.selected.AuthorName=e.pageData.AuthorName:v(),n().then(function(t){null!=t&&t.length>0&&(e.pageData.ChampionshipCategories=t),a.get("/api/pages/region-pages").then(function(t){var n=t.data.slice(0),a=n.findItem(function(t){return t.ContentPageSeq==e.pageData.Seq});if(null!=a){var o=a.REGION_ID;e.pageData.OriginalRegion=o,e.pageData.Region=o,e.selected.region=e.generalData.Regions.findItem(function(e){return e.REGION_ID==o})}})}),window.qL_Finish_Now=!0,ChainFactory.Next()},function(){window.qL_Finish_Now=!0,alert("שגיאה בעת טעינת נתונים"),ChainFactory.Next()}):(window.qL_Finish_Now=!0,ChainFactory.Next())}function A(t,n){var a=t.DefaultImageSeq;if(n.HebrewType=contentUtils.HebrewSectionType(n.Type),n.Title=contentUtils.HebrewSectionTitle(n.Type),(1==n.Type||5==n.Type||6==n.Type)&&n.Data)if(6==n.Type)n.Data.Picture&&(n.Data.Picture.DateUploaded&&(n.Data.Picture.DateUploaded=new Date(n.Data.Picture.DateUploaded)),n.Data.Picture.PageSeq=G);else{n.Attachments=n.Data.slice(0);for(var o=0;o<n.Attachments.length;o++){var i=n.Attachments[o];i.Index=o,i.DateUploaded&&(i.DateUploaded=new Date(i.DateUploaded)),1==n.Type&&(i.IsDefault=!a&&"gallery"==e.pageType&&0==o||i.Seq==a)}1==n.Type&&(n.ImageRows=contentUtils.BuildImageRows(n.Attachments,V.ImagesPerRow))}}function E(){var t=$.trim(e.selected.AuthorName).toLowerCase(),n=k.filter(function(e){return e.Name.toLowerCase()==t});return n.length>0?n[0]:{Seq:0,Name:t}}function R(){var e=[];$(".dropzone").each(function(){var t=$(this),n=t.attr("id");n||(V.DropZoneCounter++,n="dropzone_"+V.DropZoneCounter,t.attr("id",n)),e.push(n)});for(var t=0;t<e.length;t++)Dropzone.forElement("#"+e[t]).removeAllFiles(!0)}function M(e){switch(e.Type){case 1:
e.ImageRows=contentUtils.BuildImageRows(e.Attachments,V.ImagesPerRow);break;case 5:e.Attachments.sort(function(e,t){return e.Index-t.Index})}}function U(t,n){var a=t.Index+n;if(a>=0&&a<e.pageData.Sections.length){var o=e.pageData.Sections.filter(function(e){return e.Index==a});o.length>0&&(o[0].Index=t.Index),t.Index=a}}function x(e,t,n,a,o,i,r,s,l){if(e&&e.Seq){var c=o+"x"+i,u=null,d=contentUtils.getCroppedImage(e.Seq,c).Data;if(d&&d.length>0){var g=d.split(",");g.length>3&&(u={X:parseInt(g[0]),Y:parseInt(g[1]),Width:parseInt(g[2]),Height:parseInt(g[3])})}p.open({templateUrl:"views/image-cropper.html",controller:"ImageCropperCtrl",resolve:{title:function(){return r},pageSeq:function(){return a},sourceDirectory:function(){return n},imageData:function(){return e},ratio:function(){return{Width:o,Height:i}},canvas:function(){return s>0?{Width:s,Height:s}:{Width:5*o,Height:5*i}},metaData:function(){return u},existingImages:function(){return t}}}).result.then(function(t){if(t.ChangeCroppedImage)l&&l(t.ChangeCroppedImage);else{var n=t.ImageName,a=n.split("/").slice(-1),r=[t.X,t.Y,t.Width,t.Height].join(",");contentUtils.setCroppedImage(e.Seq,o+"x"+i,a,r),l&&l(e)}})}else console.log("no image to crop")}function O(e){switch(e){case 1:return V.ImageUploadMapping;case 5:return V.FileUploadMapping;case 6:return V.ContactUploadMapping}return{}}function H(t,n){function a(e){switch(e){case 1:if(t.files.length>V.MaxImages)return"ניתן להעלות עד "+V.MaxImages+" תמונות בלבד";break;case 5:if(t.files.length>V.MaxFiles)return"ניתן להעלות עד "+V.MaxFiles+" קבצים בלבד";break;case 6:if(t.files.length>1)return"ניתן להעלות תמונה אחת בלבד"}var a=n.type,o=!a||0==a.length,i=!o&&"image"==a.split("/")[0].toLowerCase();return 1!=e&&6!=e||i?n.size>V.MaxFileSize?"גודל קובץ מקסימלי הוא "+(V.MaxFileSize/1048576).toFixed(1)+" מגהבייט":"":"ניתן להעלות קובץ תמונה בלבד"}function o(t,n){var a=e.pageData.Sections.filter(function(e){return e.UniqueId==t});0==a.length&&(a=e.pageData.Sections.slice(0));for(var o=0;o<a.length;o++)a[o].attachmentUploadError=n}var i=function(){var o=1,i=e.pageData.Sections.findItem(function(e){return e.UniqueId==V.ActiveSectionId});null!=i&&(o=i.Type);var r=contentUtils.ExtractAllAttachments(e.pageData),s=r.filter(function(e){return e.SectionType==o&&e.FileName.toLowerCase()==n.name.toLowerCase()});if(s.length>0){var l=s[0];return t.cancelUpload(n),1==o||6==o?"תמונה בעלת שם זהה כבר קיימת במקטע מספר "+(l.SectionIndex+1)+" (אינדקס תמונה "+(l.Index+1)+")":"קובץ בעל שם זהה כבר קיים במקטע מספר "+(l.SectionIndex+1)+" (אינדקס קובץ "+(l.Index+1)+")"}var c=V.GetAllFiles(),u=O(o),d=c.filter(function(e){return u[e]!=V.ActiveSectionId&&e.toLowerCase()==n.name.toLowerCase()});if(d.length>0){var p=d[0],g=u[p];if(null!=(i=e.pageData.Sections.findItem(function(e){return e.UniqueId==g})))return 1==o?"תמונה בעלת שם זהה כבר הועלתה למקטע מספר "+(i.Index+1):"קובץ בעל שם זהה כבר הועלה למקטע מספר "+(i.Index+1)}return a(o)}();if(i.length>0)return e.$apply(function(){o(V.ActiveSectionId,i)}),window.setTimeout(function(){t.removeFile(n)},200),r(function(){o(V.ActiveSectionId,"")},5e3),!1;for(var s={},l=0;l<t.files.length-1;l++){var c=t.files[l],u=c.name.toLowerCase();s[u]&&(console.log("removing file with same name: "+c.name),t.removeFile(c)),s[u]=!0}return!0}var q=[],k=[],L=[],G=n.page,B=0,V={MaxImages:20,MaxFiles:20,MaxContacts:1,DropZoneCounter:0,MaxFileSize:5242880,UploadContactUrl:"/content/Contacts/"+G,UploadImageUrl:"/content/Images/"+G,UploadFileUrl:"/content/Files/"+G,ImagesPerRow:6,ActiveSectionId:"",FileSizeMapping:{},ImageUploadMapping:{},FileUploadMapping:{},ContactUploadMapping:{},GetAllFiles:function(){for(var e=[],t=0;t<$(".dz-filename").length;t++){var n=$(".dz-filename").eq(t);e.push(n.find("span").text())}return sportUtils.DistinctArray(e)}};u.$on("$locationChangeSuccess",function(){u.actualLocation=d.path()}),u.$watch(function(){return d.path()},function(e,t){}),contentUtils.InitSportFieldColors(a),e.pageData={Tags:[],Sections:[],CroppedImages:{}},e.pageType=t.current.data.contentType,null!=e.pageType&&e.pageType||(e.pageType=""),e.pageTypeHebrew=contentUtils.HebrewPageType(e.pageType),e.pageTypeIsHebrewMale=contentUtils.IsHebrewMalePageType(e.pageType),e.generalData={sportFields:[],Tags:[],Authors:[],Seasons:[],Regions:[],Contacts:[]},e.selected={AuthorName:"",AuthorDetails:{Seq:0}},e.sectionTypes=contentUtils.GetSectionTypes(),e.submitting=!1,e.deleting=!1,e.validationErrors=[],e.Unauthorized=!1,e.flowersFieldSeq=sportGlobalSettings.FlowersFieldSeq;var z={article:"all",event:"all"};e.sectionTypes.forEach(function(e){e.Allowed=m(e)}),ChainFactory.Execute(S,y,C,I,T,w,_,D,b),window.qL_steps_amount=8,e.getSportFieldColor=contentUtils.getSportFieldColor,e.getRoundedRectangleClass=sportUtils.getRoundedRectangleClass,e.allowedSectionTypeCount=function(){return e.sectionTypes.map(function(e){return e.Allowed?1:0}).reduce(function(e,t){return e+t})},e.gotCroppedContactPicture=function(e){return contentUtils.getCroppedImage(e,"1x1").File.length>0},e.croppedContactPicturePath=function(e){var t=e.Seq,n=contentUtils.getCroppedImage(t,"1x1");return n.File.length>0?"/content/Cropped/"+t+"/"+n.File:"/content/Contacts/"+e.PageSeq+"/"+e.FileName},e.canApplyChampionships=function(){if(e.selected.sportField){var t=e.selected.sportField.Seq;return t!=sportGlobalSettings.GeneralSportFieldSeq&&t!=sportGlobalSettings.YoungSportsmenSeq}return!1},e.getApplyChampionshipText=function(){return e.selected.sportField&&e.selected.sportField.Seq==e.flowersFieldSeq?"הוספת אירוע משוייך":"הוספת אליפות משוייכת"},e.getSportFieldFilterStyle=function(e){e.Selected=!0;var t=contentUtils.getSportFieldColor(e.Seq),n=sportUtils.getRoundedRectangleStyle(e,t);return n.length>0&&(n+="; "),n+="margin-bottom: 5px; position: relative;"},"gallery"!=e.pageType&&s(function(){contentUtils.ApplyVideoData(e.pageData.Sections,l)},1e3),"article"==e.pageType&&s(function(){e.pageData.ShowAuthorDetails=1==$("#chkAuthorDetails").prop("checked")?1:0,e.selected.AuthorDetails=E()},500),e.dropzoneContactsConfig={options:{paramName:"files",maxFiles:V.MaxContacts,url:V.UploadContactUrl,autoProcessQueue:!0,dictDefaultMessage:"ניתן לגרור לכאן תמונה, או ללחוץ להעלאה מהמחשב",dictRemoveFile:"הסרת תמונה",dictCancelUploadConfirmation:"ביטול העלאת קובץ",addRemoveLinks:!0},eventHandlers:{success:function(e,t){V.ActiveSectionId=$(this.element).parents(".content-section").first().data("uniqueid"),H(this,e)&&(V.FileSizeMapping[e.name]=e.size,V.ContactUploadMapping[e.name]=V.ActiveSectionId)},maxfilesexceeded:function(e){var t=this;window.setTimeout(function(){t.removeFile(e)},200)}}},e.dropzoneImagesConfig={options:{paramName:"files",maxFiles:V.MaxImages,url:V.UploadImageUrl,autoProcessQueue:!0,dictDefaultMessage:"ניתן לגרור לכאן תמונה, או ללחוץ להעלאה מהמחשב",dictRemoveFile:"הסרת תמונה",dictCancelUploadConfirmation:"ביטול העלאת קובץ",addRemoveLinks:!0},eventHandlers:{sending:function(e,t,n){},success:function(e,t){V.ActiveSectionId=$(this.element).parents(".content-section").first().data("uniqueid"),H(this,e)&&(V.FileSizeMapping[e.name]=e.size,V.ImageUploadMapping[e.name]=V.ActiveSectionId)},removedfile:function(e){},maxfilesexceeded:function(e){var t=this;window.setTimeout(function(){t.removeFile(e)},200)}}},e.dropzoneFilesConfig={options:{paramName:"files",maxFiles:V.MaxFiles,url:V.UploadFileUrl,autoProcessQueue:!0,dictDefaultMessage:"ניתן לגרור לכאן קובץ, או ללחוץ להעלאה מהמחשב",dictRemoveFile:"הסרת קובץ",dictCancelUploadConfirmation:"ביטול העלאת קובץ",addRemoveLinks:!0},eventHandlers:{success:function(e,t){V.ActiveSectionId=$(this.element).parents(".content-section").first().data("uniqueid"),H(this,e)&&(V.FileSizeMapping[e.name]=e.size,V.FileUploadMapping[e.name]=V.ActiveSectionId)},maxfilesexceeded:function(e){var t=this;window.setTimeout(function(){t.removeFile(e)},200)}}};var Y=null;if(e.getAuthors=function(t){var n=e.generalData.Authors.slice();return t&&t.length>0&&0==n.filter(function(e){return e.toLowerCase()==t.toLowerCase()}).length&&(n.unshift(t),Y&&r.cancel(Y),Y=r(function(){e.generalData.Authors.push(t)},1500)),n},e.OpenCropDialog=function(t){var n=contentUtils.GetThumbnailType(t),o=n.RatioWidth,i=n.RatioHeight,r=n.Title,s={Seq:0,FileName:""};switch(t){case 1:s.Seq=e.pageData.SliderThumbnailSeq,s.FileName=e.pageData.SliderThumbnailImage;break;case 2:s.Seq=e.pageData.HomepageThumbnailSeq,s.FileName=e.pageData.HomepageThumbnailImage}s.Seq||(s=P(e.pageData));var l=contentUtils.ExtractAllAttachments(e.pageData).filter(function(e){return 1==e.SectionType}).map(function(e){return{FileName:e.FileName,Seq:e.Seq}});e.pageData.SliderThumbnailSeq&&null==l.findItem(function(t){return t.FileName==e.pageData.SliderThumbnailImage})&&l.push({FileName:e.pageData.SliderThumbnailImage,Seq:e.pageData.SliderThumbnailSeq}),e.pageData.HomepageThumbnailSeq&&null==l.findItem(function(t){return t.FileName==e.pageData.HomepageThumbnailImage})&&l.push({FileName:e.pageData.HomepageThumbnailImage,Seq:e.pageData.HomepageThumbnailSeq}),x(s,l,null,e.pageData.Seq,o,i,r,0,function(n){if(n){var o="/api/pages/"+G+"/thumbnail";a.post(o,{ThumbnailType:t,ThumbnailSeq:n.Seq||0,FileName:n.FileName,FileSize:n.FileSize}).then(function(a){var o=a.data.Seq,i=n.FileName;switch(t){case 1:e.pageData.SliderThumbnailSeq=o,e.pageData.SliderThumbnailImage=i;break;case 2:e.pageData.HomepageThumbnailSeq=o,e.pageData.HomepageThumbnailImage=i}N(e.pageData),e.OpenCropDialog(t)},function(e){console.log("error setting thumbnail image"),console.log(e)})}else{N(e.pageData);var i=(new Date).getTime();$("#imgCroppedHomepage").attr("src",$("#imgCroppedHomepage").attr("src")+"?nnn="+i),$("#imgCroppedSlider").attr("src",$("#imgCroppedSlider").attr("src")+"?nnn="+i)}})},e.CropContactPicture=function(e){var t=e.Picture;if(t&&t.Seq){x({Seq:t.Seq,FileName:t.FileName},null,"Contacts",t.PageSeq,1,1,e.Name,120,function(){var e=(new Date).getTime();$(".contact-picture").each(function(){var t=$(this);t.attr("src",t.attr("src")+"?nnn="+e)})})}},e.loadTags=function(e){var t=o.defer(),n=q.filter(function(t){return t.Name==e}),a=q.filter(function(t){return t.Name.indexOf(e)>=0}),i=q.filter(function(t){return t.Name.indexOf(e)<0}),r=n.length>0?n[0]:{Seq:-1,Name:e,Temporary:!0};a.sort(function(t,n){return t.Name.indexOf(e)-n.Name.indexOf(e)}),i.sort(function(e,t){return t.Name.compareTo(e.Name)});for(var s=[r],l=0;l<a.length;l++){var c=a[l];c.Name!=e&&s.push(c)}for(var l=0;l<i.length;l++)s.push(i[l]);return t.resolve(s),t.promise},e.assignChampionship=function(t){if(void 0===t&&(t=null),e.selected.sportField){var n=null!=t?t.CategoryId:0,a=null!=t?t.Championship:"";p.open({templateUrl:"views/championship-selection.html",controller:"ChampionshipSelectionCtrl",resolve:{sportField:function(){return e.selected.sportField},allSeasons:function(){return e.generalData.Seasons},allRegions:function(){return e.generalData.Regions},schoolData:function(){return null},options:function(){return{category:n,EventName:a}}}}).result.then(function(t){e.pageData.ChampionshipCategories||(e.pageData.ChampionshipCategories=[]),e.pageData.ChampionshipCategories.push(t)})}},e.removeChampionship=function(t){e.pageData.ChampionshipCategories=e.pageData.ChampionshipCategories.filter(function(e){return e.CategoryId!=t.CategoryId})},e.GetLinkTooltip=function(e){var t="הגדרת קישור. מצב קיים: ",n="פתיחה בגלריה";if(null!=e.CustomLink)switch(e.CustomLink.Type){case 1:n="קישור חיצוני";break;case 2:n="קישור לקובץ"}return t+=n},e.GetLinkStyle=function(e){var t=["cursor: pointer;"],n="";if(e.CustomLink)switch(e.CustomLink.Type){case 1:n="#197bbe";break;case 2:n="#ec2913"}return n.length>0&&t.push("color: "+n+";"),t.join(" ")},e.OpenLinkSelection=function(e,t){function n(e){var t=e?e.Type:0;switch(t){case 1:return{Type:t,ExternalUrl:e.ExternalUrl};case 2:return{Type:t,FileName:e.FileName}}return null}p.open({templateUrl:"views/image-link-selection.html",controller:"ImageLinkSelectionCtrl",resolve:{pageSeq:function(){return G},imageSeq:function(){return t.Seq},imageFileName:function(){return t.FileName},options:function(){return{}},existingLink:function(){return t.CustomLink}}}).result.then(function(e){t.CustomLink=n(e)})},e.clearChampionships=function(){e.pageData.ChampionshipCategories=[]},e.clearRegion=function(){e.pageData.Region=null,e.selected.region=null},e.removeContactPicture=function(e){e.Data.Picture=null},e.applyExistingContact=function(e){e.Data=e.selectedContact},e.clearSelectedContact=function(t){t.selectedContact=null,e.applyExistingContact(t)},e.changeIndex=function(e,t,n){var a=t.Index,o=t.Index+n;if(!(o>=e.Attachments.length||o<0)){var i=e.Attachments.filter(function(e){return e.Index==o});i.length>0&&(i[0].Index=a),t.Index=o,M(e)}},e.MakeDefaultImage=function(t,n){for(var a=n.Seq,o=e.pageData.Sections.filter(function(e){return 1==e.Type&&e.Attachments}),i=0;i<o.length;i++)for(var r=o[i],s=0;s<r.Attachments.length;s++){var l=r.Attachments[s];l.IsDefault=l.Seq==a}N(e.pageData)},e.deleteAttachment=function(e,t){var n="";switch(e.Type){case 1:case 6:n="האם להסיר תמונה זו?";break;case 5:n="האם להסיר קובץ זה?"}n.length>0&&g.ask(n).then(function(){if(6==e.Type)e.Attachments=[],e.Data.Picture=null;else{e.Attachments=e.Attachments.filter(function(e){return e.Seq!=t.Seq});for(var n=0;n<e.Attachments.length;n++)e.Attachments[n].Index=n;M(e)}})},e.AddSection=function(t){e.pageData.Sections||(e.pageData.Sections=[]);var n=e.pageData.Sections.length;B++,e.pageData.Sections.push({Type:t,Index:n,HebrewType:contentUtils.HebrewSectionType(t),Title:contentUtils.HebrewSectionTitle(t),UniqueId:"section_"+B})},e.MoveSectionDown=function(e){U(e,1)},e.MoveSectionUp=function(e){U(e,-1)},e.DeleteSection=function(t){function n(){e.pageData.Sections=e.pageData.Sections.filter(function(e){return e.Index!=t.Index}),contentUtils.RearrangeSections(e.pageData)}var a=$.trim(t.Data||"").length>0;if(!a)if(1==t.Type){for(var o in V.ImageUploadMapping)if(V.ImageUploadMapping[o]==t.UniqueId){a=!0;break}}else if(5==t.Type){for(var o in V.FileUploadMapping)if(V.FileUploadMapping[o]==t.UniqueId){a=!0;break}}else if(6==t.Type)for(var o in V.ContactUploadMapping)if(V.ContactUploadMapping[o]==t.UniqueId){a=!0;break}if(a){var i="האם להסיר את מקטע מספר "+(t.Index+1)+" מה"+e.pageTypeHebrew+"?";g.ask(i).then(function(){n()})}else n()},"new"==G)switch(e.pageData.Date=new Date,e.pageData.Sections||(e.pageData.Sections=[]),e.pageType){case"gallery":e.AddSection(1);break;case"article":e.AddSection(2);break;case"video":e.AddSection(3);break;case"files":e.AddSection(2),e.AddSection(5)}e.buildImageCellClass=function(e){var t="col-md-"+e.ColWidth;return e.ColOffset&&(t+=" col-md-offset-"+e.ColOffset),t},e.Delete=function(){var n="האם למחוק "+e.pageTypeHebrew+" זו מהמערכת?";g.ask(n).then(function(){h.delete(G).then(function(e){t.go("home")},function(e){alert("שגיאה בעת מחיקה, אנא נסו שוב מאוחר יותר")})})},e.Submit=function(){function n(t){e.submitting=!1,e.submitError="שגיאה בעת שמירת נתונים"}function o(e,t){var n=t.NewAttachments||[];if(e.NewAttachments&&e.NewAttachments.length>0){e.Attachments||(e.Attachments=[]);for(var a={},o=0;o<n.length;o++)a[n[o].Name]=n[o].Seq;for(var i=e.Attachments.length,o=0;o<e.NewAttachments.length;o++){var r=e.NewAttachments[o],s=a[r.Name]||0;e.Attachments.push({Seq:s,FileName:r.Name,FileSize:r.Size,DateUploaded:r.DateUploaded,Description:"",Index:i}),i++}e.ImageRows=contentUtils.BuildImageRows(e.Attachments,V.ImagesPerRow)}}function i(t){function n(o,i){function r(){n(o,i+1)}if(i>=o.length)return e.pageData.OriginalRegion=e.pageData.Region,void t();var s=o[i];switch(s.Method){case"delete":a.delete(s.Url).then(r,r);break;case"put":a.put(s.Url,s.Params).then(r,r)}}void 0!==t&&null!=t||(t=function(){});var o=e.pageData.OriginalRegion||null,i=e.pageData.Region||null;if(o!=i){var r=[];null!=o&&r.push({Method:"delete",Url:"/api/pages/region-page?page="+e.pageData.Seq+"&region="+o,Params:null}),null!=i&&r.push({Method:"put",Url:"/api/pages/region-page",Params:{PageSeq:e.pageData.Seq,Region:i}}),n(r,0)}else t()}e.pageData.Sections||(e.pageData.Sections=[]);for(var s=V.GetAllFiles(),l=0;l<e.pageData.Sections.length;l++){var c=e.pageData.Sections[l];if(1==c.Type||5==c.Type||6==c.Type){var u=O(c.Type);if(c.PageSeq="new"==G?0:G,6==c.Type){var d=s.filter(function(e){return u[e]==c.UniqueId});d.length>0&&(c.NewContactPicture=d.map(function(e){return{Name:e,Size:V.FileSizeMapping[e],DateUploaded:new Date}})[0])}else{var p="";c.Attachments&&(c.Attachments.sort(function(e,t){return e.Index-t.Index}),p=c.Attachments.map(function(e){return e.Seq}).join(",")),c.Data=p,c.AttachmentsData=(c.Attachments||[]).map(function(e){return{Seq:e.Seq,Description:e.Description,CustomLink:e.CustomLink}}),c.NewAttachments=s.filter(function(e){return u[e]==c.UniqueId}).map(function(e){return{Name:e,Size:V.FileSizeMapping[e],DateUploaded:new Date}})}}}if(e.validationErrors=function(){var t=[],n=$.trim(e.pageData.Description),a=e.selected.sportField?e.selected.sportField.Name:"",o=Date.parse(e.pageData.Date),i=e.pageData.Tags||[];if(0==n.length&&t.push({Message:"תיאור "+e.pageTypeHebrew+" חסר"}),0==a.length&&t.push({Message:"יש לבחור ענף ספורט"}),(isNaN(o)||new Date(o).getFullYear()<1900)&&t.push({Message:"תאריך חסר או שגוי"}),0==i.length&&t.push({Message:"יש להזין לפחות תגית אחת"}),e.pageData.Sections){e.pageData.Sections=e.pageData.Sections.filter(function(e){return(e.SectionType||e.Type)>0});for(var r=e.pageData.Sections.length>1,s=0;s<e.pageData.Sections.length;s++){var l=e.pageData.Sections[s];if(!contentUtils.GotValidData(l)){var c=function(e,t,n){var a="יש להזין ";switch(e.Type){case 1:a="יש להעלות לפחות תמונה אחת";break;case 2:a+="טקסט";break;case 3:a+="כתובת URL",n||(a+=" חוקית ");break;case 5:a="יש להעלות לפחות קובץ אחד";break;case 6:a+=" שם איש קשר"}return t&&(a+=" במקטע מספר "+(e.Index+1)),a}(l,r,!l.Data||0==l.Data.length);t.push({Message:c})}}}if(e.pageData.Seq&&"files"!=e.pageType&&e.pageData.DefaultImageSeq){contentUtils.ExtractAllAttachments(e.pageData).filter(function(e){return 1==e.SectionType}).length>0&&sportUtils.isNullOrEmpty(e.pageData.CroppedImages.Slider)&&t.push({Message:"יש להגדיר תמונת סליידר ממוזערת"})}return t}(),e.showSubmitSuccessMessage=!1,0==e.validationErrors.length){e.submitting=!0;var g=E(),f=contentUtils.ExtractAllAttachments(e.pageData).filter(function(e){return 1==e.SectionType});contentUtils.RearrangeSections(e.pageData),e.pageData.SportFieldSeq=e.selected.sportField.Seq,e.pageData.Type=contentUtils.ParsePageType(e.pageType),0==f.length?e.pageData.DefaultImageSeq=null:e.pageData.DefaultImageSeq=5==e.pageData.Type||6==e.pageData.Type?null:P(e.pageData).Seq,e.pageData.CreatorSeq=e.LoggedInUser?e.LoggedInUser.seq:1,e.pageData.ShowAuthorDetails=1==$("#chkAuthorDetails").prop("checked")?1:0,e.pageData.AuthorSeq=g.Seq,e.pageData.AuthorName=g.Name,e.pageData.Region=null==e.selected.region?null:e.selected.region.REGION_ID,e.pageData.ChampionshipCategories&&e.pageData.ChampionshipCategories.length>0?e.pageData.ChampionshipCategoryIds=e.pageData.ChampionshipCategories.map(function(t){var n=t.CategoryId;return e.pageData.SportFieldSeq==sportGlobalSettings.FlowersFieldSeq&&(n="sf-"+n),n}):e.pageData.ChampionshipCategoryIds=null,"new"==G?h.create(e.pageData).then(function(n){i(function(){e.submitting=!1;var a=n.Seq;t.go(e.pageType+".edit",{page:a})})},n):h.update(e.pageData).then(function(t){e.submitting=!1,e.showSubmitSuccessMessage=!0;for(var n=0;n<e.pageData.Sections.length;n++){var a=e.pageData.Sections[n];1==a.Type||5==a.Type?o(a,t.Sections[n]):6==a.Type&&a.NewContactPicture&&(a.Data.Picture={Seq:t.Sections[n].NewContactPicture.Seq,FileName:a.NewContactPicture.Name,PageSeq:G})}R(),i(function(){r(function(){e.showSubmitSuccessMessage=!1},5e3)})},n)}}}angular.module("sport.content").controller("ContentEditController",["$scope","$state","$stateParams","$http","$q","$filter","$timeout","$interval","$sce","$cookies","$rootScope","$location","$uibModal","messageBox","ContentService","SportService",e])}(),function(){"use strict";function e(e,t,n,a,o,i){function r(){function t(e){e.Pages=[];for(var t=0;t<e.length;t++){var n=e[t];n.HebrewType=contentUtils.HebrewPageType(n.Type,!1),n.DefaultImagePath=contentUtils.BuildDefaultImagePath(n),e.Pages.push(n)}for(var t=e.length;t<l;t++)e.Pages.push({Seq:0})}var n=contentUtils.ParsePageType(e.pageType);i.list(n,null).then(function(n){contentUtils.InitCroppedImages(o,function(){for(var e=0;e<n.length;e++){var t=n[e];contentUtils.BuildCroppedImages(t)}}),e.pageRows=sportUtils.SplitArray(n,l);for(var a=0;a<e.pageRows.length;a++){t(e.pageRows[a])}window.qL_step_finished=!0,ChainFactory.Next()},function(e){alert("שגיאה בעת טעינת נתונים מהשרת"),window.qL_step_finished=!0,ChainFactory.Next()})}function s(){e.data.AllTags=[],window.setTimeout(function(){window.qL_Finish_Now=!0},1e3),ChainFactory.Next()}var l=3;e.pageRows=null,e.pageType=t.current.data.contentType,e.pluralCaption=contentUtils.HebrewPageType(e.pageType,!0),e.data={AllTags:[]},ChainFactory.Execute(r,s),window.qL_steps_amount=2}angular.module("sport.content").controller("ContentListController",["$scope","$state","$stateParams","$sce","$http","ContentService",e])}(),function(){"use strict";function e(e,t,n,a,o,i,r,s,l,c){function u(){sportUtils.VerifyUser(t,e,[3],function(t){e.LoggedInUser&&2==e.LoggedInUser.role&&n.go("register"),ChainFactory.Next(),window.qL_step_finished=!0})}function d(){function t(e){return(e.Name||e).indexOf(n)>=0}var n=$.trim(e.data.contentSearch),a=_.slice(0);return a=i("orderBy")(a,e.sortColumn),n.length>0&&(a=a.filter(function(e){return!![e.SportFieldName,e.Description,e.HebrewType,e.CreatorDisplayName].some(t)||!(!e.Tags||!e.Tags.some(t))})),e.selectedPageType>0&&(a=a.filter(function(t){return t.Type==e.selectedPageType})),a}function p(){if(e.recentPageTypes=[],P=_.filter(function(e){return e.PageIndex>0}),P.length>0){P.sort(function(e,t){return e.PageIndex-t.PageIndex});var t=sportUtils.DistinctArray(P.map(function(e){return e.Type}));t.sort(function(e,t){return e-t});for(var n=0;n<t.length;n++){var a=t[n],o=P.filter(function(e){return e.Type==a}).take(e.recentAmount);e.recentPageTypes.push({Type:a,HebrewPluralType:contentUtils.HebrewPageType(a,!0),Pages:o})}}for(var n=0;n<e.recentPageTypes.length;n++){var i=e.recentPageTypes[n];i.Rows=sportUtils.SplitArray(i.Pages,3)}}function g(e){var t="button button_type_icon_small icon button_grey_light",n="button_grey_light_hover";e.AddToRecentCssClass=t,e.AddToFeaturedCssClass=t,e.HidePageCssClass=t,e.FeaturedIndex>0&&(e.AddToFeaturedCssClass+=" "+n),e.PageIndex>0&&(e.AddToRecentCssClass+=" "+n),e.IsHidden&&(e.HidePageCssClass+=" "+n)}function h(){D=_.filter(function(e){return e.FeaturedIndex>0}),D.sort(function(e,t){return e.FeaturedIndex-t.FeaturedIndex}),e.featuredPageRows=sportUtils.SplitArray(D,3)}function f(e,t,n,a,o){if(0==n)return!1;var i=e[t],r=i+n;if(r<1||r>a)return!1;var s=o.filter(function(e){return e[t]==r});return s.length>0&&(s[0][t]=i),e[t]=r,!0}function m(e,t,n,a){void 0===n&&(n=null),void 0===a&&(a=0);var o=t.map(function(e){return{Seq:e.Seq,Index:e.PageIndex}});c.setRecentPages(o,e).then(function(e){n&&(n.AddingToRecent=!1,g(n),p())},function(e){n?(n.AddingToRecent=!1,alert("פעולה נכשלה, אנא נסו שוב מאוחר יותר"),n.PageIndex=a):console.log("error setting recent pages: "+e)})}function v(e,t){void 0===e&&(e=null),void 0===t&&(t=0);var n=D.map(function(e){return{Seq:e.Seq,Index:e.FeaturedIndex}});c.setFeaturedPages(n).then(function(t){e&&(e.AddingToFeatured=!1,g(e),h())},function(n){e?(e.AddingToFeatured=!1,alert("פעולה נכשלה, אנא נסו שוב מאוחר יותר"),e.FeaturedIndex=t):console.log("error setting featured pages: "+n)})}function S(t,n){var a=e.recentPageTypes.filter(function(e){return e.Type==t.Type})[0].Pages;f(t,"PageIndex",n,e.recentAmount,a)&&(p(),m(t.Type,a))}function y(e,t){f(e,"FeaturedIndex",t,D.length,D)&&(h(),v())}function C(){c.list(null,null,!0).then(function(t){window.qL_step_finished=!0;for(var n=0;n<t.length;n++){var a=t[n];a.DefaultImagePath=contentUtils.BuildDefaultImagePath(a),a.HebrewType=contentUtils.HebrewPageType(a.Type),a.IsHebrewMale=contentUtils.IsHebrewMalePageType(a.Type),a.BannerButtonClass="button banner_button "+contentUtils.GetBannerType(a.Type),g(a)}_=t.slice(0),e.contentPagingService.setData(d()),p(),h(),ChainFactory.Next()},function(e){ChainFactory.Next()})}function I(){var t=$.trim($("#ddlSortBy").find(".select_title").text()),n=e.sortFields.filter(function(e){return e.Name==t});if(n.length>0){return n[0].Value}return""}function T(){var t=$.trim($("#ddlPageType").find(".select_title").text()),n=e.availablePageTypes.filter(function(e){return e.PluralHebrewType==t});return n.length>0?n[0].Type:0}function w(){o(function(){var t=I(),n=T(),a=t.length>0&&t!=F.SortBy,o=n!=F.PageType,i=e.data.contentSearch!=F.Search;(a||i||o)&&(e.sortColumn=t,e.selectedPageType=n,e.contentPagingService.setData(d())),t.length>0&&(F.SortBy=t),F.Search=e.data.contentSearch,F.PageType=n},500),ChainFactory.Next(),window.qL_step_finished=!0,window.qL_Finish_Now=!0}var _=[],D=[],P=[],F={SortBy:"-Date",Search:"",PageType:0};e.recentAmount=sportGlobalSettings.RecentAmount,e.sortFields=[{Name:"תאריך יצירה",Value:"-Date"},{Name:"תיאור",Value:"+Description"},{Name:"ענף ספורט",Value:"+SportFieldName"}],e.pageTypes=contentUtils.GetPageTypes(),e.availablePageTypes=e.pageTypes.map(function(e){return{Type:e.Id}}),e.sortColumn="-Date",e.selectedPageType=0,e.getSportFieldColor=contentUtils.getSportFieldColor,e.Unauthorized=!1,e.data={contentSearch:""},r.$on("$stateChangeSuccess",function(e,t,n,a,o){contentUtils.storeStateChange(s,a,t)});for(var N=0;N<e.availablePageTypes.length;N++){var b=e.availablePageTypes[N];b.HebrewType=contentUtils.HebrewPageType(b.Type),b.pageTypeIsHebrewMale=contentUtils.IsHebrewMalePageType(b.Type),b.PluralHebrewType=contentUtils.HebrewPageType(b.Type,!0),b.BannerButtonClass="button banner_button "+contentUtils.GetBannerType(b.Type),b.IconCss=contentUtils.GetPageIcon(b.Type)}contentUtils.InitSportFieldColors(t),e.contentPagingService=new PagingService(d(),{pageSize:20}),e.pages=[],e.contentPagingService.applyPaging(e.pages),window.qL_steps_amount=3,ChainFactory.Execute(u,C,w),e.FeaturedPageCount=function(){return D.length},e.getPageIcon=function(e){return contentUtils.GetPageIcon(e.Type)},e.AddToFeaturedTitle=function(e){return e.FeaturedIndex>0?"הסרה מעמוד הבית":"הצגה בעמוד הבית"},e.HideTitle=function(e){return e.IsHidden?"ביטול  מצב מוסתר":"הסתרה"},e.AddToRecentTitle=function(e){var t=contentUtils.HebrewPageType(e.Type,!0),n=contentUtils.IsHebrewMalePageType(e.Type);return(e.PageIndex>0?"הסרה מ":"הוספה ל")+t+" "+(n?"אחרונים":"אחרונות")},e.Delete=function(t){var n=t.Seq,a="האם למחוק "+t.HebrewType+" "+t.Description+"?";l.ask(a).then(function(){t.deleting=!0,c.delete(n).then(function(a){_=_.filter(function(e){return e.Seq!=n}),e.contentPagingService.setData(d()),t.deleting=!1},function(e){t.deleting=!1,alert("שגיאה בעת מחיקה, אנא נסו שוב מאוחר יותר")})})},e.getSportFieldStyle=function(e){return"background-color: "+contentUtils.getSportFieldColor(e)+";"},e.ToggleFeatured=function(e){e.AddingToFeatured=!0;var t=e.FeaturedIndex;if(e.FeaturedIndex>0){D=D.filter(function(t){return t.Seq!=e.Seq});for(var n=0;n<D.length;n++)D[n].FeaturedIndex=n+1;e.FeaturedIndex=0}else{for(var n=0;n<D.length;n++)D[n].FeaturedIndex++;e.FeaturedIndex=1,D.push(e)}v(e,t)},e.ToggleHidden=function(e){e.Hiding=!0,1==e.IsHidden?c.unhide(e.Seq).then(function(t){e.Hiding=!1,e.IsHidden=0,g(e)},function(t){e.Hiding=!1,alert("פעולה נכשלה, אנא נסו שוב מאוחר יותר")}):c.hide(e.Seq).then(function(t){e.Hiding=!1,e.IsHidden=1,g(e)},function(t){e.Hiding=!1,alert("פעולה נכשלה, אנא נסו שוב מאוחר יותר")})},e.RemoveFromFeatured=function(t){l.ask("האם להסיר מרשימת תוכן מקודם?").then(function(){e.ToggleFeatured(t)})},e.ToggleRecent=function(t){t.AddingToRecent=!0;var n=t.Type,a=t.PageIndex,o=P.filter(function(e){return e.Type==n});t.PageIndex>0?(t.PageIndex=0,o=o.filter(function(e){return e.Seq!=t.Seq})):(t.PageIndex=1,o=sportUtils.InsertIntoArray(o,t));for(var i=0;i<o.length;i++)o[i].PageIndex=i>=e.recentAmount?0:i+1;m(n,o,t,a)},e.RemoveFromRecent=function(t){l.ask("האם להסיר מרשימה זו?").then(function(){e.ToggleRecent(t)})},e.MoveRecentRight=function(e){S(e,-1)},e.MoveRecentLeft=function(e){S(e,1)},e.MoveFeaturedRight=function(e){y(e,-1)},e.MoveFeaturedLeft=function(e){y(e,1)}}angular.module("sport.content").controller("ContentManageController",["$scope","$http","$state","$timeout","$interval","$filter","$rootScope","$cookies","messageBox","ContentService",e])}(),function(){"use strict";function e(e,t,n,a,o,i,r,s,l,c){function u(){sportUtils.VerifyUser(t,e,[3],function(t){e.LoggedInUser&&2==e.LoggedInUser.role&&n.go("register"),ChainFactory.Next(),window.qL_step_finished=!0})}function d(){t.get("/api/sportsman/regions").then(function(t){e.data.Regions=t.data.slice(0),window.setTimeout(function(){sportUtils.InitCustomSelect();window.setTimeout(function(){var e=$("#ddlRegion").find("option[value='0']").index();$("#selected_region").find("li").eq(e).click()},500)},200),ChainFactory.Next(),window.qL_step_finished=!0},function(e){ChainFactory.Next(),window.qL_step_finished=!0})}function p(){function t(e){return!(null==e||!e)&&(e.Name||e).indexOf(n)>=0}var n=$.trim(e.data.contentSearch),a=I.slice(0);return a=i("orderBy")(a,e.sortColumn),n.length>0&&(a=a.filter(function(e){return!![e.SportFieldName,e.Description,e.HebrewType,e.CreatorDisplayName].some(t)||!(!e.Tags||!e.Tags.some(t))})),e.selectedPageType>0&&(a=a.filter(function(t){return t.Type==e.selectedPageType})),null!=e.selectedRegion&&(a=a.filter(function(t){return t.Region&&t.Region.REGION_ID==e.selectedRegion.Id})),a}function g(e){var t="button button_type_icon_small icon button_grey_light",n="button_grey_light_hover";e.AddToRecentCssClass=t,e.AddToFeaturedCssClass=t,e.HidePageCssClass=t,e.RegionIndex>0&&(e.AddToFeaturedCssClass+=" "+n),e.PageIndex>0&&(e.AddToRecentCssClass+=" "+n),e.IsHidden&&(e.HidePageCssClass+=" "+n)}function h(){T=p().filter(function(e){return e.RegionIndex>0}),T.sort(function(e,t){return e.RegionIndex-t.RegionIndex}),e.featuredPageRows=sportUtils.SplitArray(T,3)}function f(n,a){if(null!=e.selectedRegion){var o=e.selectedRegion.Id,i=(n.RegionIndex||0)+a;i<1&&(i=1);var r={PageSeq:n.Seq,Region:o,PageIndex:i};t.post("/api/pages/region-page",r).then(function(e){if(e.data&&e.data.OriginalIndex){var t=p().findItem(function(t){return t.Seq==e.data.PageWithOriginalIndex});null!=t&&(t.RegionIndex=e.data.OriginalIndex)}n.RegionIndex=i,h(),g(n)},function(e){alert("שגיאה בעת עדכון מיקום, נא לנסות שוב מאוחר יותר")})}}function m(){t.get("/api/pages/region-pages").then(function(n){var a={};n.data.forEach(function(e){a[e.ContentPageSeq.toString()]=e.PageIndex}),c.list(null,null,!0).then(function(n){window.qL_step_finished=!0;for(var o=0;o<n.length;o++){var i=n[o];i.DefaultImagePath=contentUtils.BuildDefaultImagePath(i),i.HebrewType=contentUtils.HebrewPageType(i.Type),i.IsHebrewMale=contentUtils.IsHebrewMalePageType(i.Type),i.BannerButtonClass="button banner_button "+contentUtils.GetBannerType(i.Type),i.RegionIndex=a[i.Seq.toString()]||null,g(i)}I=n.slice(0);var r=I.map(function(e){return e.ChampionshipCategoryId}).filter(function(e){return null!=e}).distinct(),s="/api/sportsman/category-regions?categories="+r.join(",");t.get(s).then(function(t){var n=t.data.slice(0),a={};n.forEach(function(e){a[e.CHAMPIONSHIP_CATEGORY_ID.toString()]=e}),I.forEach(function(e){e.ChampionshipCategoryId&&(e.Region=a[e.ChampionshipCategoryId.toString()])}),e.contentPagingService.setData(p()),h(),ChainFactory.Next()},function(t){e.contentPagingService.setData(p()),h(),ChainFactory.Next()})},function(e){ChainFactory.Next()})},function(e){ChainFactory.Next()})}function v(){var t=$.trim($("#ddlRegion").find(".select_title").text()),n=e.data.Regions.filter(function(e){return e.REGION_NAME==t});if(n.length>0){return{Id:n[0].REGION_ID,Name:t}}return null}function S(){
var t=$.trim($("#ddlSortBy").find(".select_title").text()),n=e.sortFields.filter(function(e){return e.Name==t});if(n.length>0){return n[0].Value}return""}function y(){var t=$.trim($("#ddlPageType").find(".select_title").text()),n=e.availablePageTypes.filter(function(e){return e.PluralHebrewType==t});return n.length>0?n[0].Type:0}function C(){o(function(){var t=S(),n=y(),a=v(),o=t.length>0&&t!=w.SortBy,i=n!=w.PageType,r=null!=a&&null==w.Region||null!=a&&null!=w.Region&&a.Id!=w.Region.Id,s=e.data.contentSearch!=w.Search;(o||s||r||i)&&(e.sortColumn=t,e.selectedPageType=n,e.selectedRegion=a,e.contentPagingService.setData(p()),h()),t.length>0&&(w.SortBy=t),w.Search=e.data.contentSearch,w.PageType=n,w.Region=a},500),ChainFactory.Next(),window.qL_step_finished=!0,window.qL_Finish_Now=!0}var I=[],T=[],w={SortBy:"-Date",Search:"",PageType:0,Region:-1};e.recentAmount=sportGlobalSettings.RecentAmount,e.sortFields=[{Name:"תאריך יצירה",Value:"-Date"},{Name:"תיאור",Value:"+Description"},{Name:"ענף ספורט",Value:"+SportFieldName"}],e.pageTypes=contentUtils.GetPageTypes(),e.availablePageTypes=e.pageTypes.map(function(e){return{Type:e.Id}}),e.sortColumn="-Date",e.selectedPageType=0,e.selectedRegion=null,e.getSportFieldColor=contentUtils.getSportFieldColor,e.Unauthorized=!1,e.data={contentSearch:"",Regions:[]};for(var _=0;_<e.availablePageTypes.length;_++){var D=e.availablePageTypes[_];D.HebrewType=contentUtils.HebrewPageType(D.Type),D.pageTypeIsHebrewMale=contentUtils.IsHebrewMalePageType(D.Type),D.PluralHebrewType=contentUtils.HebrewPageType(D.Type,!0),D.BannerButtonClass="button banner_button "+contentUtils.GetBannerType(D.Type),D.IconCss=contentUtils.GetPageIcon(D.Type)}contentUtils.InitSportFieldColors(t),e.contentPagingService=new PagingService(p(),{pageSize:20}),e.pages=[],e.contentPagingService.applyPaging(e.pages),window.qL_steps_amount=4,ChainFactory.Execute(u,d,m,C),e.FeaturedPageCount=function(){return T.length},e.getPageIcon=function(e){return contentUtils.GetPageIcon(e.Type)},e.AddToFeaturedTitle=function(e){return e.RegionIndex>0?"הסרה מעמוד הבית":"הצגה בעמוד הבית"},e.HideTitle=function(e){return e.IsHidden?"ביטול  מצב מוסתר":"הסתרה"},e.AddToRecentTitle=function(e){var t=contentUtils.HebrewPageType(e.Type,!0),n=contentUtils.IsHebrewMalePageType(e.Type);return(e.PageIndex>0?"הסרה מ":"הוספה ל")+t+" "+(n?"אחרונים":"אחרונות")},e.Delete=function(t){var n=t.Seq,a="האם למחוק "+t.HebrewType+" "+t.Description+"?";l.ask(a).then(function(){t.deleting=!0,c.delete(n).then(function(a){I=I.filter(function(e){return e.Seq!=n}),e.contentPagingService.setData(p()),t.deleting=!1},function(e){t.deleting=!1,alert("שגיאה בעת מחיקה, אנא נסו שוב מאוחר יותר")})})},e.getSportFieldStyle=function(e){return"background-color: "+contentUtils.getSportFieldColor(e)+";"},e.ToggleFeatured=function(n){function a(e){n.AddingToFeatured=!1,n.RegionIndex=e,h(),g(n)}function o(){alert("שגיאה בעת שמירת נתונים, נא לנסות שוב מאוחר יותר"),n.AddingToFeatured=!1}if(null!=e.selectedRegion){n.AddingToFeatured=!0;var i=(n.RegionIndex,e.selectedRegion.Id);if(n.RegionIndex>0){var r="/api/pages/region-page?page="+n.Seq+"&region="+i;t.delete(r).then(function(e){a(0)},o)}else{var s={PageSeq:n.Seq,Region:i};t.put("/api/pages/region-page",s).then(function(e){a(e.data.Index)},o)}}},e.RemoveFromFeatured=function(t){l.ask("האם להסיר מרשימת תוכן מקודם?").then(function(){e.ToggleFeatured(t)})},e.MoveFeaturedRight=function(e){f(e,-1)},e.MoveFeaturedLeft=function(e){f(e,1)}}angular.module("sport.content").controller("ContentRegionsController",["$scope","$http","$state","$timeout","$interval","$filter","$rootScope","$cookies","messageBox","ContentService",e])}(),function(){"use strict";function e(e,t){function n(e){e.Date=new Date(e.Date)}return{list:function(a,o,i){void 0===i&&(i=!1);var r="/api/pages",s=t({type:a,recent:o});return s&&(r+="?"+s),e.get(r).then(function(e){for(var t=0;t<e.data.length;t++)n(e.data[t]);return i?e.data:e.data.filter(function(e){return 1!=e.IsHidden})})},featured:function(){return e.get("/api/pages").then(function(e){var t=e.data.slice(0).filter(function(e){return e.FeaturedIndex>0});return t.sort(function(e,t){return e.FeaturedIndex-t.FeaturedIndex}),t.filter(function(e){return 1!=e.IsHidden})})},recent:function(t,a){void 0===a&&(a={});var o=a.amount||sportGlobalSettings.RecentAmount,i=a.sportField||0,r=a.takeAll||!1;t.hasOwnProperty("length")||(t=[t]);var s="/api/pages?type=0";return i>0&&(s+="&sport="+i),e.get(s).then(function(e){var a={},i=e.data.slice(0);return t.forEach(function(e){var t=i.filter(function(t){return(0==e||t.Type==e)&&1!=t.IsHidden});r||(t=t.filter(function(e){return e.PageIndex>0})),t=t.take(o);for(var s=0;s<t.length;s++)n(t[s]);t.sort(function(e,t){return r?t.Date.getTime()-e.Date.getTime():e.PageIndex-t.PageIndex}),a["Type_"+e]=t}),a})},championship:function(t){var a="/api/pages/championship/"+t;return e.get(a).then(function(e){for(var t=0;t<e.data.length;t++)n(e.data[t]);return e.data})},create:function(t){return e.post("/api/pages",{page:t}).then(function(e){return e.data})},read:function(t){return e.get("/api/pages/"+t).then(function(e){return n(e.data),e.data})},update:function(t){return e.put("/api/pages",{pageData:t}).then(function(e){return e.data})},delete:function(t){return e.delete("/api/pages/"+t)},setFeaturedPages:function(t){return e.post("/api/pages/featured",{pages:t})},setRecentPages:function(t,n){return e.post("/api/pages/recent",{pages:t,type:n})},hide:function(t){return e.put("/api/pages/"+t+"/hide",{})},unhide:function(t){return e.put("/api/pages/"+t+"/unhide",{})}}}angular.module("sport.content").factory("ContentService",["$http","$httpParamSerializer",e])}();for(var _schoolSportPageTypes=[{Id:1,Name:"gallery",Hebrew:{Singular:"גלריית תמונות",Plural:"גלריות תמונות",Male:!1},Icon:"fa fa-picture-o",Banner:"business"},{Id:2,Name:"article",Hebrew:{Singular:"כתבה",Plural:"כתבות",Male:!1},Icon:"fa fa-file-text",Banner:"sport"},{Id:3,Name:"video",Hebrew:{Singular:"סרטון",Plural:"ספריית VOD",Male:!0},Icon:"fa fa-video-camera",Banner:"travel"},{Id:5,Name:"files",Hebrew:{Singular:"טבלת קבצים",Plural:"טבלאות קבצים",Male:!1},Icon:"fa fa-files-o",Banner:"education"},{Id:7,Name:"event",Hebrew:{Singular:"אירוע",Plural:"אירועים",Male:!0},Icon:"fa fa-calendar",Banner:"politics"}],_schoolSportSectionTypes=[{Id:1,Name:"pictures",Hebrew:"תמונות",Title:"הוספת תמונות"},{Id:2,Name:"text",Hebrew:"טקסט",Title:"נא להזין טקסט"},{Id:3,Name:"video",Hebrew:"סרטון",Title:"הוספת סרטון"},{Id:5,Name:"files",Hebrew:"קבצים",Title:"הוספת קבצים"},{Id:6,Name:"contact",Hebrew:"איש קשר",Title:"הוספת איש קשר",Icon:"fa fa-user"}],_schoolSportThumbnailTypes={1:{RatioWidth:58,RatioHeight:39,Title:"סליידר"},2:{RatioWidth:383,RatioHeight:100,Title:"עמוד הבית"}},_schoolSportPageTypeMappings={MapByName:{},MapById:{}},i=0;i<_schoolSportPageTypes.length;i++){var curPageType=_schoolSportPageTypes[i];_schoolSportPageTypeMappings.MapByName[curPageType.Name]=curPageType,_schoolSportPageTypeMappings.MapById[curPageType.Id.toString()]=curPageType}for(var _schoolSportSectionMappings={BySectionName:{},BySectionId:{}},i=0;i<_schoolSportSectionTypes.length;i++){var curSectionType=_schoolSportSectionTypes[i],matchingPage=_schoolSportPageTypeMappings.MapById[curSectionType.Id.toString()];matchingPage&&(curSectionType.Icon=matchingPage.Icon),_schoolSportSectionMappings.BySectionName[curSectionType.Name]=curSectionType,_schoolSportSectionMappings.BySectionId[curSectionType.Id.toString()]=curSectionType}var contentUtils={pageTypeMapping:{},sportFieldColorMapping:{},regionColorMapping:{},croppedImagesMapping:{},GetThumbnailType:function(e){return _schoolSportThumbnailTypes[e.toString()]||{}},GetPageTypes:function(){for(var e=[],t=0;t<_schoolSportPageTypes.length;t++){var n=_schoolSportPageTypes[t],a={};for(var o in n)a[o]=n[o];e.push(a)}return e},GetPageTypeMapping:function(){return sportUtils.shallowCopy(contentUtils.pageTypeMapping)},GetPageTypeBySeq:function(e){return contentUtils.pageTypeMapping[e.toString()]||null},GetSectionTypes:function(){for(var e=[],t=0;t<_schoolSportSectionTypes.length;t++){var n=_schoolSportSectionTypes[t],a={};for(var o in n)a[o]=n[o];e.push(a)}return e},HebrewPageType:function(e,t){isNaN(parseInt(e))||(e=this.ParsePageType(e)),void 0===t&&(t=!1);var n=t?"Plural":"Singular",a=_schoolSportPageTypeMappings.MapByName[e];return a?a.Hebrew[n]:""},IsHebrewMalePageType:function(e){isNaN(parseInt(e))||(e=this.ParsePageType(e));var t=_schoolSportPageTypeMappings.MapByName[e];return!!t&&t.Hebrew.Male},HebrewSectionType:function(e){var t=_schoolSportSectionMappings.BySectionId[e.toString()];return t?t.Hebrew:""},HebrewSectionTitle:function(e){var t=_schoolSportSectionMappings.BySectionId[e.toString()];return t?t.Title:""},GetPageIcon:function(e){var t=_schoolSportPageTypeMappings.MapById[e.toString()];return t?t.Icon:""},GetBannerType:function(e){var t=_schoolSportPageTypeMappings.MapById[e.toString()];return t?t.Banner:""},ParsePageType:function(e){if(isNaN(parseInt(e))){var t=_schoolSportPageTypeMappings.MapByName[e];return t?t.Id:0}var t=_schoolSportPageTypeMappings.MapById[e.toString()];return t?t.Name:""},ExtractAllAttachments:function(e){var t=[];if(e.Sections)for(var n=0;n<e.Sections.length;n++){var a=e.Sections[n],o=a.Attachments||a.Data;if((1==a.Type||5==a.Type||6==a.Type)&&o&&o.length>0){for(var i=o.slice(0),r=0;r<i.length;r++){var s=i[r];s.SectionIndex=n,s.SectionType=a.Type,s.Index=r}sportUtils.CopyArray(i,t)}}return t},ExtractFirstVideo:function(e){var t="";if(e.Sections){var n=e.Sections.filter(function(e){return 3==e.Type});n.length>0&&(t=n[0].Data||"")}return t},BuildImageRows:function(e,t){var n=e.slice(0);n.sort(function(e,t){return e.Index-t.Index}),n=t>0?sportUtils.SplitArray(n,t):[n];for(var a=0;a<n.length;a++){var o=n[a];!function(e){var n=t>0?Math.floor(12/t):0;e.ImageCells=[];for(var a=0,o=0;o<e.length;o++){var i=e[o];n>0&&(i.ColWidth=n,a+=n,i.ColOffset=o==e.length-1?12-a:0),e.ImageCells.push(i)}}(o)}return n},RearrangeSections:function(e){if(e.Sections){e.Sections.sort(function(e,t){return e.Index-t.Index});for(var t=0;t<e.Sections.length;t++)e.Sections[t].Index=t}},GotValidData:function(e){if(6==e.Type){return(e.Data&&e.Data.Name?$.trim(e.Data.Name):"").length>0}var t=$.trim(e.Data||"");return 3==e.Type?0!=t.length&&(e.Video&&e.Video.Valid):t.length>0||!(1!=e.Type&&5!=e.Type||!e.NewAttachments||!(e.NewAttachments.length>0))},TryParseVideo:function(e,t){function n(t){var n="",a=e.lastIndexOf(t);if(a>=0){n=e.substring(a+t.length);var o=n.indexOf("?")+1||n.indexOf("&")+1;o>0&&(n=n.substring(0,o-1))}return n}if(!e||0==e.length)return!1;if(e.indexOf("youtu.be/")>=0||e.indexOf("youtube.com/")>=0){var a=n("?v=");if(0==a.length&&(a=n("/")),a.length>0)return t.id=a,t.url="https://www.youtube.com/watch?v="+a,t.embed="https://www.youtube.com/embed/"+a+"?autoplay=1",t.thumbnail="https://img.youtube.com/vi/"+a+"/0.jpg",!0}else if(e.indexOf("vimeo.com/")>=0){var a=n("/");if(a.length>0&&parseInt(a)==a)return t.id=a,t.url="https://vimeo.com/"+a,t.embed="https://player.vimeo.com/video/"+a+"?autoplay=1",t.thumbnail="",!0}return!1},BuildDefaultImagePath:function(e){var t=this,n="";if(3==e.Type){var a=t.ExtractFirstVideo(e);if(a.length>0){var o={};t.TryParseVideo(a,o)&&(n=o.thumbnail)}}else if(e.DefaultImage){e.DefaultImage.Seq;n="/content/Images/"+e.Seq+"/"+e.DefaultImage.Name}return n.length>0?n:"images/default_content_image.png"},BuildCroppedImages:function(e){function t(t,a){var o=0,i="";switch(a){case 1:o=e.SliderThumbnailSeq,i=e.SliderThumbnailImage;break;case 2:o=e.HomepageThumbnailSeq,i=e.HomepageThumbnailImage}0!=o&&null!=o||!e.DefaultImage||(o=e.DefaultImage.Seq);var r=e.DefaultImagePath;if(o){var s=o+"_"+t,l=n.croppedImagesMapping[s];l?r="/content/Cropped/"+o+"/"+l.File:i&&i.length>0&&(r="/content/Images/"+e.Seq+"/"+i)}return r}var n=this;e.CroppedImage_Slider=t("58x39",1),e.CroppedImage_Homepage=t("383x100",2)},ApplyVideoData:function(e,t){var n=this;if(e)for(var a=e.filter(function(e){return 3==e.Type}),o=0;o<a.length;o++){var i=a[o];if(i.Video||(i.Video={Valid:!1}),i.Data){var r={};n.TryParseVideo(i.Data,r)?(i.Data=r.url,i.Video.Url=t.trustAsResourceUrl(r.embed),i.Video.Valid=!0):(i.Video.Url="",i.Video.Valid=!1)}else i.Video.Url="",i.Video.Valid=!1}},InitPageTypes:function(e){if(null!=e)for(var t=this,n=0;n<e.length;n++){var a=e[n];t.pageTypeMapping[a.Seq.toString()]=_schoolSportPageTypeMappings.MapById[a.Type.toString()]}},InitSportFieldColors:function(e,t){void 0===t&&(t=null);var n=this;e.get("/api/common/sportFieldColors").then(function(e){for(var a=0;a<e.data.length;a++){var o=e.data[a];n.sportFieldColorMapping[o.SportFieldSeq.toString()]=o.Color}t&&t("OK")},function(e){console.log("error loading colors: "+e),t&&t("ERROR")})},InitRegionColors:function(e,t){void 0===t&&(t=null);var n=this;e.get("/api/common/regionColors").then(function(e){for(var a=0;a<e.data.length;a++){var o=e.data[a];n.regionColorMapping[o.RegionId.toString()]=o.Color}t&&t("OK")},function(e){console.log("error loading colors: "+e),t&&t("ERROR")})},InitCroppedImages:function(e,t){void 0===t&&(t=null);var n=this;n.croppedImagesMapping={},e.get("/api/images/cropped").then(function(e){var a=e.data;if(a)for(var o=0;o<a.length;o++){var i=a[o],r=i.ImageSeq+"_"+i.AspectRatio;n.croppedImagesMapping[r]={File:i.FileName,Data:i.MetaData}}t&&t("OK")},function(e){console.log("error loading cropped images:"),console.log(e),t&&t("ERROR")})},getSportFieldColor:function(e){if(e){var t=e.toString();return contentUtils.sportFieldColorMapping[t]||"#c0c0c0"}return"transparent"},getRegionColor:function(e){var t=e.toString();return contentUtils.regionColorMapping[t]||"transparent"},getCroppedImage:function(e,t){var n=this,a=e+"_"+t;return n.croppedImagesMapping[a]||{File:""}},setCroppedImage:function(e,t,n,a){var o=this,i=e+"_"+t;o.croppedImagesMapping[i]={File:n,Data:a}},storeStateChange:function(e,t,n){var a="scs_"+t.name,o=n.name;e.put(a,o)},ApplyPagesData:function(e){for(var t=0;t<e.length;t++){var n=e[t];n.DefaultImagePath=contentUtils.BuildDefaultImagePath(n),contentUtils.BuildCroppedImages(n),n.EncodedSubCaption=sportUtils.EncodeHTML(n.SubCaption),n.ShortSubCaption=sportUtils.EncodeHTML(sportUtils.CreateShortVersion(n.SubCaption,80,!1))}},ExtractFileExtension:function(e){return(e||"").split(".").slice(-1)[0].toLowerCase()},IsImageFile:function(e,t){return void 0===t&&(t=contentUtils.ExtractFileExtension(e)),"jpg"==t||"jpeg"==t||"png"==t||"gif"==t||"bmp"==t},GeneratePreviewClass:function(e,t){void 0===t&&(t=contentUtils.ExtractFileExtension(e));var n="";switch(t){case"xls":case"xlsx":n="excel";break;case"pdf":n="pdf";break;case"ppt":case"pptx":n="powerpoint";break;case"txt":n="text";break;case"doc":case"docx":n="word";break;case"zip":n="zip"}var a="fa-file";return n.length>0&&(a+="-"+n),"fa "+(a+="-o")},ParseFileType:function(e){var t=contentUtils.ExtractFileExtension(e);if(""==t)return"ללא סיומת";if(contentUtils.IsImageFile(e,t))return"תמונה";switch(t){case"doc":case"docx":return"מסמך וורד";case"xls":case"xlsx":return"גיליון אקסל";case"pdf":return"PDF";case"txt":return"קובץ טקסט";case"zip":case"7z":case"rar":return"קובץ מכווץ";case"mp4":case"mpg":case"mpeg":case"avi":return"סרטון"}return"אחר"},CarouselAutoSlide:function(e){var t=$("#"+e);if(1==t.length){var n=t.find(".owl-next"),a=t.find(".owl-prev"),o=parseInt(t.data("auto-slide-stop-after"));if(!isNaN(o)&&o>=0)for(var i=0;i<o;i++)n.trigger("click");else{var r=parseInt(t.data("auto-slide-seconds"));(isNaN(r)||r<=0)&&(r=3);var s=0,l=function(){s&&window.clearTimeout(s),s=window.setTimeout(function(){n.trigger("click")},1e3*r)};n.bind("click",l),a.bind("click",l),n.trigger("click")}}else window.setTimeout(function(){contentUtils.CarouselAutoSlide(e)},100)},ReadContentDescriptionAndImages:function(e,t){return t.read(e).then(function(e){var t=contentUtils.ExtractAllAttachments(e).filter(function(e){return 1==e.SectionType});return{Description:e.Description,Images:t}})},ApplyPageTypes:function(e){function t(e){if(null!=e){var n=e.hasOwnProperty("Seq");if(sportUtils.IsInteger(e)||n){var a=n?e.Seq:e,o=contentUtils.GetPageTypeBySeq(a),i=o?o.Name:"page";return n?(e.Type=i,e):{Seq:a,Type:i}}if(e.hasOwnProperty("length"))for(var r=0;r<e.length;r++){var s=e[r];e[r]=t(s)}else for(var l in e)if(l){var c=e[l];e[l]=t(c)}}return e}for(var n in e){var a=e[n];e[n]=t(a)}}};!function(){"use strict";function e(e,t,n,a,o,i,r,s,l,c,u,d,p,g){function h(t){var n=e.eventFilters.Calendar?e.eventFilters.Calendar.SelectedDate:null;return!n||t.DateWithoutTime.isSameDate(n)}function f(){var t=[],n=e.eventFilters.SportFields.length;if(n>0){var a=e.eventFilters.Championships.length,o=e.eventFilters.Categories.length,i=e.eventFilters.SportFields.toAssociativeArray(),s=e.eventFilters.Championships.toAssociativeArray(),l=e.eventFilters.Categories.toAssociativeArray();t=F.filter(h).filter(function(e){if(o>0)return l[e.Description];if(a>0){var t=e.CHAMPIONSHIP_NAME;return s[t]}return!(n>0)||i[e.SPORT_ID.toString()]}),t=r("orderBy")(t,e.sortColumn)}return t}function m(){e.pagingService.setData(f())}function v(){e.sportFieldsInUse=sportUtils.DistinctArray(F.filter(h).map(function(e){return e.SPORT_ID})).map(function(e){return{Id:e,Name:P.Full[e.toString()]}});for(var t=0;t<e.sportFieldsInUse.length;t++){var n=e.sportFieldsInUse[t];n.SportWordCount=sportUtils.countWords(n.Name)}if(e.sportFieldsInUse.length>0){for(var a=12-e.sportFieldsInUse.length,t=0;t<a;t++)e.sportFieldsInUse.push({Id:0,Name:"Blank_"+(t+1)});e.sportFieldsInUse.sort(function(e,t){return e.Id-t.Id})}e.noEventsInRange=0==e.sportFieldsInUse.length}function S(){if(0==e.eventFilters.SportFields.length)return e.eventFilters.Championships=[],void(e.championshipsInUse.Rows=[]);var t=e.eventFilters.SportFields.toAssociativeArray(),n=e.championshipsInUse.All.filter(function(e){return t[e.SportField.toString()]});e.championshipsInUse.Matching=n;var a=sportUtils.SplitArray(n,6);if(a.length>0){for(var o=a[a.length-1],i=6-o.length,r=0;r<i;r++)o.push({SportField:0,Name:"Blank_"+(r+1)});for(var r=0;r<a.length;r++){a[r].sort(function(e,t){return e.SportField-t.SportField})}}e.championshipsInUse.Rows=a}function y(){if(0==e.eventFilters.Championships.length)return e.eventFilters.Categories=[],void(e.categoriesInUse.Rows=[]);var t=e.eventFilters.Championships.toAssociativeArray(),n=e.categoriesInUse.All.filter(function(e){return t[e.Championship]});e.categoriesInUse.Matching=n;var a=sportUtils.SplitArray(n,6);if(a.length>0){for(var o=a[a.length-1],i=6-o.length,r=0;r<i;r++)o.push({SportField:0,Name:"Blank_"+(r+1)});for(var r=0;r<a.length;r++){a[r].sort(function(e,t){return e.SportField-t.SportField})}}e.eventFilters.Categories=[],e.categoriesInUse.Rows=a}function C(t,n,a,o){void 0!==a&&null!=a||(a=t),void 0===o&&(o=!1),e.eventFilters.Calendar=p.create(F,a);var i=[{Date:t},{Date:n}];if(e.eventFilters.Calendar.addItems(i,function(e,t){}),e.eventFilters.Calendar.selectedDate=a,e.eventFilters.Calendar.generateDayClass=function(e){var t=[];return e.currentMonth&&t.push("current-calendar-month"),e.selected?t.push("bg-primary"):this.selectedDate&&(e.currentMonth&&e.day==this.selectedDate.getDate()&&e.month==this.selectedDate.getMonth()&&e.year==this.selectedDate.getFullYear()?t.push("bg-info"):e.currentSelection&&!e.selected&&t.push("bg-success")),e.currentMonth&&e.items.length>0&&t.push("enabled"),t.join(" ")},e.eventFilters.Calendar.dayClicked=function(t){if(null==t||!t)return this.clearDaySelection(),e.eventFilters.Calendar.SelectedDate=null,v(),e.clearSportFieldFilter(),void m();if(t.currentMonth){this.selectDay(t),e.eventFilters.Calendar.SelectedDate=new Date(t.year,t.month,t.day),v(),e.clearSportFieldFilter(),m();for(var n=0;n<e.sportFieldsInUse.length;n++)e.toggleSportFieldFilter(e.sportFieldsInUse[n])}},e.eventFilters.Calendar.selectMonth(),o){var r=a.getFullYear(),s=a.getMonth(),a=a.getDate();l(function(){for(var t=!1,n=0;n<e.eventFilters.Calendar.selectedMonth.weeks.length&&!t;n++)for(var o=e.eventFilters.Calendar.selectedMonth.weeks[n],i=0;i<o.days.length;i++){var l=o.days[i];if(l.currentMonth&&l.year==r&&l.month==s&&l.day==a){t=!0,e.eventFilters.Calendar.dayClicked(l);break}}},500)}}function I(){function t(){if(e.seasons&&e.seasons.length>0){var t=$.trim($("#ddlSeason").find(".select_title").text()),n=e.seasons.filter(function(e){return e.Name==t});if(n.length>0){return n[0]}}return null}s(function(){var n=t();null!=n&&n.Season!=e.eventFilters.Season&&(e.eventFilters.Season=n.Season,_().then(function(){e.eventFilters.Calendar.dayClicked(null),C(n.FirstDay,n.LastDay,null,!1),e.clearSportFieldFilter()}))},500)}function T(){u.sportFields(!0).then(function(e){window.qL_step_finished=!0,P=e,ChainFactory.Next()},function(e){console.log("error reading sport fields: "+e),window.qL_step_finished=!0,ChainFactory.Next()})}function w(){e.seasons=[],u.seasons.inUse().then(function(t){window.qL_step_finished=!0,t.sort(function(e,t){return e.Season-t.Season});for(var n=0;n<t.length;n++){var a=t[n];(0==e.currentSeason.Season&&a.IsCurrent||e.currentSeason.Season>0&&a.Season==e.currentSeason.Season)&&(e.currentSeason=a,e.eventFilters.Season=e.currentSeason.Season),e.seasons.push(a)}window.setTimeout(function(){sportUtils.InitCustomSelect()},100),ChainFactory.Next()},function(e){console.log("error getting seasons"),console.log(e),window.qL_step_finished=!0,ChainFactory.Next()})}function _(){var t=o.defer();F=[];var n=e.eventFilters.Season||0,a={mergeSameDayEvents:!1};n>0&&(a.season=n);var i=n>0?{season:n}:{};return c.sportsmanEvents(a).then(function(n){window.qL_step_finished=!0;for(var a=0;a<n.length;a++){var o=n[a];o.TeamA=eventsUtils.BuildTeamName(o,"A"),o.TeamB=eventsUtils.BuildTeamName(o,"B"),o.Description=o.CHAMPIONSHIP_NAME+" "+o.CATEGORY_NAME,o.GameDetails=eventsUtils.BuildGameDetails(o),o.EventType=1,F.push(o)}c.sportFlowersEvents(i).then(function(n){window.qL_step_finished=!0;for(var a=0;a<n.length;a++){var o=n[a];o.SPORT_NAME=b,o.SPORT_ID=sportGlobalSettings.FlowersFieldSeq,o.Description=o.SportFieldName+" "+(o.FacilityName||""),o.FACILITY_NAME=o.FacilityName,o.CHAMPIONSHIP_NAME=N+" "+o.EventName,o.GameDetails="",o.EventType=2,F.push(o)}c.practiceCampEvents(i).then(function(n){window.qL_step_finished=!0;for(var a=0;a<n.length;a++){var o=n[a];o.SPORT_ID=sportGlobalSettings.YoungSportsmenSeq,o.Description="מחנה אימון "+o.SPORT_NAME,o.GameDetails="",o.EventType=3,F.push(o)}d.list(7,0,!1).then(function(n){window.qL_step_finished=!0;for(var a=0;a<n.length;a++){var o=n[a];o.SPORT_ID=o.SportFieldSeq,o.SPORT_NAME=P.Full[o.SPORT_ID.toString()]||"אירוע",o.GameDetails="",o.EventType=5,F.push(o)}F.forEach(function(e){e.DateWithoutTime=e.Date.withoutTime(),e.ShortSportName=P.Short[e.SPORT_ID.toString()]||e.SPORT_NAME,e.SportWordCount=sportUtils.countWords(e.ShortSportName)}),F.sort(function(e,t){return e.Date.getTime()-t.Date.getTime()});var i=F.toAssociativeArray(!0,"CHAMPIONSHIP_NAME","SPORT_ID");e.championshipsInUse.All=sportUtils.DistinctArray(F.map(function(e){return e.CHAMPIONSHIP_NAME})).map(function(e){return{Name:e,SportField:i[e]||sportGlobalSettings.FlowersFieldSeq}}),S(),e.categoriesInUse.All=[];for(var r={},a=0;a<F.length;a++){var o=F[a],s=o.SPORT_ID==sportGlobalSettings.FlowersFieldSeq?o.Description:o.CATEGORY_NAME,l=o.SPORT_ID==sportGlobalSettings.FlowersFieldSeq?o.Description:o.CHAMPIONSHIP_NAME,c=o.SPORT_ID+"_"+s;r[c]||(e.categoriesInUse.All.push({Name:s,Championship:l,SportField:o.SPORT_ID}),r[c]=!0)}y(),v(),m(),window.qL_Finish_Now=!0,t.resolve("done")},function(e){console.log("error reading custom events"),window.qL_Finish_Now=!0,console.log(e),t.reject("שגיאה בעת  טעינת נתונים מהשרת")})},function(e){console.log("error reading practice camp events"),window.qL_Finish_Now=!0,console.log(e),t.reject("שגיאה בעת  טעינת נתונים מהשרת")})},function(e){console.log("error reading sportsman events"),window.qL_Finish_Now=!0,console.log(e),t.reject("שגיאה בעת  טעינת נתונים מהשרת")})},function(e){console.log("error reading sport flowers events"),window.qL_Finish_Now=!0,console.log(e),t.reject("שגיאה בעת  טעינת נתונים מהשרת")}),t.promise}function D(){b=P.Full[sportGlobalSettings.FlowersFieldSeq.toString()],0==N.length&&(N="אירוע "+b),_().then(function(){var t=n.date,a=!0,o=sportUtils.parseDate(t);if(null==o){a=!1;var i=new Date;o=i>=e.currentSeason.FirstDay&&i<=e.currentSeason.LastDay?i:e.currentSeason.FirstDay}if(C(e.currentSeason.FirstDay,e.currentSeason.LastDay,o,a),I(),localStorage.EventsSportFieldFilter){var r=parseInt(localStorage.EventsSportFieldFilter),s=e.sportFieldsInUse.findItem(function(e){return e.Id==r});null!=s&&(localStorage.removeItem("EventsSportFieldFilter"),e.toggleSportFieldFilter(s))}ChainFactory.Next()},function(t){e.error=t,ChainFactory.Next()})}var P={},F=[],N="",b=((new Date).withoutTime(),"");e.eventFilters={SportFields:[],Championships:[],Categories:[],Calendar:null,Season:0},e.sportFieldsInUse=[],e.championshipsInUse={All:[],Rows:[]},e.categoriesInUse={All:[],Rows:[]},e.seasons=[],e.currentSeason=sportUtils.getCurrentSeason(),e.sortColumn="+Date",e.error="",e.noEventsInRange=!1,e.sportFlowersSeq=sportGlobalSettings.FlowersFieldSeq,contentUtils.InitSportFieldColors(i,function(){window.qL_step_finished=!0}),e.pagingService=new PagingService(f()),e.events=[],e.pagingService.applyPaging(e.events),ChainFactory.Execute(T,w,D),window.qL_steps_amount=6,e.sortBy=function(t){e.sortColumn==="+"+t?e.sortColumn="-"+t:e.sortColumn="+"+t,m()},e.getSportFieldColor=contentUtils.getSportFieldColor,e.getRoundedRectangleClass=sportUtils.getRoundedRectangleClass,e.getDateFilterText=function(e){return null!=e&&e?r("date")(e,"dd/MM/yyyy"):"[ללא הגבלה]"},e.sportFlowersChampFilterCount=function(){if(e.championshipsInUse.Rows.length>0){for(var t=0,n=0;n<e.championshipsInUse.Rows.length;n++){t+=e.championshipsInUse.Rows[n].filter(function(e){return 0==e.Name.indexOf(N)}).length}return t}return 0},e.totalChampionshipsInUse=function(){for(var t=0,n=0;n<e.championshipsInUse.Rows.length;n++)t+=e.championshipsInUse.Rows[n].filter(function(e){return e.SportField>0}).length;return t},e.getSportFieldFilterStyle=function(e){var t=e.Id||e.SportField,n=contentUtils.getSportFieldColor(t),a=sportUtils.getRoundedRectangleStyle(e,n);return e.SportWordCount&&e.SportWordCount>2&&(a+=" line-height: inherit;"),a},e.getSportFieldStyle=function(e){var t=contentUtils.getSportFieldColor(e);return"background-color: "+t+"; border-color: "+t+";"},e.toggleSportFieldFilter=function(t){var n=t.Id,a=n.toString(),o=e.eventFilters.SportFields.toAssociativeArray();o[a]=!o[a],t.Selected=o[a],e.eventFilters.SportFields=sportUtils.FlattenAssociativeArray(o,!0),e.championshipsInUse.All.filter(function(e){return e.SportField==n&&e.Selected}).forEach(function(t){e.toggleChampionshipFilter(t)}),S(),m()},e.toggleChampionshipFilter=function(t){var n=t.Name,a=e.eventFilters.Championships.toAssociativeArray();a[n]=!a[n],t.Selected=a[n],e.eventFilters.Championships=sportUtils.FlattenAssociativeArray(a,!0),y(),m()},e.toggleCategoryFilter=function(t){var n=t.Name,a=t.Championship,o=a;n!=a&&(o+=" "+n);var i=e.eventFilters.Categories.toAssociativeArray();i[o]=!i[o],t.Selected=i[o],e.eventFilters.Categories=sportUtils.FlattenAssociativeArray(i,!0),m()},e.clearSportFieldFilter=function(){e.eventFilters.SportFields=[];for(var t=0;t<e.sportFieldsInUse.length;t++)e.sportFieldsInUse[t].Selected=!1;S(),y(),m()},e.clearChampionshipFilter=function(){e.eventFilters.Championships=[];for(var t=0;t<e.championshipsInUse.Rows.length;t++)for(var n=e.championshipsInUse.Rows[t],a=0;a<n.length;a++)n[a].Selected=!1;e.clearCategoriesFilter(),m()},e.clearCategoriesFilter=function(){e.eventFilters.Categories=[];for(var t=0;t<e.categoriesInUse.Rows.length;t++)for(var n=e.categoriesInUse.Rows[t],a=0;a<n.length;a++)n[a].Selected=!1;y(),m()}}angular.module("sport.events").controller("EventsController",["$scope","$state","$stateParams","$sce","$q","$http","$filter","$interval","$timeout","EventsService","SportService","ContentService","calendarService","dateSelector",e])}(),function(){"use strict";function e(e){if(e.Date&&e.Date.getFullYear){var t=e.Date.getFullYear();return t>=2e3&&t<=2100}return!0}function t(t,n,a,o){function i(e){e.StartDate?e.Date=new Date(e.StartDate):e.DateTime?e.Date=new Date(e.DateTime):e.TIME&&(e.Date=new Date(e.TIME)),e.Date&&(e.MonthName=sportUtils.HebrewMonthName(e.Date.getMonth()+1)),(e.TEAM_A_SCORE||e.TEAM_B_SCORE)&&null==e.MatchResult&&(e.TEAM_A_SCORE=null,e.TEAM_B_SCORE=null)}return{sportFlowersEvents:function(a){void 0===a&&(a={});var o=a.season,r="/api/flowers/events";if(o){r+="?"+n({season:o})}return t.get(r).then(function(t){for(var n=0;n<t.data.length;n++)i(t.data[n]);return t.data.filter(e)})},sportsmanEvents:function(r){void 0===r&&(r={});var s=r.mergeSameDayEvents||!1;return o.currentSeason(r.season).then(function(o){var l=r.category||0,c="/api/sportsman/events";if(o||l){c+="?"+n({season:o,category:l})}return t.get(c).then(function(t){for(var n=0;n<t.data.length;n++)i(t.data[n]);if(s){for(var o={},n=0;n<t.data.length;n++){var r=t.data[n],l=r.Date?r.Date:new Date,c=a("date")(l,"dd/MM/yyyy")+"_"+r.CHAMPIONSHIP_NAME+" "+r.CATEGORY_NAME;o[c]||(o[c]=[]),o[c].push(r)}var u=[];for(var c in o){var d=o[c];if(d.length<=1)sportUtils.CopyArray(d,u);else{var p=d[0];p.DailyEvents=[],sportUtils.CopyArray(d,p.DailyEvents),u.push(p)}}return u.filter(e)}return t.data.filter(e)})})},practiceCampEvents:function(e){return void 0===e&&(e={}),o.currentSeason(e.season).then(function(e){var a="/api/sportsman/practice-camps";if(e){a+="?"+n({season:e})}return t.get(a).then(function(e){for(var t=0;t<e.data.length;t++){var n=e.data[t];n.DATE_START=new Date(n.DATE_START),n.DATE_FINISH=new Date(n.DATE_FINISH),n.Date=n.DATE_START}return e.data})})},eventsRange:function(){return t.get("/api/common/eventsRange").then(function(e){for(var t in e.data)e.data[t]=new Date(e.data[t]);return e.data})}}}angular.module("sport.events").factory("EventsService",["$http","$httpParamSerializer","$filter","SportService",t])}(),function(){"use strict";function e(e,t,n,a,o,i,r){function s(t){console.log("general error"),console.log(t),window.qL_Finish_Now=!0,e.error=!0,ChainFactory.Next()}function l(){contentUtils.InitSportFieldColors(n,function(){window.qL_step_finished=!0,ChainFactory.Next()})}function c(){r.sportFields().then(function(e){h=e,window.qL_step_finished=!0,ChainFactory.Next()},function(e){console.log("error reading sport fields"),console.log(e),window.qL_step_finished=!0,ChainFactory.Next()})}function u(){n.get("/api/flowers/attachments").then(function(t){e.attachments=t.data;for(var n=0;n<e.attachments.length;n++){var a=e.attachments[n];a.DateUploaded&&(a.DateUploaded=new Date(a.DateUploaded)),a.FileType=contentUtils.ParseFileType(a.FileName)}window.qL_step_finished=!0,ChainFactory.Next()},function(t){console.log("error loading attachments"),console.log(t),window.qL_step_finished=!0,e.attachmentsLoadingError=!0,ChainFactory.Next()})}function d(){n.get("/api/flowers/messages").then(function(t){e.messages=t.data;for(var n=0;n<e.messages.length;n++){var a=e.messages[n];a.DateCreated&&(a.DateCreated=new Date(a.DateCreated))}window.qL_step_finished=!0,ChainFactory.Next()},function(t){console.log("error loading messages"),console.log(t),window.qL_step_finished=!0,e.messageLoadingError=!0,ChainFactory.Next()})}function p(){e.upcomingEvents=[];var t=(new Date).withoutTime();i.sportFlowersEvents().then(function(n){for(var a=[],o=0;o<n.length;o++){var i=n[o];i.Date.withoutTime()>=t&&(i.SportFieldSeq=sportGlobalSettings.FlowersFieldSeq,i.Name=h[sportGlobalSettings.FlowersFieldSeq.toString()]+" "+i.SportFieldName,i.Details=i.FacilityName,a.push(i))}a.sort(function(e,t){return e.Date.getTime()-t.Date.getTime()}),e.upcomingEvents=a,window.qL_step_finished=!0,ChainFactory.Next()},s)}function g(){o.recent(0,{amount:sportGlobalSettings.RecentFlowersContent,sportField:sportGlobalSettings.FlowersFieldSeq,takeAll:!0}).then(function(t){e.recentContent=t.Type_0,
contentUtils.ApplyPagesData(e.recentContent);for(var n=0;n<e.recentContent.length;n++){var a=e.recentContent[n];a.HebrewType=contentUtils.HebrewPageType(a.Type),a.BannerButtonClass="button banner_button "+contentUtils.GetBannerType(a.Type)}window.qL_Finish_Now=!0,ChainFactory.Next()},s)}var h={};e.upcomingEvents=[],e.recentContent=[],e.messages=[],e.attachments=[],e.error=!1,e.messageLoadingError=!1,e.attachmentsLoadingError=!1,e.contentAutoSlideInterval=5,ChainFactory.Execute(c,l,p,d,u,g),window.qL_steps_amount=6,window.setTimeout(function(){contentUtils.CarouselAutoSlide("contentCarousel")},1e3*e.contentAutoSlideInterval),e.getSportFieldStyle=function(e){return"background-color: "+contentUtils.getSportFieldColor(e)+";"},e.GoToEvent=function(e){t.go("events.date",{date:a("date")(e.Date,"ddMMyyyy")})},e.getEventDateStyle=function(t,n){var a=[],o=0==n?10:0;return a.push(e.getSportFieldStyle(t.SportFieldSeq)),a.push("width: 60px;"),a.push("color: white;"),a.push("padding: 5px 5px 5px 5px;"),a.push("margin-top: "+o+"px;"),a.push("border: 2px solid "+contentUtils.getSportFieldColor(t.SportFieldSeq)+";"),a.push("border-radius: 5px;"),a.push("cursor: pointer"),a.join(" ")}}angular.module("sport.flowers").controller("FlowersController",["$scope","$state","$http","$filter","ContentService","EventsService","SportService",e])}(),function(){"use strict";function e(e,t,n,a,o,i,r,s){function l(e,t){if(_){var n="";switch(t){case 1:n="reading ";break;case 2:n="finished to read ";break;case 3:n="error while reading "}n+=e+(1==t?"...":""),console.log(n)}}function c(t,n){void 0===n&&(n=!0),window.qL_step_finished=!0,t&&t.length>0&&(e[t+"LoadFinished"]=!0),n&&ChainFactory.Next()}function u(t,n){return void 0===n&&(n=null),function(){t&&t.length>0&&(e[t+"LoadError"]=!0),c(t,!1),ChainFactory.Next(),null!=n&&n()}}function d(){e.upcomingEvents=T.filter(function(t){return 1==e.activeEventsTab||e.activeEventsTab-1==t.Type}),window.setTimeout(function(){"undefined"!=typeof EventsLoadedHandler&&EventsLoadedHandler()},500)}function p(e){void 0===e&&(e=null),l("sport field colors",1),contentUtils.InitSportFieldColors(n,function(){l("sport field colors",2),ChainFactory.Next(),null!=e&&e()})}function g(e){void 0===e&&(e=null),l("cropped images",1),contentUtils.InitCroppedImages(n,function(){l("cropped images",2),ChainFactory.Next(),null!=e&&e()})}function h(e){void 0===e&&(e=null),l("sport fields",1),s.sportFields().then(function(t){l("sport fields",2),w=t,c("sportFields"),null!=e&&e()},u("sportFields",e))}function f(){l("featured pages",1),i.featured().then(function(t){e.featuredPages=t,contentUtils.ApplyPagesData(e.featuredPages);for(var n=0;n<e.featuredPages.length;n++){var a=e.featuredPages[n];a.BannerCssClass="button banner_button "+contentUtils.GetBannerType(a.Type),a.HebrewType=contentUtils.HebrewPageType(a.Type,!1)}l("featured pages",2),c("featuredPages"),sportUtils.DoWhenReady(".tp-bgimg.defaultimg",function(e){var t=e.css("background-image");if(null==t||!t||"none"==t){var n=e.data("src");n&&n.length>0&&e.css("background-image",'url("'+n+'")')}})},u("featuredPages"))}function m(t){void 0===t&&(t=null),l("advertisements",1);var a=(new Date).getTime();n.get("/api/Banners?type=1&randomize=1&nnn="+a).then(function(n){n.data&&n.data.Seq&&(e.advertisementBanner=n.data,e.advertisementBanner.VideoPath="/content/Banners/"+e.advertisementBanner.Seq+"/"+e.advertisementBanner.FileName),l("advertisements",2),c("advertisements"),null!=t&&t()},u("advertisements",t))}function v(t){void 0===t&&(t=null),l("recent pages",1),i.recent([3,1,2]).then(function(n){e.recentVideos=n.Type_3,contentUtils.ApplyPagesData(e.recentVideos),e.recentGalleries=n.Type_1,contentUtils.ApplyPagesData(e.recentGalleries),e.recentArticles=n.Type_2,contentUtils.ApplyPagesData(e.recentArticles),l("recent pages",2),c("recentPages"),null!=t&&t()},u("recentPages",t))}function S(e){void 0===e&&(e=null),T=[];var t=(new Date).withoutTime();l("flowers events",1),r.sportFlowersEvents().then(function(n){l("flowers events",2);for(var a=0;a<n.length;a++){var o=n[a];o.Date.withoutTime()>=t&&(o.SportFieldSeq=sportGlobalSettings.FlowersFieldSeq,o.Type=1,o.Name=w[sportGlobalSettings.FlowersFieldSeq.toString()]+" "+o.SportFieldName,o.Details=o.FacilityName,T.push(o))}l("sportsman events",1),r.sportsmanEvents({mergeSameDayEvents:!0}).then(function(n){l("sportsman events",2);for(var a=0;a<n.length;a++){var o=n[a];o.Date.withoutTime()>=t&&(o.SportFieldSeq=o.SPORT_ID,o.Type=1==parseInt(o.IS_CLUBS)?5:4,o.Name=o.CHAMPIONSHIP_NAME+" "+o.CATEGORY_NAME,o.Details=eventsUtils.BuildSportsmanDetails(o),T.push(o))}T.sort(function(e,t){return e.Date.getTime()-t.Date.getTime()}),d(),l("all events",2),c("events"),null!=e&&e()},u("events",e))},u("events",e))}function y(){window.setTimeout(function(){$(".tp-banner").revolution({delay:9e3,autoStart:!1,startwidth:1170,startheight:500,fullWidth:"on",hideTimerBar:"on",navigationType:"none",navigationArrows:"solo",navigationStyle:"square",soloArrowLeftVOffset:80,soloArrowRightVOffset:80})},50),ChainFactory.Next()}function C(t){void 0===t&&(t=null),n.get("/api/common/content-mapping").then(function(n){e.contentMapping=n.data;var a=e.contentMapping.RoadTripPartners;contentUtils.ReadContentDescriptionAndImages(a,i).then(function(n){e.contentMapping.RoadTripPartners={Seq:a,Images:n.Images,Description:n.Description},window.setTimeout(function(){contentUtils.CarouselAutoSlide("sponsorsCarousel")},1e3);var o=e.contentMapping.BusinessPartners;contentUtils.ReadContentDescriptionAndImages(o,i).then(function(n){e.contentMapping.BusinessPartners={Seq:o,Images:n.Images,Description:n.Description},window.setTimeout(function(){contentUtils.CarouselAutoSlide("partnersCarousel")},1e3),null!=t&&t()},function(e){console.log("error reading Business Partners images"),console.log(e),null!=t&&t()})},function(e){console.log("error reading Road Trip Partners images"),console.log(e),null!=t&&t()})})}function I(){h(),p(),S(),C(),g(),v(),m()}var T=[],w={},_=!1;if(e.error=!1,e.activeEventsTab=1,e.sponsorAutoSlideInterval=5,e.partnersAutoSlideInterval=5,e.contentMapping={},e.sportFlowersSeq=sportGlobalSettings.FlowersFieldSeq,sportUtils.IsMobile())return void t.go("home-mobile");sportUtils.FrameAutoSize({Id:"facebook_likebox_frame",Src:"https://www.facebook.com/plugins/likebox.php?href=http%3A%2F%2Fwww.facebook.com%2Fisrschspo&width=$width&colorscheme=light&show_faces=true&border_color&stream=true&height=462"});var D=setInterval(function(){"complete"==document.readyState&&(clearInterval(D),o(function(){I()},1e3))},100);ChainFactory.Execute(f,y),window.qL_steps_amount=2,window.setTimeout(function(){window.qL_Finish_Now=!0},5e3),sportUtils.InitiateScrollToTopProcess(),e.changeEventsTab=function(t){e.activeEventsTab=t,d()},e.getSportFieldStyle=function(e){return"background-color: "+contentUtils.getSportFieldColor(e)+";"},e.GoToPage=function(e){t.go("page",{page:e})},e.GoToEvent=function(e){t.go("events.date",{date:a("date")(e.Date,"ddMMyyyy")})},e.getEventDateStyle=function(t,n){var a=[],o=0==n?10:0;return a.push(e.getSportFieldStyle(t.SportFieldSeq)),a.push("width: 60px;"),a.push("color: white;"),a.push("padding: 5px 5px 5px 5px;"),a.push("margin-top: "+o+"px;"),a.push("border: 2px solid "+contentUtils.getSportFieldColor(t.SportFieldSeq)+";"),a.push("border-radius: 5px;"),a.push("cursor: pointer"),a.join(" ")}}angular.module("sport.home").controller("HomeController",["$scope","$state","$http","$filter","$timeout","ContentService","EventsService","SportService",e])}(),function(){"use strict";function e(e,t,n,a,o,i,r,s){function l(t){e[t+"LoadFinished"]=!0}function c(t,n){return void 0===n&&(n=null),function(){t&&t.length>0&&(e[t+"LoadError"]=!0),l(t),null!=n&&n()}}function u(e){void 0===e&&(e=null),contentUtils.InitCroppedImages(n,function(){null!=e&&e()})}function d(t){void 0===t&&(t=null),i.recent([3,1,2]).then(function(n){e.recentVideos=n.Type_3,contentUtils.ApplyPagesData(e.recentVideos),e.recentGalleries=n.Type_1,contentUtils.ApplyPagesData(e.recentGalleries),e.recentArticles=n.Type_2,contentUtils.ApplyPagesData(e.recentArticles),null!=t&&t()},c("recentPages",t))}function p(t){void 0===t&&(t=null),e.contentMapping=sportUtils.shallowCopy(e.globalData.contentMapping);var n=e.contentMapping.RoadTripPartners;contentUtils.ReadContentDescriptionAndImages(n,i).then(function(a){e.contentMapping.RoadTripPartners={Seq:n,Images:a.Images,Description:a.Description},window.setTimeout(function(){contentUtils.CarouselAutoSlide("mobileSponsorsCarousel")},1e3);var o=e.contentMapping.BusinessPartners;contentUtils.ReadContentDescriptionAndImages(o,i).then(function(n){e.contentMapping.BusinessPartners={Seq:o,Images:n.Images,Description:n.Description},window.setTimeout(function(){contentUtils.CarouselAutoSlide("mobilePartnersCarousel")},1e3),null!=t&&t()},c("BusinessPartners",t))},c("RoadTripPartners",t))}function g(t){void 0===t&&(t=null);var a=(new Date).getTime();n.get("/api/Banners?type=1&randomize=1&nnn="+a).then(function(n){n.data&&n.data.Seq&&(e.advertisementBanner=n.data,e.advertisementBanner.VideoPath="/content/Banners/"+e.advertisementBanner.Seq+"/"+e.advertisementBanner.FileName),l("advertisements"),null!=t&&t()},c("advertisements",t))}function h(t){void 0===t&&(t=null),n.get("/api/pages").then(function(n){var a=n.data.slice(0),o=a.filter(function(e){return e.FeaturedIndex>0&&1!=e.IsHidden}),i=a.filter(function(e){return e.PageIndex>0&&1!=e.IsHidden});o.sort(function(e,t){return e.FeaturedIndex-t.FeaturedIndex}),i.sort(function(e,t){return e.PageIndex-t.PageIndex});var r=o.filter(function(e){return 2==e.Type}),s=o.filter(function(e){return 1==e.Type});if(0==r.length&&i.length>0){var c=i.findItem(function(e){return 2==e.Type});null!=c&&r.push(c)}if(0==s.length&&i.length>0){var u=i.findItem(function(e){return 1==e.Type});null!=u&&s.push(u)}var d=null;r.length>0&&(d=r[0],contentUtils.ApplyPagesData([d]),e.firstFeaturedArticle={Seq:d.Seq,Title:d.Description,ImagePath:d.CroppedImage_Slider||d.DefaultImagePath}),s.length>0&&(d=s[0],contentUtils.ApplyPagesData([d]),e.firstFeaturedGallery={Seq:d.Seq,Title:d.Description,ImagePath:d.CroppedImage_Slider||d.DefaultImagePath}),l("featuredPages"),null!=t&&t()},c("featuredPages",t))}function f(e,t,n,a,o){void 0===o&&(o="");var i=t.ValidItems,r=n>4?3:2,s=2==r?"mobile-wide-button-half":"mobile-wide-button-third";if(a.length>0&&(s+=" "+a),t.ValidItems++,e.ClassName=s,o.length>0&&(e[o]=r),e.Top=t.CurrentTop,e.Right=null,e.Left=null,n<5)i%2==0?e.Right=15:e.Left=15;else switch(i%3){case 0:e.Right=15;break;case 1:var l=Math.floor($(window).width()/3);e.Left=l+7;break;case 2:e.Left=15}t.ValidItems%r==0&&(t.CurrentTop+=65)}function m(e,t,n){if(e.CATEGORY_NAME){var a=e.CATEGORY_NAME.split(" ");if(2==a.length){e.CategoryGrades=a[0];var o=a[1];"תלמידות"==o?e.CategoryGenderClass="flaticon-female-silhouette":"תלמידים"==o&&(e.CategoryGenderClass="flaticon-man-standing-up"),e.PermanentChampionshipTitle&&(e.PermanentChampionshipTitle.indexOf("ישיבות")>=0&&(e.CategoryGrades="ישיבות"),e.PermanentChampionshipTitle.indexOf("גליל")>=0&&(e.CategoryGrades="גליל")),f(e,n,t,"mobile-category-grade-and-gender-panel","CategoriesInColumn")}}}function v(e){var t=e.filter(function(e){return null!=e.PermanentChampionshipIndex});t=sportUtils.DistinctArray(t,"CHAMPIONSHIP_CATEGORY_ID"),t.sortByProperty("PermanentChampionshipIndex");var n={ValidItems:0,CurrentTop:0};return t.forEach(function(e){m(e,t.length,n)}),t.ValidItems=n.ValidItems,t.Height=n.CurrentTop,t}function S(e,t,n,a){void 0===a&&(a=!0);var o=e.filter(t);o=sportUtils.DistinctArray(o,"CHAMPIONSHIP_CATEGORY_ID");var i={};return o.forEach(function(e){var t=(e[n]||"").toString();if(t.length>0){i[t]||(i[t]=[]);var o=sportUtils.shallowCopy(e);a&&(o.PermanentChampionshipTitle=null),i[t].push(o)}}),i}function y(e){var t=sportUtils.FlattenAssociativeArray(e),n=[],a=0;return t.length>0&&(t.forEach(function(t){var o=e[t],i=o[0].CHAMPIONSHIP_NAME,r={ValidItems:0,CurrentTop:25};o.forEach(function(e){m(e,o.length,r)}),n.push({ChampionshipName:i,Categories:o,Top:a});var s=r.CurrentTop-25;(o.length<5&&r.ValidItems%2!=0||o.length>=5&&r.ValidItems%3!=0)&&(s+=65),a+=35+s}),n.sortByProperty("ChampionshipName")),n.Height=a,n}function C(e,t){var n=S(e,function(e){return t?1==e.IS_CLUBS:1!=e.IS_CLUBS&&e.REGION_ID>0},"REGION_ID"),a=sportUtils.FlattenAssociativeArray(n),o=[],i={ValidItems:0,CurrentTop:0};return a.length>0&&(a.forEach(function(e){var t=n[e],r=S(t,function(e){return!0},"CHAMPIONSHIP_ID"),s=t[0].REGION_NAME,l=y(r),c={RegionName:s,Championships:l};f(c,i,a.length,"mobile-region-panel"),o.push(c)}),o.sortByProperty("RegionName")),o.Height=i.CurrentTop,(a.length<5&&i.ValidItems%2!=0||a.length>=5&&i.ValidItems%3!=0)&&(o.Height+=65),o}function I(e){return y(S(e,function(e){return 1!=e.IS_CLUBS&&0==e.REGION_ID},"CHAMPIONSHIP_ID"))}function T(t){void 0===t&&(t=null);var a=localStorage[sportGlobalSettings.LocalStorageKeys.CurrentSeason.Name]||"",i="/api/sportsman/championship-categories-data?season="+a;n.get(i).then(function(n){e.categoriesLoadFinished=!0;var a=S(n.data,function(e){return!0},"SPORT_NAME",!1),i=sportUtils.FlattenAssociativeArray(a);i.sort(),i.forEach(function(t){var n=t.split(" ").length,o="mobile-category-panel-sport-field-name";n>2&&(o+=" sport-field-name-small-font");var i=a[t],r=i[0].SPORT_ID,s=v(i),l=C(i,!0);l.OriginalHeight=l.Height;var c=C(i,!1);c.OriginalHeight=c.Height;var u=I(i);s.ValidItems%2!=0&&(s.Height+=65),e.categoriesData.push({SportFieldName:t,SportFieldSeq:r,SportFieldClass:o,IconClass:e.globalData.sportFieldIcons[r.toString()]||"",PermanentChampionships:s,ClubChampionships:l,RegionalChampionships:c,CentralRegionChampionships:u})}),null!=t&&t(),P&&o(function(){e.ToggleGamePlans()},500)},function(n){console.log("Error loading categories"),e.categoriesLoadError=!0,null!=t&&t()})}function w(t){void 0===t&&(t=null);n.get("/api/links").then(function(n){e.linksLoadFinished=!0,e.links=n.data,null!=t&&t()},function(n){console.log("Error loading links"),e.linksLoadError=!0,null!=t&&t()})}function _(){u(function(){o(function(){h(function(){o(function(){d(function(){o(function(){p(function(){o(function(){g(function(){o(function(){T(function(){o(function(){w()},500)})},500)})},500)})},500)})},500)})},500)})}e.firstFeaturedArticle=null,e.firstFeaturedGallery=null,e.categoriesData=[],e.links=null,e.sponsorAutoSlideInterval=5,e.partnersAutoSlideInterval=5,window.setTimeout(function(){window.qL_Finish_Now=!0},1e3);var D=sportUtils.ParseQueryString(),P=D.c||0;e.MoreArticlesClicked=function(){t.go("articles")},e.MoreGalleriesClicked=function(){t.go("galleries")},e.ToggleMoreLinks=function(){$("#mobileMoreLinksPlaceholder").toggle("slow")},e.ToggleGamePlans=function(){$("#mobileGamePlansPlaceholder").toggle("slow",function(){if(P){var t=!1;e.categoriesData.forEach(function(n){!t&&n.CentralRegionChampionships&&n.CentralRegionChampionships.forEach(function(a){t||a.Categories.forEach(function(a){a.CHAMPIONSHIP_CATEGORY_ID==P&&(e.ToggleSportFieldCategories(n,function(){e.ToggleCentralRegionChampionships(n),P=0}),t=!0)})}),!t&&n.ClubChampionships&&n.ClubChampionships.forEach(function(a){t||a.Championships.forEach(function(i){i.Categories.forEach(function(i){i.CHAMPIONSHIP_CATEGORY_ID==P&&(e.ToggleSportFieldCategories(n,function(){e.ToggleClubChampionships(n,function(){o(function(){e.clubRegionClicked(n,a),P=0},500)})}),t=!0)})})}),!t&&n.PermanentChampionships&&n.PermanentChampionships.forEach(function(a){a.CHAMPIONSHIP_CATEGORY_ID==P&&(e.ToggleSportFieldCategories(n),P=0,t=!0)}),!t&&n.RegionalChampionships&&n.RegionalChampionships.forEach(function(a){t||a.Championships.forEach(function(i){i.Categories.forEach(function(i){i.CHAMPIONSHIP_CATEGORY_ID==P&&(e.ToggleSportFieldCategories(n,function(){e.ToggleRegionalChampionships(n,function(){o(function(){e.regionalRegionClicked(n,a),P=0},500)})}),t=!0)})})})})}})},e.ToggleSportFieldCategories=function(e,t){void 0!==t&&null!=t||(t=function(){});var n=e.SportFieldSeq,a=$(".mobile-sport-field-category-list[data-sport-field-seq='"+n+"']");P&&a.parents("div").first().get(0).scrollIntoView(),a.toggle("slow",t)},e.TogglePermanentChampionships=function(e){var t=e.SportFieldSeq;$(".mobile-sport-field-category-list[data-sport-field-seq='"+t+"']").find(".mobile-permanent-championships-categories-list").toggle("slow")},e.ToggleCentralRegionChampionships=function(e){var t=e.SportFieldSeq;$(".mobile-sport-field-category-list[data-sport-field-seq='"+t+"']").find(".mobile-central-region-championships-list").toggle("slow")},e.ToggleClubChampionships=function(e,t){void 0!==t&&null!=t||(t=function(){});var n=e.SportFieldSeq;$(".mobile-sport-field-category-list[data-sport-field-seq='"+n+"']").find(".mobile-club-championships-placeholder").toggle("slow",t)},e.ToggleRegionalChampionships=function(e,t){void 0!==t&&null!=t||(t=function(){});var n=e.SportFieldSeq;$(".mobile-sport-field-category-list[data-sport-field-seq='"+n+"']").find(".mobile-regional-championships-placeholder").toggle("slow",t)},e.CategoryClicked=function(e){var n=e.CHAMPIONSHIP_CATEGORY_ID,a=e.PermanentChampionshipTitle?"p":e.REGION_ID;t.go("championships.region.championship",{clubs:e.IS_CLUBS,region:a,category:n})},e.clubRegionClicked=function(e,t){t.ClassName.indexOf("mobile-region-selected")>=0||(e.ClubChampionships.forEach(function(e){e.ClassName=e.ClassName.replace("mobile-region-selected","mobile-region-panel")}),t.ClassName=t.ClassName.replace("mobile-region-panel","mobile-region-selected")),e.SelectedClubRegion=t,e.ClubChampionships.Height=e.ClubChampionships.OriginalHeight+t.Championships.Height+10},e.regionalRegionClicked=function(e,t){t.ClassName.indexOf("mobile-region-selected")>=0||(e.RegionalChampionships.forEach(function(e){e.ClassName=e.ClassName.replace("mobile-region-selected","mobile-region-panel")}),t.ClassName=t.ClassName.replace("mobile-region-panel","mobile-region-selected")),e.SelectedRegionalRegion=t,e.RegionalChampionships.Height=e.RegionalChampionships.OriginalHeight+t.Championships.Height+10};var F=setInterval(function(){"complete"==document.readyState&&(clearInterval(F),o(function(){_()},1e3))},100);window.setInterval(function(){var e=$(".progress-dot");e.length>0&&e.each(function(){var e=$(this);if(e.parents("div").first().is(":visible")){var t=e.text().length;++t>3&&(t=1);var n=Array(t+1).join(".");e.text(n)}});var t=$(".mobile-image-slider");if(t.length>0){var n=$("#wrapper_container_mobile").offset().top;t.each(function(){var e=$(this),t=e.offset().top,a=e.find(".sponsor-img");if(a.length>0){var o=n>t?"0.2":"1";a.css("opacity",o)}})}},1e3)}angular.module("sport.mobile").controller("HomeMobileController",["$scope","$state","$http","$filter","$timeout","ContentService","EventsService","SportService",e])}(),function(){"use strict";function e(e,n,a,o,i,r,s,l,c,u){function d(){function t(e,t,n,a){var o=t[n]||"";"function"==typeof a&&(o=a(o)),$(e).val(o)}function a(e,t,n){var a="1"==t[n]?"1":"0";$("input[name='"+e+"'][value='"+a+"']").prop("checked",!0)}function o(e,t,n,a){var o=n[a]||"",i="",r="";if(o.indexOf("-")>0){var s=o.split("-").filter(function(e){return e.length>0});s.length>2&&(i=s[0],r=s.skip(1).join(""))}0==r.length&&(r=o),$(e).val(i),$(t).val(r)}function i(e,t){function a(e,t){var n=e.find("td");n.first().text(t.Name);var a=[];if(t.WeekdaysData.forEach(function(e){var t=e.WeekDay;if(t>0){var o=sportUtils.EncodeHTML(e.RawData);n.eq(t).html(o),a.push(t)}}),a.length>0)for(var o=a.toAssociativeArray(),i=1;i<n.length;i++)o[i.toString()]||n.eq(i).text("")}function o(t,n,a){function o(a,o){var i=t.find(".facility-"+a).find("input");if(1==i.length){var r="FacilitySportField_"+n.Seq+"_"+o,s=e[r]||"";i.val(s)}}var i=t.find("td");i.eq(0).text(a+1+"."),i.eq(1).text(n.Name),o("address","Address"),o("hours","HostingHours"),o("contact","Contact")}var i=$(".SportFieldDays"),r=$("#tblFacilities"),s=$("#sportFieldDaysRowTemplate"),l=$("#sportFieldFacilitiesRowTemplate");i.length>0&&r.length>0&&1==s.length&&1==l.length&&n.get("/api/common/school-user-data").then(function(e){var t=sportUtils.shallowCopy(e.data);n.get("/api/common/club-facility-data").then(function(e){var n=e.data.filter(function(e){return e.REGION_ID==t.REGION_ID}),c={};n.forEach(function(e){var t=e.SportFieldSeq.toString();c[t]||(c[t]={Name:e.SportFieldName,Seq:e.SportFieldSeq,WeekdaysData:[]}),c[t].WeekdaysData.push(e)});var u=0;for(var d in c){var p=s.clone(),g=l.clone();a(p,c[d]),o(g,c[d],u),p.show(),i.append(p),g.show(),r.append(g),u++}})})}function s(e,t,n){function a(e,n,a,o){var i=a.replace("$index",o.toString()),r=t[i]||"";if(r.length>0){e.eq(n).find("input").val(r)}}var o=$(e);if(o.length>0)for(var i=o.find("tr"),r=2;r<i.length;r++){var s=i.eq(r),l=s.find("td"),c=parseInt(l.eq(0).text().replace(".",""));!isNaN(c)&&c>0&&(a(l,2,n[0],c),a(l,4,n[1],c))}}function l(e,t,n){function a(e,n,a,o,i){var r=a.replace("$sport",o.toString()).replace("$category",i.toString()),s=t[r]||"";if(s.length>0){i>1&&n--;e.eq(n).find("input").val(s)}}var o=$(e);if(o.length>0)for(var i=o.find("tr"),r=1;r<i.length;r++){var s=i.eq(r),l=parseInt(s.data("sportfield-index"));if(!isNaN(l)&&l>0){var c=parseInt(s.data("category-index"));(isNaN(c)||c<=0)&&(c=1);var u=s.find("td");a(u,1,n[0],l,c),a(u,2,n[1],l,c),a(u,3,n[2],l,c)}}}function c(e,t,n,a){function o(e,n,o,i){var r=o.replace("$index",i.toString()),s=t[r]||"";if(s.length>0){var l=e.eq(n),c=l.find("input"),u=a[o]||null;if(null!=u){var d=registerUtils.sharedClubData[u],p=d.findItem(function(e){return e.Id==s});null!=p&&(s=p.Caption)}c.val(s)}}var i=$(e);if(i.length>0)for(var r=i.find("tr"),s=1;s<r.length;s++){var l=r.eq(s),c=l.find("td");n.forEach(function(e,t){o(c,t+1,e,s)})}}function u(){function e(e){var t=$("<td></td>");return t.text(e.toString()),t}var t=$("#tblSchoolTeamOrders"),n=$("#tblMunicipalityChampionships");if(t.length>0&&n.length>0){n.find("tr:gt(0)").remove();var a=0;t.find("tr:gt(0)").each(function(){var t=$(this),o=t.find("td"),i=o.eq(1).text(),r=o.eq(3).text(),s=$("<tr></tr>");s.append(e(a+1)),s.append(e(i)),s.append(e(r)),n.append(s),a++})}}function d(){var e=$("#pnlClubsChampionshipsTable");if(1!=e.length)window.setTimeout(d,100);else{var t=$("#tblSchoolTeamOrders");if(1==t.length){e.html("");t.find("tr").length<2?e.html("אין קבוצות מוזמנות"):(e.append(t),t.show(),u())}}}function p(t,a){if(null==e.schoolOrdersBasket||t>=e.schoolOrdersBasket.length)return console.log("All teams registered"),void a();var o=e.schoolOrdersBasket[t],i={ChampionshipId:o.CHAMPIONSHIP_ID,CategoryId:o.CHAMPIONSHIP_CATEGORY_ID};registerUtils.registerTeams(n,e.loggedUser,i,o.Amount,function(){p(t+1,a)},function(e){console.log("error registering team for "+o.CHAMPIONSHIP_CATEGORY_ID)})}n.get("/api/school-club/data").then(function(e){var u=e.data,d=u.toAssociativeArray(null,"PropertyName","PropertyValue");t("#school_manager",d,"School_Data_ManagerName"),t("#school_phone",d,"School_Data_PhoneNumber"),t("#school_fax",d,"School_Data_FaxNumber"),t("#school_email",d,"School_Data_ManagerEmail"),t("#ini_chairman_name",d,"School_Data_ChairmanName"),t("#ini_chairman_address",d,"School_Data_ChairmanAddress"),t("#ini_chairman_city",d,"School_Data_ChairmanCity"),t("#ini_chairman_zipcode",d,"School_Data_ChairmanZipCode"),t("#ini_chairman_phone",d,"School_Data_ChairmanPhoneNumber"),t("#ini_chairman_fax",d,"School_Data_ChairmanFax"),t("#coordinator_name",d,"School_Data_CoordinatorName"),t("#coordinator_address",d,"School_Data_CoordinatorAddress"),t("#ini_coordinator_city",d,"School_Data_CoordinatorCity"),t("#coordinator_zipcode",d,"School_Data_CoordinatorZipCode"),t("#coordinator_phone",d,"School_Data_CoordinatorPhoneNumber"),t("#coordinator_cellphone",d,"School_Data_CoordinatorCellPhone"),t("#coordinator_fax",d,"School_Data_CoordinatorFax"),t("#coordinator_email",d,"School_Data_CoordinatorEmailAddress"),a("ini_is_association",d,"School_Data_IsAssociation"),t("input[name='ini_txtAssociationNumber']",d,"School_Data_AssociationNumber"),a("ini_got_confirmation",d,"School_Data_IsAssociationConfirmed"),t("#txtRegisterChequeSum",d,"School_Cheque_Sum"),t("#txtRegisterChequeNumber",d,"School_Cheque_Number"),t("#txtRegisterChequeBank",d,"School_Cheque_Bank"),t("#txtRegisterChequeBranch",d,"School_Cheque_Branch"),t("#txtRegisterChequeWords",d,"School_Cheque_Sum",function(e){return e.length>0?sportUtils.ParseHebrewCurrency(e):""}),t("#txtMunicipalityName",d,"School_Data_SchoolMunicipalityName"),t("#txtMunicipalitySymbol",d,"School_Data_MunicipalityNumber"),i(d,"FacilitySportField_$sport_Days"),t("#txtInspectorName",d,"School_Data_SupervisorName"),t("#txtMunicipalityName",d,"School_Data_SchoolMunicipalityName"),t("#txtMunicipalityAddress",d,"School_Data_MunicipalityAddress"),t("#txtMunicipalityCity",d,"School_Data_MunicipalityCityName"),t("#txtMunicipalityZipCode",d,"School_Data_MunicipalityZipCode"),t("#txtRecommenderFirstName",d,"School_Data_RecommenderFirstName"),t("#txtRecommenderLastName",d,"School_Data_RecommenderLastName"),t("#txtRecommenderRole",d,"School_Data_RecommenderRole"),o("#txtRecommenderPhonePrefix","#txtRecommenderPhoneNumber",d,"School_Data_RecommenderPhoneNumber"),o("#txtRecommenderFaxPrefix","#txtRecommenderFaxNumber",d,"School_Data_RecommenderFax"),t("#txtRecommenderEmail",d,"School_Data_RecommenderEmailAddress"),s("#tblBoardMembers",d,["ManagementBoardMember_$index_Name","ManagementBoardMember_$index_Role"]),l("#tblCourtHours",d,["HostingDay_$sport_Category_$category_Name","HostingDay_$sport_Category_$category_Weekday","HostingDay_$sport_Category_$category_HostingHour"]),c("#tblCoaches",d,["Coach_$index_SportField","Coach_$index_Name","Coach_$index_AgeRange","Coach_$index_Gender","Coach_$index_AuthorizationLevel","Coach_$index_PassedCoachTraining","Coach_$index_Cellular","Coach_$index_Address","Coach_$index_Email"],{Coach_$index_AuthorizationLevel:"authorizationLevels",Coach_$index_PassedCoachTraining:"yesNoOptions"}),r(function(){var e={ManagerName:d.School_Data_ManagerName,PhoneNumber:d.School_Data_PhoneNumber,FaxNumber:d.School_Data_FaxNumber,ManagerEmail:d.School_Data_ManagerEmail};n.post("/api/sportsman/school/personnel",e).then(function(){console.log("Data posted to server successfully"),"1"==sportUtils.ParseQueryString().preview?console.log("preview mode"):p(0,function(){n.delete("/api/school-club/team-order?category=all").then(function(){console.log("Orders basket cleared"),window.opener&&(window.opener.reload_orders_basket="1")},function(e){console.log(e)})})})},1e3)},function(e){console.log("error reading school club data")}),n.get("/api/school-club/team-orders").then(function(t){e.schoolOrdersBasket=t.data,e.schoolOrdersBasket.forEach(function(e,t){e.Index=t+1}),window.setTimeout(function(){d()},200)},function(e){console.log("error getting orders basket")})}var p=sportUtils.ParseQueryString(),g=parseInt(p.s);if(e.now=new Date,e.schoolOrdersBasket=[],e.loggedUser=null,n.get("/api/login").then(function(t){e.loggedUser=t.data,null!=e.loggedUser&&e.loggedUser.schoolSymbol||(e.error="אינך מורשה לראות עמוד זה, נא להתחבר למערכת")},function(t){console.log("error getting logged in user"),console.log(t),e.error="אינך מורשה לראות עמוד זה, נא להתחבר למערכת"}),isNaN(g)||g<0)e.error="אין סמל בית ספר";else{var h="/api/sportsman/data-gateway";e.loading=!0,n.get(h).then(function(a){h=a.data;var i=h.substring(0,h.lastIndexOf("/")+1);h+="?symbol="+g,n.get(h).then(function(n){var a=n.data;e.loading=!1,e.RawHTML=o.trustAsHtml(a),window.setTimeout(function(){t(i)},500),window.setTimeout(d,50)},function(t){e.error="שגיאה בעת טעינת נתוני בית ספר",console.log(t),e.loading=!1})},function(t){e.error="שגיאה בעת טעינת נתונים",console.log(t),e.loading=!1})}window.qL_steps_amount=1,r(function(){window.qL_Finish_Now=!0},1e3)}function t(e){$("img").each(function(){var t=$(this),n=t.attr("src");0!=n.indexOf("http")&&(n=e+n,t.attr("src",n))})}angular.module("sport.register").controller("ClubRegisterFormController",["$scope","$http","$q","$sce","$uibModal","$timeout","$interval","$filter","$rootScope","messageBox",e])}(),function(){"use strict";function e(e,t,n,a,o,i,r){e.FileUrl="/content/PlayerFile?type="+r.FileType+"&id="+r.IdNumber,e.PlayerIdNumber=r.IdNumber,e.PlayerName=r.Name,e.FileTitle=r.FileTitle,e.PDF=r.PDF,e.cancel=function(){n.dismiss("cancel")},e.confirm=function(){n.close("OK")},e.delete=function(){i.ask("האם למחוק קובץ זה? הפעולה לא הפיכה!").then(function(){t.delete(e.FileUrl).then(function(){n.close("DELETED")},function(e){console.log(e),alert("שגיאה בעת מחיקת קובץ, נא לנסות מאוחר יותר")})})}}angular.module("sport").controller("PlayerFileCtrl",["$scope","$http","$uibModalInstance","$filter","$q","messageBox","PlayerInfo",e])}(),function(){"use strict";function e(e,t,n,a,o,i,r,s,l){var c=["TEAM_NUMBER","STATUS","REGISTRATION_DATE","FIRST_NAME","LAST_NAME","BIRTH_DATE","ID_NUMBER","GRADE","GRADE_NAME"],u={};c.forEach(function(e){u[e]=""});var d=sportUtils.ParseQueryString(),p=parseInt(d.t);if(e.now=new Date,isNaN(p)||p<0)e.error="אין זיהוי קבוצה";else{var g="/api/sportsman/team/"+p+"/full-details";t.get(g).then(function(t){if(t.data&&t.data.TEAM_ID==p)if(e.team=t.data,0==e.team.Players.length)e.error="לקבוצה זו אין שחקנים רשומים";else{if(e.team.CATEGORY_NAME){var n=e.team.CATEGORY_NAME.split(" ");n.length>1&&(e.team.CategoryGrades=n[0],e.team.CategoryGender=n[1])}var a=20;e.team.Players.length>20&&(a=40),e.team.Players.trimAfter(a);for(var o=0;o<e.team.Players.length;o++){var i=e.team.Players[o];i.REGISTRATION_DATE&&(i.REGISTRATION_DATE=r("date")(i.REGISTRATION_DATE,"dd/MM/yyyy")),i.BIRTH_DATE&&(i.BIRTH_DATE=r("date")(i.BIRTH_DATE,"dd/MM/yyyy"))}e.team.Players.expand(u,a,!0),window.setTimeout(function(){$("#btnPrint").click()},1500)}else e.error="זיהוי קבוצה שגוי או קבוצה לא קיימת"},function(t){e.error="שגיאה בעת טעינת נתוני קבוצה",console.log(t)})}window.qL_steps_amount=1,o(function(){window.qL_Finish_Now=!0},1e3)}angular.module("sport.register").controller("PlayerRegisterFormController",["$scope","$http","$q","$uibModal","$timeout","$interval","$filter","$rootScope","messageBox",e])}(),function(){"use strict";function e(e,t,n,a,o,i,r,s){function l(e){var t={};for(var n in e)t[n]=e[n];return t}function c(){for(var t={},n=0;n<e.selected.Players.length;n++){var o=e.selected.Players[n].ID_NUMBER.toString();t[o]=!0}var i=p.filter(function(e){return!t[e.ID_NUMBER.toString()]&&!g[e.ID_NUMBER.toString()]}),r=e.parsedSearchTerm();return r.length>0&&(i=a("filter")(i,r)),i}function u(t){var n=t.toString();n.length>=9&&sportUtils.IsValidIdNumber(n)?(e.data.NewStudent={IdNumber:n.toString()},o(function(){e.data.NewStudent&&$("#txtNewStudentFirstName").focus()},500)):e.data.invalidIdNumber=9==n.length,e.data.matchingStudent=null}function d(e){if(null==e||!e||0==e.length)return 0;var t=e.indexOf("<PlayerRegStatus>");return t>=0&&"1"==e.substr(t+"<PlayerRegStatus>".length,1)?1:0}var p=[],g={},h={IdNumber:"ID_NUMBER",FirstName:"FIRST_NAME",LastName:"LAST_NAME",Birthday:"BIRTH_DATE",Gender:"SEX_TYPE"};if(e.data={ChampionshipFullName:s.ChampionshipName,AvailablePlayers:[],search:"",matchingStudent:null,NewStudent:null,invalidIdNumber:!1,alreadyInTeam:null,Grades:sportUtils.grades.map(function(e,t){return{Index:t+1,Name:e}})},e.selected={Players:[]},e.latestSeason=s.LatestSeason,s.ExistingPlayers)for(var f=0;f<s.ExistingPlayers.length;f++){var m=s.ExistingPlayers[f],v=m.ID_NUMBER.toString();g[v]=m}if(s.EditStudent){e.data.NewStudent={};for(var S in h){var y=s.EditStudent[h[S]];e.data.NewStudent[S]=y,e.data.NewStudent["Original_"+S]=y}e.data.NewStudent.Grade=e.data.Grades.findItem(function(e){return e.Name==s.EditStudent.ParsedGrade}),e.data.NewStudent.Original_Grade=null==e.data.NewStudent.Grade?0:e.data.NewStudent.Grade.Index,e.data.NewStudent.IsEditMode=!0;var C="/api/sportsman/student/"+e.data.NewStudent.IdNumber+"/candelete";t.get(C).then(function(t){e.data.NewStudent.CanDelete=t.data.CanDelete},function(e){console.log("error checking if can delete student"),console.log(e)})}if(e.parsedSearchTerm=function(){var t=$.trim(e.data.search)
;return t.length>0&&sportUtils.IsInteger(t)&&(t=parseInt(t)+""),t},o(function(){t.get("/api/sportsman/latest-season").then(function(e){var t=e.data.Season;t&&p.forEach(function(e){e.GRADE&&(e.ParsedGrade=sportUtils.TranslateGrade(e.GRADE,t))})})},500),e.pagingService=new PagingService(c(),{pageSize:20}),e.data.AvailablePlayers=[],e.pagingService.applyPaging(e.data.AvailablePlayers),s.CategoryId){var C="/api/sportsman/matching-students?category="+s.CategoryId+"&school="+s.SchoolSymbol;t.get(C).then(function(t){p=t.data,e.pagingService.setData(c())})}e.$watch("data.search",function(n){if(!s.EditStudent)if(e.pagingService&&e.pagingService.setData(c()),e.data.NewStudent=null,e.data.invalidIdNumber=!1,e.data.alreadyInTeam=null,e.data.doubleRegistration=null,n&&n.length>0&&sportUtils.IsInteger(n)&&n.length>5&&n.length<=9){var a=parseInt(n),o=e.selected.Players.findIndex(function(e){return parseInt(e.ID_NUMBER)==a})>=0,i=p.findIndex(function(e){return parseInt(e.ID_NUMBER)==a});e.data.alreadyInTeam=g[a.toString()];var r=s.ChampionshipName.indexOf("ז'-ח'")>=0||s.ChampionshipName.indexOf("ז-ח")>=0;!e.data.alreadyInTeam&&!o&&i<0?t.get("/api/sportsman/student?id="+a+"&sport="+s.SportID).then(function(t){var n=t.data,o=d(n.IfaRegisterStatus);r&&1==o?e.data.doubleRegistration="כדורגל":n.STUDENT_ID?(e.data.matchingStudent=n,n.SYMBOL!=s.SchoolSymbol&&(e.data.matchingStudent.DifferentSchool={Symbol:n.SYMBOL,Name:n.SCHOOL_NAME})):u(a)},function(e){console.log("failed to get matching student"),console.log(e),u(a)}):e.data.matchingStudent=null}else e.data.matchingStudent=null}),e.SelectPlayer=function(t){e.selected.Players.push(l(t));var n=e.selected.Players.length;e.selected.Players.moveItem(n-1,0),e.pagingService.setData(c()),e.data.matchingStudent=null,e.data.search="",e.pagingService.setData(c())},e.RemoveSelectedPlayer=function(t){var n=e.selected.Players.findIndex(function(e){return e.ID_NUMBER==t.ID_NUMBER});n>=0&&(e.selected.Players.splice(n,1),e.pagingService.setData(c()))},e.deleteStudent=function(){r.ask("האם למחוק תלמיד מהמערכת? פעולה זו אינה הפיכה!").then(function(){var a="/api/sportsman/student?id="+e.data.NewStudent.IdNumber;t.delete(a).then(function(e){n.close("DELETED")},function(e){alert("שגיאה בעת מחיקת שחקן מהמערכת, נא לנסות שוב מאוחר יותר"),console.log("error deleting student"),console.log(e)})})},e.isConfirmDisabled=function(){if(null==e.data.NewStudent)return!e.selected.Players||0==e.selected.Players.length;if(!(e.data.NewStudent.FirstName&&e.data.NewStudent.LastName&&e.data.NewStudent.Birthday&&e.data.NewStudent.Grade&&e.data.NewStudent.Grade.Index))return!0;if(e.data.NewStudent.IsEditMode){var t=!1;for(var n in h){if($.trim(e.data.NewStudent[n])!=$.trim(e.data.NewStudent["Original_"+n])){t=!0;break}}return(null==e.data.NewStudent.Grade?0:e.data.NewStudent.Grade.Index)!=e.data.NewStudent.Original_Grade&&(t=!0),!t}return!1},e.cancel=function(){null==e.data.NewStudent||null!=e.data.NewStudent&&e.data.NewStudent.IsEditMode?n.dismiss("cancel"):(e.data.NewStudent=null,e.data.search="",e.pagingService.setData(c()))},e.confirm=function(){if(e.isConfirmDisabled())return void(e.data.TriedToSubmit=!0);if(null==e.data.NewStudent)e.selected.Players&&e.selected.Players.length>0&&n.close(e.selected.Players);else if(e.data.TriedToSubmit=!0,e.data.NewStudent.IsEditMode)n.close(e.data.NewStudent);else{var a={};for(var o in e.data.NewStudent){var i=e.data.NewStudent[o];null!=e.latestSeason&&"Grade"==o&&(i=e.latestSeason-(i.Index-1)),a[o]=i}t.post("/api/sportsman/student",{Student:a}).then(function(t){for(var n in h)e.data.NewStudent[h[n]]=e.data.NewStudent[n];e.data.NewStudent.STUDENT_ID=t.data.STUDENT_ID,e.data.NewStudent.GRADE=a.Grade,p.push(l(e.data.NewStudent)),e.SelectPlayer(e.data.NewStudent),e.data.NewStudent=null},function(e){alert("שגיאה בעת הוספת שחקן למערכת, נא לנסות שוב מאוחר יותר"),console.log(e)})}}}angular.module("sport").controller("PlayerSelectionCtrl",["$scope","$http","$uibModalInstance","$filter","$timeout","$q","messageBox","championshipData",e])}(),function(){"use strict";function e(e,t,n,a,o,i,r,s,l){function c(e,t){switch(void 0===t&&(t=!1),e){case 1:return"תמונה";case 2:return"טופס בדיקה"+(t?" רפואית":"");case 3:return'ספח ת"ז'}}function u(e,t){var n={HasFile:!1},a=$(".dropzone[data-player-id='"+e+"']");if(a.length>0)for(var o=0;o<a.length;o++){var i=a.eq(o);if(i.data("file-type")==t.toString()){var r=i.parents(".player-file").first();n.HasFile="1"==r.data("has-file"),n.PDF="1"==r.data("is-pdf"),n.MessagePanel=r.find(".dz-message")}}return n}function d(e,t){var n=e.type,a=!n||0==n.length,o=!a&&"image"==n.split("/")[0].toLowerCase(),i=!a&&"pdf"==n.split("/")[1].toLowerCase(),r="";switch(t){case 1:o||(r="ניתן להעלות קובץ תמונה בלבד");break;case 2:case 3:o||i||(r="ניתן להעלות תמונה או קובץ PDF בלבד")}return r}function p(e,t,n){var a=d(t,n);if(a.length>0){if(e.ValidFile=!1,e.element){$(e.element).find(".fa").first().hide();var o=$(e.element).find(".upload-error");o.html(a),o.show(),window.setTimeout(function(){o.html(""),o.hide(),$(e.element).find(".fa").first().show()},5e3)}window.setTimeout(function(){e.removeAllFiles(!0)},200)}else e.ValidFile=!0}function g(e){var t=c(e);return{options:{paramName:"files",maxFiles:1,url:"/content/PlayerFile?type="+e+"&id=$id",autoProcessQueue:!0,dictRemoveFile:"הסרת "+t,addRemoveLinks:!0},eventHandlers:{sending:function(t,n,a,o){p(t,n,e)},success:function(e,t){var n=this;if(n.ValidFile&&n.element){var a=$(n.element),o=a.find(".dz-message"),i=a.find(".dz-preview");o.data("handled","0"),window.setTimeout(function(){i.hide(),o.show()},200)}},maxfilesexceeded:function(e){var t=this;window.setTimeout(function(){t.removeFile(e)},200)}}}}function h(n){void 0===n&&(n=null);var a=e.loggedUser.SchoolSymbol;t.get("/api/sportsman/school-data?symbol="+a).then(function(t){e.isClubSchool=1==t.data.CLUB_STATUS}),e.selected.team=null,a&&(registerUtils.buildSchoolName(t,a).then(function(t){e.loggedUser.SchoolName=t},function(e){console.log("error reading school name"),console.log(e)}),t.get("/api/sportsman/school/"+a+"/teams").then(function(a){e.schoolTeams=a.data,e.schoolTeams.sort(function(e,t){var n=t.IsPending-e.IsPending;if(0!=n)return n;var a=t.SPORT_ID-e.SPORT_ID;if(0!=a)return a;var o=t.CHAMPIONSHIP_ID-e.CHAMPIONSHIP_ID;return 0!=o?o:e.TEAM_INDEX-t.TEAM_INDEX});for(var o={},i=0;i<e.schoolTeams.length;i++){var r=e.schoolTeams[i];r.TEAM_INDEX&&(r.HebrewIndex=sportUtils.GetHebrewLetter(r.TEAM_INDEX)),r.REGISTRATION_DATE&&(r.REGISTRATION_DATE=new Date(r.REGISTRATION_DATE)),r.Players&&(r.Players.forEach(function(e){o[e.STUDENT_ID.toString()]=e,e.BIRTH_DATE&&(e.BIRTH_DATE=new Date(e.BIRTH_DATE)),e.Status={Description:registerUtils.ParsePlayerStatus(e.STATUS),Style:registerUtils.PlayerStatusStyle(e.STATUS),Tooltip:registerUtils.PlayerStatusTitle(e)}}),r.Players=registerUtils.SplitPlayersByStatus(r.Players),r.RegisteredPlayersCountHebrew=registerUtils.HebrewCount(r.Players.RegisteredPlayers.length,!0,"שחקן רשום","שחקנים רשומים"),r.ConfirmedPlayersCountHebrew=registerUtils.HebrewCount(r.Players.ConfirmedPlayers.length,!0,"שחקן מאושר","שחקנים מאושרים"),r.UnConfirmedPlayersCountHebrew=registerUtils.HebrewCount(r.Players.UnConfirmedPlayers.length,!0,"שחקן לא מאושר","שחקנים לא מאושרים"))}t.get("/api/sportsman/latest-season").then(function(t){var n=t.data.Season;n&&(e.latestSeason=n,e.schoolTeams.forEach(function(e){f(e).forEach(function(e){e.GRADE&&(e.ParsedGrade=sportUtils.TranslateGrade(e.GRADE,n))})}))}),registerUtils.InitTeamPanelsTimer(),t.get("/api/sportsman/school-change-requests").then(function(e){for(var t=0;t<e.data.length;t++){var a=e.data[t],i=a.STUDENT_ID,r=o[i.toString()];r&&(r.DifferentSchool={Symbol:a.SYMBOL,Name:a.SCHOOL_NAME})}null!=n&&n()},function(e){console.log("error loading school change requests"),console.log(e),null!=n&&n()})},function(e){console.log("error reading school teams"),console.log(e)}))}function f(e){return e.Players?e.Players.RegisteredPlayers.concat(e.Players.ConfirmedPlayers).concat(e.Players.UnConfirmedPlayers):[]}function m(t,n,o){a.open({templateUrl:"views/player-selection.html",controller:"PlayerSelectionCtrl",resolve:{championshipData:function(){if(null==t)return{ChampionshipName:"",LatestSeason:e.latestSeason,CategoryId:0,SchoolSymbol:"0",ExistingPlayers:[],EditStudent:n};var a=f(t);return{ChampionshipName:t.CHAMPIONSHIP_NAME+", "+t.CATEGORY_NAME,CategoryId:t.CHAMPIONSHIP_CATEGORY_ID,SchoolSymbol:e.loggedUser.SchoolSymbol,LatestSeason:e.latestSeason,ExistingPlayers:a,SportID:t.SPORT_ID}},options:function(){return{}}}}).result.then(function(e){o&&o(e)})}var v=!1;e.userInput={username:"",password:""},e.selected={team:null},e.loggedUser=null,e.schoolTeams=[],e.isClubSchool=!1,e.latestSeason=null,o(function(){$("#register_username").focus()},500),window.qL_steps_amount=5,t.get("/api/seasons/current").then(function(e){var t=sportUtils.getCurrentSeason();if(null!=t&&t.Season){if(e.data.Year!=t.Season)return sportUtils.setCurrentSeason(null),void document.location.reload(!0)}}),e.dropzoneConfig_Picture=g(1),e.dropzoneConfig_MedicalForm=g(2),e.dropzoneConfig_IdVoucher=g(3),contentUtils.InitSportFieldColors(t,function(){}),t.get("/api/login").then(function(t){t&&t.data&&null!=t.data&&(e.loggedUser={Seq:t.data.seq,Login:t.data.name,DisplayName:t.data.displayName,Role:t.data.role,SchoolSymbol:t.data.schoolSymbol},h())},function(e){console.log("error getting logged in user"),console.log(e)}),o(function(){window.qL_Finish_Now=!0},1e3),e.getSportFieldStyle=function(e){return"background-color: "+contentUtils.getSportFieldColor(e)+";"},e.deletePlayer=function(n){var a=n.PLAYER_ID,i=e.selected.team.TEAM_ID,r="האם להסיר את "+n.FIRST_NAME+" "+n.LAST_NAME+" מ"+e.selected.team.CHAMPIONSHIP_NAME+"?";l.ask(r).then(function(){t.delete("/api/sportsman/player?player="+a).then(function(){h(function(){o(function(){var t=e.schoolTeams.findIndex(function(e){return e.TEAM_ID==i});t>=0&&e.selectTeam(e.schoolTeams[t])},500)})},function(e){console.log(e),alert("שגיאה בעת מחיקת שחקן, נא לנסות מאוחר יותר")})})},e.deleteTeam=function(e){var n=e.TEAM_ID;l.ask("האם למחוק קבוצה זו? הפעולה בלתי הפיכה!").then(function(){e.deleting=!0,t.delete("/api/sportsman/team?team="+n).then(function(){e.deleting=!1,h()},function(t){e.deleting=!1,console.log(t),alert("שגיאה בעת מחיקת קבוצה, נא לנסות מאוחר יותר")})})},e.registerTeam=function(){for(var n={},o=0;o<e.schoolTeams.length;o++){var i=e.schoolTeams[o],r=i.CHAMPIONSHIP_CATEGORY_ID.toString();n[r]||(n[r]=[]),n[r].push(i)}a.open({templateUrl:"views/championship-selection.html",controller:"ChampionshipSelectionCtrl",resolve:{schoolData:function(){return{Name:e.loggedUser.SchoolName,Symbol:e.loggedUser.SchoolSymbol,Teams:n}},sportField:function(){return null},allSeasons:function(){return null},allRegions:function(){return null},options:function(){return{}}}}).result.then(function(n){registerUtils.registerTeams(t,e.loggedUser,n.Category,n.Amount,function(){h()},null)})},e.registerNewPlayers=function(n){m(n,null,function(a){var i=n.TEAM_ID;t.put("/api/sportsman/team/"+i+"/players",{Players:a}).then(function(t){h(function(){o(function(){var t=e.schoolTeams.findIndex(function(e){return e.TEAM_ID==i});t>=0&&e.selectTeam(e.schoolTeams[t])},500)})},function(e){alert("שגיאה בעת הוספת שחקנים לקבוצה, אנא נסו שוב מאוחר יותר"),console.log(e)})})},e.PlayerFileClicked=function(e,t){var n=e.ID_NUMBER,o=u(n,t);o.HasFile&&a.open({templateUrl:"views/player-file.html",controller:"PlayerFileCtrl",resolve:{PlayerInfo:function(){return{IdNumber:e.ID_NUMBER,Name:e.FIRST_NAME+" "+e.LAST_NAME,FileTitle:c(t),FileType:t,PDF:o.PDF}},options:function(){return{}}}}).result.then(function(e){"DELETED"==e&&o.MessagePanel.data("handled","0")})},e.selectTeam=function(t){if(v)return void(v=!1);e.selected.team=t,registerUtils.InitPlayerPlaceholdersTimer(),registerUtils.InitPlayerFilesTimer();var n=e.schoolTeams.findIndex(function(e){return e.TEAM_ID==t.TEAM_ID});e.schoolTeams.moveItem(n,0),document.documentElement.scrollTop=50},e.selectPlayer=function(t){if(null!=e.selected.team&&null!=e.selected.team.Players){f(e.selected.team).forEach(function(e){e.Selected=!1}),t.Selected=!0,document.body.scrollTop=50}},e.editPlayer=function(n){m(null,n,function(a){if("DELETED"==a){var i=e.selected.team.TEAM_ID;h(function(){o(function(){var t=e.schoolTeams.findIndex(function(e){return e.TEAM_ID==i});t>=0&&e.selectTeam(e.schoolTeams[t])},500)})}else{a.Id=n.PLAYER_ID;var r={};for(var s in a){var l=a[s];null!=e.latestSeason&&"Grade"==s&&(l=e.latestSeason-(l.Index-1)),r[s]=l}t.put("/api/sportsman/player",{Player:r}).then(function(){n.FIRST_NAME=a.FirstName,n.LAST_NAME=a.LastName,n.BIRTH_DATE=a.Birthday,n.GRADE=r.Grade,n.ParsedGrade=sportUtils.TranslateGrade(n.GRADE,e.latestSeason)},function(e){console.log(e),alert("שגיאה בעת עריכת פרטי  שחקן, נא לנסות מאוחר יותר")})}})},e.getTeamPanelStyle=function(t){return null!=e.selected.team&&e.selected.team.TEAM_ID==t.TEAM_ID?"background-color: #AFD2DB;":""},e.getPlayerPanelStyle=function(e){return e.Selected?"background-color: #AFD2DB;":""},e.removePendingTeam=function(n){v=!0;l.ask("האם לבטל רישום של קבוצה זו?").then(function(){t.delete("/api/sportsman/pending-team?team="+n.TEAM_ID).then(function(){e.schoolTeams=e.schoolTeams.filter(function(e){return e.TEAM_ID!=n.TEAM_ID})},function(e){console.log(e),alert("שגיאה בעת מחיקת קבוצה, נא לנסות מאוחר יותר")})})},e.login=function(){e.errorMessage=null,sportUtils.Login(n,t,e.userInput.username,e.userInput.password).then(function(t){e.loggedUser={Seq:t.seq,Login:e.username,DisplayName:t.displayName,Role:t.role,SchoolSymbol:t.schoolSymbol},h()},function(t){e.errorMessage=t})}}angular.module("sport.register").controller("RegisterController",["$scope","$http","$q","$uibModal","$timeout","$interval","$filter","$rootScope","messageBox",e])}();var registerUtils={_playerPlaceholdersTimer:0,_playerFilesTimer:0,_teamPanelsTimer:0,sharedClubData:{authorizationLevels:[{Id:1,Caption:"מורה"},{Id:2,Caption:"מדריך/ה"},{Id:3,Caption:"מאמן/ת"}],yesNoOptions:[{Id:1,Caption:"כן"},{Id:2,Caption:"לא"}]},registerTeams:function(e,t,n,a,o,i){function r(e){console.log("error while registering new team"),console.log(e),alert("כשלון בעת  שמירת נתונים, נא לנסות שוב מאוחר יותר"),null!=i&&i()}function s(t,n){if(n>=a)return void(null!=o&&o());e.post("/api/sportsman/team",t).then(function(e){s(t,n+1)},r)}a>2&&(a=2),s({User:t.Seq||t.seq,School:t.SchoolSymbol||t.schoolSymbol,Championship:n.ChampionshipId,Category:n.CategoryId},0)},getSchoolDetails:function(e,t){return e.get("/api/sportsman/school/"+t+"/details")},buildSchoolName:function(e,t){return registerUtils.getSchoolDetails(e,t).then(function(e){var t=e.data.SCHOOL_NAME,n=e.data.CITY_NAME;return n&&n.length>0&&t.indexOf(n)<0&&(t+=" "+n),t})},SplitPlayersByStatus:function(e){for(var t={length:e.length,RegisteredPlayers:[],ConfirmedPlayers:[],UnConfirmedPlayers:[]},n=0;n<e.length;n++){var a=e[n];switch(a.STATUS){case 1:t.RegisteredPlayers.push(a);break;case 2:t.ConfirmedPlayers.push(a);break;case 3:t.UnConfirmedPlayers.push(a)}}return t},HebrewCount:function(e,t,n,a){if(e<1)return"אין "+a;if(1==e){return n+" "+(t?"אחד":"אחת")}return e+" "+a},ParsePlayerStatus:function(e){switch(e){case 1:return"רשום";case 2:return"מאושר";case 3:return"לא מאושר"}return"לא ידוע"},PlayerStatusStyle:function(e){var t="";switch(e){case 1:t="#d9edf7";break;case 2:t="#dff0d8";break;case 3:t="#f2dede"}var n="color: #3b5998;";return t.length>0&&(n+="background-color: "+t),n},PlayerStatusTitle:function(e){return 3==e.STATUS?e.RejectReason||"":""},InitPlayerPlaceholdersTimer:function(){window.clearInterval(registerUtils._playerPlaceholdersTimer),registerUtils._playerPlaceholdersTimer=window.setInterval(function(){var e=$(".player-placeholder");e.length>0&&e.each(function(){var e=$(this),t=e.find(".different-school-notice");e.width()<680?(e.removeClass("player-placeholder-normal"),e.addClass("player-placeholder-small-screen"),t.addClass("different-school-notice-small-screen")):(e.removeClass("player-placeholder-small-screen"),e.addClass("player-placeholder-normal"),t.removeClass("different-school-notice-small-screen"))})},500)},InitTeamPanelsTimer:function(){window.clearInterval(registerUtils._teamPanelsTimer),registerUtils._teamPanelsTimer=window.setInterval(function(){var e=$(".team-panel");e.length>0&&e.each(function(){var e=$(this),t=e.find("h3").first();e.width()<360?(e.addClass("team-panel-small-screen"),t.css("width","200px")):(e.removeClass("team-panel-small-screen"),t.css("width","inherit"))})},500)},InitPlayerFilesTimer:function(){function e(e){var t=e.parents(".dropzone").first();if(1==t.length){var n=t.data("player-id"),a=t.data("file-type"),o=e.find(".fa").first(),i=e.find(".picture-preview"),r=e.find(".file-pdf");if(n&&a)var s="/content/PlayerFile?type="+a+"&id="+n,l=$.get(s,function(){var t=e.parents(".player-file").first(),n=l.getResponseHeader("content-Type"),a=!1,c="0";n&&(0==n.indexOf("image/")?(i.attr("src",s),i.show(),a=!0):n.indexOf("/pdf")>0&&1==r.length&&(r.show(),a=!0,c="1")),a?(o.hide(),t.data("has-file","1")):(o.show(),t.data("has-file","0")),t.data("is-pdf",c)})}}window.clearInterval(registerUtils._playerFilesTimer),registerUtils._playerFilesTimer=window.setInterval(function(){var t=$(".dz-message");t.length>0&&t.each(function(){var t=$(this);if("1"!=t.data("handled")){var n=t.parents(".player-file").first().data("file-container");if(n&&n.length>0){var a=$("#"+n);t.html(a.html()),e(t)}t.data("handled","1")}});var n=$(".player-file");n.length>0&&window._AllDropZones_&&n.each(function(){var e=$(this),t=e.find(".dropzone"),n=t.data("player-id"),a=t.data("file-type");if(n&&a){var o="1"==e.data("has-file"),i=n+"_"+a,r=window._AllDropZones_[i];r&&$(r.hiddenFileInput).prop("disabled",o)}})},200)}};!function(){"use strict";function e(e,t,n,a,o,i,r){function s(){upyaUtils.ReadPracticeCamps(e,n,a,function(){e.data.IsLoading=!1,n.get("/api/common/hidden-practice-camps").then(function(t){if(t.data.length>0){for(var n=0;n<t.data.length;n++)c[t.data[n].PRACTICE_CAMP_ID.toString()]=!0;e.data.availableCamps=e.data.availableCamps.filter(function(e){return!c[e.PRACTICE_CAMP_ID.toString()]})}ChainFactory.Next()},function(e){ChainFactory.Next()})})}function l(){var e=$("#g-recaptcha-response").val(),t=!1;return t=void 0===e||e.length>0,t?e:""}var c={};e.data={IsLoading:!0,availableCamps:[],genders:[{Id:1,Name:"זכר"},{Id:2,Name:"נקבה"}]},e.participant={},window.qL_steps_amount=1,ChainFactory.Execute(s),window.setTimeout(function(){window.qL_Finish_Now=!0},1500),e.IsPracticeCampHidden=function(e){return 1==c[e.PRACTICE_CAMP_ID]},e.SubmitForm=function(){e.formValidationErrors=[],e.participant.practiceCamp||e.formValidationErrors.push("יש לבחור מחנה אימון"),e.participant.Name||e.formValidationErrors.push("יש להזין שם"),e.participant.Email?sportUtils.IsValidEmail(e.participant.Email)||e.formValidationErrors.push("כתובת דואר אלקטרוני לא תקינה"):e.formValidationErrors.push("יש להזין דואר אלקטרוני"),e.participant.Address||e.formValidationErrors.push("יש להזין כתובת");var t=e.participant.Cellular,o=e.participant.Phone;t||o?(o&&!sportUtils.IsValidPhoneNumber(o)&&e.formValidationErrors.push("טלפון בית לא תקין"),t&&!sportUtils.IsValidPhoneNumber(t)&&e.formValidationErrors.push("טלפון סלולרי לא תקין")):e.formValidationErrors.push("יש להזין טלפון בית או סלולרי");var i=l();if(0==i.length&&e.formValidationErrors.push("יש לוודא שהינך לא רובוט"),0==e.formValidationErrors.length){e.participant.Birthday&&(e.participant.ParsedBirthday=function(e){return e&&e.getFullYear?a("date")(e,"dd/MM/yyyy"):e}(e.participant.Birthday)),e.formSending=!0;var r={captchaResponse:i,Participant:e.participant};n.post("/api/sportsman/practice-camps",r).then(function(t){e.formSending=!1,e.sendResult={Success:!0}},function(t){e.formSending=!1,e.sendResult={Error:"שגיאה בעת שליחת נתונים"}})}}}function t(e,t,n,a,o,i,r){function s(){sportUtils.VerifyUser(n,e,[3]),window.qL_step_finished=!0}function l(e){e.StateClass="button button_type_icon_small icon button_grey_light",e.IconClass="fa fa-eye",e.Hidden?(e.IconClass+="-slash",e.Tooltip="מחנה אימון מוסתר, יש ללחוץ כדי לבטל הסתרה"):(e.StateClass+=" button_grey_light_hover",e.Tooltip="מחנה אימון גלוי, ניתן ללחוץ על כפתור זה כדי להסתיר את מחנה האימון")}function c(){upyaUtils.ReadPracticeCamps(e,n,a,function(){n.get("/api/common/hidden-practice-camps").then(function(t){for(var n={},a=0;a<t.data.length;a++)n[t.data[a].PRACTICE_CAMP_ID.toString()]=!0;e.data.availableCamps.forEach(function(e){e.Hidden=n[e.PRACTICE_CAMP_ID.toString()],l(e)}),ChainFactory.Next()},function(t){e.data.availableCamps.forEach(function(e){l(e)}),ChainFactory.Next()})})}e.data={availableCamps:[]},window.qL_steps_amount=2,ChainFactory.Execute(s,c),window.setTimeout(function(){window.qL_Finish_Now=!0},1500),e.ToggleState=function(e){var t={PRACTICE_CAMP_ID:e.PRACTICE_CAMP_ID};n.post("/api/common/toggle-practice-camp",t).then(function(t){e.Hidden=!e.Hidden,l(e)},function(e){console.log("error toggling practice camp"),alert("שגיאה בעת עדכון נתוני מחנה אימון נא לנסות שוב מאוחר יותר")})}}angular.module("sport.UPYA").controller("UPYA_Controller",["$scope","$state","$http","$filter","$timeout","$interval","messageBox",e]).controller("UPYA_Manage_Controller",["$scope","$state","$http","$filter","$timeout","$interval","messageBox",t])}();var upyaUtils={ReadPracticeCamps:function(e,t,n,a){t.get("/api/sportsman/practice-camps").then(function(t){window.qL_step_finished=!0,e.data.availableCamps=t.data,e.data.availableCamps.forEach(function(e){var t=n("date")(e.DATE_START,"dd/MM/yyyy"),a=n("date")(e.DATE_FINISH,"dd/MM/yyyy");e.Name="מחנה אימון "+e.SPORT_NAME+" מ-"+t+" עד "+a,e.REMARKS&&(e.Name+=" ("+e.REMARKS+")")}),null!=a&&a()},function(e){console.log("error reading practice camps"),console.log(e),window.qL_step_finished=!0,window.qL_Finish_Now=!0,ChainFactory.Next()})}};!function(){"use strict";function e(e,t,n,a,o,i,r){function s(){var t=$.trim(e.data.Search),n=c.slice(0);if(t.length>0&&(n=a("filter")(n,t)),n=reportUtils.applyFilters(e.data.Fields,n),null!=e.data.Sort){var o=e.data.Sort.Column||"";o.length>0&&reportUtils.sort(n,o,e.data.Fields,e.data.Sort.Descending)}return n}function l(){$(".report-file").each(function(){var e=$(this);if("1"!=e.data("handled")&&"1"!=e.data("in_progress")){var t=e.data("idnumber"),n=u.replace("$type",e.data("type")).replace("$id",t);e.data("in_progress","1");var a=e.find(".file-loading-icon");a.show();var o=$.get(n,function(){e.data("in_progress","0"),a.hide();var t=!1,i=o.getResponseHeader("content-Type");if(i)if(0==i.indexOf("image/")){var r=e.find(".file-image");r.attr("src",n),r.show(),t=!0}else if(i.indexOf("/pdf")>0){var s=e.find(".file-pdf");1==s.length&&(s.show(),t=!0)}if(t){var l=e.find("a");l.attr("href",n),l.show()}e.data("handled","1")})}})}var c=[],u="/content/PlayerFile?type=$type&id=$id",d=0;e.error="",e.data={SelectedSeason:{Name:localStorage[sportGlobalSettings.LocalStorageKeys.CurrentSeason.Name]||"",Year:localStorage[sportGlobalSettings.LocalStorageKeys.CurrentSeason.Year]||0},CurrentSeasonYear:0,Search:"",Sort:null,Loading:!1,Error:"",Views:[],Fields:null,Rows:null,ExcelInProgress:!1,AvailableColumnsVisible:!1,HiddenColumnExists:!1},e.selected={View:null},function(){sportUtils.VerifyUser(n,e),window.qL_step_finished=!0}(),n.get("/api/sportsman/views").then(function(t){e.data.Views=t.data.slice(0)},function(t){console.log(t),e.error="failed to load views"}),n.get("/api/seasons/current").then(function(t){e.data.CurrentSeasonYear=t.data.Year}),e.pagingService=new PagingService(s(),{pageSize:20}),e.data.Rows=[],e.pagingService.applyPaging(e.data.Rows),e.$watch("data.Search",function(t){e.pagingService&&c.length>0&&e.pagingService.setData(s())}),e.viewSelected=function(){function t(e,t){return{Name:e,Title:e,FileType:t,Visible:!0,Index:-1,IsFile:!0}}c=[];var o="/api/sportsman/views/"+e.selected.View.VIEW_ID,i=e.data.SelectedSeason.Name;i&&i.length>0&&(o+="?season="+i),e.data.Loading=!0,e.data.Fields=[],n.get(o).then(function(n){e.data.Loading=!1,reportUtils.InitClearFiltersPositionTimer();for(var o=0;o<n.data.Fields.length;o++){var i=n.data.Fields[o],r={Name:i,Type:reportUtils.parseFieldType(i),Title:reportUtils.cleanFieldName(i),Visible:!i.startsWithEnglishLetter(),Index:o+1};e.data.Fields.push(r)}"ViewPlayers"==e.selected.View.VIEW_NAME&&(e.data.Fields.push(t("תמונה",1)),e.data.Fields.push(t("בדיקה רפואית",2)),e.data.Fields.push(t('ספח ת"ז',3))),c=n.data.Rows,"ViewPlayers"==e.selected.View.VIEW_NAME&&c.forEach(function(e){e.IdNumber=e["מספר זהות"]}),reportUtils.applyFieldTypes(e.data.Fields,c,a);var u=reportUtils.applySpecialCases(e.selected.View.VIEW_NAME,c,a);null!=u&&(e.data.Sort=u),e.pagingService.setData(s()),d&&window.clearInterval(d),d=window.setInterval(l,200),window.setTimeout(function(){var e=$("#lnkChooseTableColumns"),t=$("#pnlAvailableColumns"),n=e.position().left+10,a=e.outerWidth()-1;t.css({left:n+"px",width:a+"px"}),$(".available-columns-title").css("width",a-48+"px")},500)},function(t){e.data.Loading=!1,e.data.Error='שגיאה בעת טעינת דו"ח',console.log(t),e.pagingService.setData(s())})},e.changeSort=function(t){t.IsFile||(null!=e.data.Sort&&e.data.Sort.Column==t.Title?e.data.Sort.Descending=!e.data.Sort.Descending:e.data.Sort={Column:t.Title,Descending:!1},e.pagingService.setData(s()))},e.toggleFilter=function(t){e.data.Fields.forEach(function(e){e.Index!=t.Index&&(e.Filtered=!1)}),t.Filtered=!t.Filtered,t.Filtered&&window.setTimeout(function(){$('input[data-field-index="'+t.Index+'"]').focus()},500)},e.getFilterStyle=function(e){return e.FilterText&&e.FilterText.length>0?"color: #00ADEE;":""},e.filterChanged=function(t){e.pagingService.setData(s())},e.clearFilter=function(t){t.FilterText="",t.Filtered=!1,e.filterChanged(t)},e.clearAllFilters=function(){e.data.Fields.forEach(function(t){e.clearFilter(t)})},e.gotFilters=function(){if(e.data.Fields)for(var t=0;t<e.data.Fields.length;t++){var n=e.data.Fields[t];if(n.FilterText)return!0}return!1},e.chooseColumns=function(){e.data.AvailableColumnsVisible=!e.data.AvailableColumnsVisible},e.availableColumnClicked=function(t){t.IsHidden=!t.IsHidden,e.data.HiddenColumnExists=e.data.Fields.findIndex(function(e){return e.IsHidden})>=0},e.undoColumnSelection=function(){e.data.Fields.setForAll("IsHidden",!1),e.data.HiddenColumnExists=!1},e.exportExcel=function(){e.data.ExcelInProgress=!0;var t=e.data.Fields.filter(function(e){return e.Visible&&!e.IsHidden}).map(function(e){return e.Title}),a={};e.data.Fields.forEach(function(e){a[e.Title]=e.Name});var o=e.pagingService.getAllData().map(function(e){console.log(e);var n=[];return t.forEach(function(t){n.push(e[a[t]])}),n});console.log("rows count: "+o.length);var i=new Date,r=e.selected.View.VIEW_NAME,s="/api/common/excel?name="+sportUtils.RemoveSpecialCharacters(r)+"&sheet="+encodeURIComponent(r);n.post(s,{Headers:t,Rows:o}).then(function(t){e.data.ExcelInProgress=!1;var n=new Date,a=n.getTime()-i.getTime();console.log("generating excel took "+a+" miliseconds, which are "+a/1e3+" seconds");var o=t.data,r="/content/Excel/"+o;window.setTimeout(function(){var e=$("<iframe></iframe>");e.attr("src",r),$("body").append(e),e.hide()},1e3)},function(t){e.data.ExcelInProgress=!1,alert("שגיאה בעת  יצירת גיליון אקסל, נא לנסות שוב מאוחר יותר"),console.log(t)})}}angular.module("sport.reports").controller("ReportsController",["$scope","$state","$http","$filter","$timeout","$interval","messageBox",e])}();var reportUtils={_clearFiltersPositionTimer:0,FieldType:{Ordinary:1,Date:2},_possibleFieldTypes:[],possibleFieldTypes:function(){return 0==reportUtils._possibleFieldTypes.length&&reportUtils._possibleFieldTypes.push({Key:"date",Type:reportUtils.FieldType.Date}),reportUtils._possibleFieldTypes},parseFieldType:function(e){for(var t=0;t<reportUtils.possibleFieldTypes().length;t++){var n=reportUtils.possibleFieldTypes()[t];if(e.endsWith("|"+n.Key))return n.Type}return reportUtils.FieldType.Ordinary},cleanFieldName:function(e){var t=e+"";return reportUtils.possibleFieldTypes().forEach(function(e){t=t.replace("|"+e.Key,"")}),t},applySpecialCases:function(e,t,n){if("ViewTeams"==e||"ViewPlayers"==e){for(var a=0;a<t.length;a++){var o=t[a];o["שם קבוצה"]=reportUtils.buildTeamName(o)}return{Column:"תאריך רישום",Descending:!0}}if("ViewMatches"==e){for(var a=0;a<t.length;a++){var o=t[a];if(console.log(o.PreviousGroupName_A),o["קבוצה א'"]=reportUtils.getPreviousPhaseTeam(o,"A")||eventsUtils.BuildTeamName(o,"A"),o["קבוצה ב'"]=reportUtils.getPreviousPhaseTeam(o,"B")||eventsUtils.BuildTeamName(o,"B"),o["תוצאה"]=reportUtils.buildGameResult(o),o.RawDate){var i=reportUtils.parseRawDate(o.RawDate);o["תאריך"]=i.Date,o["שעה"]=i.Time}}return{Column:"אליפות",Descending:!1}}return null},getPreviousPhaseTeam:function(e,t){var n=e["PreviousGroupIndex_"+t];if(null!=n){var a=e["PreviousGroupName_"+t];if(null!=a&&a.length>0)return a+" מיקום "+(n+1)}return null},buildGameResult:function(e){var t="",n=e.RESULT,a=e.TEAM_A_SCORE,o=e.TEAM_B_SCORE;e.PARTS_RESULT;return null!=n&&null!=a&&null!=o&&(t=a+" - "+o),t},parseRawDate:function(e){var t="",n="",a=e.split("T");return 2==a.length&&(dateParts=a[0].split("-"),timeParts=a[1].split(":"),3==dateParts.length&&(t=[dateParts[2],dateParts[1],dateParts[0]].join("/")),timeParts.length>2&&(n=[timeParts[0],timeParts[1]].join(":"))),{Date:t,Time:n}},buildTeamName:function(e){var t=e.SCHOOL_NAME,n=e.CITY_NAME||"",a=t;return a.indexOf(n)<0&&(a+=" "+n),a},applyFieldTypes:function(e,t,n){var a=e.filter(function(e){return e.Type==reportUtils.FieldType.Date});if(a.length>0)for(var o=0;o<t.length;o++){var i=t[o];a.forEach(function(e){var t=e.Name,a=i[t];i["original_"+t]=a,i[t]=n("date")(a,"dd/MM/yyyy")})}},applyFilters:function(e,t){if(!e||0==e.length||!t||0==t.length)return[];var n=e.filter(function(e){return e.FilterText&&e.FilterText.length>0});if(n.length>0){for(var a=[],o=0;o<t.length;o++){for(var i=t[o],r=!0,s=0;s<n.length;s++){var l=n[s];if((i[l.Name]||"").toString().indexOf(l.FilterText)<0){r=!1;break}}r&&a.push(i)}return a}return t},sort:function(e,t,n,a){if(e&&0!=e.length&&t&&n&&0!=n.length){void 0===a&&(a=!1);var o=n.findItem(function(e){return e.Title==t});if(null!=o){var i=o.Type==reportUtils.FieldType.Date?"original_"+o.Name:o.Name,r=a?-1:1,s=a?1:-1;e.sort(function(e,t){var n=e[i],a=t[i];return n>a?r:n<a?s:0})}}},InitClearFiltersPositionTimer:function(){reportUtils._clearFiltersPositionTimer&&window.clearInterval(reportUtils._clearFiltersPositionTimer),reportUtils._clearFiltersPositionTimer=window.setInterval(function(){$(".clear-filter:visible").each(function(){var e=$(this);1==e.parents("th").find(".sortIcon:visible").length?e.css("top","35px"):e.css("top","15px")})},500)}};
/* xlsx.core.min.js */
/* xlsx.js (C) 2013-2015 SheetJS -- http://sheetjs.com */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.JSZip=e()}}(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){"use strict";var _keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";exports.encode=function(input,utf8){var output="";var chr1,chr2,chr3,enc1,enc2,enc3,enc4;var i=0;while(i<input.length){chr1=input.charCodeAt(i++);chr2=input.charCodeAt(i++);chr3=input.charCodeAt(i++);enc1=chr1>>2;enc2=(chr1&3)<<4|chr2>>4;enc3=(chr2&15)<<2|chr3>>6;enc4=chr3&63;if(isNaN(chr2)){enc3=enc4=64}else if(isNaN(chr3)){enc4=64}output=output+_keyStr.charAt(enc1)+_keyStr.charAt(enc2)+_keyStr.charAt(enc3)+_keyStr.charAt(enc4)}return output};exports.decode=function(input,utf8){var output="";var chr1,chr2,chr3;var enc1,enc2,enc3,enc4;var i=0;input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(i<input.length){enc1=_keyStr.indexOf(input.charAt(i++));enc2=_keyStr.indexOf(input.charAt(i++));enc3=_keyStr.indexOf(input.charAt(i++));enc4=_keyStr.indexOf(input.charAt(i++));chr1=enc1<<2|enc2>>4;chr2=(enc2&15)<<4|enc3>>2;chr3=(enc3&3)<<6|enc4;output=output+String.fromCharCode(chr1);if(enc3!=64){output=output+String.fromCharCode(chr2)}if(enc4!=64){output=output+String.fromCharCode(chr3)}}return output}},{}],2:[function(_dereq_,module,exports){"use strict";function CompressedObject(){this.compressedSize=0;this.uncompressedSize=0;this.crc32=0;this.compressionMethod=null;this.compressedContent=null}CompressedObject.prototype={getContent:function(){return null},getCompressedContent:function(){return null}};module.exports=CompressedObject},{}],3:[function(_dereq_,module,exports){"use strict";exports.STORE={magic:"\x00\x00",compress:function(content){return content},uncompress:function(content){return content},compressInputType:null,uncompressInputType:null};exports.DEFLATE=_dereq_("./flate")},{"./flate":8}],4:[function(_dereq_,module,exports){"use strict";var utils=_dereq_("./utils");var table=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];module.exports=function crc32(input,crc){if(typeof input==="undefined"||!input.length){return 0}var isArray=utils.getTypeOf(input)!=="string";if(typeof crc=="undefined"){crc=0}var x=0;var y=0;var b=0;crc=crc^-1;for(var i=0,iTop=input.length;i<iTop;i++){b=isArray?input[i]:input.charCodeAt(i);y=(crc^b)&255;x=table[y];crc=crc>>>8^x}return crc^-1}},{"./utils":21}],5:[function(_dereq_,module,exports){"use strict";var utils=_dereq_("./utils");function DataReader(data){this.data=null;this.length=0;this.index=0}DataReader.prototype={checkOffset:function(offset){this.checkIndex(this.index+offset)},checkIndex:function(newIndex){if(this.length<newIndex||newIndex<0){throw new Error("End of data reached (data length = "+this.length+", asked index = "+newIndex+"). Corrupted zip ?")}},setIndex:function(newIndex){this.checkIndex(newIndex);this.index=newIndex},skip:function(n){this.setIndex(this.index+n)},byteAt:function(i){},readInt:function(size){var result=0,i;this.checkOffset(size);for(i=this.index+size-1;i>=this.index;i--){result=(result<<8)+this.byteAt(i)}this.index+=size;return result},readString:function(size){return utils.transformTo("string",this.readData(size))},readData:function(size){},lastIndexOfSignature:function(sig){},readDate:function(){var dostime=this.readInt(4);return new Date((dostime>>25&127)+1980,(dostime>>21&15)-1,dostime>>16&31,dostime>>11&31,dostime>>5&63,(dostime&31)<<1)}};module.exports=DataReader},{"./utils":21}],6:[function(_dereq_,module,exports){"use strict";exports.base64=false;exports.binary=false;exports.dir=false;exports.createFolders=false;exports.date=null;exports.compression=null;exports.comment=null},{}],7:[function(_dereq_,module,exports){"use strict";var utils=_dereq_("./utils");exports.string2binary=function(str){return utils.string2binary(str)};exports.string2Uint8Array=function(str){return utils.transformTo("uint8array",str)};exports.uint8Array2String=function(array){return utils.transformTo("string",array)};exports.string2Blob=function(str){var buffer=utils.transformTo("arraybuffer",str);return utils.arrayBuffer2Blob(buffer)};exports.arrayBuffer2Blob=function(buffer){return utils.arrayBuffer2Blob(buffer)};exports.transformTo=function(outputType,input){return utils.transformTo(outputType,input)};exports.getTypeOf=function(input){return utils.getTypeOf(input)};exports.checkSupport=function(type){return utils.checkSupport(type)};exports.MAX_VALUE_16BITS=utils.MAX_VALUE_16BITS;exports.MAX_VALUE_32BITS=utils.MAX_VALUE_32BITS;exports.pretty=function(str){return utils.pretty(str)};exports.findCompression=function(compressionMethod){return utils.findCompression(compressionMethod)};exports.isRegExp=function(object){return utils.isRegExp(object)}},{"./utils":21}],8:[function(_dereq_,module,exports){"use strict";var USE_TYPEDARRAY=typeof Uint8Array!=="undefined"&&typeof Uint16Array!=="undefined"&&typeof Uint32Array!=="undefined";var pako=_dereq_("pako");exports.uncompressInputType=USE_TYPEDARRAY?"uint8array":"array";exports.compressInputType=USE_TYPEDARRAY?"uint8array":"array";exports.magic="\b\x00";exports.compress=function(input){return pako.deflateRaw(input)};exports.uncompress=function(input){return pako.inflateRaw(input)}},{pako:24}],9:[function(_dereq_,module,exports){"use strict";var base64=_dereq_("./base64");function JSZip(data,options){if(!(this instanceof JSZip))return new JSZip(data,options);this.files={};this.comment=null;this.root="";if(data){this.load(data,options)}this.clone=function(){var newObj=new JSZip;for(var i in this){if(typeof this[i]!=="function"){newObj[i]=this[i]}}return newObj}}JSZip.prototype=_dereq_("./object");JSZip.prototype.load=_dereq_("./load");JSZip.support=_dereq_("./support");JSZip.defaults=_dereq_("./defaults");JSZip.utils=_dereq_("./deprecatedPublicUtils");JSZip.base64={encode:function(input){return base64.encode(input)},decode:function(input){return base64.decode(input)}};JSZip.compressions=_dereq_("./compressions");module.exports=JSZip},{"./base64":1,"./compressions":3,"./defaults":6,"./deprecatedPublicUtils":7,"./load":10,"./object":13,"./support":17}],10:[function(_dereq_,module,exports){"use strict";var base64=_dereq_("./base64");var ZipEntries=_dereq_("./zipEntries");module.exports=function(data,options){var files,zipEntries,i,input;options=options||{};if(options.base64){data=base64.decode(data)}zipEntries=new ZipEntries(data,options);files=zipEntries.files;for(i=0;i<files.length;i++){input=files[i];this.file(input.fileName,input.decompressed,{binary:true,optimizedBinaryString:true,date:input.date,dir:input.dir,comment:input.fileComment.length?input.fileComment:null,createFolders:options.createFolders})}if(zipEntries.zipComment.length){this.comment=zipEntries.zipComment}return this}},{"./base64":1,"./zipEntries":22}],11:[function(_dereq_,module,exports){(function(Buffer){"use strict";module.exports=function(data,encoding){return new Buffer(data,encoding)};module.exports.test=function(b){return Buffer.isBuffer(b)}}).call(this,typeof Buffer!=="undefined"?Buffer:undefined)},{}],12:[function(_dereq_,module,exports){"use strict";var Uint8ArrayReader=_dereq_("./uint8ArrayReader");function NodeBufferReader(data){this.data=data;this.length=this.data.length;this.index=0}NodeBufferReader.prototype=new Uint8ArrayReader;NodeBufferReader.prototype.readData=function(size){this.checkOffset(size);var result=this.data.slice(this.index,this.index+size);this.index+=size;return result};module.exports=NodeBufferReader},{"./uint8ArrayReader":18}],13:[function(_dereq_,module,exports){"use strict";var support=_dereq_("./support");var utils=_dereq_("./utils");var crc32=_dereq_("./crc32");var signature=_dereq_("./signature");var defaults=_dereq_("./defaults");var base64=_dereq_("./base64");var compressions=_dereq_("./compressions");var CompressedObject=_dereq_("./compressedObject");var nodeBuffer=_dereq_("./nodeBuffer");var utf8=_dereq_("./utf8");var StringWriter=_dereq_("./stringWriter");var Uint8ArrayWriter=_dereq_("./uint8ArrayWriter");var getRawData=function(file){if(file._data instanceof CompressedObject){file._data=file._data.getContent();file.options.binary=true;file.options.base64=false;if(utils.getTypeOf(file._data)==="uint8array"){var copy=file._data;file._data=new Uint8Array(copy.length);if(copy.length!==0){file._data.set(copy,0)}}}return file._data};var getBinaryData=function(file){var result=getRawData(file),type=utils.getTypeOf(result);if(type==="string"){if(!file.options.binary){if(support.nodebuffer){return nodeBuffer(result,"utf-8")}}return file.asBinary()}return result};var dataToString=function(asUTF8){var result=getRawData(this);if(result===null||typeof result==="undefined"){return""}if(this.options.base64){result=base64.decode(result)}if(asUTF8&&this.options.binary){result=out.utf8decode(result)}else{result=utils.transformTo("string",result)}if(!asUTF8&&!this.options.binary){result=utils.transformTo("string",out.utf8encode(result))}return result};var ZipObject=function(name,data,options){this.name=name;this.dir=options.dir;this.date=options.date;this.comment=options.comment;this._data=data;this.options=options;this._initialMetadata={dir:options.dir,date:options.date}};ZipObject.prototype={asText:function(){return dataToString.call(this,true)},asBinary:function(){return dataToString.call(this,false)},asNodeBuffer:function(){var result=getBinaryData(this);return utils.transformTo("nodebuffer",result)},asUint8Array:function(){var result=getBinaryData(this);return utils.transformTo("uint8array",result)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var decToHex=function(dec,bytes){var hex="",i;for(i=0;i<bytes;i++){hex+=String.fromCharCode(dec&255);dec=dec>>>8}return hex};var extend=function(){var result={},i,attr;for(i=0;i<arguments.length;i++){for(attr in arguments[i]){if(arguments[i].hasOwnProperty(attr)&&typeof result[attr]==="undefined"){result[attr]=arguments[i][attr]}}}return result};var prepareFileAttrs=function(o){o=o||{};if(o.base64===true&&(o.binary===null||o.binary===undefined)){o.binary=true}o=extend(o,defaults);o.date=o.date||new Date;if(o.compression!==null)o.compression=o.compression.toUpperCase();return o};var fileAdd=function(name,data,o){var dataType=utils.getTypeOf(data),parent;o=prepareFileAttrs(o);if(o.createFolders&&(parent=parentFolder(name))){folderAdd.call(this,parent,true)}if(o.dir||data===null||typeof data==="undefined"){o.base64=false;o.binary=false;data=null}else if(dataType==="string"){if(o.binary&&!o.base64){if(o.optimizedBinaryString!==true){data=utils.string2binary(data)}}}else{o.base64=false;o.binary=true;if(!dataType&&!(data instanceof CompressedObject)){throw new Error("The data of '"+name+"' is in an unsupported format !")}if(dataType==="arraybuffer"){data=utils.transformTo("uint8array",data)}}var object=new ZipObject(name,data,o);this.files[name]=object;return object};var parentFolder=function(path){if(path.slice(-1)=="/"){path=path.substring(0,path.length-1)}var lastSlash=path.lastIndexOf("/");return lastSlash>0?path.substring(0,lastSlash):""};var folderAdd=function(name,createFolders){if(name.slice(-1)!="/"){name+="/"}createFolders=typeof createFolders!=="undefined"?createFolders:false;if(!this.files[name]){fileAdd.call(this,name,null,{dir:true,createFolders:createFolders})}return this.files[name]};var generateCompressedObjectFrom=function(file,compression){var result=new CompressedObject,content;if(file._data instanceof CompressedObject){result.uncompressedSize=file._data.uncompressedSize;result.crc32=file._data.crc32;if(result.uncompressedSize===0||file.dir){compression=compressions["STORE"];result.compressedContent="";result.crc32=0}else if(file._data.compressionMethod===compression.magic){result.compressedContent=file._data.getCompressedContent()}else{content=file._data.getContent();result.compressedContent=compression.compress(utils.transformTo(compression.compressInputType,content))}}else{content=getBinaryData(file);if(!content||content.length===0||file.dir){compression=compressions["STORE"];content=""}result.uncompressedSize=content.length;result.crc32=crc32(content);result.compressedContent=compression.compress(utils.transformTo(compression.compressInputType,content))}result.compressedSize=result.compressedContent.length;result.compressionMethod=compression.magic;return result};var generateZipParts=function(name,file,compressedObject,offset){var data=compressedObject.compressedContent,utfEncodedFileName=utils.transformTo("string",utf8.utf8encode(file.name)),comment=file.comment||"",utfEncodedComment=utils.transformTo("string",utf8.utf8encode(comment)),useUTF8ForFileName=utfEncodedFileName.length!==file.name.length,useUTF8ForComment=utfEncodedComment.length!==comment.length,o=file.options,dosTime,dosDate,extraFields="",unicodePathExtraField="",unicodeCommentExtraField="",dir,date;if(file._initialMetadata.dir!==file.dir){dir=file.dir}else{dir=o.dir}if(file._initialMetadata.date!==file.date){date=file.date}else{date=o.date}dosTime=date.getHours();dosTime=dosTime<<6;dosTime=dosTime|date.getMinutes();dosTime=dosTime<<5;dosTime=dosTime|date.getSeconds()/2;dosDate=date.getFullYear()-1980;dosDate=dosDate<<4;dosDate=dosDate|date.getMonth()+1;dosDate=dosDate<<5;dosDate=dosDate|date.getDate();if(useUTF8ForFileName){unicodePathExtraField=decToHex(1,1)+decToHex(crc32(utfEncodedFileName),4)+utfEncodedFileName;extraFields+="up"+decToHex(unicodePathExtraField.length,2)+unicodePathExtraField}if(useUTF8ForComment){unicodeCommentExtraField=decToHex(1,1)+decToHex(this.crc32(utfEncodedComment),4)+utfEncodedComment;extraFields+="uc"+decToHex(unicodeCommentExtraField.length,2)+unicodeCommentExtraField}var header="";header+="\n\x00";header+=useUTF8ForFileName||useUTF8ForComment?"\x00\b":"\x00\x00";header+=compressedObject.compressionMethod;header+=decToHex(dosTime,2);header+=decToHex(dosDate,2);header+=decToHex(compressedObject.crc32,4);header+=decToHex(compressedObject.compressedSize,4);header+=decToHex(compressedObject.uncompressedSize,4);header+=decToHex(utfEncodedFileName.length,2);header+=decToHex(extraFields.length,2);var fileRecord=signature.LOCAL_FILE_HEADER+header+utfEncodedFileName+extraFields;var dirRecord=signature.CENTRAL_FILE_HEADER+"\x00"+header+decToHex(utfEncodedComment.length,2)+"\x00\x00"+"\x00\x00"+(dir===true?"\x00\x00\x00":"\x00\x00\x00\x00")+decToHex(offset,4)+utfEncodedFileName+extraFields+utfEncodedComment;return{fileRecord:fileRecord,dirRecord:dirRecord,compressedObject:compressedObject}};var out={load:function(stream,options){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(search){var result=[],filename,relativePath,file,fileClone;for(filename in this.files){if(!this.files.hasOwnProperty(filename)){continue}file=this.files[filename];fileClone=new ZipObject(file.name,file._data,extend(file.options));relativePath=filename.slice(this.root.length,filename.length);if(filename.slice(0,this.root.length)===this.root&&search(relativePath,fileClone)){result.push(fileClone)}}return result},file:function(name,data,o){if(arguments.length===1){if(utils.isRegExp(name)){var regexp=name;return this.filter(function(relativePath,file){return!file.dir&&regexp.test(relativePath)})}else{return this.filter(function(relativePath,file){return!file.dir&&relativePath===name})[0]||null}}else{name=this.root+name;fileAdd.call(this,name,data,o)}return this},folder:function(arg){if(!arg){return this}if(utils.isRegExp(arg)){return this.filter(function(relativePath,file){return file.dir&&arg.test(relativePath)})}var name=this.root+arg;var newFolder=folderAdd.call(this,name);var ret=this.clone();ret.root=newFolder.name;return ret},remove:function(name){name=this.root+name;var file=this.files[name];if(!file){if(name.slice(-1)!="/"){name+="/"}file=this.files[name]}if(file&&!file.dir){delete this.files[name]}else{var kids=this.filter(function(relativePath,file){return file.name.slice(0,name.length)===name});for(var i=0;i<kids.length;i++){delete this.files[kids[i].name]}}return this},generate:function(options){options=extend(options||{},{base64:true,compression:"STORE",type:"base64",comment:null});utils.checkSupport(options.type);var zipData=[],localDirLength=0,centralDirLength=0,writer,i,utfEncodedComment=utils.transformTo("string",this.utf8encode(options.comment||this.comment||""));for(var name in this.files){if(!this.files.hasOwnProperty(name)){continue}var file=this.files[name];var compressionName=file.options.compression||options.compression.toUpperCase();var compression=compressions[compressionName];if(!compression){throw new Error(compressionName+" is not a valid compression method !")}var compressedObject=generateCompressedObjectFrom.call(this,file,compression);var zipPart=generateZipParts.call(this,name,file,compressedObject,localDirLength);localDirLength+=zipPart.fileRecord.length+compressedObject.compressedSize;centralDirLength+=zipPart.dirRecord.length;zipData.push(zipPart)}var dirEnd="";dirEnd=signature.CENTRAL_DIRECTORY_END+"\x00\x00"+"\x00\x00"+decToHex(zipData.length,2)+decToHex(zipData.length,2)+decToHex(centralDirLength,4)+decToHex(localDirLength,4)+decToHex(utfEncodedComment.length,2)+utfEncodedComment;var typeName=options.type.toLowerCase();if(typeName==="uint8array"||typeName==="arraybuffer"||typeName==="blob"||typeName==="nodebuffer"){writer=new Uint8ArrayWriter(localDirLength+centralDirLength+dirEnd.length)}else{writer=new StringWriter(localDirLength+centralDirLength+dirEnd.length)}for(i=0;i<zipData.length;i++){writer.append(zipData[i].fileRecord);writer.append(zipData[i].compressedObject.compressedContent)}for(i=0;i<zipData.length;i++){writer.append(zipData[i].dirRecord)}writer.append(dirEnd);var zip=writer.finalize();switch(options.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return utils.transformTo(options.type.toLowerCase(),zip);case"blob":return utils.arrayBuffer2Blob(utils.transformTo("arraybuffer",zip));case"base64":return options.base64?base64.encode(zip):zip;default:return zip}},crc32:function(input,crc){return crc32(input,crc)},utf8encode:function(string){return utils.transformTo("string",utf8.utf8encode(string))},utf8decode:function(input){return utf8.utf8decode(input)}};module.exports=out},{"./base64":1,"./compressedObject":2,"./compressions":3,"./crc32":4,"./defaults":6,"./nodeBuffer":11,"./signature":14,"./stringWriter":16,"./support":17,"./uint8ArrayWriter":19,"./utf8":20,"./utils":21}],14:[function(_dereq_,module,exports){"use strict";exports.LOCAL_FILE_HEADER="PK";exports.CENTRAL_FILE_HEADER="PK";exports.CENTRAL_DIRECTORY_END="PK";exports.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK";exports.ZIP64_CENTRAL_DIRECTORY_END="PK";exports.DATA_DESCRIPTOR="PK\b"},{}],15:[function(_dereq_,module,exports){"use strict";var DataReader=_dereq_("./dataReader");var utils=_dereq_("./utils");function StringReader(data,optimizedBinaryString){this.data=data;if(!optimizedBinaryString){this.data=utils.string2binary(this.data)}this.length=this.data.length;this.index=0}StringReader.prototype=new DataReader;StringReader.prototype.byteAt=function(i){return this.data.charCodeAt(i)};StringReader.prototype.lastIndexOfSignature=function(sig){return this.data.lastIndexOf(sig)};StringReader.prototype.readData=function(size){this.checkOffset(size);var result=this.data.slice(this.index,this.index+size);this.index+=size;return result};module.exports=StringReader},{"./dataReader":5,"./utils":21}],16:[function(_dereq_,module,exports){"use strict";var utils=_dereq_("./utils");var StringWriter=function(){this.data=[]};StringWriter.prototype={append:function(input){input=utils.transformTo("string",input);this.data.push(input)},finalize:function(){return this.data.join("")}};module.exports=StringWriter},{"./utils":21}],17:[function(_dereq_,module,exports){(function(Buffer){"use strict";exports.base64=true;exports.array=true;exports.string=true;exports.arraybuffer=typeof ArrayBuffer!=="undefined"&&typeof Uint8Array!=="undefined";exports.nodebuffer=typeof Buffer!=="undefined";exports.uint8array=typeof Uint8Array!=="undefined";if(typeof ArrayBuffer==="undefined"){exports.blob=false}else{var buffer=new ArrayBuffer(0);try{exports.blob=new Blob([buffer],{type:"application/zip"}).size===0}catch(e){try{var Builder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;var builder=new Builder;builder.append(buffer);exports.blob=builder.getBlob("application/zip").size===0}catch(e){exports.blob=false}}}}).call(this,typeof Buffer!=="undefined"?Buffer:undefined)},{}],18:[function(_dereq_,module,exports){"use strict";var DataReader=_dereq_("./dataReader");function Uint8ArrayReader(data){if(data){this.data=data;this.length=this.data.length;this.index=0}}Uint8ArrayReader.prototype=new DataReader;Uint8ArrayReader.prototype.byteAt=function(i){return this.data[i]};Uint8ArrayReader.prototype.lastIndexOfSignature=function(sig){var sig0=sig.charCodeAt(0),sig1=sig.charCodeAt(1),sig2=sig.charCodeAt(2),sig3=sig.charCodeAt(3);for(var i=this.length-4;i>=0;--i){if(this.data[i]===sig0&&this.data[i+1]===sig1&&this.data[i+2]===sig2&&this.data[i+3]===sig3){return i}}return-1};Uint8ArrayReader.prototype.readData=function(size){this.checkOffset(size);if(size===0){return new Uint8Array(0)}var result=this.data.subarray(this.index,this.index+size);this.index+=size;return result};module.exports=Uint8ArrayReader},{"./dataReader":5}],19:[function(_dereq_,module,exports){"use strict";var utils=_dereq_("./utils");var Uint8ArrayWriter=function(length){this.data=new Uint8Array(length);this.index=0};Uint8ArrayWriter.prototype={append:function(input){if(input.length!==0){input=utils.transformTo("uint8array",input);this.data.set(input,this.index);this.index+=input.length}},finalize:function(){return this.data}};module.exports=Uint8ArrayWriter},{"./utils":21}],20:[function(_dereq_,module,exports){"use strict";var utils=_dereq_("./utils");var support=_dereq_("./support");var nodeBuffer=_dereq_("./nodeBuffer");var _utf8len=new Array(256);for(var i=0;i<256;i++){_utf8len[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1}_utf8len[254]=_utf8len[254]=1;var string2buf=function(str){var buf,c,c2,m_pos,i,str_len=str.length,buf_len=0;for(m_pos=0;m_pos<str_len;m_pos++){c=str.charCodeAt(m_pos);if((c&64512)===55296&&m_pos+1<str_len){c2=str.charCodeAt(m_pos+1);if((c2&64512)===56320){c=65536+(c-55296<<10)+(c2-56320);m_pos++}}buf_len+=c<128?1:c<2048?2:c<65536?3:4}if(support.uint8array){buf=new Uint8Array(buf_len)}else{buf=new Array(buf_len)}for(i=0,m_pos=0;i<buf_len;m_pos++){c=str.charCodeAt(m_pos);if((c&64512)===55296&&m_pos+1<str_len){c2=str.charCodeAt(m_pos+1);if((c2&64512)===56320){c=65536+(c-55296<<10)+(c2-56320);m_pos++}}if(c<128){buf[i++]=c}else if(c<2048){buf[i++]=192|c>>>6;buf[i++]=128|c&63}else if(c<65536){buf[i++]=224|c>>>12;buf[i++]=128|c>>>6&63;buf[i++]=128|c&63}else{buf[i++]=240|c>>>18;buf[i++]=128|c>>>12&63;buf[i++]=128|c>>>6&63;buf[i++]=128|c&63}}return buf};var utf8border=function(buf,max){var pos;max=max||buf.length;if(max>buf.length){max=buf.length}pos=max-1;while(pos>=0&&(buf[pos]&192)===128){pos--}if(pos<0){return max}if(pos===0){return max}return pos+_utf8len[buf[pos]]>max?pos:max};var buf2string=function(buf){var str,i,out,c,c_len;var len=buf.length;var utf16buf=new Array(len*2);for(out=0,i=0;i<len;){c=buf[i++];if(c<128){utf16buf[out++]=c;continue}c_len=_utf8len[c];if(c_len>4){utf16buf[out++]=65533;i+=c_len-1;continue}c&=c_len===2?31:c_len===3?15:7;while(c_len>1&&i<len){c=c<<6|buf[i++]&63;c_len--}if(c_len>1){utf16buf[out++]=65533;continue}if(c<65536){utf16buf[out++]=c}else{c-=65536;utf16buf[out++]=55296|c>>10&1023;utf16buf[out++]=56320|c&1023}}if(utf16buf.length!==out){if(utf16buf.subarray){utf16buf=utf16buf.subarray(0,out)}else{utf16buf.length=out}}return utils.applyFromCharCode(utf16buf)};exports.utf8encode=function utf8encode(str){if(support.nodebuffer){return nodeBuffer(str,"utf-8")}return string2buf(str)};exports.utf8decode=function utf8decode(buf){if(support.nodebuffer){return utils.transformTo("nodebuffer",buf).toString("utf-8")}buf=utils.transformTo(support.uint8array?"uint8array":"array",buf);var result=[],k=0,len=buf.length,chunk=65536;while(k<len){var nextBoundary=utf8border(buf,Math.min(k+chunk,len));if(support.uint8array){result.push(buf2string(buf.subarray(k,nextBoundary)))}else{result.push(buf2string(buf.slice(k,nextBoundary)))}k=nextBoundary}return result.join("")}},{"./nodeBuffer":11,"./support":17,"./utils":21}],21:[function(_dereq_,module,exports){"use strict";var support=_dereq_("./support");var compressions=_dereq_("./compressions");var nodeBuffer=_dereq_("./nodeBuffer");exports.string2binary=function(str){var result="";for(var i=0;i<str.length;i++){result+=String.fromCharCode(str.charCodeAt(i)&255)}return result};exports.arrayBuffer2Blob=function(buffer){exports.checkSupport("blob");try{return new Blob([buffer],{type:"application/zip"})}catch(e){try{var Builder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;var builder=new Builder;builder.append(buffer);return builder.getBlob("application/zip")}catch(e){throw new Error("Bug : can't construct the Blob.")}}};function identity(input){return input}function stringToArrayLike(str,array){for(var i=0;i<str.length;++i){array[i]=str.charCodeAt(i)&255}return array}function arrayLikeToString(array){var chunk=65536;var result=[],len=array.length,type=exports.getTypeOf(array),k=0,canUseApply=true;try{switch(type){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,nodeBuffer(0));break}}catch(e){canUseApply=false}if(!canUseApply){var resultStr="";for(var i=0;i<array.length;i++){resultStr+=String.fromCharCode(array[i])}return resultStr}while(k<len&&chunk>1){try{if(type==="array"||type==="nodebuffer"){result.push(String.fromCharCode.apply(null,array.slice(k,Math.min(k+chunk,len))))}else{result.push(String.fromCharCode.apply(null,array.subarray(k,Math.min(k+chunk,len))))}k+=chunk}catch(e){chunk=Math.floor(chunk/2)}}return result.join("")}exports.applyFromCharCode=arrayLikeToString;function arrayLikeToArrayLike(arrayFrom,arrayTo){for(var i=0;i<arrayFrom.length;i++){arrayTo[i]=arrayFrom[i]}return arrayTo}var transform={};transform["string"]={string:identity,array:function(input){return stringToArrayLike(input,new Array(input.length))},arraybuffer:function(input){return transform["string"]["uint8array"](input).buffer},uint8array:function(input){return stringToArrayLike(input,new Uint8Array(input.length))},nodebuffer:function(input){return stringToArrayLike(input,nodeBuffer(input.length))}};transform["array"]={string:arrayLikeToString,array:identity,arraybuffer:function(input){return new Uint8Array(input).buffer},uint8array:function(input){return new Uint8Array(input)},nodebuffer:function(input){return nodeBuffer(input)}};transform["arraybuffer"]={string:function(input){return arrayLikeToString(new Uint8Array(input))},array:function(input){return arrayLikeToArrayLike(new Uint8Array(input),new Array(input.byteLength))},arraybuffer:identity,uint8array:function(input){return new Uint8Array(input)},nodebuffer:function(input){return nodeBuffer(new Uint8Array(input))}};transform["uint8array"]={string:arrayLikeToString,array:function(input){return arrayLikeToArrayLike(input,new Array(input.length))},arraybuffer:function(input){return input.buffer},uint8array:identity,nodebuffer:function(input){return nodeBuffer(input)}};transform["nodebuffer"]={string:arrayLikeToString,array:function(input){return arrayLikeToArrayLike(input,new Array(input.length))},arraybuffer:function(input){return transform["nodebuffer"]["uint8array"](input).buffer},uint8array:function(input){return arrayLikeToArrayLike(input,new Uint8Array(input.length))},nodebuffer:identity};exports.transformTo=function(outputType,input){if(!input){input=""}if(!outputType){return input}exports.checkSupport(outputType);var inputType=exports.getTypeOf(input);var result=transform[inputType][outputType](input);return result};exports.getTypeOf=function(input){if(typeof input==="string"){return"string"}if(Object.prototype.toString.call(input)==="[object Array]"){return"array"}if(support.nodebuffer&&nodeBuffer.test(input)){return"nodebuffer"}if(support.uint8array&&input instanceof Uint8Array){return"uint8array"}if(support.arraybuffer&&input instanceof ArrayBuffer){return"arraybuffer"}};exports.checkSupport=function(type){var supported=support[type.toLowerCase()];if(!supported){throw new Error(type+" is not supported by this browser")}};exports.MAX_VALUE_16BITS=65535;exports.MAX_VALUE_32BITS=-1;exports.pretty=function(str){var res="",code,i;for(i=0;i<(str||"").length;i++){code=str.charCodeAt(i);res+="\\x"+(code<16?"0":"")+code.toString(16).toUpperCase()
}return res};exports.findCompression=function(compressionMethod){for(var method in compressions){if(!compressions.hasOwnProperty(method)){continue}if(compressions[method].magic===compressionMethod){return compressions[method]}}return null};exports.isRegExp=function(object){return Object.prototype.toString.call(object)==="[object RegExp]"}},{"./compressions":3,"./nodeBuffer":11,"./support":17}],22:[function(_dereq_,module,exports){"use strict";var StringReader=_dereq_("./stringReader");var NodeBufferReader=_dereq_("./nodeBufferReader");var Uint8ArrayReader=_dereq_("./uint8ArrayReader");var utils=_dereq_("./utils");var sig=_dereq_("./signature");var ZipEntry=_dereq_("./zipEntry");var support=_dereq_("./support");var jszipProto=_dereq_("./object");function ZipEntries(data,loadOptions){this.files=[];this.loadOptions=loadOptions;if(data){this.load(data)}}ZipEntries.prototype={checkSignature:function(expectedSignature){var signature=this.reader.readString(4);if(signature!==expectedSignature){throw new Error("Corrupted zip or bug : unexpected signature "+"("+utils.pretty(signature)+", expected "+utils.pretty(expectedSignature)+")")}},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2);this.diskWithCentralDirStart=this.reader.readInt(2);this.centralDirRecordsOnThisDisk=this.reader.readInt(2);this.centralDirRecords=this.reader.readInt(2);this.centralDirSize=this.reader.readInt(4);this.centralDirOffset=this.reader.readInt(4);this.zipCommentLength=this.reader.readInt(2);this.zipComment=this.reader.readString(this.zipCommentLength);this.zipComment=jszipProto.utf8decode(this.zipComment)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8);this.versionMadeBy=this.reader.readString(2);this.versionNeeded=this.reader.readInt(2);this.diskNumber=this.reader.readInt(4);this.diskWithCentralDirStart=this.reader.readInt(4);this.centralDirRecordsOnThisDisk=this.reader.readInt(8);this.centralDirRecords=this.reader.readInt(8);this.centralDirSize=this.reader.readInt(8);this.centralDirOffset=this.reader.readInt(8);this.zip64ExtensibleData={};var extraDataSize=this.zip64EndOfCentralSize-44,index=0,extraFieldId,extraFieldLength,extraFieldValue;while(index<extraDataSize){extraFieldId=this.reader.readInt(2);extraFieldLength=this.reader.readInt(4);extraFieldValue=this.reader.readString(extraFieldLength);this.zip64ExtensibleData[extraFieldId]={id:extraFieldId,length:extraFieldLength,value:extraFieldValue}}},readBlockZip64EndOfCentralLocator:function(){this.diskWithZip64CentralDirStart=this.reader.readInt(4);this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8);this.disksCount=this.reader.readInt(4);if(this.disksCount>1){throw new Error("Multi-volumes zip are not supported")}},readLocalFiles:function(){var i,file;for(i=0;i<this.files.length;i++){file=this.files[i];this.reader.setIndex(file.localHeaderOffset);this.checkSignature(sig.LOCAL_FILE_HEADER);file.readLocalPart(this.reader);file.handleUTF8()}},readCentralDir:function(){var file;this.reader.setIndex(this.centralDirOffset);while(this.reader.readString(4)===sig.CENTRAL_FILE_HEADER){file=new ZipEntry({zip64:this.zip64},this.loadOptions);file.readCentralPart(this.reader);this.files.push(file)}},readEndOfCentral:function(){var offset=this.reader.lastIndexOfSignature(sig.CENTRAL_DIRECTORY_END);if(offset===-1){throw new Error("Corrupted zip : can't find end of central directory")}this.reader.setIndex(offset);this.checkSignature(sig.CENTRAL_DIRECTORY_END);this.readBlockEndOfCentral();if(this.diskNumber===utils.MAX_VALUE_16BITS||this.diskWithCentralDirStart===utils.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===utils.MAX_VALUE_16BITS||this.centralDirRecords===utils.MAX_VALUE_16BITS||this.centralDirSize===utils.MAX_VALUE_32BITS||this.centralDirOffset===utils.MAX_VALUE_32BITS){this.zip64=true;offset=this.reader.lastIndexOfSignature(sig.ZIP64_CENTRAL_DIRECTORY_LOCATOR);if(offset===-1){throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator")}this.reader.setIndex(offset);this.checkSignature(sig.ZIP64_CENTRAL_DIRECTORY_LOCATOR);this.readBlockZip64EndOfCentralLocator();this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir);this.checkSignature(sig.ZIP64_CENTRAL_DIRECTORY_END);this.readBlockZip64EndOfCentral()}},prepareReader:function(data){var type=utils.getTypeOf(data);if(type==="string"&&!support.uint8array){this.reader=new StringReader(data,this.loadOptions.optimizedBinaryString)}else if(type==="nodebuffer"){this.reader=new NodeBufferReader(data)}else{this.reader=new Uint8ArrayReader(utils.transformTo("uint8array",data))}},load:function(data){this.prepareReader(data);this.readEndOfCentral();this.readCentralDir();this.readLocalFiles()}};module.exports=ZipEntries},{"./nodeBufferReader":12,"./object":13,"./signature":14,"./stringReader":15,"./support":17,"./uint8ArrayReader":18,"./utils":21,"./zipEntry":23}],23:[function(_dereq_,module,exports){"use strict";var StringReader=_dereq_("./stringReader");var utils=_dereq_("./utils");var CompressedObject=_dereq_("./compressedObject");var jszipProto=_dereq_("./object");function ZipEntry(options,loadOptions){this.options=options;this.loadOptions=loadOptions}ZipEntry.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},prepareCompressedContent:function(reader,from,length){return function(){var previousIndex=reader.index;reader.setIndex(from);var compressedFileData=reader.readData(length);reader.setIndex(previousIndex);return compressedFileData}},prepareContent:function(reader,from,length,compression,uncompressedSize){return function(){var compressedFileData=utils.transformTo(compression.uncompressInputType,this.getCompressedContent());var uncompressedFileData=compression.uncompress(compressedFileData);if(uncompressedFileData.length!==uncompressedSize){throw new Error("Bug : uncompressed data size mismatch")}return uncompressedFileData}},readLocalPart:function(reader){var compression,localExtraFieldsLength;reader.skip(22);this.fileNameLength=reader.readInt(2);localExtraFieldsLength=reader.readInt(2);this.fileName=reader.readString(this.fileNameLength);reader.skip(localExtraFieldsLength);if(this.compressedSize==-1||this.uncompressedSize==-1){throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory "+"(compressedSize == -1 || uncompressedSize == -1)")}compression=utils.findCompression(this.compressionMethod);if(compression===null){throw new Error("Corrupted zip : compression "+utils.pretty(this.compressionMethod)+" unknown (inner file : "+this.fileName+")")}this.decompressed=new CompressedObject;this.decompressed.compressedSize=this.compressedSize;this.decompressed.uncompressedSize=this.uncompressedSize;this.decompressed.crc32=this.crc32;this.decompressed.compressionMethod=this.compressionMethod;this.decompressed.getCompressedContent=this.prepareCompressedContent(reader,reader.index,this.compressedSize,compression);this.decompressed.getContent=this.prepareContent(reader,reader.index,this.compressedSize,compression,this.uncompressedSize);if(this.loadOptions.checkCRC32){this.decompressed=utils.transformTo("string",this.decompressed.getContent());if(jszipProto.crc32(this.decompressed)!==this.crc32){throw new Error("Corrupted zip : CRC32 mismatch")}}},readCentralPart:function(reader){this.versionMadeBy=reader.readString(2);this.versionNeeded=reader.readInt(2);this.bitFlag=reader.readInt(2);this.compressionMethod=reader.readString(2);this.date=reader.readDate();this.crc32=reader.readInt(4);this.compressedSize=reader.readInt(4);this.uncompressedSize=reader.readInt(4);this.fileNameLength=reader.readInt(2);this.extraFieldsLength=reader.readInt(2);this.fileCommentLength=reader.readInt(2);this.diskNumberStart=reader.readInt(2);this.internalFileAttributes=reader.readInt(2);this.externalFileAttributes=reader.readInt(4);this.localHeaderOffset=reader.readInt(4);if(this.isEncrypted()){throw new Error("Encrypted zip are not supported")}this.fileName=reader.readString(this.fileNameLength);this.readExtraFields(reader);this.parseZIP64ExtraField(reader);this.fileComment=reader.readString(this.fileCommentLength);this.dir=this.externalFileAttributes&16?true:false},parseZIP64ExtraField:function(reader){if(!this.extraFields[1]){return}var extraReader=new StringReader(this.extraFields[1].value);if(this.uncompressedSize===utils.MAX_VALUE_32BITS){this.uncompressedSize=extraReader.readInt(8)}if(this.compressedSize===utils.MAX_VALUE_32BITS){this.compressedSize=extraReader.readInt(8)}if(this.localHeaderOffset===utils.MAX_VALUE_32BITS){this.localHeaderOffset=extraReader.readInt(8)}if(this.diskNumberStart===utils.MAX_VALUE_32BITS){this.diskNumberStart=extraReader.readInt(4)}},readExtraFields:function(reader){var start=reader.index,extraFieldId,extraFieldLength,extraFieldValue;this.extraFields=this.extraFields||{};while(reader.index<start+this.extraFieldsLength){extraFieldId=reader.readInt(2);extraFieldLength=reader.readInt(2);extraFieldValue=reader.readString(extraFieldLength);this.extraFields[extraFieldId]={id:extraFieldId,length:extraFieldLength,value:extraFieldValue}}},handleUTF8:function(){if(this.useUTF8()){this.fileName=jszipProto.utf8decode(this.fileName);this.fileComment=jszipProto.utf8decode(this.fileComment)}else{var upath=this.findExtraFieldUnicodePath();if(upath!==null){this.fileName=upath}var ucomment=this.findExtraFieldUnicodeComment();if(ucomment!==null){this.fileComment=ucomment}}},findExtraFieldUnicodePath:function(){var upathField=this.extraFields[28789];if(upathField){var extraReader=new StringReader(upathField.value);if(extraReader.readInt(1)!==1){return null}if(jszipProto.crc32(this.fileName)!==extraReader.readInt(4)){return null}return jszipProto.utf8decode(extraReader.readString(upathField.length-5))}return null},findExtraFieldUnicodeComment:function(){var ucommentField=this.extraFields[25461];if(ucommentField){var extraReader=new StringReader(ucommentField.value);if(extraReader.readInt(1)!==1){return null}if(jszipProto.crc32(this.fileComment)!==extraReader.readInt(4)){return null}return jszipProto.utf8decode(extraReader.readString(ucommentField.length-5))}return null}};module.exports=ZipEntry},{"./compressedObject":2,"./object":13,"./stringReader":15,"./utils":21}],24:[function(_dereq_,module,exports){"use strict";var assign=_dereq_("./lib/utils/common").assign;var deflate=_dereq_("./lib/deflate");var inflate=_dereq_("./lib/inflate");var constants=_dereq_("./lib/zlib/constants");var pako={};assign(pako,deflate,inflate,constants);module.exports=pako},{"./lib/deflate":25,"./lib/inflate":26,"./lib/utils/common":27,"./lib/zlib/constants":30}],25:[function(_dereq_,module,exports){"use strict";var zlib_deflate=_dereq_("./zlib/deflate.js");var utils=_dereq_("./utils/common");var strings=_dereq_("./utils/strings");var msg=_dereq_("./zlib/messages");var zstream=_dereq_("./zlib/zstream");var Z_NO_FLUSH=0;var Z_FINISH=4;var Z_OK=0;var Z_STREAM_END=1;var Z_DEFAULT_COMPRESSION=-1;var Z_DEFAULT_STRATEGY=0;var Z_DEFLATED=8;var Deflate=function(options){this.options=utils.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY,to:""},options||{});var opt=this.options;if(opt.raw&&opt.windowBits>0){opt.windowBits=-opt.windowBits}else if(opt.gzip&&opt.windowBits>0&&opt.windowBits<16){opt.windowBits+=16}this.err=0;this.msg="";this.ended=false;this.chunks=[];this.strm=new zstream;this.strm.avail_out=0;var status=zlib_deflate.deflateInit2(this.strm,opt.level,opt.method,opt.windowBits,opt.memLevel,opt.strategy);if(status!==Z_OK){throw new Error(msg[status])}if(opt.header){zlib_deflate.deflateSetHeader(this.strm,opt.header)}};Deflate.prototype.push=function(data,mode){var strm=this.strm;var chunkSize=this.options.chunkSize;var status,_mode;if(this.ended){return false}_mode=mode===~~mode?mode:mode===true?Z_FINISH:Z_NO_FLUSH;if(typeof data==="string"){strm.input=strings.string2buf(data)}else{strm.input=data}strm.next_in=0;strm.avail_in=strm.input.length;do{if(strm.avail_out===0){strm.output=new utils.Buf8(chunkSize);strm.next_out=0;strm.avail_out=chunkSize}status=zlib_deflate.deflate(strm,_mode);if(status!==Z_STREAM_END&&status!==Z_OK){this.onEnd(status);this.ended=true;return false}if(strm.avail_out===0||strm.avail_in===0&&_mode===Z_FINISH){if(this.options.to==="string"){this.onData(strings.buf2binstring(utils.shrinkBuf(strm.output,strm.next_out)))}else{this.onData(utils.shrinkBuf(strm.output,strm.next_out))}}}while((strm.avail_in>0||strm.avail_out===0)&&status!==Z_STREAM_END);if(_mode===Z_FINISH){status=zlib_deflate.deflateEnd(this.strm);this.onEnd(status);this.ended=true;return status===Z_OK}return true};Deflate.prototype.onData=function(chunk){this.chunks.push(chunk)};Deflate.prototype.onEnd=function(status){if(status===Z_OK){if(this.options.to==="string"){this.result=this.chunks.join("")}else{this.result=utils.flattenChunks(this.chunks)}}this.chunks=[];this.err=status;this.msg=this.strm.msg};function deflate(input,options){var deflator=new Deflate(options);deflator.push(input,true);if(deflator.err){throw deflator.msg}return deflator.result}function deflateRaw(input,options){options=options||{};options.raw=true;return deflate(input,options)}function gzip(input,options){options=options||{};options.gzip=true;return deflate(input,options)}exports.Deflate=Deflate;exports.deflate=deflate;exports.deflateRaw=deflateRaw;exports.gzip=gzip},{"./utils/common":27,"./utils/strings":28,"./zlib/deflate.js":32,"./zlib/messages":37,"./zlib/zstream":39}],26:[function(_dereq_,module,exports){"use strict";var zlib_inflate=_dereq_("./zlib/inflate.js");var utils=_dereq_("./utils/common");var strings=_dereq_("./utils/strings");var c=_dereq_("./zlib/constants");var msg=_dereq_("./zlib/messages");var zstream=_dereq_("./zlib/zstream");var gzheader=_dereq_("./zlib/gzheader");var Inflate=function(options){this.options=utils.assign({chunkSize:16384,windowBits:0,to:""},options||{});var opt=this.options;if(opt.raw&&opt.windowBits>=0&&opt.windowBits<16){opt.windowBits=-opt.windowBits;if(opt.windowBits===0){opt.windowBits=-15}}if(opt.windowBits>=0&&opt.windowBits<16&&!(options&&options.windowBits)){opt.windowBits+=32}if(opt.windowBits>15&&opt.windowBits<48){if((opt.windowBits&15)===0){opt.windowBits|=15}}this.err=0;this.msg="";this.ended=false;this.chunks=[];this.strm=new zstream;this.strm.avail_out=0;var status=zlib_inflate.inflateInit2(this.strm,opt.windowBits);if(status!==c.Z_OK){throw new Error(msg[status])}this.header=new gzheader;zlib_inflate.inflateGetHeader(this.strm,this.header)};Inflate.prototype.push=function(data,mode){var strm=this.strm;var chunkSize=this.options.chunkSize;var status,_mode;var next_out_utf8,tail,utf8str;if(this.ended){return false}_mode=mode===~~mode?mode:mode===true?c.Z_FINISH:c.Z_NO_FLUSH;if(typeof data==="string"){strm.input=strings.binstring2buf(data)}else{strm.input=data}strm.next_in=0;strm.avail_in=strm.input.length;do{if(strm.avail_out===0){strm.output=new utils.Buf8(chunkSize);strm.next_out=0;strm.avail_out=chunkSize}status=zlib_inflate.inflate(strm,c.Z_NO_FLUSH);if(status!==c.Z_STREAM_END&&status!==c.Z_OK){this.onEnd(status);this.ended=true;return false}if(strm.next_out){if(strm.avail_out===0||status===c.Z_STREAM_END||strm.avail_in===0&&_mode===c.Z_FINISH){if(this.options.to==="string"){next_out_utf8=strings.utf8border(strm.output,strm.next_out);tail=strm.next_out-next_out_utf8;utf8str=strings.buf2string(strm.output,next_out_utf8);strm.next_out=tail;strm.avail_out=chunkSize-tail;if(tail){utils.arraySet(strm.output,strm.output,next_out_utf8,tail,0)}this.onData(utf8str)}else{this.onData(utils.shrinkBuf(strm.output,strm.next_out))}}}}while(strm.avail_in>0&&status!==c.Z_STREAM_END);if(status===c.Z_STREAM_END){_mode=c.Z_FINISH}if(_mode===c.Z_FINISH){status=zlib_inflate.inflateEnd(this.strm);this.onEnd(status);this.ended=true;return status===c.Z_OK}return true};Inflate.prototype.onData=function(chunk){this.chunks.push(chunk)};Inflate.prototype.onEnd=function(status){if(status===c.Z_OK){if(this.options.to==="string"){this.result=this.chunks.join("")}else{this.result=utils.flattenChunks(this.chunks)}}this.chunks=[];this.err=status;this.msg=this.strm.msg};function inflate(input,options){var inflator=new Inflate(options);inflator.push(input,true);if(inflator.err){throw inflator.msg}return inflator.result}function inflateRaw(input,options){options=options||{};options.raw=true;return inflate(input,options)}exports.Inflate=Inflate;exports.inflate=inflate;exports.inflateRaw=inflateRaw;exports.ungzip=inflate},{"./utils/common":27,"./utils/strings":28,"./zlib/constants":30,"./zlib/gzheader":33,"./zlib/inflate.js":35,"./zlib/messages":37,"./zlib/zstream":39}],27:[function(_dereq_,module,exports){"use strict";var TYPED_OK=typeof Uint8Array!=="undefined"&&typeof Uint16Array!=="undefined"&&typeof Int32Array!=="undefined";exports.assign=function(obj){var sources=Array.prototype.slice.call(arguments,1);while(sources.length){var source=sources.shift();if(!source){continue}if(typeof source!=="object"){throw new TypeError(source+"must be non-object")}for(var p in source){if(source.hasOwnProperty(p)){obj[p]=source[p]}}}return obj};exports.shrinkBuf=function(buf,size){if(buf.length===size){return buf}if(buf.subarray){return buf.subarray(0,size)}buf.length=size;return buf};var fnTyped={arraySet:function(dest,src,src_offs,len,dest_offs){if(src.subarray&&dest.subarray){dest.set(src.subarray(src_offs,src_offs+len),dest_offs);return}for(var i=0;i<len;i++){dest[dest_offs+i]=src[src_offs+i]}},flattenChunks:function(chunks){var i,l,len,pos,chunk,result;len=0;for(i=0,l=chunks.length;i<l;i++){len+=chunks[i].length}result=new Uint8Array(len);pos=0;for(i=0,l=chunks.length;i<l;i++){chunk=chunks[i];result.set(chunk,pos);pos+=chunk.length}return result}};var fnUntyped={arraySet:function(dest,src,src_offs,len,dest_offs){for(var i=0;i<len;i++){dest[dest_offs+i]=src[src_offs+i]}},flattenChunks:function(chunks){return[].concat.apply([],chunks)}};exports.setTyped=function(on){if(on){exports.Buf8=Uint8Array;exports.Buf16=Uint16Array;exports.Buf32=Int32Array;exports.assign(exports,fnTyped)}else{exports.Buf8=Array;exports.Buf16=Array;exports.Buf32=Array;exports.assign(exports,fnUntyped)}};exports.setTyped(TYPED_OK)},{}],28:[function(_dereq_,module,exports){"use strict";var utils=_dereq_("./common");var STR_APPLY_OK=true;var STR_APPLY_UIA_OK=true;try{String.fromCharCode.apply(null,[0])}catch(__){STR_APPLY_OK=false}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(__){STR_APPLY_UIA_OK=false}var _utf8len=new utils.Buf8(256);for(var i=0;i<256;i++){_utf8len[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1}_utf8len[254]=_utf8len[254]=1;exports.string2buf=function(str){var buf,c,c2,m_pos,i,str_len=str.length,buf_len=0;for(m_pos=0;m_pos<str_len;m_pos++){c=str.charCodeAt(m_pos);if((c&64512)===55296&&m_pos+1<str_len){c2=str.charCodeAt(m_pos+1);if((c2&64512)===56320){c=65536+(c-55296<<10)+(c2-56320);m_pos++}}buf_len+=c<128?1:c<2048?2:c<65536?3:4}buf=new utils.Buf8(buf_len);for(i=0,m_pos=0;i<buf_len;m_pos++){c=str.charCodeAt(m_pos);if((c&64512)===55296&&m_pos+1<str_len){c2=str.charCodeAt(m_pos+1);if((c2&64512)===56320){c=65536+(c-55296<<10)+(c2-56320);m_pos++}}if(c<128){buf[i++]=c}else if(c<2048){buf[i++]=192|c>>>6;buf[i++]=128|c&63}else if(c<65536){buf[i++]=224|c>>>12;buf[i++]=128|c>>>6&63;buf[i++]=128|c&63}else{buf[i++]=240|c>>>18;buf[i++]=128|c>>>12&63;buf[i++]=128|c>>>6&63;buf[i++]=128|c&63}}return buf};function buf2binstring(buf,len){if(len<65537){if(buf.subarray&&STR_APPLY_UIA_OK||!buf.subarray&&STR_APPLY_OK){return String.fromCharCode.apply(null,utils.shrinkBuf(buf,len))}}var result="";for(var i=0;i<len;i++){result+=String.fromCharCode(buf[i])}return result}exports.buf2binstring=function(buf){return buf2binstring(buf,buf.length)};exports.binstring2buf=function(str){var buf=new utils.Buf8(str.length);for(var i=0,len=buf.length;i<len;i++){buf[i]=str.charCodeAt(i)}return buf};exports.buf2string=function(buf,max){var i,out,c,c_len;var len=max||buf.length;var utf16buf=new Array(len*2);for(out=0,i=0;i<len;){c=buf[i++];if(c<128){utf16buf[out++]=c;continue}c_len=_utf8len[c];if(c_len>4){utf16buf[out++]=65533;i+=c_len-1;continue}c&=c_len===2?31:c_len===3?15:7;while(c_len>1&&i<len){c=c<<6|buf[i++]&63;c_len--}if(c_len>1){utf16buf[out++]=65533;continue}if(c<65536){utf16buf[out++]=c}else{c-=65536;utf16buf[out++]=55296|c>>10&1023;utf16buf[out++]=56320|c&1023}}return buf2binstring(utf16buf,out)};exports.utf8border=function(buf,max){var pos;max=max||buf.length;if(max>buf.length){max=buf.length}pos=max-1;while(pos>=0&&(buf[pos]&192)===128){pos--}if(pos<0){return max}if(pos===0){return max}return pos+_utf8len[buf[pos]]>max?pos:max}},{"./common":27}],29:[function(_dereq_,module,exports){"use strict";function adler32(adler,buf,len,pos){var s1=adler&65535|0,s2=adler>>>16&65535|0,n=0;while(len!==0){n=len>2e3?2e3:len;len-=n;do{s1=s1+buf[pos++]|0;s2=s2+s1|0}while(--n);s1%=65521;s2%=65521}return s1|s2<<16|0}module.exports=adler32},{}],30:[function(_dereq_,module,exports){module.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],31:[function(_dereq_,module,exports){"use strict";function makeTable(){var c,table=[];for(var n=0;n<256;n++){c=n;for(var k=0;k<8;k++){c=c&1?3988292384^c>>>1:c>>>1}table[n]=c}return table}var crcTable=makeTable();function crc32(crc,buf,len,pos){var t=crcTable,end=pos+len;crc=crc^-1;for(var i=pos;i<end;i++){crc=crc>>>8^t[(crc^buf[i])&255]}return crc^-1}module.exports=crc32},{}],32:[function(_dereq_,module,exports){"use strict";var utils=_dereq_("../utils/common");var trees=_dereq_("./trees");var adler32=_dereq_("./adler32");var crc32=_dereq_("./crc32");var msg=_dereq_("./messages");var Z_NO_FLUSH=0;var Z_PARTIAL_FLUSH=1;var Z_FULL_FLUSH=3;var Z_FINISH=4;var Z_BLOCK=5;var Z_OK=0;var Z_STREAM_END=1;var Z_STREAM_ERROR=-2;var Z_DATA_ERROR=-3;var Z_BUF_ERROR=-5;var Z_DEFAULT_COMPRESSION=-1;var Z_FILTERED=1;var Z_HUFFMAN_ONLY=2;var Z_RLE=3;var Z_FIXED=4;var Z_DEFAULT_STRATEGY=0;var Z_UNKNOWN=2;var Z_DEFLATED=8;var MAX_MEM_LEVEL=9;var MAX_WBITS=15;var DEF_MEM_LEVEL=8;var LENGTH_CODES=29;var LITERALS=256;var L_CODES=LITERALS+1+LENGTH_CODES;var D_CODES=30;var BL_CODES=19;var HEAP_SIZE=2*L_CODES+1;var MAX_BITS=15;var MIN_MATCH=3;var MAX_MATCH=258;var MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1;var PRESET_DICT=32;var INIT_STATE=42;var EXTRA_STATE=69;var NAME_STATE=73;var COMMENT_STATE=91;var HCRC_STATE=103;var BUSY_STATE=113;var FINISH_STATE=666;var BS_NEED_MORE=1;var BS_BLOCK_DONE=2;var BS_FINISH_STARTED=3;var BS_FINISH_DONE=4;var OS_CODE=3;function err(strm,errorCode){strm.msg=msg[errorCode];return errorCode}function rank(f){return(f<<1)-(f>4?9:0)}function zero(buf){var len=buf.length;while(--len>=0){buf[len]=0}}function flush_pending(strm){var s=strm.state;var len=s.pending;if(len>strm.avail_out){len=strm.avail_out}if(len===0){return}utils.arraySet(strm.output,s.pending_buf,s.pending_out,len,strm.next_out);strm.next_out+=len;s.pending_out+=len;strm.total_out+=len;strm.avail_out-=len;s.pending-=len;if(s.pending===0){s.pending_out=0}}function flush_block_only(s,last){trees._tr_flush_block(s,s.block_start>=0?s.block_start:-1,s.strstart-s.block_start,last);s.block_start=s.strstart;flush_pending(s.strm)}function put_byte(s,b){s.pending_buf[s.pending++]=b}function putShortMSB(s,b){s.pending_buf[s.pending++]=b>>>8&255;s.pending_buf[s.pending++]=b&255}function read_buf(strm,buf,start,size){var len=strm.avail_in;if(len>size){len=size}if(len===0){return 0}strm.avail_in-=len;utils.arraySet(buf,strm.input,strm.next_in,len,start);if(strm.state.wrap===1){strm.adler=adler32(strm.adler,buf,len,start)}else if(strm.state.wrap===2){strm.adler=crc32(strm.adler,buf,len,start)}strm.next_in+=len;strm.total_in+=len;return len}function longest_match(s,cur_match){var chain_length=s.max_chain_length;var scan=s.strstart;var match;var len;var best_len=s.prev_length;var nice_match=s.nice_match;var limit=s.strstart>s.w_size-MIN_LOOKAHEAD?s.strstart-(s.w_size-MIN_LOOKAHEAD):0;var _win=s.window;var wmask=s.w_mask;var prev=s.prev;var strend=s.strstart+MAX_MATCH;var scan_end1=_win[scan+best_len-1];var scan_end=_win[scan+best_len];if(s.prev_length>=s.good_match){chain_length>>=2}if(nice_match>s.lookahead){nice_match=s.lookahead}do{match=cur_match;if(_win[match+best_len]!==scan_end||_win[match+best_len-1]!==scan_end1||_win[match]!==_win[scan]||_win[++match]!==_win[scan+1]){continue}scan+=2;match++;do{}while(_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&scan<strend);len=MAX_MATCH-(strend-scan);scan=strend-MAX_MATCH;if(len>best_len){s.match_start=cur_match;best_len=len;if(len>=nice_match){break}scan_end1=_win[scan+best_len-1];scan_end=_win[scan+best_len]}}while((cur_match=prev[cur_match&wmask])>limit&&--chain_length!==0);if(best_len<=s.lookahead){return best_len}return s.lookahead}function fill_window(s){var _w_size=s.w_size;var p,n,m,more,str;do{more=s.window_size-s.lookahead-s.strstart;if(s.strstart>=_w_size+(_w_size-MIN_LOOKAHEAD)){utils.arraySet(s.window,s.window,_w_size,_w_size,0);s.match_start-=_w_size;s.strstart-=_w_size;s.block_start-=_w_size;n=s.hash_size;p=n;do{m=s.head[--p];s.head[p]=m>=_w_size?m-_w_size:0}while(--n);n=_w_size;p=n;do{m=s.prev[--p];s.prev[p]=m>=_w_size?m-_w_size:0}while(--n);more+=_w_size}if(s.strm.avail_in===0){break}n=read_buf(s.strm,s.window,s.strstart+s.lookahead,more);s.lookahead+=n;if(s.lookahead+s.insert>=MIN_MATCH){str=s.strstart-s.insert;s.ins_h=s.window[str];s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+1])&s.hash_mask;while(s.insert){s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+MIN_MATCH-1])&s.hash_mask;s.prev[str&s.w_mask]=s.head[s.ins_h];s.head[s.ins_h]=str;str++;s.insert--;if(s.lookahead+s.insert<MIN_MATCH){break}}}}while(s.lookahead<MIN_LOOKAHEAD&&s.strm.avail_in!==0)}function deflate_stored(s,flush){var max_block_size=65535;if(max_block_size>s.pending_buf_size-5){max_block_size=s.pending_buf_size-5}for(;;){if(s.lookahead<=1){fill_window(s);if(s.lookahead===0&&flush===Z_NO_FLUSH){return BS_NEED_MORE}if(s.lookahead===0){break}}s.strstart+=s.lookahead;s.lookahead=0;var max_start=s.block_start+max_block_size;if(s.strstart===0||s.strstart>=max_start){s.lookahead=s.strstart-max_start;s.strstart=max_start;flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}if(s.strstart-s.block_start>=s.w_size-MIN_LOOKAHEAD){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}}s.insert=0;if(flush===Z_FINISH){flush_block_only(s,true);if(s.strm.avail_out===0){return BS_FINISH_STARTED}return BS_FINISH_DONE}if(s.strstart>s.block_start){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}return BS_NEED_MORE}function deflate_fast(s,flush){var hash_head;var bflush;for(;;){if(s.lookahead<MIN_LOOKAHEAD){fill_window(s);if(s.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH){return BS_NEED_MORE}if(s.lookahead===0){break}}hash_head=0;if(s.lookahead>=MIN_MATCH){s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask;hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h];s.head[s.ins_h]=s.strstart}if(hash_head!==0&&s.strstart-hash_head<=s.w_size-MIN_LOOKAHEAD){s.match_length=longest_match(s,hash_head)}if(s.match_length>=MIN_MATCH){bflush=trees._tr_tally(s,s.strstart-s.match_start,s.match_length-MIN_MATCH);s.lookahead-=s.match_length;if(s.match_length<=s.max_lazy_match&&s.lookahead>=MIN_MATCH){s.match_length--;do{s.strstart++;s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask;hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h];s.head[s.ins_h]=s.strstart}while(--s.match_length!==0);s.strstart++}else{s.strstart+=s.match_length;s.match_length=0;s.ins_h=s.window[s.strstart];s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+1])&s.hash_mask}}else{bflush=trees._tr_tally(s,0,s.window[s.strstart]);s.lookahead--;s.strstart++}if(bflush){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}}s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1;if(flush===Z_FINISH){flush_block_only(s,true);if(s.strm.avail_out===0){return BS_FINISH_STARTED}return BS_FINISH_DONE}if(s.last_lit){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}return BS_BLOCK_DONE}function deflate_slow(s,flush){var hash_head;var bflush;var max_insert;for(;;){if(s.lookahead<MIN_LOOKAHEAD){fill_window(s);if(s.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH){return BS_NEED_MORE}if(s.lookahead===0){break}}hash_head=0;if(s.lookahead>=MIN_MATCH){s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask;hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h];s.head[s.ins_h]=s.strstart}s.prev_length=s.match_length;s.prev_match=s.match_start;s.match_length=MIN_MATCH-1;if(hash_head!==0&&s.prev_length<s.max_lazy_match&&s.strstart-hash_head<=s.w_size-MIN_LOOKAHEAD){s.match_length=longest_match(s,hash_head);if(s.match_length<=5&&(s.strategy===Z_FILTERED||s.match_length===MIN_MATCH&&s.strstart-s.match_start>4096)){s.match_length=MIN_MATCH-1}}if(s.prev_length>=MIN_MATCH&&s.match_length<=s.prev_length){max_insert=s.strstart+s.lookahead-MIN_MATCH;bflush=trees._tr_tally(s,s.strstart-1-s.prev_match,s.prev_length-MIN_MATCH);s.lookahead-=s.prev_length-1;s.prev_length-=2;do{if(++s.strstart<=max_insert){s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask;hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h];s.head[s.ins_h]=s.strstart}}while(--s.prev_length!==0);s.match_available=0;s.match_length=MIN_MATCH-1;s.strstart++;if(bflush){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}}else if(s.match_available){bflush=trees._tr_tally(s,0,s.window[s.strstart-1]);if(bflush){flush_block_only(s,false)}s.strstart++;s.lookahead--;if(s.strm.avail_out===0){return BS_NEED_MORE}}else{s.match_available=1;s.strstart++;s.lookahead--}}if(s.match_available){bflush=trees._tr_tally(s,0,s.window[s.strstart-1]);s.match_available=0}s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1;if(flush===Z_FINISH){flush_block_only(s,true);if(s.strm.avail_out===0){return BS_FINISH_STARTED}return BS_FINISH_DONE}if(s.last_lit){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}return BS_BLOCK_DONE}function deflate_rle(s,flush){var bflush;var prev;var scan,strend;var _win=s.window;for(;;){if(s.lookahead<=MAX_MATCH){fill_window(s);if(s.lookahead<=MAX_MATCH&&flush===Z_NO_FLUSH){return BS_NEED_MORE}if(s.lookahead===0){break}}s.match_length=0;if(s.lookahead>=MIN_MATCH&&s.strstart>0){scan=s.strstart-1;prev=_win[scan];if(prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]){strend=s.strstart+MAX_MATCH;do{}while(prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&scan<strend);s.match_length=MAX_MATCH-(strend-scan);if(s.match_length>s.lookahead){s.match_length=s.lookahead}}}if(s.match_length>=MIN_MATCH){bflush=trees._tr_tally(s,1,s.match_length-MIN_MATCH);s.lookahead-=s.match_length;s.strstart+=s.match_length;s.match_length=0}else{bflush=trees._tr_tally(s,0,s.window[s.strstart]);s.lookahead--;s.strstart++}if(bflush){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}}s.insert=0;if(flush===Z_FINISH){flush_block_only(s,true);if(s.strm.avail_out===0){return BS_FINISH_STARTED}return BS_FINISH_DONE}if(s.last_lit){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}return BS_BLOCK_DONE}function deflate_huff(s,flush){var bflush;
for(;;){if(s.lookahead===0){fill_window(s);if(s.lookahead===0){if(flush===Z_NO_FLUSH){return BS_NEED_MORE}break}}s.match_length=0;bflush=trees._tr_tally(s,0,s.window[s.strstart]);s.lookahead--;s.strstart++;if(bflush){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}}s.insert=0;if(flush===Z_FINISH){flush_block_only(s,true);if(s.strm.avail_out===0){return BS_FINISH_STARTED}return BS_FINISH_DONE}if(s.last_lit){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}return BS_BLOCK_DONE}var Config=function(good_length,max_lazy,nice_length,max_chain,func){this.good_length=good_length;this.max_lazy=max_lazy;this.nice_length=nice_length;this.max_chain=max_chain;this.func=func};var configuration_table;configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)];function lm_init(s){s.window_size=2*s.w_size;zero(s.head);s.max_lazy_match=configuration_table[s.level].max_lazy;s.good_match=configuration_table[s.level].good_length;s.nice_match=configuration_table[s.level].nice_length;s.max_chain_length=configuration_table[s.level].max_chain;s.strstart=0;s.block_start=0;s.lookahead=0;s.insert=0;s.match_length=s.prev_length=MIN_MATCH-1;s.match_available=0;s.ins_h=0}function DeflateState(){this.strm=null;this.status=0;this.pending_buf=null;this.pending_buf_size=0;this.pending_out=0;this.pending=0;this.wrap=0;this.gzhead=null;this.gzindex=0;this.method=Z_DEFLATED;this.last_flush=-1;this.w_size=0;this.w_bits=0;this.w_mask=0;this.window=null;this.window_size=0;this.prev=null;this.head=null;this.ins_h=0;this.hash_size=0;this.hash_bits=0;this.hash_mask=0;this.hash_shift=0;this.block_start=0;this.match_length=0;this.prev_match=0;this.match_available=0;this.strstart=0;this.match_start=0;this.lookahead=0;this.prev_length=0;this.max_chain_length=0;this.max_lazy_match=0;this.level=0;this.strategy=0;this.good_match=0;this.nice_match=0;this.dyn_ltree=new utils.Buf16(HEAP_SIZE*2);this.dyn_dtree=new utils.Buf16((2*D_CODES+1)*2);this.bl_tree=new utils.Buf16((2*BL_CODES+1)*2);zero(this.dyn_ltree);zero(this.dyn_dtree);zero(this.bl_tree);this.l_desc=null;this.d_desc=null;this.bl_desc=null;this.bl_count=new utils.Buf16(MAX_BITS+1);this.heap=new utils.Buf16(2*L_CODES+1);zero(this.heap);this.heap_len=0;this.heap_max=0;this.depth=new utils.Buf16(2*L_CODES+1);zero(this.depth);this.l_buf=0;this.lit_bufsize=0;this.last_lit=0;this.d_buf=0;this.opt_len=0;this.static_len=0;this.matches=0;this.insert=0;this.bi_buf=0;this.bi_valid=0}function deflateResetKeep(strm){var s;if(!strm||!strm.state){return err(strm,Z_STREAM_ERROR)}strm.total_in=strm.total_out=0;strm.data_type=Z_UNKNOWN;s=strm.state;s.pending=0;s.pending_out=0;if(s.wrap<0){s.wrap=-s.wrap}s.status=s.wrap?INIT_STATE:BUSY_STATE;strm.adler=s.wrap===2?0:1;s.last_flush=Z_NO_FLUSH;trees._tr_init(s);return Z_OK}function deflateReset(strm){var ret=deflateResetKeep(strm);if(ret===Z_OK){lm_init(strm.state)}return ret}function deflateSetHeader(strm,head){if(!strm||!strm.state){return Z_STREAM_ERROR}if(strm.state.wrap!==2){return Z_STREAM_ERROR}strm.state.gzhead=head;return Z_OK}function deflateInit2(strm,level,method,windowBits,memLevel,strategy){if(!strm){return Z_STREAM_ERROR}var wrap=1;if(level===Z_DEFAULT_COMPRESSION){level=6}if(windowBits<0){wrap=0;windowBits=-windowBits}else if(windowBits>15){wrap=2;windowBits-=16}if(memLevel<1||memLevel>MAX_MEM_LEVEL||method!==Z_DEFLATED||windowBits<8||windowBits>15||level<0||level>9||strategy<0||strategy>Z_FIXED){return err(strm,Z_STREAM_ERROR)}if(windowBits===8){windowBits=9}var s=new DeflateState;strm.state=s;s.strm=strm;s.wrap=wrap;s.gzhead=null;s.w_bits=windowBits;s.w_size=1<<s.w_bits;s.w_mask=s.w_size-1;s.hash_bits=memLevel+7;s.hash_size=1<<s.hash_bits;s.hash_mask=s.hash_size-1;s.hash_shift=~~((s.hash_bits+MIN_MATCH-1)/MIN_MATCH);s.window=new utils.Buf8(s.w_size*2);s.head=new utils.Buf16(s.hash_size);s.prev=new utils.Buf16(s.w_size);s.lit_bufsize=1<<memLevel+6;s.pending_buf_size=s.lit_bufsize*4;s.pending_buf=new utils.Buf8(s.pending_buf_size);s.d_buf=s.lit_bufsize>>1;s.l_buf=(1+2)*s.lit_bufsize;s.level=level;s.strategy=strategy;s.method=method;return deflateReset(strm)}function deflateInit(strm,level){return deflateInit2(strm,level,Z_DEFLATED,MAX_WBITS,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY)}function deflate(strm,flush){var old_flush,s;var beg,val;if(!strm||!strm.state||flush>Z_BLOCK||flush<0){return strm?err(strm,Z_STREAM_ERROR):Z_STREAM_ERROR}s=strm.state;if(!strm.output||!strm.input&&strm.avail_in!==0||s.status===FINISH_STATE&&flush!==Z_FINISH){return err(strm,strm.avail_out===0?Z_BUF_ERROR:Z_STREAM_ERROR)}s.strm=strm;old_flush=s.last_flush;s.last_flush=flush;if(s.status===INIT_STATE){if(s.wrap===2){strm.adler=0;put_byte(s,31);put_byte(s,139);put_byte(s,8);if(!s.gzhead){put_byte(s,0);put_byte(s,0);put_byte(s,0);put_byte(s,0);put_byte(s,0);put_byte(s,s.level===9?2:s.strategy>=Z_HUFFMAN_ONLY||s.level<2?4:0);put_byte(s,OS_CODE);s.status=BUSY_STATE}else{put_byte(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(!s.gzhead.extra?0:4)+(!s.gzhead.name?0:8)+(!s.gzhead.comment?0:16));put_byte(s,s.gzhead.time&255);put_byte(s,s.gzhead.time>>8&255);put_byte(s,s.gzhead.time>>16&255);put_byte(s,s.gzhead.time>>24&255);put_byte(s,s.level===9?2:s.strategy>=Z_HUFFMAN_ONLY||s.level<2?4:0);put_byte(s,s.gzhead.os&255);if(s.gzhead.extra&&s.gzhead.extra.length){put_byte(s,s.gzhead.extra.length&255);put_byte(s,s.gzhead.extra.length>>8&255)}if(s.gzhead.hcrc){strm.adler=crc32(strm.adler,s.pending_buf,s.pending,0)}s.gzindex=0;s.status=EXTRA_STATE}}else{var header=Z_DEFLATED+(s.w_bits-8<<4)<<8;var level_flags=-1;if(s.strategy>=Z_HUFFMAN_ONLY||s.level<2){level_flags=0}else if(s.level<6){level_flags=1}else if(s.level===6){level_flags=2}else{level_flags=3}header|=level_flags<<6;if(s.strstart!==0){header|=PRESET_DICT}header+=31-header%31;s.status=BUSY_STATE;putShortMSB(s,header);if(s.strstart!==0){putShortMSB(s,strm.adler>>>16);putShortMSB(s,strm.adler&65535)}strm.adler=1}}if(s.status===EXTRA_STATE){if(s.gzhead.extra){beg=s.pending;while(s.gzindex<(s.gzhead.extra.length&65535)){if(s.pending===s.pending_buf_size){if(s.gzhead.hcrc&&s.pending>beg){strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)}flush_pending(strm);beg=s.pending;if(s.pending===s.pending_buf_size){break}}put_byte(s,s.gzhead.extra[s.gzindex]&255);s.gzindex++}if(s.gzhead.hcrc&&s.pending>beg){strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)}if(s.gzindex===s.gzhead.extra.length){s.gzindex=0;s.status=NAME_STATE}}else{s.status=NAME_STATE}}if(s.status===NAME_STATE){if(s.gzhead.name){beg=s.pending;do{if(s.pending===s.pending_buf_size){if(s.gzhead.hcrc&&s.pending>beg){strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)}flush_pending(strm);beg=s.pending;if(s.pending===s.pending_buf_size){val=1;break}}if(s.gzindex<s.gzhead.name.length){val=s.gzhead.name.charCodeAt(s.gzindex++)&255}else{val=0}put_byte(s,val)}while(val!==0);if(s.gzhead.hcrc&&s.pending>beg){strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)}if(val===0){s.gzindex=0;s.status=COMMENT_STATE}}else{s.status=COMMENT_STATE}}if(s.status===COMMENT_STATE){if(s.gzhead.comment){beg=s.pending;do{if(s.pending===s.pending_buf_size){if(s.gzhead.hcrc&&s.pending>beg){strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)}flush_pending(strm);beg=s.pending;if(s.pending===s.pending_buf_size){val=1;break}}if(s.gzindex<s.gzhead.comment.length){val=s.gzhead.comment.charCodeAt(s.gzindex++)&255}else{val=0}put_byte(s,val)}while(val!==0);if(s.gzhead.hcrc&&s.pending>beg){strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)}if(val===0){s.status=HCRC_STATE}}else{s.status=HCRC_STATE}}if(s.status===HCRC_STATE){if(s.gzhead.hcrc){if(s.pending+2>s.pending_buf_size){flush_pending(strm)}if(s.pending+2<=s.pending_buf_size){put_byte(s,strm.adler&255);put_byte(s,strm.adler>>8&255);strm.adler=0;s.status=BUSY_STATE}}else{s.status=BUSY_STATE}}if(s.pending!==0){flush_pending(strm);if(strm.avail_out===0){s.last_flush=-1;return Z_OK}}else if(strm.avail_in===0&&rank(flush)<=rank(old_flush)&&flush!==Z_FINISH){return err(strm,Z_BUF_ERROR)}if(s.status===FINISH_STATE&&strm.avail_in!==0){return err(strm,Z_BUF_ERROR)}if(strm.avail_in!==0||s.lookahead!==0||flush!==Z_NO_FLUSH&&s.status!==FINISH_STATE){var bstate=s.strategy===Z_HUFFMAN_ONLY?deflate_huff(s,flush):s.strategy===Z_RLE?deflate_rle(s,flush):configuration_table[s.level].func(s,flush);if(bstate===BS_FINISH_STARTED||bstate===BS_FINISH_DONE){s.status=FINISH_STATE}if(bstate===BS_NEED_MORE||bstate===BS_FINISH_STARTED){if(strm.avail_out===0){s.last_flush=-1}return Z_OK}if(bstate===BS_BLOCK_DONE){if(flush===Z_PARTIAL_FLUSH){trees._tr_align(s)}else if(flush!==Z_BLOCK){trees._tr_stored_block(s,0,0,false);if(flush===Z_FULL_FLUSH){zero(s.head);if(s.lookahead===0){s.strstart=0;s.block_start=0;s.insert=0}}}flush_pending(strm);if(strm.avail_out===0){s.last_flush=-1;return Z_OK}}}if(flush!==Z_FINISH){return Z_OK}if(s.wrap<=0){return Z_STREAM_END}if(s.wrap===2){put_byte(s,strm.adler&255);put_byte(s,strm.adler>>8&255);put_byte(s,strm.adler>>16&255);put_byte(s,strm.adler>>24&255);put_byte(s,strm.total_in&255);put_byte(s,strm.total_in>>8&255);put_byte(s,strm.total_in>>16&255);put_byte(s,strm.total_in>>24&255)}else{putShortMSB(s,strm.adler>>>16);putShortMSB(s,strm.adler&65535)}flush_pending(strm);if(s.wrap>0){s.wrap=-s.wrap}return s.pending!==0?Z_OK:Z_STREAM_END}function deflateEnd(strm){var status;if(!strm||!strm.state){return Z_STREAM_ERROR}status=strm.state.status;if(status!==INIT_STATE&&status!==EXTRA_STATE&&status!==NAME_STATE&&status!==COMMENT_STATE&&status!==HCRC_STATE&&status!==BUSY_STATE&&status!==FINISH_STATE){return err(strm,Z_STREAM_ERROR)}strm.state=null;return status===BUSY_STATE?err(strm,Z_DATA_ERROR):Z_OK}exports.deflateInit=deflateInit;exports.deflateInit2=deflateInit2;exports.deflateReset=deflateReset;exports.deflateResetKeep=deflateResetKeep;exports.deflateSetHeader=deflateSetHeader;exports.deflate=deflate;exports.deflateEnd=deflateEnd;exports.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":27,"./adler32":29,"./crc32":31,"./messages":37,"./trees":38}],33:[function(_dereq_,module,exports){"use strict";function GZheader(){this.text=0;this.time=0;this.xflags=0;this.os=0;this.extra=null;this.extra_len=0;this.name="";this.comment="";this.hcrc=0;this.done=false}module.exports=GZheader},{}],34:[function(_dereq_,module,exports){"use strict";var BAD=30;var TYPE=12;module.exports=function inflate_fast(strm,start){var state;var _in;var last;var _out;var beg;var end;var dmax;var wsize;var whave;var wnext;var window;var hold;var bits;var lcode;var dcode;var lmask;var dmask;var here;var op;var len;var dist;var from;var from_source;var input,output;state=strm.state;_in=strm.next_in;input=strm.input;last=_in+(strm.avail_in-5);_out=strm.next_out;output=strm.output;beg=_out-(start-strm.avail_out);end=_out+(strm.avail_out-257);dmax=state.dmax;wsize=state.wsize;whave=state.whave;wnext=state.wnext;window=state.window;hold=state.hold;bits=state.bits;lcode=state.lencode;dcode=state.distcode;lmask=(1<<state.lenbits)-1;dmask=(1<<state.distbits)-1;top:do{if(bits<15){hold+=input[_in++]<<bits;bits+=8;hold+=input[_in++]<<bits;bits+=8}here=lcode[hold&lmask];dolen:for(;;){op=here>>>24;hold>>>=op;bits-=op;op=here>>>16&255;if(op===0){output[_out++]=here&65535}else if(op&16){len=here&65535;op&=15;if(op){if(bits<op){hold+=input[_in++]<<bits;bits+=8}len+=hold&(1<<op)-1;hold>>>=op;bits-=op}if(bits<15){hold+=input[_in++]<<bits;bits+=8;hold+=input[_in++]<<bits;bits+=8}here=dcode[hold&dmask];dodist:for(;;){op=here>>>24;hold>>>=op;bits-=op;op=here>>>16&255;if(op&16){dist=here&65535;op&=15;if(bits<op){hold+=input[_in++]<<bits;bits+=8;if(bits<op){hold+=input[_in++]<<bits;bits+=8}}dist+=hold&(1<<op)-1;if(dist>dmax){strm.msg="invalid distance too far back";state.mode=BAD;break top}hold>>>=op;bits-=op;op=_out-beg;if(dist>op){op=dist-op;if(op>whave){if(state.sane){strm.msg="invalid distance too far back";state.mode=BAD;break top}}from=0;from_source=window;if(wnext===0){from+=wsize-op;if(op<len){len-=op;do{output[_out++]=window[from++]}while(--op);from=_out-dist;from_source=output}}else if(wnext<op){from+=wsize+wnext-op;op-=wnext;if(op<len){len-=op;do{output[_out++]=window[from++]}while(--op);from=0;if(wnext<len){op=wnext;len-=op;do{output[_out++]=window[from++]}while(--op);from=_out-dist;from_source=output}}}else{from+=wnext-op;if(op<len){len-=op;do{output[_out++]=window[from++]}while(--op);from=_out-dist;from_source=output}}while(len>2){output[_out++]=from_source[from++];output[_out++]=from_source[from++];output[_out++]=from_source[from++];len-=3}if(len){output[_out++]=from_source[from++];if(len>1){output[_out++]=from_source[from++]}}}else{from=_out-dist;do{output[_out++]=output[from++];output[_out++]=output[from++];output[_out++]=output[from++];len-=3}while(len>2);if(len){output[_out++]=output[from++];if(len>1){output[_out++]=output[from++]}}}}else if((op&64)===0){here=dcode[(here&65535)+(hold&(1<<op)-1)];continue dodist}else{strm.msg="invalid distance code";state.mode=BAD;break top}break}}else if((op&64)===0){here=lcode[(here&65535)+(hold&(1<<op)-1)];continue dolen}else if(op&32){state.mode=TYPE;break top}else{strm.msg="invalid literal/length code";state.mode=BAD;break top}break}}while(_in<last&&_out<end);len=bits>>3;_in-=len;bits-=len<<3;hold&=(1<<bits)-1;strm.next_in=_in;strm.next_out=_out;strm.avail_in=_in<last?5+(last-_in):5-(_in-last);strm.avail_out=_out<end?257+(end-_out):257-(_out-end);state.hold=hold;state.bits=bits;return}},{}],35:[function(_dereq_,module,exports){"use strict";var utils=_dereq_("../utils/common");var adler32=_dereq_("./adler32");var crc32=_dereq_("./crc32");var inflate_fast=_dereq_("./inffast");var inflate_table=_dereq_("./inftrees");var CODES=0;var LENS=1;var DISTS=2;var Z_FINISH=4;var Z_BLOCK=5;var Z_TREES=6;var Z_OK=0;var Z_STREAM_END=1;var Z_NEED_DICT=2;var Z_STREAM_ERROR=-2;var Z_DATA_ERROR=-3;var Z_MEM_ERROR=-4;var Z_BUF_ERROR=-5;var Z_DEFLATED=8;var HEAD=1;var FLAGS=2;var TIME=3;var OS=4;var EXLEN=5;var EXTRA=6;var NAME=7;var COMMENT=8;var HCRC=9;var DICTID=10;var DICT=11;var TYPE=12;var TYPEDO=13;var STORED=14;var COPY_=15;var COPY=16;var TABLE=17;var LENLENS=18;var CODELENS=19;var LEN_=20;var LEN=21;var LENEXT=22;var DIST=23;var DISTEXT=24;var MATCH=25;var LIT=26;var CHECK=27;var LENGTH=28;var DONE=29;var BAD=30;var MEM=31;var SYNC=32;var ENOUGH_LENS=852;var ENOUGH_DISTS=592;var MAX_WBITS=15;var DEF_WBITS=MAX_WBITS;function ZSWAP32(q){return(q>>>24&255)+(q>>>8&65280)+((q&65280)<<8)+((q&255)<<24)}function InflateState(){this.mode=0;this.last=false;this.wrap=0;this.havedict=false;this.flags=0;this.dmax=0;this.check=0;this.total=0;this.head=null;this.wbits=0;this.wsize=0;this.whave=0;this.wnext=0;this.window=null;this.hold=0;this.bits=0;this.length=0;this.offset=0;this.extra=0;this.lencode=null;this.distcode=null;this.lenbits=0;this.distbits=0;this.ncode=0;this.nlen=0;this.ndist=0;this.have=0;this.next=null;this.lens=new utils.Buf16(320);this.work=new utils.Buf16(288);this.lendyn=null;this.distdyn=null;this.sane=0;this.back=0;this.was=0}function inflateResetKeep(strm){var state;if(!strm||!strm.state){return Z_STREAM_ERROR}state=strm.state;strm.total_in=strm.total_out=state.total=0;strm.msg="";if(state.wrap){strm.adler=state.wrap&1}state.mode=HEAD;state.last=0;state.havedict=0;state.dmax=32768;state.head=null;state.hold=0;state.bits=0;state.lencode=state.lendyn=new utils.Buf32(ENOUGH_LENS);state.distcode=state.distdyn=new utils.Buf32(ENOUGH_DISTS);state.sane=1;state.back=-1;return Z_OK}function inflateReset(strm){var state;if(!strm||!strm.state){return Z_STREAM_ERROR}state=strm.state;state.wsize=0;state.whave=0;state.wnext=0;return inflateResetKeep(strm)}function inflateReset2(strm,windowBits){var wrap;var state;if(!strm||!strm.state){return Z_STREAM_ERROR}state=strm.state;if(windowBits<0){wrap=0;windowBits=-windowBits}else{wrap=(windowBits>>4)+1;if(windowBits<48){windowBits&=15}}if(windowBits&&(windowBits<8||windowBits>15)){return Z_STREAM_ERROR}if(state.window!==null&&state.wbits!==windowBits){state.window=null}state.wrap=wrap;state.wbits=windowBits;return inflateReset(strm)}function inflateInit2(strm,windowBits){var ret;var state;if(!strm){return Z_STREAM_ERROR}state=new InflateState;strm.state=state;state.window=null;ret=inflateReset2(strm,windowBits);if(ret!==Z_OK){strm.state=null}return ret}function inflateInit(strm){return inflateInit2(strm,DEF_WBITS)}var virgin=true;var lenfix,distfix;function fixedtables(state){if(virgin){var sym;lenfix=new utils.Buf32(512);distfix=new utils.Buf32(32);sym=0;while(sym<144){state.lens[sym++]=8}while(sym<256){state.lens[sym++]=9}while(sym<280){state.lens[sym++]=7}while(sym<288){state.lens[sym++]=8}inflate_table(LENS,state.lens,0,288,lenfix,0,state.work,{bits:9});sym=0;while(sym<32){state.lens[sym++]=5}inflate_table(DISTS,state.lens,0,32,distfix,0,state.work,{bits:5});virgin=false}state.lencode=lenfix;state.lenbits=9;state.distcode=distfix;state.distbits=5}function updatewindow(strm,src,end,copy){var dist;var state=strm.state;if(state.window===null){state.wsize=1<<state.wbits;state.wnext=0;state.whave=0;state.window=new utils.Buf8(state.wsize)}if(copy>=state.wsize){utils.arraySet(state.window,src,end-state.wsize,state.wsize,0);state.wnext=0;state.whave=state.wsize}else{dist=state.wsize-state.wnext;if(dist>copy){dist=copy}utils.arraySet(state.window,src,end-copy,dist,state.wnext);copy-=dist;if(copy){utils.arraySet(state.window,src,end-copy,copy,0);state.wnext=copy;state.whave=state.wsize}else{state.wnext+=dist;if(state.wnext===state.wsize){state.wnext=0}if(state.whave<state.wsize){state.whave+=dist}}}return 0}function inflate(strm,flush){var state;var input,output;var next;var put;var have,left;var hold;var bits;var _in,_out;var copy;var from;var from_source;var here=0;var here_bits,here_op,here_val;var last_bits,last_op,last_val;var len;var ret;var hbuf=new utils.Buf8(4);var opts;var n;var order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!strm||!strm.state||!strm.output||!strm.input&&strm.avail_in!==0){return Z_STREAM_ERROR}state=strm.state;if(state.mode===TYPE){state.mode=TYPEDO}put=strm.next_out;output=strm.output;left=strm.avail_out;next=strm.next_in;input=strm.input;have=strm.avail_in;hold=state.hold;bits=state.bits;_in=have;_out=left;ret=Z_OK;inf_leave:for(;;){switch(state.mode){case HEAD:if(state.wrap===0){state.mode=TYPEDO;break}while(bits<16){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(state.wrap&2&&hold===35615){state.check=0;hbuf[0]=hold&255;hbuf[1]=hold>>>8&255;state.check=crc32(state.check,hbuf,2,0);hold=0;bits=0;state.mode=FLAGS;break}state.flags=0;if(state.head){state.head.done=false}if(!(state.wrap&1)||(((hold&255)<<8)+(hold>>8))%31){strm.msg="incorrect header check";state.mode=BAD;break}if((hold&15)!==Z_DEFLATED){strm.msg="unknown compression method";state.mode=BAD;break}hold>>>=4;bits-=4;len=(hold&15)+8;if(state.wbits===0){state.wbits=len}else if(len>state.wbits){strm.msg="invalid window size";state.mode=BAD;break}state.dmax=1<<len;strm.adler=state.check=1;state.mode=hold&512?DICTID:TYPE;hold=0;bits=0;break;case FLAGS:while(bits<16){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.flags=hold;if((state.flags&255)!==Z_DEFLATED){strm.msg="unknown compression method";state.mode=BAD;break}if(state.flags&57344){strm.msg="unknown header flags set";state.mode=BAD;break}if(state.head){state.head.text=hold>>8&1}if(state.flags&512){hbuf[0]=hold&255;hbuf[1]=hold>>>8&255;state.check=crc32(state.check,hbuf,2,0)}hold=0;bits=0;state.mode=TIME;case TIME:while(bits<32){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(state.head){state.head.time=hold}if(state.flags&512){hbuf[0]=hold&255;hbuf[1]=hold>>>8&255;hbuf[2]=hold>>>16&255;hbuf[3]=hold>>>24&255;state.check=crc32(state.check,hbuf,4,0)}hold=0;bits=0;state.mode=OS;case OS:while(bits<16){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(state.head){state.head.xflags=hold&255;state.head.os=hold>>8}if(state.flags&512){hbuf[0]=hold&255;hbuf[1]=hold>>>8&255;state.check=crc32(state.check,hbuf,2,0)}hold=0;bits=0;state.mode=EXLEN;case EXLEN:if(state.flags&1024){while(bits<16){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.length=hold;if(state.head){state.head.extra_len=hold}if(state.flags&512){hbuf[0]=hold&255;hbuf[1]=hold>>>8&255;state.check=crc32(state.check,hbuf,2,0)}hold=0;bits=0}else if(state.head){state.head.extra=null}state.mode=EXTRA;case EXTRA:if(state.flags&1024){copy=state.length;if(copy>have){copy=have}if(copy){if(state.head){len=state.head.extra_len-state.length;if(!state.head.extra){state.head.extra=new Array(state.head.extra_len)}utils.arraySet(state.head.extra,input,next,copy,len)}if(state.flags&512){state.check=crc32(state.check,input,copy,next)}have-=copy;next+=copy;state.length-=copy}if(state.length){break inf_leave}}state.length=0;state.mode=NAME;case NAME:if(state.flags&2048){if(have===0){break inf_leave}copy=0;do{len=input[next+copy++];if(state.head&&len&&state.length<65536){state.head.name+=String.fromCharCode(len)}}while(len&&copy<have);if(state.flags&512){state.check=crc32(state.check,input,copy,next)}have-=copy;next+=copy;if(len){break inf_leave}}else if(state.head){state.head.name=null}state.length=0;state.mode=COMMENT;case COMMENT:if(state.flags&4096){if(have===0){break inf_leave}copy=0;do{len=input[next+copy++];if(state.head&&len&&state.length<65536){state.head.comment+=String.fromCharCode(len)}}while(len&&copy<have);if(state.flags&512){state.check=crc32(state.check,input,copy,next)}have-=copy;next+=copy;if(len){break inf_leave}}else if(state.head){state.head.comment=null}state.mode=HCRC;case HCRC:if(state.flags&512){while(bits<16){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(hold!==(state.check&65535)){strm.msg="header crc mismatch";state.mode=BAD;break}hold=0;bits=0}if(state.head){state.head.hcrc=state.flags>>9&1;state.head.done=true}strm.adler=state.check=0;state.mode=TYPE;break;case DICTID:while(bits<32){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}strm.adler=state.check=ZSWAP32(hold);hold=0;bits=0;state.mode=DICT;case DICT:if(state.havedict===0){strm.next_out=put;strm.avail_out=left;strm.next_in=next;strm.avail_in=have;state.hold=hold;state.bits=bits;return Z_NEED_DICT}strm.adler=state.check=1;state.mode=TYPE;case TYPE:if(flush===Z_BLOCK||flush===Z_TREES){break inf_leave}case TYPEDO:if(state.last){hold>>>=bits&7;bits-=bits&7;state.mode=CHECK;break}while(bits<3){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.last=hold&1;hold>>>=1;bits-=1;switch(hold&3){case 0:state.mode=STORED;break;case 1:fixedtables(state);state.mode=LEN_;if(flush===Z_TREES){hold>>>=2;bits-=2;break inf_leave}break;case 2:state.mode=TABLE;break;case 3:strm.msg="invalid block type";state.mode=BAD}hold>>>=2;bits-=2;break;case STORED:hold>>>=bits&7;bits-=bits&7;while(bits<32){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if((hold&65535)!==(hold>>>16^65535)){strm.msg="invalid stored block lengths";state.mode=BAD;break}state.length=hold&65535;hold=0;bits=0;state.mode=COPY_;if(flush===Z_TREES){break inf_leave}case COPY_:state.mode=COPY;case COPY:copy=state.length;if(copy){if(copy>have){copy=have}if(copy>left){copy=left}if(copy===0){break inf_leave}utils.arraySet(output,input,next,copy,put);have-=copy;next+=copy;left-=copy;put+=copy;state.length-=copy;break}state.mode=TYPE;break;case TABLE:while(bits<14){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.nlen=(hold&31)+257;hold>>>=5;bits-=5;state.ndist=(hold&31)+1;hold>>>=5;bits-=5;state.ncode=(hold&15)+4;hold>>>=4;bits-=4;if(state.nlen>286||state.ndist>30){strm.msg="too many length or distance symbols";state.mode=BAD;break}state.have=0;state.mode=LENLENS;case LENLENS:while(state.have<state.ncode){while(bits<3){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.lens[order[state.have++]]=hold&7;hold>>>=3;bits-=3}while(state.have<19){state.lens[order[state.have++]]=0}state.lencode=state.lendyn;state.lenbits=7;opts={bits:state.lenbits};ret=inflate_table(CODES,state.lens,0,19,state.lencode,0,state.work,opts);state.lenbits=opts.bits;if(ret){strm.msg="invalid code lengths set";state.mode=BAD;break}state.have=0;state.mode=CODELENS;case CODELENS:while(state.have<state.nlen+state.ndist){for(;;){here=state.lencode[hold&(1<<state.lenbits)-1];here_bits=here>>>24;here_op=here>>>16&255;here_val=here&65535;if(here_bits<=bits){break}if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(here_val<16){hold>>>=here_bits;bits-=here_bits;state.lens[state.have++]=here_val}else{if(here_val===16){n=here_bits+2;while(bits<n){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}hold>>>=here_bits;bits-=here_bits;if(state.have===0){strm.msg="invalid bit length repeat";state.mode=BAD;break}len=state.lens[state.have-1];copy=3+(hold&3);hold>>>=2;bits-=2}else if(here_val===17){n=here_bits+3;while(bits<n){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}hold>>>=here_bits;bits-=here_bits;len=0;copy=3+(hold&7);hold>>>=3;bits-=3}else{n=here_bits+7;while(bits<n){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}hold>>>=here_bits;bits-=here_bits;len=0;copy=11+(hold&127);hold>>>=7;bits-=7}if(state.have+copy>state.nlen+state.ndist){strm.msg="invalid bit length repeat";state.mode=BAD;break}while(copy--){state.lens[state.have++]=len}}}if(state.mode===BAD){break}if(state.lens[256]===0){strm.msg="invalid code -- missing end-of-block";state.mode=BAD;break}state.lenbits=9;opts={bits:state.lenbits};ret=inflate_table(LENS,state.lens,0,state.nlen,state.lencode,0,state.work,opts);state.lenbits=opts.bits;if(ret){strm.msg="invalid literal/lengths set";state.mode=BAD;break}state.distbits=6;state.distcode=state.distdyn;opts={bits:state.distbits};ret=inflate_table(DISTS,state.lens,state.nlen,state.ndist,state.distcode,0,state.work,opts);state.distbits=opts.bits;if(ret){strm.msg="invalid distances set";state.mode=BAD;break}state.mode=LEN_;if(flush===Z_TREES){break inf_leave}case LEN_:state.mode=LEN;case LEN:if(have>=6&&left>=258){strm.next_out=put;strm.avail_out=left;strm.next_in=next;strm.avail_in=have;state.hold=hold;state.bits=bits;inflate_fast(strm,_out);put=strm.next_out;output=strm.output;left=strm.avail_out;next=strm.next_in;input=strm.input;have=strm.avail_in;hold=state.hold;bits=state.bits;if(state.mode===TYPE){state.back=-1}break}state.back=0;for(;;){here=state.lencode[hold&(1<<state.lenbits)-1];here_bits=here>>>24;here_op=here>>>16&255;here_val=here&65535;if(here_bits<=bits){break}if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(here_op&&(here_op&240)===0){last_bits=here_bits;last_op=here_op;last_val=here_val;for(;;){here=state.lencode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)];here_bits=here>>>24;here_op=here>>>16&255;here_val=here&65535;if(last_bits+here_bits<=bits){break}if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}hold>>>=last_bits;bits-=last_bits;state.back+=last_bits}hold>>>=here_bits;bits-=here_bits;state.back+=here_bits;state.length=here_val;if(here_op===0){state.mode=LIT;break}if(here_op&32){state.back=-1;state.mode=TYPE;break}if(here_op&64){strm.msg="invalid literal/length code";state.mode=BAD;break}state.extra=here_op&15;state.mode=LENEXT;case LENEXT:if(state.extra){n=state.extra;while(bits<n){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.length+=hold&(1<<state.extra)-1;hold>>>=state.extra;bits-=state.extra;state.back+=state.extra}state.was=state.length;state.mode=DIST;case DIST:for(;;){here=state.distcode[hold&(1<<state.distbits)-1];here_bits=here>>>24;here_op=here>>>16&255;here_val=here&65535;if(here_bits<=bits){break}if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if((here_op&240)===0){last_bits=here_bits;last_op=here_op;last_val=here_val;for(;;){here=state.distcode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)];here_bits=here>>>24;here_op=here>>>16&255;here_val=here&65535;if(last_bits+here_bits<=bits){break}if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}hold>>>=last_bits;bits-=last_bits;state.back+=last_bits}hold>>>=here_bits;bits-=here_bits;state.back+=here_bits;if(here_op&64){strm.msg="invalid distance code";state.mode=BAD;break}state.offset=here_val;state.extra=here_op&15;state.mode=DISTEXT;case DISTEXT:if(state.extra){n=state.extra;while(bits<n){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.offset+=hold&(1<<state.extra)-1;hold>>>=state.extra;bits-=state.extra;state.back+=state.extra}if(state.offset>state.dmax){strm.msg="invalid distance too far back";state.mode=BAD;break}state.mode=MATCH;case MATCH:if(left===0){break inf_leave}copy=_out-left;if(state.offset>copy){copy=state.offset-copy;if(copy>state.whave){if(state.sane){strm.msg="invalid distance too far back";state.mode=BAD;break}}if(copy>state.wnext){copy-=state.wnext;from=state.wsize-copy}else{from=state.wnext-copy}if(copy>state.length){copy=state.length}from_source=state.window}else{from_source=output;from=put-state.offset;copy=state.length}if(copy>left){copy=left}left-=copy;state.length-=copy;do{output[put++]=from_source[from++]}while(--copy);if(state.length===0){state.mode=LEN}break;case LIT:if(left===0){break inf_leave}output[put++]=state.length;left--;state.mode=LEN;break;case CHECK:if(state.wrap){while(bits<32){if(have===0){break inf_leave}have--;hold|=input[next++]<<bits;bits+=8}_out-=left;strm.total_out+=_out;state.total+=_out;if(_out){strm.adler=state.check=state.flags?crc32(state.check,output,_out,put-_out):adler32(state.check,output,_out,put-_out)}_out=left;if((state.flags?hold:ZSWAP32(hold))!==state.check){strm.msg="incorrect data check";state.mode=BAD;break}hold=0;bits=0}state.mode=LENGTH;case LENGTH:if(state.wrap&&state.flags){while(bits<32){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(hold!==(state.total&4294967295)){strm.msg="incorrect length check";state.mode=BAD;break}hold=0;bits=0}state.mode=DONE;case DONE:ret=Z_STREAM_END;break inf_leave;case BAD:ret=Z_DATA_ERROR;break inf_leave;case MEM:return Z_MEM_ERROR;case SYNC:default:return Z_STREAM_ERROR}}strm.next_out=put;strm.avail_out=left;strm.next_in=next;strm.avail_in=have;state.hold=hold;state.bits=bits;if(state.wsize||_out!==strm.avail_out&&state.mode<BAD&&(state.mode<CHECK||flush!==Z_FINISH)){if(updatewindow(strm,strm.output,strm.next_out,_out-strm.avail_out)){state.mode=MEM;return Z_MEM_ERROR}}_in-=strm.avail_in;_out-=strm.avail_out;strm.total_in+=_in;strm.total_out+=_out;state.total+=_out;if(state.wrap&&_out){strm.adler=state.check=state.flags?crc32(state.check,output,_out,strm.next_out-_out):adler32(state.check,output,_out,strm.next_out-_out)}strm.data_type=state.bits+(state.last?64:0)+(state.mode===TYPE?128:0)+(state.mode===LEN_||state.mode===COPY_?256:0);if((_in===0&&_out===0||flush===Z_FINISH)&&ret===Z_OK){ret=Z_BUF_ERROR}return ret}function inflateEnd(strm){if(!strm||!strm.state){return Z_STREAM_ERROR}var state=strm.state;if(state.window){state.window=null}strm.state=null;return Z_OK}function inflateGetHeader(strm,head){var state;if(!strm||!strm.state){return Z_STREAM_ERROR}state=strm.state;if((state.wrap&2)===0){return Z_STREAM_ERROR}state.head=head;head.done=false;return Z_OK}exports.inflateReset=inflateReset;exports.inflateReset2=inflateReset2;exports.inflateResetKeep=inflateResetKeep;exports.inflateInit=inflateInit;exports.inflateInit2=inflateInit2;exports.inflate=inflate;exports.inflateEnd=inflateEnd;exports.inflateGetHeader=inflateGetHeader;
exports.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":27,"./adler32":29,"./crc32":31,"./inffast":34,"./inftrees":36}],36:[function(_dereq_,module,exports){"use strict";var utils=_dereq_("../utils/common");var MAXBITS=15;var ENOUGH_LENS=852;var ENOUGH_DISTS=592;var CODES=0;var LENS=1;var DISTS=2;var lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0];var lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78];var dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0];var dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];module.exports=function inflate_table(type,lens,lens_index,codes,table,table_index,work,opts){var bits=opts.bits;var len=0;var sym=0;var min=0,max=0;var root=0;var curr=0;var drop=0;var left=0;var used=0;var huff=0;var incr;var fill;var low;var mask;var next;var base=null;var base_index=0;var end;var count=new utils.Buf16(MAXBITS+1);var offs=new utils.Buf16(MAXBITS+1);var extra=null;var extra_index=0;var here_bits,here_op,here_val;for(len=0;len<=MAXBITS;len++){count[len]=0}for(sym=0;sym<codes;sym++){count[lens[lens_index+sym]]++}root=bits;for(max=MAXBITS;max>=1;max--){if(count[max]!==0){break}}if(root>max){root=max}if(max===0){table[table_index++]=1<<24|64<<16|0;table[table_index++]=1<<24|64<<16|0;opts.bits=1;return 0}for(min=1;min<max;min++){if(count[min]!==0){break}}if(root<min){root=min}left=1;for(len=1;len<=MAXBITS;len++){left<<=1;left-=count[len];if(left<0){return-1}}if(left>0&&(type===CODES||max!==1)){return-1}offs[1]=0;for(len=1;len<MAXBITS;len++){offs[len+1]=offs[len]+count[len]}for(sym=0;sym<codes;sym++){if(lens[lens_index+sym]!==0){work[offs[lens[lens_index+sym]]++]=sym}}if(type===CODES){base=extra=work;end=19}else if(type===LENS){base=lbase;base_index-=257;extra=lext;extra_index-=257;end=256}else{base=dbase;extra=dext;end=-1}huff=0;sym=0;len=min;next=table_index;curr=root;drop=0;low=-1;used=1<<root;mask=used-1;if(type===LENS&&used>ENOUGH_LENS||type===DISTS&&used>ENOUGH_DISTS){return 1}var i=0;for(;;){i++;here_bits=len-drop;if(work[sym]<end){here_op=0;here_val=work[sym]}else if(work[sym]>end){here_op=extra[extra_index+work[sym]];here_val=base[base_index+work[sym]]}else{here_op=32+64;here_val=0}incr=1<<len-drop;fill=1<<curr;min=fill;do{fill-=incr;table[next+(huff>>drop)+fill]=here_bits<<24|here_op<<16|here_val|0}while(fill!==0);incr=1<<len-1;while(huff&incr){incr>>=1}if(incr!==0){huff&=incr-1;huff+=incr}else{huff=0}sym++;if(--count[len]===0){if(len===max){break}len=lens[lens_index+work[sym]]}if(len>root&&(huff&mask)!==low){if(drop===0){drop=root}next+=min;curr=len-drop;left=1<<curr;while(curr+drop<max){left-=count[curr+drop];if(left<=0){break}curr++;left<<=1}used+=1<<curr;if(type===LENS&&used>ENOUGH_LENS||type===DISTS&&used>ENOUGH_DISTS){return 1}low=huff&mask;table[low]=root<<24|curr<<16|next-table_index|0}}if(huff!==0){table[next+huff]=len-drop<<24|64<<16|0}opts.bits=root;return 0}},{"../utils/common":27}],37:[function(_dereq_,module,exports){"use strict";module.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],38:[function(_dereq_,module,exports){"use strict";var utils=_dereq_("../utils/common");var Z_FIXED=4;var Z_BINARY=0;var Z_TEXT=1;var Z_UNKNOWN=2;function zero(buf){var len=buf.length;while(--len>=0){buf[len]=0}}var STORED_BLOCK=0;var STATIC_TREES=1;var DYN_TREES=2;var MIN_MATCH=3;var MAX_MATCH=258;var LENGTH_CODES=29;var LITERALS=256;var L_CODES=LITERALS+1+LENGTH_CODES;var D_CODES=30;var BL_CODES=19;var HEAP_SIZE=2*L_CODES+1;var MAX_BITS=15;var Buf_size=16;var MAX_BL_BITS=7;var END_BLOCK=256;var REP_3_6=16;var REPZ_3_10=17;var REPZ_11_138=18;var extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0];var extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];var extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7];var bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];var DIST_CODE_LEN=512;var static_ltree=new Array((L_CODES+2)*2);zero(static_ltree);var static_dtree=new Array(D_CODES*2);zero(static_dtree);var _dist_code=new Array(DIST_CODE_LEN);zero(_dist_code);var _length_code=new Array(MAX_MATCH-MIN_MATCH+1);zero(_length_code);var base_length=new Array(LENGTH_CODES);zero(base_length);var base_dist=new Array(D_CODES);zero(base_dist);var StaticTreeDesc=function(static_tree,extra_bits,extra_base,elems,max_length){this.static_tree=static_tree;this.extra_bits=extra_bits;this.extra_base=extra_base;this.elems=elems;this.max_length=max_length;this.has_stree=static_tree&&static_tree.length};var static_l_desc;var static_d_desc;var static_bl_desc;var TreeDesc=function(dyn_tree,stat_desc){this.dyn_tree=dyn_tree;this.max_code=0;this.stat_desc=stat_desc};function d_code(dist){return dist<256?_dist_code[dist]:_dist_code[256+(dist>>>7)]}function put_short(s,w){s.pending_buf[s.pending++]=w&255;s.pending_buf[s.pending++]=w>>>8&255}function send_bits(s,value,length){if(s.bi_valid>Buf_size-length){s.bi_buf|=value<<s.bi_valid&65535;put_short(s,s.bi_buf);s.bi_buf=value>>Buf_size-s.bi_valid;s.bi_valid+=length-Buf_size}else{s.bi_buf|=value<<s.bi_valid&65535;s.bi_valid+=length}}function send_code(s,c,tree){send_bits(s,tree[c*2],tree[c*2+1])}function bi_reverse(code,len){var res=0;do{res|=code&1;code>>>=1;res<<=1}while(--len>0);return res>>>1}function bi_flush(s){if(s.bi_valid===16){put_short(s,s.bi_buf);s.bi_buf=0;s.bi_valid=0}else if(s.bi_valid>=8){s.pending_buf[s.pending++]=s.bi_buf&255;s.bi_buf>>=8;s.bi_valid-=8}}function gen_bitlen(s,desc){var tree=desc.dyn_tree;var max_code=desc.max_code;var stree=desc.stat_desc.static_tree;var has_stree=desc.stat_desc.has_stree;var extra=desc.stat_desc.extra_bits;var base=desc.stat_desc.extra_base;var max_length=desc.stat_desc.max_length;var h;var n,m;var bits;var xbits;var f;var overflow=0;for(bits=0;bits<=MAX_BITS;bits++){s.bl_count[bits]=0}tree[s.heap[s.heap_max]*2+1]=0;for(h=s.heap_max+1;h<HEAP_SIZE;h++){n=s.heap[h];bits=tree[tree[n*2+1]*2+1]+1;if(bits>max_length){bits=max_length;overflow++}tree[n*2+1]=bits;if(n>max_code){continue}s.bl_count[bits]++;xbits=0;if(n>=base){xbits=extra[n-base]}f=tree[n*2];s.opt_len+=f*(bits+xbits);if(has_stree){s.static_len+=f*(stree[n*2+1]+xbits)}}if(overflow===0){return}do{bits=max_length-1;while(s.bl_count[bits]===0){bits--}s.bl_count[bits]--;s.bl_count[bits+1]+=2;s.bl_count[max_length]--;overflow-=2}while(overflow>0);for(bits=max_length;bits!==0;bits--){n=s.bl_count[bits];while(n!==0){m=s.heap[--h];if(m>max_code){continue}if(tree[m*2+1]!==bits){s.opt_len+=(bits-tree[m*2+1])*tree[m*2];tree[m*2+1]=bits}n--}}}function gen_codes(tree,max_code,bl_count){var next_code=new Array(MAX_BITS+1);var code=0;var bits;var n;for(bits=1;bits<=MAX_BITS;bits++){next_code[bits]=code=code+bl_count[bits-1]<<1}for(n=0;n<=max_code;n++){var len=tree[n*2+1];if(len===0){continue}tree[n*2]=bi_reverse(next_code[len]++,len)}}function tr_static_init(){var n;var bits;var length;var code;var dist;var bl_count=new Array(MAX_BITS+1);length=0;for(code=0;code<LENGTH_CODES-1;code++){base_length[code]=length;for(n=0;n<1<<extra_lbits[code];n++){_length_code[length++]=code}}_length_code[length-1]=code;dist=0;for(code=0;code<16;code++){base_dist[code]=dist;for(n=0;n<1<<extra_dbits[code];n++){_dist_code[dist++]=code}}dist>>=7;for(;code<D_CODES;code++){base_dist[code]=dist<<7;for(n=0;n<1<<extra_dbits[code]-7;n++){_dist_code[256+dist++]=code}}for(bits=0;bits<=MAX_BITS;bits++){bl_count[bits]=0}n=0;while(n<=143){static_ltree[n*2+1]=8;n++;bl_count[8]++}while(n<=255){static_ltree[n*2+1]=9;n++;bl_count[9]++}while(n<=279){static_ltree[n*2+1]=7;n++;bl_count[7]++}while(n<=287){static_ltree[n*2+1]=8;n++;bl_count[8]++}gen_codes(static_ltree,L_CODES+1,bl_count);for(n=0;n<D_CODES;n++){static_dtree[n*2+1]=5;static_dtree[n*2]=bi_reverse(n,5)}static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS+1,L_CODES,MAX_BITS);static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES,MAX_BITS);static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES,MAX_BL_BITS)}function init_block(s){var n;for(n=0;n<L_CODES;n++){s.dyn_ltree[n*2]=0}for(n=0;n<D_CODES;n++){s.dyn_dtree[n*2]=0}for(n=0;n<BL_CODES;n++){s.bl_tree[n*2]=0}s.dyn_ltree[END_BLOCK*2]=1;s.opt_len=s.static_len=0;s.last_lit=s.matches=0}function bi_windup(s){if(s.bi_valid>8){put_short(s,s.bi_buf)}else if(s.bi_valid>0){s.pending_buf[s.pending++]=s.bi_buf}s.bi_buf=0;s.bi_valid=0}function copy_block(s,buf,len,header){bi_windup(s);if(header){put_short(s,len);put_short(s,~len)}utils.arraySet(s.pending_buf,s.window,buf,len,s.pending);s.pending+=len}function smaller(tree,n,m,depth){var _n2=n*2;var _m2=m*2;return tree[_n2]<tree[_m2]||tree[_n2]===tree[_m2]&&depth[n]<=depth[m]}function pqdownheap(s,tree,k){var v=s.heap[k];var j=k<<1;while(j<=s.heap_len){if(j<s.heap_len&&smaller(tree,s.heap[j+1],s.heap[j],s.depth)){j++}if(smaller(tree,v,s.heap[j],s.depth)){break}s.heap[k]=s.heap[j];k=j;j<<=1}s.heap[k]=v}function compress_block(s,ltree,dtree){var dist;var lc;var lx=0;var code;var extra;if(s.last_lit!==0){do{dist=s.pending_buf[s.d_buf+lx*2]<<8|s.pending_buf[s.d_buf+lx*2+1];lc=s.pending_buf[s.l_buf+lx];lx++;if(dist===0){send_code(s,lc,ltree)}else{code=_length_code[lc];send_code(s,code+LITERALS+1,ltree);extra=extra_lbits[code];if(extra!==0){lc-=base_length[code];send_bits(s,lc,extra)}dist--;code=d_code(dist);send_code(s,code,dtree);extra=extra_dbits[code];if(extra!==0){dist-=base_dist[code];send_bits(s,dist,extra)}}}while(lx<s.last_lit)}send_code(s,END_BLOCK,ltree)}function build_tree(s,desc){var tree=desc.dyn_tree;var stree=desc.stat_desc.static_tree;var has_stree=desc.stat_desc.has_stree;var elems=desc.stat_desc.elems;var n,m;var max_code=-1;var node;s.heap_len=0;s.heap_max=HEAP_SIZE;for(n=0;n<elems;n++){if(tree[n*2]!==0){s.heap[++s.heap_len]=max_code=n;s.depth[n]=0}else{tree[n*2+1]=0}}while(s.heap_len<2){node=s.heap[++s.heap_len]=max_code<2?++max_code:0;tree[node*2]=1;s.depth[node]=0;s.opt_len--;if(has_stree){s.static_len-=stree[node*2+1]}}desc.max_code=max_code;for(n=s.heap_len>>1;n>=1;n--){pqdownheap(s,tree,n)}node=elems;do{n=s.heap[1];s.heap[1]=s.heap[s.heap_len--];pqdownheap(s,tree,1);m=s.heap[1];s.heap[--s.heap_max]=n;s.heap[--s.heap_max]=m;tree[node*2]=tree[n*2]+tree[m*2];s.depth[node]=(s.depth[n]>=s.depth[m]?s.depth[n]:s.depth[m])+1;tree[n*2+1]=tree[m*2+1]=node;s.heap[1]=node++;pqdownheap(s,tree,1)}while(s.heap_len>=2);s.heap[--s.heap_max]=s.heap[1];gen_bitlen(s,desc);gen_codes(tree,max_code,s.bl_count)}function scan_tree(s,tree,max_code){var n;var prevlen=-1;var curlen;var nextlen=tree[0*2+1];var count=0;var max_count=7;var min_count=4;if(nextlen===0){max_count=138;min_count=3}tree[(max_code+1)*2+1]=65535;for(n=0;n<=max_code;n++){curlen=nextlen;nextlen=tree[(n+1)*2+1];if(++count<max_count&&curlen===nextlen){continue}else if(count<min_count){s.bl_tree[curlen*2]+=count}else if(curlen!==0){if(curlen!==prevlen){s.bl_tree[curlen*2]++}s.bl_tree[REP_3_6*2]++}else if(count<=10){s.bl_tree[REPZ_3_10*2]++}else{s.bl_tree[REPZ_11_138*2]++}count=0;prevlen=curlen;if(nextlen===0){max_count=138;min_count=3}else if(curlen===nextlen){max_count=6;min_count=3}else{max_count=7;min_count=4}}}function send_tree(s,tree,max_code){var n;var prevlen=-1;var curlen;var nextlen=tree[0*2+1];var count=0;var max_count=7;var min_count=4;if(nextlen===0){max_count=138;min_count=3}for(n=0;n<=max_code;n++){curlen=nextlen;nextlen=tree[(n+1)*2+1];if(++count<max_count&&curlen===nextlen){continue}else if(count<min_count){do{send_code(s,curlen,s.bl_tree)}while(--count!==0)}else if(curlen!==0){if(curlen!==prevlen){send_code(s,curlen,s.bl_tree);count--}send_code(s,REP_3_6,s.bl_tree);send_bits(s,count-3,2)}else if(count<=10){send_code(s,REPZ_3_10,s.bl_tree);send_bits(s,count-3,3)}else{send_code(s,REPZ_11_138,s.bl_tree);send_bits(s,count-11,7)}count=0;prevlen=curlen;if(nextlen===0){max_count=138;min_count=3}else if(curlen===nextlen){max_count=6;min_count=3}else{max_count=7;min_count=4}}}function build_bl_tree(s){var max_blindex;scan_tree(s,s.dyn_ltree,s.l_desc.max_code);scan_tree(s,s.dyn_dtree,s.d_desc.max_code);build_tree(s,s.bl_desc);for(max_blindex=BL_CODES-1;max_blindex>=3;max_blindex--){if(s.bl_tree[bl_order[max_blindex]*2+1]!==0){break}}s.opt_len+=3*(max_blindex+1)+5+5+4;return max_blindex}function send_all_trees(s,lcodes,dcodes,blcodes){var rank;send_bits(s,lcodes-257,5);send_bits(s,dcodes-1,5);send_bits(s,blcodes-4,4);for(rank=0;rank<blcodes;rank++){send_bits(s,s.bl_tree[bl_order[rank]*2+1],3)}send_tree(s,s.dyn_ltree,lcodes-1);send_tree(s,s.dyn_dtree,dcodes-1)}function detect_data_type(s){var black_mask=4093624447;var n;for(n=0;n<=31;n++,black_mask>>>=1){if(black_mask&1&&s.dyn_ltree[n*2]!==0){return Z_BINARY}}if(s.dyn_ltree[9*2]!==0||s.dyn_ltree[10*2]!==0||s.dyn_ltree[13*2]!==0){return Z_TEXT}for(n=32;n<LITERALS;n++){if(s.dyn_ltree[n*2]!==0){return Z_TEXT}}return Z_BINARY}var static_init_done=false;function _tr_init(s){if(!static_init_done){tr_static_init();static_init_done=true}s.l_desc=new TreeDesc(s.dyn_ltree,static_l_desc);s.d_desc=new TreeDesc(s.dyn_dtree,static_d_desc);s.bl_desc=new TreeDesc(s.bl_tree,static_bl_desc);s.bi_buf=0;s.bi_valid=0;init_block(s)}function _tr_stored_block(s,buf,stored_len,last){send_bits(s,(STORED_BLOCK<<1)+(last?1:0),3);copy_block(s,buf,stored_len,true)}function _tr_align(s){send_bits(s,STATIC_TREES<<1,3);send_code(s,END_BLOCK,static_ltree);bi_flush(s)}function _tr_flush_block(s,buf,stored_len,last){var opt_lenb,static_lenb;var max_blindex=0;if(s.level>0){if(s.strm.data_type===Z_UNKNOWN){s.strm.data_type=detect_data_type(s)}build_tree(s,s.l_desc);build_tree(s,s.d_desc);max_blindex=build_bl_tree(s);opt_lenb=s.opt_len+3+7>>>3;static_lenb=s.static_len+3+7>>>3;if(static_lenb<=opt_lenb){opt_lenb=static_lenb}}else{opt_lenb=static_lenb=stored_len+5}if(stored_len+4<=opt_lenb&&buf!==-1){_tr_stored_block(s,buf,stored_len,last)}else if(s.strategy===Z_FIXED||static_lenb===opt_lenb){send_bits(s,(STATIC_TREES<<1)+(last?1:0),3);compress_block(s,static_ltree,static_dtree)}else{send_bits(s,(DYN_TREES<<1)+(last?1:0),3);send_all_trees(s,s.l_desc.max_code+1,s.d_desc.max_code+1,max_blindex+1);compress_block(s,s.dyn_ltree,s.dyn_dtree)}init_block(s);if(last){bi_windup(s)}}function _tr_tally(s,dist,lc){s.pending_buf[s.d_buf+s.last_lit*2]=dist>>>8&255;s.pending_buf[s.d_buf+s.last_lit*2+1]=dist&255;s.pending_buf[s.l_buf+s.last_lit]=lc&255;s.last_lit++;if(dist===0){s.dyn_ltree[lc*2]++}else{s.matches++;dist--;s.dyn_ltree[(_length_code[lc]+LITERALS+1)*2]++;s.dyn_dtree[d_code(dist)*2]++}return s.last_lit===s.lit_bufsize-1}exports._tr_init=_tr_init;exports._tr_stored_block=_tr_stored_block;exports._tr_flush_block=_tr_flush_block;exports._tr_tally=_tr_tally;exports._tr_align=_tr_align},{"../utils/common":27}],39:[function(_dereq_,module,exports){"use strict";function ZStream(){this.input=null;this.next_in=0;this.avail_in=0;this.total_in=0;this.output=null;this.next_out=0;this.avail_out=0;this.total_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}module.exports=ZStream},{}]},{},[9])(9)});var XLSX={};(function make_xlsx(XLSX){XLSX.version="0.8.0";var current_codepage=1200,current_cptable;if(typeof module!=="undefined"&&typeof require!=="undefined"){if(typeof cptable==="undefined")cptable=require("./dist/cpexcel");current_cptable=cptable[current_codepage]}function reset_cp(){set_cp(1200)}var set_cp=function(cp){current_codepage=cp};function char_codes(data){var o=[];for(var i=0,len=data.length;i<len;++i)o[i]=data.charCodeAt(i);return o}var debom_xml=function(data){return data};var _getchar=function _gc1(x){return String.fromCharCode(x)};if(typeof cptable!=="undefined"){set_cp=function(cp){current_codepage=cp;current_cptable=cptable[cp]};debom_xml=function(data){if(data.charCodeAt(0)===255&&data.charCodeAt(1)===254){return cptable.utils.decode(1200,char_codes(data.substr(2)))}return data};_getchar=function _gc2(x){if(current_codepage===1200)return String.fromCharCode(x);return cptable.utils.decode(current_codepage,[x&255,x>>8])[0]}}var Base64=function make_b64(){var map="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{encode:function(input,utf8){var o="";var c1,c2,c3,e1,e2,e3,e4;for(var i=0;i<input.length;){c1=input.charCodeAt(i++);c2=input.charCodeAt(i++);c3=input.charCodeAt(i++);e1=c1>>2;e2=(c1&3)<<4|c2>>4;e3=(c2&15)<<2|c3>>6;e4=c3&63;if(isNaN(c2)){e3=e4=64}else if(isNaN(c3)){e4=64}o+=map.charAt(e1)+map.charAt(e2)+map.charAt(e3)+map.charAt(e4)}return o},decode:function b64_decode(input,utf8){var o="";var c1,c2,c3;var e1,e2,e3,e4;input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var i=0;i<input.length;){e1=map.indexOf(input.charAt(i++));e2=map.indexOf(input.charAt(i++));e3=map.indexOf(input.charAt(i++));e4=map.indexOf(input.charAt(i++));c1=e1<<2|e2>>4;c2=(e2&15)<<4|e3>>2;c3=(e3&3)<<6|e4;o+=String.fromCharCode(c1);if(e3!=64){o+=String.fromCharCode(c2)}if(e4!=64){o+=String.fromCharCode(c3)}}return o}}}();var has_buf=typeof Buffer!=="undefined";function new_raw_buf(len){return new(has_buf?Buffer:Array)(len)}function s2a(s){if(has_buf)return new Buffer(s,"binary");return s.split("").map(function(x){return x.charCodeAt(0)&255})}var bconcat=function(bufs){return[].concat.apply([],bufs)};var chr0=/\u0000/g,chr1=/[\u0001-\u0006]/;var SSF={};var make_ssf=function make_ssf(SSF){SSF.version="0.8.1";function _strrev(x){var o="",i=x.length-1;while(i>=0)o+=x.charAt(i--);return o}function fill(c,l){var o="";while(o.length<l)o+=c;return o}function pad0(v,d){var t=""+v;return t.length>=d?t:fill("0",d-t.length)+t}function pad_(v,d){var t=""+v;return t.length>=d?t:fill(" ",d-t.length)+t}function rpad_(v,d){var t=""+v;return t.length>=d?t:t+fill(" ",d-t.length)}function pad0r1(v,d){var t=""+Math.round(v);return t.length>=d?t:fill("0",d-t.length)+t}function pad0r2(v,d){var t=""+v;return t.length>=d?t:fill("0",d-t.length)+t}var p2_32=Math.pow(2,32);function pad0r(v,d){if(v>p2_32||v<-p2_32)return pad0r1(v,d);var i=Math.round(v);return pad0r2(i,d)}function isgeneral(s,i){return s.length>=7+i&&(s.charCodeAt(i)|32)===103&&(s.charCodeAt(i+1)|32)===101&&(s.charCodeAt(i+2)|32)===110&&(s.charCodeAt(i+3)|32)===101&&(s.charCodeAt(i+4)|32)===114&&(s.charCodeAt(i+5)|32)===97&&(s.charCodeAt(i+6)|32)===108}var opts_fmt=[["date1904",0],["output",""],["WTF",false]];function fixopts(o){for(var y=0;y!=opts_fmt.length;++y)if(o[opts_fmt[y][0]]===undefined)o[opts_fmt[y][0]]=opts_fmt[y][1]}SSF.opts=opts_fmt;var table_fmt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "',65535:"General"};var days=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]];var months=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function frac(x,D,mixed){var sgn=x<0?-1:1;var B=x*sgn;var P_2=0,P_1=1,P=0;var Q_2=1,Q_1=0,Q=0;var A=Math.floor(B);while(Q_1<D){A=Math.floor(B);P=A*P_1+P_2;Q=A*Q_1+Q_2;if(B-A<5e-10)break;B=1/(B-A);P_2=P_1;P_1=P;Q_2=Q_1;Q_1=Q}if(Q>D){Q=Q_1;P=P_1}if(Q>D){Q=Q_2;P=P_2}if(!mixed)return[0,sgn*P,Q];if(Q===0)throw"Unexpected state: "+P+" "+P_1+" "+P_2+" "+Q+" "+Q_1+" "+Q_2;var q=Math.floor(sgn*P/Q);return[q,sgn*P-q*Q,Q]}function general_fmt_int(v,opts){return""+v}SSF._general_int=general_fmt_int;var general_fmt_num=function make_general_fmt_num(){var gnr1=/\.(\d*[1-9])0+$/,gnr2=/\.0*$/,gnr4=/\.(\d*[1-9])0+/,gnr5=/\.0*[Ee]/,gnr6=/(E[+-])(\d)$/;function gfn2(v){var w=v<0?12:11;var o=gfn5(v.toFixed(12));if(o.length<=w)return o;o=v.toPrecision(10);if(o.length<=w)return o;return v.toExponential(5)}function gfn3(v){var o=v.toFixed(11).replace(gnr1,".$1");if(o.length>(v<0?12:11))o=v.toPrecision(6);return o}function gfn4(o){for(var i=0;i!=o.length;++i)if((o.charCodeAt(i)|32)===101)return o.replace(gnr4,".$1").replace(gnr5,"E").replace("e","E").replace(gnr6,"$10$2");return o}function gfn5(o){return o.indexOf(".")>-1?o.replace(gnr2,"").replace(gnr1,".$1"):o}return function general_fmt_num(v,opts){var V=Math.floor(Math.log(Math.abs(v))*Math.LOG10E),o;if(V>=-4&&V<=-1)o=v.toPrecision(10+V);else if(Math.abs(V)<=9)o=gfn2(v);else if(V===10)o=v.toFixed(10).substr(0,12);else o=gfn3(v);return gfn5(gfn4(o))}}();SSF._general_num=general_fmt_num;function general_fmt(v,opts){switch(typeof v){case"string":return v;case"boolean":return v?"TRUE":"FALSE";case"number":return(v|0)===v?general_fmt_int(v,opts):general_fmt_num(v,opts)}throw new Error("unsupported value in General format: "+v)}SSF._general=general_fmt;function fix_hijri(date,o){return 0}function parse_date_code(v,opts,b2){if(v>2958465||v<0)return null;var date=v|0,time=Math.floor(86400*(v-date)),dow=0;var dout=[];var out={D:date,T:time,u:86400*(v-date)-time,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(out.u)<1e-6)out.u=0;fixopts(opts!=null?opts:opts=[]);if(opts.date1904)date+=1462;if(out.u>.999){out.u=0;if(++time==86400){time=0;++date}}if(date===60){dout=b2?[1317,10,29]:[1900,2,29];dow=3}else if(date===0){dout=b2?[1317,8,29]:[1900,1,0];dow=6}else{if(date>60)--date;var d=new Date(1900,0,1);d.setDate(d.getDate()+date-1);dout=[d.getFullYear(),d.getMonth()+1,d.getDate()];dow=d.getDay();if(date<60)dow=(dow+6)%7;if(b2)dow=fix_hijri(d,dout)}out.y=dout[0];out.m=dout[1];out.d=dout[2];out.S=time%60;time=Math.floor(time/60);out.M=time%60;time=Math.floor(time/60);out.H=time;out.q=dow;return out}SSF.parse_date_code=parse_date_code;function write_date(type,fmt,val,ss0){var o="",ss=0,tt=0,y=val.y,out,outl=0;switch(type){case 98:y=val.y+543;case 121:switch(fmt.length){case 1:case 2:out=y%100;outl=2;break;default:out=y%1e4;outl=4;break}break;case 109:switch(fmt.length){case 1:case 2:out=val.m;outl=fmt.length;break;case 3:return months[val.m-1][1];case 5:return months[val.m-1][0];default:return months[val.m-1][2]}break;case 100:switch(fmt.length){case 1:case 2:out=val.d;outl=fmt.length;break;case 3:return days[val.q][0];default:return days[val.q][1]}break;case 104:switch(fmt.length){case 1:case 2:out=1+(val.H+11)%12;outl=fmt.length;break;default:throw"bad hour format: "+fmt}break;case 72:switch(fmt.length){case 1:case 2:out=val.H;outl=fmt.length;break;default:throw"bad hour format: "+fmt}break;case 77:switch(fmt.length){case 1:case 2:out=val.M;outl=fmt.length;break;default:throw"bad minute format: "+fmt}break;case 115:if(val.u===0)switch(fmt){case"s":case"ss":return pad0(val.S,fmt.length);case".0":case".00":case".000":}switch(fmt){case"s":case"ss":case".0":case".00":case".000":if(ss0>=2)tt=ss0===3?1e3:100;else tt=ss0===1?10:1;ss=Math.round(tt*(val.S+val.u));if(ss>=60*tt)ss=0;if(fmt==="s")return ss===0?"0":""+ss/tt;o=pad0(ss,2+ss0);if(fmt==="ss")return o.substr(0,2);return"."+o.substr(2,fmt.length-1);default:throw"bad second format: "+fmt}case 90:switch(fmt){case"[h]":case"[hh]":out=val.D*24+val.H;break;case"[m]":case"[mm]":out=(val.D*24+val.H)*60+val.M;break;case"[s]":case"[ss]":out=((val.D*24+val.H)*60+val.M)*60+Math.round(val.S+val.u);break;default:throw"bad abstime format: "+fmt}outl=fmt.length===3?1:2;break;case 101:out=y;outl=1}if(outl>0)return pad0(out,outl);else return""}function commaify(s){if(s.length<=3)return s;var j=s.length%3,o=s.substr(0,j);for(;j!=s.length;j+=3)o+=(o.length>0?",":"")+s.substr(j,3);return o}var write_num=function make_write_num(){var pct1=/%/g;function write_num_pct(type,fmt,val){var sfmt=fmt.replace(pct1,""),mul=fmt.length-sfmt.length;return write_num(type,sfmt,val*Math.pow(10,2*mul))+fill("%",mul)}function write_num_cm(type,fmt,val){var idx=fmt.length-1;while(fmt.charCodeAt(idx-1)===44)--idx;return write_num(type,fmt.substr(0,idx),val/Math.pow(10,3*(fmt.length-idx)))}function write_num_exp(fmt,val){var o;var idx=fmt.indexOf("E")-fmt.indexOf(".")-1;if(fmt.match(/^#+0.0E\+0$/)){var period=fmt.indexOf(".");if(period===-1)period=fmt.indexOf("E");var ee=Math.floor(Math.log(Math.abs(val))*Math.LOG10E)%period;if(ee<0)ee+=period;o=(val/Math.pow(10,ee)).toPrecision(idx+1+(period+ee)%period);if(o.indexOf("e")===-1){var fakee=Math.floor(Math.log(Math.abs(val))*Math.LOG10E);if(o.indexOf(".")===-1)o=o[0]+"."+o.substr(1)+"E+"+(fakee-o.length+ee);else o+="E+"+(fakee-ee);while(o.substr(0,2)==="0."){o=o[0]+o.substr(2,period)+"."+o.substr(2+period);o=o.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.")}o=o.replace(/\+-/,"-")}o=o.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function($$,$1,$2,$3){return $1+$2+$3.substr(0,(period+ee)%period)+"."+$3.substr(ee)+"E"})}else o=val.toExponential(idx);if(fmt.match(/E\+00$/)&&o.match(/e[+-]\d$/))o=o.substr(0,o.length-1)+"0"+o[o.length-1];if(fmt.match(/E\-/)&&o.match(/e\+/))o=o.replace(/e\+/,"e");return o.replace("e","E")}var frac1=/# (\?+)( ?)\/( ?)(\d+)/;function write_num_f1(r,aval,sign){var den=parseInt(r[4]),rr=Math.round(aval*den),base=Math.floor(rr/den);var myn=rr-base*den,myd=den;return sign+(base===0?"":""+base)+" "+(myn===0?fill(" ",r[1].length+1+r[4].length):pad_(myn,r[1].length)+r[2]+"/"+r[3]+pad0(myd,r[4].length))}function write_num_f2(r,aval,sign){return sign+(aval===0?"":""+aval)+fill(" ",r[1].length+2+r[4].length)}var dec1=/^#*0*\.(0+)/;var closeparen=/\).*[0#]/;var phone=/\(###\) ###\\?-####/;function hashq(str){var o="",cc;for(var i=0;i!=str.length;++i)switch(cc=str.charCodeAt(i)){case 35:break;case 63:o+=" ";break;case 48:o+="0";break;default:o+=String.fromCharCode(cc)}return o}function rnd(val,d){var dd=Math.pow(10,d);return""+Math.round(val*dd)/dd}function dec(val,d){return Math.round((val-Math.floor(val))*Math.pow(10,d))}function flr(val){if(val<2147483647&&val>-2147483648)return""+(val>=0?val|0:val-1|0);return""+Math.floor(val)}function write_num_flt(type,fmt,val){if(type.charCodeAt(0)===40&&!fmt.match(closeparen)){var ffmt=fmt.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");if(val>=0)return write_num_flt("n",ffmt,val);return"("+write_num_flt("n",ffmt,-val)+")"}if(fmt.charCodeAt(fmt.length-1)===44)return write_num_cm(type,fmt,val);if(fmt.indexOf("%")!==-1)return write_num_pct(type,fmt,val);if(fmt.indexOf("E")!==-1)return write_num_exp(fmt,val);if(fmt.charCodeAt(0)===36)return"$"+write_num_flt(type,fmt.substr(fmt[1]==" "?2:1),val);var o,oo;var r,ri,ff,aval=Math.abs(val),sign=val<0?"-":"";if(fmt.match(/^00+$/))return sign+pad0r(aval,fmt.length);if(fmt.match(/^[#?]+$/)){o=pad0r(val,0);if(o==="0")o="";return o.length>fmt.length?o:hashq(fmt.substr(0,fmt.length-o.length))+o}if((r=fmt.match(frac1))!==null)return write_num_f1(r,aval,sign);if(fmt.match(/^#+0+$/)!==null)return sign+pad0r(aval,fmt.length-fmt.indexOf("0"));if((r=fmt.match(dec1))!==null){o=rnd(val,r[1].length).replace(/^([^\.]+)$/,"$1."+r[1]).replace(/\.$/,"."+r[1]).replace(/\.(\d*)$/,function($$,$1){return"."+$1+fill("0",r[1].length-$1.length)});return fmt.indexOf("0.")!==-1?o:o.replace(/^0\./,".")}fmt=fmt.replace(/^#+([0.])/,"$1");if((r=fmt.match(/^(0*)\.(#*)$/))!==null){return sign+rnd(aval,r[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,r[1].length?"0.":".")}if((r=fmt.match(/^#,##0(\.?)$/))!==null)return sign+commaify(pad0r(aval,0));if((r=fmt.match(/^#,##0\.([#0]*0)$/))!==null){return val<0?"-"+write_num_flt(type,fmt,-val):commaify(""+Math.floor(val))+"."+pad0(dec(val,r[1].length),r[1].length)}if((r=fmt.match(/^#,#*,#0/))!==null)return write_num_flt(type,fmt.replace(/^#,#*,/,""),val);if((r=fmt.match(/^([0#]+)(\\?-([0#]+))+$/))!==null){o=_strrev(write_num_flt(type,fmt.replace(/[\\-]/g,""),val));ri=0;return _strrev(_strrev(fmt.replace(/\\/g,"")).replace(/[0#]/g,function(x){return ri<o.length?o[ri++]:x==="0"?"0":""}))}if(fmt.match(phone)!==null){o=write_num_flt(type,"##########",val);return"("+o.substr(0,3)+") "+o.substr(3,3)+"-"+o.substr(6)}var oa="";if((r=fmt.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))!==null){ri=Math.min(r[4].length,7);ff=frac(aval,Math.pow(10,ri)-1,false);o=""+sign;oa=write_num("n",r[1],ff[1]);if(oa[oa.length-1]==" ")oa=oa.substr(0,oa.length-1)+"0";o+=oa+r[2]+"/"+r[3];oa=rpad_(ff[2],ri);if(oa.length<r[4].length)oa=hashq(r[4].substr(r[4].length-oa.length))+oa;o+=oa;return o}if((r=fmt.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))!==null){ri=Math.min(Math.max(r[1].length,r[4].length),7);ff=frac(aval,Math.pow(10,ri)-1,true);return sign+(ff[0]||(ff[1]?"":"0"))+" "+(ff[1]?pad_(ff[1],ri)+r[2]+"/"+r[3]+rpad_(ff[2],ri):fill(" ",2*ri+1+r[2].length+r[3].length))}if((r=fmt.match(/^[#0?]+$/))!==null){o=pad0r(val,0);if(fmt.length<=o.length)return o;return hashq(fmt.substr(0,fmt.length-o.length))+o}if((r=fmt.match(/^([#0?]+)\.([#0]+)$/))!==null){o=""+val.toFixed(Math.min(r[2].length,10)).replace(/([^0])0+$/,"$1");ri=o.indexOf(".");var lres=fmt.indexOf(".")-ri,rres=fmt.length-o.length-lres;return hashq(fmt.substr(0,lres)+o+fmt.substr(fmt.length-rres))}if((r=fmt.match(/^00,000\.([#0]*0)$/))!==null){ri=dec(val,r[1].length);return val<0?"-"+write_num_flt(type,fmt,-val):commaify(flr(val)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function($$){return"00,"+($$.length<3?pad0(0,3-$$.length):"")+$$})+"."+pad0(ri,r[1].length)}switch(fmt){case"#,###":var x=commaify(pad0r(aval,0));return x!=="0"?sign+x:"";default:}throw new Error("unsupported format |"+fmt+"|")}function write_num_cm2(type,fmt,val){var idx=fmt.length-1;while(fmt.charCodeAt(idx-1)===44)--idx;return write_num(type,fmt.substr(0,idx),val/Math.pow(10,3*(fmt.length-idx)))}function write_num_pct2(type,fmt,val){var sfmt=fmt.replace(pct1,""),mul=fmt.length-sfmt.length;return write_num(type,sfmt,val*Math.pow(10,2*mul))+fill("%",mul)}function write_num_exp2(fmt,val){var o;var idx=fmt.indexOf("E")-fmt.indexOf(".")-1;if(fmt.match(/^#+0.0E\+0$/)){var period=fmt.indexOf(".");if(period===-1)period=fmt.indexOf("E");var ee=Math.floor(Math.log(Math.abs(val))*Math.LOG10E)%period;if(ee<0)ee+=period;o=(val/Math.pow(10,ee)).toPrecision(idx+1+(period+ee)%period);if(!o.match(/[Ee]/)){var fakee=Math.floor(Math.log(Math.abs(val))*Math.LOG10E);if(o.indexOf(".")===-1)o=o[0]+"."+o.substr(1)+"E+"+(fakee-o.length+ee);else o+="E+"+(fakee-ee);o=o.replace(/\+-/,"-")}o=o.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function($$,$1,$2,$3){return $1+$2+$3.substr(0,(period+ee)%period)+"."+$3.substr(ee)+"E"})}else o=val.toExponential(idx);if(fmt.match(/E\+00$/)&&o.match(/e[+-]\d$/))o=o.substr(0,o.length-1)+"0"+o[o.length-1];if(fmt.match(/E\-/)&&o.match(/e\+/))o=o.replace(/e\+/,"e");return o.replace("e","E")}function write_num_int(type,fmt,val){if(type.charCodeAt(0)===40&&!fmt.match(closeparen)){var ffmt=fmt.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");if(val>=0)return write_num_int("n",ffmt,val);return"("+write_num_int("n",ffmt,-val)+")"}if(fmt.charCodeAt(fmt.length-1)===44)return write_num_cm2(type,fmt,val);if(fmt.indexOf("%")!==-1)return write_num_pct2(type,fmt,val);if(fmt.indexOf("E")!==-1)return write_num_exp2(fmt,val);if(fmt.charCodeAt(0)===36)return"$"+write_num_int(type,fmt.substr(fmt[1]==" "?2:1),val);var o;var r,ri,ff,aval=Math.abs(val),sign=val<0?"-":"";if(fmt.match(/^00+$/))return sign+pad0(aval,fmt.length);if(fmt.match(/^[#?]+$/)){o=""+val;if(val===0)o="";return o.length>fmt.length?o:hashq(fmt.substr(0,fmt.length-o.length))+o}if((r=fmt.match(frac1))!==null)return write_num_f2(r,aval,sign);if(fmt.match(/^#+0+$/)!==null)return sign+pad0(aval,fmt.length-fmt.indexOf("0"));if((r=fmt.match(dec1))!==null){o=(""+val).replace(/^([^\.]+)$/,"$1."+r[1]).replace(/\.$/,"."+r[1]).replace(/\.(\d*)$/,function($$,$1){return"."+$1+fill("0",r[1].length-$1.length)});return fmt.indexOf("0.")!==-1?o:o.replace(/^0\./,".")
}fmt=fmt.replace(/^#+([0.])/,"$1");if((r=fmt.match(/^(0*)\.(#*)$/))!==null){return sign+(""+aval).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,r[1].length?"0.":".")}if((r=fmt.match(/^#,##0(\.?)$/))!==null)return sign+commaify(""+aval);if((r=fmt.match(/^#,##0\.([#0]*0)$/))!==null){return val<0?"-"+write_num_int(type,fmt,-val):commaify(""+val)+"."+fill("0",r[1].length)}if((r=fmt.match(/^#,#*,#0/))!==null)return write_num_int(type,fmt.replace(/^#,#*,/,""),val);if((r=fmt.match(/^([0#]+)(\\?-([0#]+))+$/))!==null){o=_strrev(write_num_int(type,fmt.replace(/[\\-]/g,""),val));ri=0;return _strrev(_strrev(fmt.replace(/\\/g,"")).replace(/[0#]/g,function(x){return ri<o.length?o[ri++]:x==="0"?"0":""}))}if(fmt.match(phone)!==null){o=write_num_int(type,"##########",val);return"("+o.substr(0,3)+") "+o.substr(3,3)+"-"+o.substr(6)}var oa="";if((r=fmt.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))!==null){ri=Math.min(r[4].length,7);ff=frac(aval,Math.pow(10,ri)-1,false);o=""+sign;oa=write_num("n",r[1],ff[1]);if(oa[oa.length-1]==" ")oa=oa.substr(0,oa.length-1)+"0";o+=oa+r[2]+"/"+r[3];oa=rpad_(ff[2],ri);if(oa.length<r[4].length)oa=hashq(r[4].substr(r[4].length-oa.length))+oa;o+=oa;return o}if((r=fmt.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))!==null){ri=Math.min(Math.max(r[1].length,r[4].length),7);ff=frac(aval,Math.pow(10,ri)-1,true);return sign+(ff[0]||(ff[1]?"":"0"))+" "+(ff[1]?pad_(ff[1],ri)+r[2]+"/"+r[3]+rpad_(ff[2],ri):fill(" ",2*ri+1+r[2].length+r[3].length))}if((r=fmt.match(/^[#0?]+$/))!==null){o=""+val;if(fmt.length<=o.length)return o;return hashq(fmt.substr(0,fmt.length-o.length))+o}if((r=fmt.match(/^([#0]+)\.([#0]+)$/))!==null){o=""+val.toFixed(Math.min(r[2].length,10)).replace(/([^0])0+$/,"$1");ri=o.indexOf(".");var lres=fmt.indexOf(".")-ri,rres=fmt.length-o.length-lres;return hashq(fmt.substr(0,lres)+o+fmt.substr(fmt.length-rres))}if((r=fmt.match(/^00,000\.([#0]*0)$/))!==null){return val<0?"-"+write_num_int(type,fmt,-val):commaify(""+val).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function($$){return"00,"+($$.length<3?pad0(0,3-$$.length):"")+$$})+"."+pad0(0,r[1].length)}switch(fmt){case"#,###":var x=commaify(""+aval);return x!=="0"?sign+x:"";default:}throw new Error("unsupported format |"+fmt+"|")}return function write_num(type,fmt,val){return(val|0)===val?write_num_int(type,fmt,val):write_num_flt(type,fmt,val)}}();function split_fmt(fmt){var out=[];var in_str=false,cc;for(var i=0,j=0;i<fmt.length;++i)switch(cc=fmt.charCodeAt(i)){case 34:in_str=!in_str;break;case 95:case 42:case 92:++i;break;case 59:out[out.length]=fmt.substr(j,i-j);j=i+1}out[out.length]=fmt.substr(j);if(in_str===true)throw new Error("Format |"+fmt+"| unterminated string ");return out}SSF._split=split_fmt;var abstime=/\[[HhMmSs]*\]/;function eval_fmt(fmt,v,opts,flen){var out=[],o="",i=0,c="",lst="t",q,dt,j,cc;var hr="H";while(i<fmt.length){switch(c=fmt[i]){case"G":if(!isgeneral(fmt,i))throw new Error("unrecognized character "+c+" in "+fmt);out[out.length]={t:"G",v:"General"};i+=7;break;case'"':for(o="";(cc=fmt.charCodeAt(++i))!==34&&i<fmt.length;)o+=String.fromCharCode(cc);out[out.length]={t:"t",v:o};++i;break;case"\\":var w=fmt[++i],t=w==="("||w===")"?w:"t";out[out.length]={t:t,v:w};++i;break;case"_":out[out.length]={t:"t",v:" "};i+=2;break;case"@":out[out.length]={t:"T",v:v};++i;break;case"B":case"b":if(fmt[i+1]==="1"||fmt[i+1]==="2"){if(dt==null){dt=parse_date_code(v,opts,fmt[i+1]==="2");if(dt==null)return""}out[out.length]={t:"X",v:fmt.substr(i,2)};lst=c;i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(v<0)return"";if(dt==null){dt=parse_date_code(v,opts);if(dt==null)return""}o=c;while(++i<fmt.length&&fmt[i].toLowerCase()===c)o+=c;if(c==="m"&&lst.toLowerCase()==="h")c="M";if(c==="h")c=hr;out[out.length]={t:c,v:o};lst=c;break;case"A":q={t:c,v:"A"};if(dt==null)dt=parse_date_code(v,opts);if(fmt.substr(i,3)==="A/P"){if(dt!=null)q.v=dt.H>=12?"P":"A";q.t="T";hr="h";i+=3}else if(fmt.substr(i,5)==="AM/PM"){if(dt!=null)q.v=dt.H>=12?"PM":"AM";q.t="T";i+=5;hr="h"}else{q.t="t";++i}if(dt==null&&q.t==="T")return"";out[out.length]=q;lst=c;break;case"[":o=c;while(fmt[i++]!=="]"&&i<fmt.length)o+=fmt[i];if(o.substr(-1)!=="]")throw'unterminated "[" block: |'+o+"|";if(o.match(abstime)){if(dt==null){dt=parse_date_code(v,opts);if(dt==null)return""}out[out.length]={t:"Z",v:o.toLowerCase()}}else{o=""}break;case".":if(dt!=null){o=c;while((c=fmt[++i])==="0")o+=c;out[out.length]={t:"s",v:o};break}case"0":case"#":o=c;while("0#?.,E+-%".indexOf(c=fmt[++i])>-1||c=="\\"&&fmt[i+1]=="-"&&"0#".indexOf(fmt[i+2])>-1)o+=c;out[out.length]={t:"n",v:o};break;case"?":o=c;while(fmt[++i]===c)o+=c;q={t:c,v:o};out[out.length]=q;lst=c;break;case"*":++i;if(fmt[i]==" "||fmt[i]=="*")++i;break;case"(":case")":out[out.length]={t:flen===1?"t":c,v:c};++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":o=c;while("0123456789".indexOf(fmt[++i])>-1)o+=fmt[i];out[out.length]={t:"D",v:o};break;case" ":out[out.length]={t:c,v:c};++i;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxz".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+fmt);out[out.length]={t:"t",v:c};++i;break}}var bt=0,ss0=0,ssm;for(i=out.length-1,lst="t";i>=0;--i){switch(out[i].t){case"h":case"H":out[i].t=hr;lst="h";if(bt<1)bt=1;break;case"s":if(ssm=out[i].v.match(/\.0+$/))ss0=Math.max(ss0,ssm[0].length-1);if(bt<3)bt=3;case"d":case"y":case"M":case"e":lst=out[i].t;break;case"m":if(lst==="s"){out[i].t="M";if(bt<2)bt=2}break;case"X":if(out[i].v==="B2");break;case"Z":if(bt<1&&out[i].v.match(/[Hh]/))bt=1;if(bt<2&&out[i].v.match(/[Mm]/))bt=2;if(bt<3&&out[i].v.match(/[Ss]/))bt=3}}switch(bt){case 0:break;case 1:if(dt.u>=.5){dt.u=0;++dt.S}if(dt.S>=60){dt.S=0;++dt.M}if(dt.M>=60){dt.M=0;++dt.H}break;case 2:if(dt.u>=.5){dt.u=0;++dt.S}if(dt.S>=60){dt.S=0;++dt.M}break}var nstr="",jj;for(i=0;i<out.length;++i){switch(out[i].t){case"t":case"T":case" ":case"D":break;case"X":out[i]=undefined;break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":out[i].v=write_date(out[i].t.charCodeAt(0),out[i].v,dt,ss0);out[i].t="t";break;case"n":case"(":case"?":jj=i+1;while(out[jj]!=null&&((c=out[jj].t)==="?"||c==="D"||(c===" "||c==="t")&&out[jj+1]!=null&&(out[jj+1].t==="?"||out[jj+1].t==="t"&&out[jj+1].v==="/")||out[i].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(out[jj].v==="/"||"$€".indexOf(out[jj].v)>-1||out[jj].v===" "&&out[jj+1]!=null&&out[jj+1].t=="?"))){out[i].v+=out[jj].v;out[jj]=undefined;++jj}nstr+=out[i].v;i=jj-1;break;case"G":out[i].t="t";out[i].v=general_fmt(v,opts);break}}var vv="",myv,ostr;if(nstr.length>0){myv=v<0&&nstr.charCodeAt(0)===45?-v:v;ostr=write_num(nstr.charCodeAt(0)===40?"(":"n",nstr,myv);jj=ostr.length-1;var decpt=out.length;for(i=0;i<out.length;++i)if(out[i]!=null&&out[i].v.indexOf(".")>-1){decpt=i;break}var lasti=out.length;if(decpt===out.length&&ostr.indexOf("E")===-1){for(i=out.length-1;i>=0;--i){if(out[i]==null||"n?(".indexOf(out[i].t)===-1)continue;if(jj>=out[i].v.length-1){jj-=out[i].v.length;out[i].v=ostr.substr(jj+1,out[i].v.length)}else if(jj<0)out[i].v="";else{out[i].v=ostr.substr(0,jj+1);jj=-1}out[i].t="t";lasti=i}if(jj>=0&&lasti<out.length)out[lasti].v=ostr.substr(0,jj+1)+out[lasti].v}else if(decpt!==out.length&&ostr.indexOf("E")===-1){jj=ostr.indexOf(".")-1;for(i=decpt;i>=0;--i){if(out[i]==null||"n?(".indexOf(out[i].t)===-1)continue;j=out[i].v.indexOf(".")>-1&&i===decpt?out[i].v.indexOf(".")-1:out[i].v.length-1;vv=out[i].v.substr(j+1);for(;j>=0;--j){if(jj>=0&&(out[i].v[j]==="0"||out[i].v[j]==="#"))vv=ostr[jj--]+vv}out[i].v=vv;out[i].t="t";lasti=i}if(jj>=0&&lasti<out.length)out[lasti].v=ostr.substr(0,jj+1)+out[lasti].v;jj=ostr.indexOf(".")+1;for(i=decpt;i<out.length;++i){if(out[i]==null||"n?(".indexOf(out[i].t)===-1&&i!==decpt)continue;j=out[i].v.indexOf(".")>-1&&i===decpt?out[i].v.indexOf(".")+1:0;vv=out[i].v.substr(0,j);for(;j<out[i].v.length;++j){if(jj<ostr.length)vv+=ostr[jj++]}out[i].v=vv;out[i].t="t";lasti=i}}}for(i=0;i<out.length;++i)if(out[i]!=null&&"n(?".indexOf(out[i].t)>-1){myv=flen>1&&v<0&&i>0&&out[i-1].v==="-"?-v:v;out[i].v=write_num(out[i].t,out[i].v,myv);out[i].t="t"}var retval="";for(i=0;i!==out.length;++i)if(out[i]!=null)retval+=out[i].v;return retval}SSF._eval=eval_fmt;var cfregex=/\[[=<>]/;var cfregex2=/\[([=<>]*)(-?\d+\.?\d*)\]/;function chkcond(v,rr){if(rr==null)return false;var thresh=parseFloat(rr[2]);switch(rr[1]){case"=":if(v==thresh)return true;break;case">":if(v>thresh)return true;break;case"<":if(v<thresh)return true;break;case"<>":if(v!=thresh)return true;break;case">=":if(v>=thresh)return true;break;case"<=":if(v<=thresh)return true;break}return false}function choose_fmt(f,v){var fmt=split_fmt(f);var l=fmt.length,lat=fmt[l-1].indexOf("@");if(l<4&&lat>-1)--l;if(fmt.length>4)throw"cannot find right format for |"+fmt+"|";if(typeof v!=="number")return[4,fmt.length===4||lat>-1?fmt[fmt.length-1]:"@"];switch(fmt.length){case 1:fmt=lat>-1?["General","General","General",fmt[0]]:[fmt[0],fmt[0],fmt[0],"@"];break;case 2:fmt=lat>-1?[fmt[0],fmt[0],fmt[0],fmt[1]]:[fmt[0],fmt[1],fmt[0],"@"];break;case 3:fmt=lat>-1?[fmt[0],fmt[1],fmt[0],fmt[2]]:[fmt[0],fmt[1],fmt[2],"@"];break;case 4:break}var ff=v>0?fmt[0]:v<0?fmt[1]:fmt[2];if(fmt[0].indexOf("[")===-1&&fmt[1].indexOf("[")===-1)return[l,ff];if(fmt[0].match(cfregex)!=null||fmt[1].match(cfregex)!=null){var m1=fmt[0].match(cfregex2);var m2=fmt[1].match(cfregex2);return chkcond(v,m1)?[l,fmt[0]]:chkcond(v,m2)?[l,fmt[1]]:[l,fmt[m1!=null&&m2!=null?2:1]]}return[l,ff]}function format(fmt,v,o){fixopts(o!=null?o:o=[]);var sfmt="";switch(typeof fmt){case"string":sfmt=fmt;break;case"number":sfmt=(o.table!=null?o.table:table_fmt)[fmt];break}if(isgeneral(sfmt,0))return general_fmt(v,o);var f=choose_fmt(sfmt,v);if(isgeneral(f[1]))return general_fmt(v,o);if(v===true)v="TRUE";else if(v===false)v="FALSE";else if(v===""||v==null)return"";return eval_fmt(f[1],v,o,f[0])}SSF._table=table_fmt;SSF.load=function load_entry(fmt,idx){table_fmt[idx]=fmt};SSF.format=format;SSF.get_table=function get_table(){return table_fmt};SSF.load_table=function load_table(tbl){for(var i=0;i!=392;++i)if(tbl[i]!==undefined)SSF.load(tbl[i],i)}};make_ssf(SSF);var XLMLFormatMap={"General Number":"General","General Date":SSF._table[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":SSF._table[15],"Short Date":SSF._table[14],"Long Time":SSF._table[19],"Medium Time":SSF._table[18],"Short Time":SSF._table[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:SSF._table[2],Standard:SSF._table[4],Percent:SSF._table[10],Scientific:SSF._table[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var DO_NOT_EXPORT_CFB=true;var CFB=function _CFB(){var exports={};exports.version="0.10.2";function parse(file){var mver=3;var ssz=512;var nmfs=0;var ndfs=0;var dir_start=0;var minifat_start=0;var difat_start=0;var fat_addrs=[];var blob=file.slice(0,512);prep_blob(blob,0);var mv=check_get_mver(blob);mver=mv[0];switch(mver){case 3:ssz=512;break;case 4:ssz=4096;break;default:throw"Major Version: Expected 3 or 4 saw "+mver}if(ssz!==512){blob=file.slice(0,ssz);prep_blob(blob,28)}var header=file.slice(0,ssz);check_shifts(blob,mver);var nds=blob.read_shift(4,"i");if(mver===3&&nds!==0)throw"# Directory Sectors: Expected 0 saw "+nds;blob.l+=4;dir_start=blob.read_shift(4,"i");blob.l+=4;blob.chk("00100000","Mini Stream Cutoff Size: ");minifat_start=blob.read_shift(4,"i");nmfs=blob.read_shift(4,"i");difat_start=blob.read_shift(4,"i");ndfs=blob.read_shift(4,"i");for(var q,j=0;j<109;++j){q=blob.read_shift(4,"i");if(q<0)break;fat_addrs[j]=q}var sectors=sectorify(file,ssz);sleuth_fat(difat_start,ndfs,sectors,ssz,fat_addrs);var sector_list=make_sector_list(sectors,dir_start,fat_addrs,ssz);sector_list[dir_start].name="!Directory";if(nmfs>0&&minifat_start!==ENDOFCHAIN)sector_list[minifat_start].name="!MiniFAT";sector_list[fat_addrs[0]].name="!FAT";sector_list.fat_addrs=fat_addrs;sector_list.ssz=ssz;var files={},Paths=[],FileIndex=[],FullPaths=[],FullPathDir={};read_directory(dir_start,sector_list,sectors,Paths,nmfs,files,FileIndex);build_full_paths(FileIndex,FullPathDir,FullPaths,Paths);var root_name=Paths.shift();Paths.root=root_name;var find_path=make_find_path(FullPaths,Paths,FileIndex,files,root_name);return{raw:{header:header,sectors:sectors},FileIndex:FileIndex,FullPaths:FullPaths,FullPathDir:FullPathDir,find:find_path}}function check_get_mver(blob){blob.chk(HEADER_SIGNATURE,"Header Signature: ");blob.chk(HEADER_CLSID,"CLSID: ");var mver=blob.read_shift(2,"u");return[blob.read_shift(2,"u"),mver]}function check_shifts(blob,mver){var shift=9;blob.chk("feff","Byte Order: ");switch(shift=blob.read_shift(2)){case 9:if(mver!==3)throw"MajorVersion/SectorShift Mismatch";break;case 12:if(mver!==4)throw"MajorVersion/SectorShift Mismatch";break;default:throw"Sector Shift: Expected 9 or 12 saw "+shift}blob.chk("0600","Mini Sector Shift: ");blob.chk("000000000000","Reserved: ")}function sectorify(file,ssz){var nsectors=Math.ceil(file.length/ssz)-1;var sectors=new Array(nsectors);for(var i=1;i<nsectors;++i)sectors[i-1]=file.slice(i*ssz,(i+1)*ssz);sectors[nsectors-1]=file.slice(nsectors*ssz);return sectors}function build_full_paths(FI,FPD,FP,Paths){var i=0,L=0,R=0,C=0,j=0,pl=Paths.length;var dad=new Array(pl),q=new Array(pl);for(;i<pl;++i){dad[i]=q[i]=i;FP[i]=Paths[i]}for(;j<q.length;++j){i=q[j];L=FI[i].L;R=FI[i].R;C=FI[i].C;if(dad[i]===i){if(L!==-1&&dad[L]!==L)dad[i]=dad[L];if(R!==-1&&dad[R]!==R)dad[i]=dad[R]}if(C!==-1)dad[C]=i;if(L!==-1){dad[L]=dad[i];q.push(L)}if(R!==-1){dad[R]=dad[i];q.push(R)}}for(i=1;i!==pl;++i)if(dad[i]===i){if(R!==-1&&dad[R]!==R)dad[i]=dad[R];else if(L!==-1&&dad[L]!==L)dad[i]=dad[L]}for(i=1;i<pl;++i){if(FI[i].type===0)continue;j=dad[i];if(j===0)FP[i]=FP[0]+"/"+FP[i];else while(j!==0){FP[i]=FP[j]+"/"+FP[i];j=dad[j]}dad[i]=0}FP[0]+="/";for(i=1;i<pl;++i){if(FI[i].type!==2)FP[i]+="/";FPD[FP[i]]=FI[i]}}function make_find_path(FullPaths,Paths,FileIndex,files,root_name){var UCFullPaths=new Array(FullPaths.length);var UCPaths=new Array(Paths.length),i;for(i=0;i<FullPaths.length;++i)UCFullPaths[i]=FullPaths[i].toUpperCase().replace(chr0,"").replace(chr1,"!");for(i=0;i<Paths.length;++i)UCPaths[i]=Paths[i].toUpperCase().replace(chr0,"").replace(chr1,"!");return function find_path(path){var k;if(path.charCodeAt(0)===47){k=true;path=root_name+path}else k=path.indexOf("/")!==-1;var UCPath=path.toUpperCase().replace(chr0,"").replace(chr1,"!");var w=k===true?UCFullPaths.indexOf(UCPath):UCPaths.indexOf(UCPath);if(w===-1)return null;return k===true?FileIndex[w]:files[Paths[w]]}}function sleuth_fat(idx,cnt,sectors,ssz,fat_addrs){var q;if(idx===ENDOFCHAIN){if(cnt!==0)throw"DIFAT chain shorter than expected"}else if(idx!==-1){var sector=sectors[idx],m=(ssz>>>2)-1;for(var i=0;i<m;++i){if((q=__readInt32LE(sector,i*4))===ENDOFCHAIN)break;fat_addrs.push(q)}sleuth_fat(__readInt32LE(sector,ssz-4),cnt-1,sectors,ssz,fat_addrs)}}function get_sector_list(sectors,start,fat_addrs,ssz,chkd){var sl=sectors.length;var buf,buf_chain;if(!chkd)chkd=new Array(sl);var modulus=ssz-1,j,jj;buf=[];buf_chain=[];for(j=start;j>=0;){chkd[j]=true;buf[buf.length]=j;buf_chain.push(sectors[j]);var addr=fat_addrs[Math.floor(j*4/ssz)];jj=j*4&modulus;if(ssz<4+jj)throw"FAT boundary crossed: "+j+" 4 "+ssz;j=__readInt32LE(sectors[addr],jj)}return{nodes:buf,data:__toBuffer([buf_chain])}}function make_sector_list(sectors,dir_start,fat_addrs,ssz){var sl=sectors.length,sector_list=new Array(sl);var chkd=new Array(sl),buf,buf_chain;var modulus=ssz-1,i,j,k,jj;for(i=0;i<sl;++i){buf=[];k=i+dir_start;if(k>=sl)k-=sl;if(chkd[k]===true)continue;buf_chain=[];for(j=k;j>=0;){chkd[j]=true;buf[buf.length]=j;buf_chain.push(sectors[j]);var addr=fat_addrs[Math.floor(j*4/ssz)];jj=j*4&modulus;if(ssz<4+jj)throw"FAT boundary crossed: "+j+" 4 "+ssz;j=__readInt32LE(sectors[addr],jj)}sector_list[k]={nodes:buf,data:__toBuffer([buf_chain])}}return sector_list}function read_directory(dir_start,sector_list,sectors,Paths,nmfs,files,FileIndex){var blob;var minifat_store=0,pl=Paths.length?2:0;var sector=sector_list[dir_start].data;var i=0,namelen=0,name,o,ctime,mtime;for(;i<sector.length;i+=128){blob=sector.slice(i,i+128);prep_blob(blob,64);namelen=blob.read_shift(2);if(namelen===0)continue;name=__utf16le(blob,0,namelen-pl);Paths.push(name);o={name:name,type:blob.read_shift(1),color:blob.read_shift(1),L:blob.read_shift(4,"i"),R:blob.read_shift(4,"i"),C:blob.read_shift(4,"i"),clsid:blob.read_shift(16),state:blob.read_shift(4,"i")};ctime=blob.read_shift(2)+blob.read_shift(2)+blob.read_shift(2)+blob.read_shift(2);if(ctime!==0){o.ctime=ctime;o.ct=read_date(blob,blob.l-8)}mtime=blob.read_shift(2)+blob.read_shift(2)+blob.read_shift(2)+blob.read_shift(2);if(mtime!==0){o.mtime=mtime;o.mt=read_date(blob,blob.l-8)}o.start=blob.read_shift(4,"i");o.size=blob.read_shift(4,"i");if(o.type===5){minifat_store=o.start;if(nmfs>0&&minifat_store!==ENDOFCHAIN)sector_list[minifat_store].name="!StreamData"}else if(o.size>=4096){o.storage="fat";if(sector_list[o.start]===undefined)sector_list[o.start]=get_sector_list(sectors,o.start,sector_list.fat_addrs,sector_list.ssz);sector_list[o.start].name=o.name;o.content=sector_list[o.start].data.slice(0,o.size);prep_blob(o.content,0)}else{o.storage="minifat";if(minifat_store!==ENDOFCHAIN&&o.start!==ENDOFCHAIN){o.content=sector_list[minifat_store].data.slice(o.start*MSSZ,o.start*MSSZ+o.size);prep_blob(o.content,0)}}files[name]=o;FileIndex.push(o)}}function read_date(blob,offset){return new Date((__readUInt32LE(blob,offset+4)/1e7*Math.pow(2,32)+__readUInt32LE(blob,offset)/1e7-11644473600)*1e3)}var fs;function readFileSync(filename,options){if(fs===undefined)fs=require("fs");return parse(fs.readFileSync(filename),options)}function readSync(blob,options){switch(options!==undefined&&options.type!==undefined?options.type:"base64"){case"file":return readFileSync(blob,options);case"base64":return parse(s2a(Base64.decode(blob)),options);case"binary":return parse(s2a(blob),options)}return parse(blob)}var MSSZ=64;var ENDOFCHAIN=-2;var HEADER_SIGNATURE="d0cf11e0a1b11ae1";var HEADER_CLSID="00000000000000000000000000000000";var consts={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:ENDOFCHAIN,FREESECT:-1,HEADER_SIGNATURE:HEADER_SIGNATURE,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:HEADER_CLSID,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};exports.read=readSync;exports.parse=parse;exports.utils={ReadShift:ReadShift,CheckField:CheckField,prep_blob:prep_blob,bconcat:bconcat,consts:consts};return exports}();if(typeof require!=="undefined"&&typeof module!=="undefined"&&typeof DO_NOT_EXPORT_CFB==="undefined"){module.exports=CFB}function isval(x){return x!==undefined&&x!==null}function keys(o){return Object.keys(o)}function evert_key(obj,key){var o=[],K=keys(obj);for(var i=0;i!==K.length;++i)o[obj[K[i]][key]]=K[i];return o}function evert(obj){var o=[],K=keys(obj);for(var i=0;i!==K.length;++i)o[obj[K[i]]]=K[i];return o}function evert_num(obj){var o=[],K=keys(obj);for(var i=0;i!==K.length;++i)o[obj[K[i]]]=parseInt(K[i],10);return o}function evert_arr(obj){var o=[],K=keys(obj);for(var i=0;i!==K.length;++i){if(o[obj[K[i]]]==null)o[obj[K[i]]]=[];o[obj[K[i]]].push(K[i])}return o}function datenum(v,date1904){if(date1904)v+=1462;var epoch=Date.parse(v);return(epoch+22091616e5)/(24*60*60*1e3)}function cc2str(arr){var o="";for(var i=0;i!=arr.length;++i)o+=String.fromCharCode(arr[i]);return o}function getdata(data){if(!data)return null;if(data.name.substr(-4)===".bin"){if(data.data)return char_codes(data.data);if(data.asNodeBuffer&&has_buf)return data.asNodeBuffer();if(data._data&&data._data.getContent)return Array.prototype.slice.call(data._data.getContent())}else{if(data.data)return data.name.substr(-4)!==".bin"?debom_xml(data.data):char_codes(data.data);if(data.asNodeBuffer&&has_buf)return debom_xml(data.asNodeBuffer().toString("binary"));if(data.asBinary)return debom_xml(data.asBinary());if(data._data&&data._data.getContent)return debom_xml(cc2str(Array.prototype.slice.call(data._data.getContent(),0)))}return null}function safegetzipfile(zip,file){var f=file;if(zip.files[f])return zip.files[f];f=file.toLowerCase();if(zip.files[f])return zip.files[f];f=f.replace(/\//g,"\\");if(zip.files[f])return zip.files[f];return null}function getzipfile(zip,file){var o=safegetzipfile(zip,file);if(o==null)throw new Error("Cannot find file "+file+" in zip");return o}function getzipdata(zip,file,safe){if(!safe)return getdata(getzipfile(zip,file));if(!file)return null;try{return getzipdata(zip,file)}catch(e){return null}}var _fs,jszip;if(typeof JSZip!=="undefined")jszip=JSZip;if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){if(has_buf&&typeof jszip==="undefined")jszip=require("js"+"zip");if(typeof jszip==="undefined")jszip=require("./js"+"zip").JSZip;_fs=require("f"+"s")}}var attregexg=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g;var tagregex=/<[^>]*>/g;var nsregex=/<\w*:/,nsregex2=/<(\/?)\w+:/;function parsexmltag(tag,skip_root){var z=[];var eq=0,c=0;for(;eq!==tag.length;++eq)if((c=tag.charCodeAt(eq))===32||c===10||c===13)break;if(!skip_root)z[0]=tag.substr(0,eq);if(eq===tag.length)return z;var m=tag.match(attregexg),j=0,w="",v="",i=0,q="",cc="";if(m)for(i=0;i!=m.length;++i){cc=m[i];for(c=0;c!=cc.length;++c)if(cc.charCodeAt(c)===61)break;q=cc.substr(0,c);v=cc.substring(c+2,cc.length-1);for(j=0;j!=q.length;++j)if(q.charCodeAt(j)===58)break;if(j===q.length)z[q]=v;else z[(j===5&&q.substr(0,5)==="xmlns"?"xmlns":"")+q.substr(j+1)]=v}return z}function strip_ns(x){return x.replace(nsregex2,"<$1")}var encodings={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"};var rencoding=evert(encodings);var rencstr="&<>'\"".split("");var unescapexml=function(){var encregex=/&[a-z]*;/g,coderegex=/_x([\da-fA-F]+)_/g;return function unescapexml(text){var s=text+"";return s.replace(encregex,function($$){return encodings[$$]}).replace(coderegex,function(m,c){return String.fromCharCode(parseInt(c,16))})}}();var decregex=/[&<>'"]/g,charegex=/[\u0000-\u0008\u000b-\u001f]/g;function escapexml(text){var s=text+"";return s.replace(decregex,function(y){return rencoding[y]}).replace(charegex,function(s){return"_x"+("000"+s.charCodeAt(0).toString(16)).substr(-4)+"_"})}var xlml_fixstr=function(){var entregex=/&#(\d+);/g;function entrepl($$,$1){return String.fromCharCode(parseInt($1,10))}return function xlml_fixstr(str){return str.replace(entregex,entrepl)}}();function parsexmlbool(value,tag){switch(value){case"1":case"true":case"TRUE":return true;default:return false}}var utf8read=function utf8reada(orig){var out="",i=0,c=0,d=0,e=0,f=0,w=0;while(i<orig.length){c=orig.charCodeAt(i++);if(c<128){out+=String.fromCharCode(c);continue}d=orig.charCodeAt(i++);if(c>191&&c<224){out+=String.fromCharCode((c&31)<<6|d&63);continue}e=orig.charCodeAt(i++);if(c<240){out+=String.fromCharCode((c&15)<<12|(d&63)<<6|e&63);continue}f=orig.charCodeAt(i++);w=((c&7)<<18|(d&63)<<12|(e&63)<<6|f&63)-65536;out+=String.fromCharCode(55296+(w>>>10&1023));out+=String.fromCharCode(56320+(w&1023))}return out};if(has_buf){var utf8readb=function utf8readb(data){var out=new Buffer(2*data.length),w,i,j=1,k=0,ww=0,c;for(i=0;i<data.length;i+=j){j=1;if((c=data.charCodeAt(i))<128)w=c;else if(c<224){w=(c&31)*64+(data.charCodeAt(i+1)&63);j=2}else if(c<240){w=(c&15)*4096+(data.charCodeAt(i+1)&63)*64+(data.charCodeAt(i+2)&63);j=3}else{j=4;w=(c&7)*262144+(data.charCodeAt(i+1)&63)*4096+(data.charCodeAt(i+2)&63)*64+(data.charCodeAt(i+3)&63);w-=65536;ww=55296+(w>>>10&1023);w=56320+(w&1023)}if(ww!==0){out[k++]=ww&255;out[k++]=ww>>>8;ww=0}out[k++]=w%256;out[k++]=w>>>8}out.length=k;return out.toString("ucs2")};var corpus="foo bar bazâð£";if(utf8read(corpus)==utf8readb(corpus))utf8read=utf8readb;var utf8readc=function utf8readc(data){return Buffer(data,"binary").toString("utf8")};if(utf8read(corpus)==utf8readc(corpus))utf8read=utf8readc}var matchtag=function(){var mtcache={};return function matchtag(f,g){var t=f+"|"+g;if(mtcache[t]!==undefined)return mtcache[t];return mtcache[t]=new RegExp("<(?:\\w+:)?"+f+'(?: xml:space="preserve")?(?:[^>]*)>([^☃]*)</(?:\\w+:)?'+f+">",g||"")}}();var vtregex=function(){var vt_cache={};return function vt_regex(bt){if(vt_cache[bt]!==undefined)return vt_cache[bt];return vt_cache[bt]=new RegExp("<vt:"+bt+">(.*?)</vt:"+bt+">","g")}}();var vtvregex=/<\/?vt:variant>/g,vtmregex=/<vt:([^>]*)>(.*)</;function parseVector(data){var h=parsexmltag(data);var matches=data.match(vtregex(h.baseType))||[];if(matches.length!=h.size)throw"unexpected vector length "+matches.length+" != "+h.size;var res=[];matches.forEach(function(x){var v=x.replace(vtvregex,"").match(vtmregex);res.push({v:v[2],t:v[1]})});return res}var wtregex=/(^\s|\s$|\n)/;function writetag(f,g){return"<"+f+(g.match(wtregex)?' xml:space="preserve"':"")+">"+g+"</"+f+">"}function wxt_helper(h){return keys(h).map(function(k){return" "+k+'="'+h[k]+'"'}).join("")}function writextag(f,g,h){return"<"+f+(isval(h)?wxt_helper(h):"")+(isval(g)?(g.match(wtregex)?' xml:space="preserve"':"")+">"+g+"</"+f:"/")+">"}function write_w3cdtf(d,t){try{return d.toISOString().replace(/\.\d*/,"")}catch(e){if(t)throw e}}function write_vt(s){switch(typeof s){case"string":return writextag("vt:lpwstr",s);case"number":return writextag((s|0)==s?"vt:i4":"vt:r8",String(s));case"boolean":return writextag("vt:bool",s?"true":"false")}if(s instanceof Date)return writextag("vt:filetime",write_w3cdtf(s));throw new Error("Unable to serialize "+s)}var XML_HEADER='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n';var XMLNS={dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"};XMLNS.main=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function readIEEE754(buf,idx,isLE,nl,ml){if(isLE===undefined)isLE=true;if(!nl)nl=8;if(!ml&&nl===8)ml=52;var e,m,el=nl*8-ml-1,eMax=(1<<el)-1,eBias=eMax>>1;var bits=-7,d=isLE?-1:1,i=isLE?nl-1:0,s=buf[idx+i];i+=d;e=s&(1<<-bits)-1;s>>>=-bits;bits+=el;for(;bits>0;e=e*256+buf[idx+i],i+=d,bits-=8);m=e&(1<<-bits)-1;e>>>=-bits;bits+=ml;for(;bits>0;m=m*256+buf[idx+i],i+=d,bits-=8);if(e===eMax)return m?NaN:(s?-1:1)*Infinity;else if(e===0)e=1-eBias;else{m=m+Math.pow(2,ml);e=e-eBias}return(s?-1:1)*m*Math.pow(2,e-ml)}var __toBuffer,___toBuffer;__toBuffer=___toBuffer=function toBuffer_(bufs){var x=[];for(var i=0;i<bufs[0].length;++i){x.push.apply(x,bufs[0][i])}return x};var __utf16le,___utf16le;__utf16le=___utf16le=function utf16le_(b,s,e){var ss=[];for(var i=s;i<e;i+=2)ss.push(String.fromCharCode(__readUInt16LE(b,i)));return ss.join("")};var __hexlify,___hexlify;__hexlify=___hexlify=function hexlify_(b,s,l){return b.slice(s,s+l).map(function(x){return(x<16?"0":"")+x.toString(16)}).join("")};var __utf8,___utf8;__utf8=___utf8=function(b,s,e){var ss=[];for(var i=s;i<e;i++)ss.push(String.fromCharCode(__readUInt8(b,i)));return ss.join("")};var __lpstr,___lpstr;__lpstr=___lpstr=function lpstr_(b,i){var len=__readUInt32LE(b,i);return len>0?__utf8(b,i+4,i+4+len-1):""};var __lpwstr,___lpwstr;__lpwstr=___lpwstr=function lpwstr_(b,i){var len=2*__readUInt32LE(b,i);return len>0?__utf8(b,i+4,i+4+len-1):""};var __double,___double;__double=___double=function(b,idx){return readIEEE754(b,idx)};var is_buf=function is_buf_a(a){return Array.isArray(a)};if(has_buf){__utf16le=function utf16le_b(b,s,e){if(!Buffer.isBuffer(b))return ___utf16le(b,s,e);return b.toString("utf16le",s,e)};__hexlify=function(b,s,l){return Buffer.isBuffer(b)?b.toString("hex",s,s+l):___hexlify(b,s,l)};__lpstr=function lpstr_b(b,i){if(!Buffer.isBuffer(b))return ___lpstr(b,i);var len=b.readUInt32LE(i);return len>0?b.toString("utf8",i+4,i+4+len-1):""};__lpwstr=function lpwstr_b(b,i){if(!Buffer.isBuffer(b))return ___lpwstr(b,i);var len=2*b.readUInt32LE(i);return b.toString("utf16le",i+4,i+4+len-1)};__utf8=function utf8_b(s,e){return this.toString("utf8",s,e)};__toBuffer=function(bufs){return bufs[0].length>0&&Buffer.isBuffer(bufs[0][0])?Buffer.concat(bufs[0]):___toBuffer(bufs)};bconcat=function(bufs){return Buffer.isBuffer(bufs[0])?Buffer.concat(bufs):[].concat.apply([],bufs)};__double=function double_(b,i){if(Buffer.isBuffer(b))return b.readDoubleLE(i);return ___double(b,i)};is_buf=function is_buf_b(a){return Buffer.isBuffer(a)||Array.isArray(a)}}if(typeof cptable!=="undefined"){__utf16le=function(b,s,e){return cptable.utils.decode(1200,b.slice(s,e))};__utf8=function(b,s,e){return cptable.utils.decode(65001,b.slice(s,e))};__lpstr=function(b,i){var len=__readUInt32LE(b,i);return len>0?cptable.utils.decode(current_codepage,b.slice(i+4,i+4+len-1)):""};__lpwstr=function(b,i){var len=2*__readUInt32LE(b,i);return len>0?cptable.utils.decode(1200,b.slice(i+4,i+4+len-1)):""}}var __readUInt8=function(b,idx){return b[idx]};var __readUInt16LE=function(b,idx){return b[idx+1]*(1<<8)+b[idx]};var __readInt16LE=function(b,idx){var u=b[idx+1]*(1<<8)+b[idx];return u<32768?u:(65535-u+1)*-1};var __readUInt32LE=function(b,idx){return b[idx+3]*(1<<24)+(b[idx+2]<<16)+(b[idx+1]<<8)+b[idx]};var __readInt32LE=function(b,idx){return b[idx+3]<<24|b[idx+2]<<16|b[idx+1]<<8|b[idx]};var ___unhexlify=function(s){return s.match(/../g).map(function(x){return parseInt(x,16)})};var __unhexlify=typeof Buffer!=="undefined"?function(s){return Buffer.isBuffer(s)?new Buffer(s,"hex"):___unhexlify(s)}:___unhexlify;function ReadShift(size,t){var o="",oI,oR,oo=[],w,vv,i,loc;switch(t){case"dbcs":loc=this.l;if(has_buf&&Buffer.isBuffer(this))o=this.slice(this.l,this.l+2*size).toString("utf16le");else for(i=0;i!=size;++i){o+=String.fromCharCode(__readUInt16LE(this,loc));loc+=2}size*=2;break;case"utf8":o=__utf8(this,this.l,this.l+size);break;case"utf16le":size*=2;o=__utf16le(this,this.l,this.l+size);break;case"lpstr":o=__lpstr(this,this.l);size=5+o.length;break;case"lpwstr":o=__lpwstr(this,this.l);size=5+o.length;if(o[o.length-1]=="\x00")size+=2;break;case"cstr":size=0;o="";while((w=__readUInt8(this,this.l+size++))!==0)oo.push(_getchar(w));o=oo.join("");break;case"wstr":size=0;o="";while((w=__readUInt16LE(this,this.l+size))!==0){oo.push(_getchar(w));size+=2}size+=2;o=oo.join("");break;case"dbcs-cont":o="";loc=this.l;for(i=0;i!=size;++i){if(this.lens&&this.lens.indexOf(loc)!==-1){w=__readUInt8(this,loc);this.l=loc+1;vv=ReadShift.call(this,size-i,w?"dbcs-cont":"sbcs-cont");return oo.join("")+vv}oo.push(_getchar(__readUInt16LE(this,loc)));loc+=2}o=oo.join("");size*=2;break;case"sbcs-cont":o="";loc=this.l;for(i=0;i!=size;++i){if(this.lens&&this.lens.indexOf(loc)!==-1){w=__readUInt8(this,loc);this.l=loc+1;vv=ReadShift.call(this,size-i,w?"dbcs-cont":"sbcs-cont");return oo.join("")+vv}oo.push(_getchar(__readUInt8(this,loc)));loc+=1}o=oo.join("");break;default:switch(size){case 1:oI=__readUInt8(this,this.l);this.l++;return oI;case 2:oI=(t==="i"?__readInt16LE:__readUInt16LE)(this,this.l);this.l+=2;return oI;case 4:if(t==="i"||(this[this.l+3]&128)===0){oI=__readInt32LE(this,this.l);this.l+=4;return oI}else{oR=__readUInt32LE(this,this.l);this.l+=4;return oR}break;case 8:if(t==="f"){oR=__double(this,this.l);this.l+=8;return oR}case 16:o=__hexlify(this,this.l,size);break}}this.l+=size;return o}function WriteShift(t,val,f){var size,i;if(f==="dbcs"){for(i=0;i!=val.length;++i)this.writeUInt16LE(val.charCodeAt(i),this.l+2*i);size=2*val.length}else switch(t){case 1:size=1;this[this.l]=val&255;break;case 3:size=3;this[this.l+2]=val&255;val>>>=8;
this[this.l+1]=val&255;val>>>=8;this[this.l]=val&255;break;case 4:size=4;this.writeUInt32LE(val,this.l);break;case 8:size=8;if(f==="f"){this.writeDoubleLE(val,this.l);break}case 16:break;case-4:size=4;this.writeInt32LE(val,this.l);break}this.l+=size;return this}function CheckField(hexstr,fld){var m=__hexlify(this,this.l,hexstr.length>>1);if(m!==hexstr)throw fld+"Expected "+hexstr+" saw "+m;this.l+=hexstr.length>>1}function prep_blob(blob,pos){blob.l=pos;blob.read_shift=ReadShift;blob.chk=CheckField;blob.write_shift=WriteShift}function parsenoop(blob,length){blob.l+=length}function writenoop(blob,length){blob.l+=length}function new_buf(sz){var o=new_raw_buf(sz);prep_blob(o,0);return o}function recordhopper(data,cb,opts){var tmpbyte,cntbyte,length;prep_blob(data,data.l||0);while(data.l<data.length){var RT=data.read_shift(1);if(RT&128)RT=(RT&127)+((data.read_shift(1)&127)<<7);var R=XLSBRecordEnum[RT]||XLSBRecordEnum[65535];tmpbyte=data.read_shift(1);length=tmpbyte&127;for(cntbyte=1;cntbyte<4&&tmpbyte&128;++cntbyte)length+=((tmpbyte=data.read_shift(1))&127)<<7*cntbyte;var d=R.f(data,length,opts);if(cb(d,R,RT))return}}function buf_array(){var bufs=[],blksz=2048;var newblk=function ba_newblk(sz){var o=new_buf(sz);prep_blob(o,0);return o};var curbuf=newblk(blksz);var endbuf=function ba_endbuf(){curbuf.length=curbuf.l;if(curbuf.length>0)bufs.push(curbuf);curbuf=null};var next=function ba_next(sz){if(sz<curbuf.length-curbuf.l)return curbuf;endbuf();return curbuf=newblk(Math.max(sz+1,blksz))};var end=function ba_end(){endbuf();return __toBuffer([bufs])};var push=function ba_push(buf){endbuf();curbuf=buf;next(blksz)};return{next:next,push:push,end:end,_bufs:bufs}}function write_record(ba,type,payload,length){var t=evert_RE[type],l;if(!length)length=XLSBRecordEnum[t].p||(payload||[]).length||0;l=1+(t>=128?1:0)+1+length;if(length>=128)++l;if(length>=16384)++l;if(length>=2097152)++l;var o=ba.next(l);if(t<=127)o.write_shift(1,t);else{o.write_shift(1,(t&127)+128);o.write_shift(1,t>>7)}for(var i=0;i!=4;++i){if(length>=128){o.write_shift(1,(length&127)+128);length>>=7}else{o.write_shift(1,length);break}}if(length>0&&is_buf(payload))ba.push(payload)}function shift_cell_xls(cell,tgt){if(tgt.s){if(cell.cRel)cell.c+=tgt.s.c;if(cell.rRel)cell.r+=tgt.s.r}else{cell.c+=tgt.c;cell.r+=tgt.r}cell.cRel=cell.rRel=0;while(cell.c>=256)cell.c-=256;while(cell.r>=65536)cell.r-=65536;return cell}function shift_range_xls(cell,range){cell.s=shift_cell_xls(cell.s,range.s);cell.e=shift_cell_xls(cell.e,range.s);return cell}var OFFCRYPTO={};var make_offcrypto=function(O,_crypto){var crypto;if(typeof _crypto!=="undefined")crypto=_crypto;else if(typeof require!=="undefined"){try{crypto=require("cry"+"pto")}catch(e){crypto=null}}O.rc4=function(key,data){var S=new Array(256);var c=0,i=0,j=0,t=0;for(i=0;i!=256;++i)S[i]=i;for(i=0;i!=256;++i){j=j+S[i]+key[i%key.length].charCodeAt(0)&255;t=S[i];S[i]=S[j];S[j]=t}i=j=0;out=Buffer(data.length);for(c=0;c!=data.length;++c){i=i+1&255;j=(j+S[i])%256;t=S[i];S[i]=S[j];S[j]=t;out[c]=data[c]^S[S[i]+S[j]&255]}return out};if(crypto){O.md5=function(hex){return crypto.createHash("md5").update(hex).digest("hex")}}else{O.md5=function(hex){throw"unimplemented"}}};make_offcrypto(OFFCRYPTO,typeof crypto!=="undefined"?crypto:undefined);function parse_StrRun(data,length){return{ich:data.read_shift(2),ifnt:data.read_shift(2)}}function parse_RichStr(data,length){var start=data.l;var flags=data.read_shift(1);var str=parse_XLWideString(data);var rgsStrRun=[];var z={t:str,h:str};if((flags&1)!==0){var dwSizeStrRun=data.read_shift(4);for(var i=0;i!=dwSizeStrRun;++i)rgsStrRun.push(parse_StrRun(data));z.r=rgsStrRun}else z.r="<t>"+escapexml(str)+"</t>";if((flags&2)!==0){}data.l=start+length;return z}function write_RichStr(str,o){if(o==null)o=new_buf(5+2*str.t.length);o.write_shift(1,0);write_XLWideString(str.t,o);return o}function parse_XLSBCell(data){var col=data.read_shift(4);var iStyleRef=data.read_shift(2);iStyleRef+=data.read_shift(1)<<16;var fPhShow=data.read_shift(1);return{c:col,iStyleRef:iStyleRef}}function write_XLSBCell(cell,o){if(o==null)o=new_buf(8);o.write_shift(-4,cell.c);o.write_shift(3,cell.iStyleRef===undefined?cell.iStyleRef:cell.s);o.write_shift(1,0);return o}function parse_XLSBCodeName(data,length){return parse_XLWideString(data,length)}function parse_XLNullableWideString(data){var cchCharacters=data.read_shift(4);return cchCharacters===0||cchCharacters===4294967295?"":data.read_shift(cchCharacters,"dbcs")}function write_XLNullableWideString(data,o){if(!o)o=new_buf(127);o.write_shift(4,data.length>0?data.length:4294967295);if(data.length>0)o.write_shift(0,data,"dbcs");return o}function parse_XLWideString(data){var cchCharacters=data.read_shift(4);return cchCharacters===0?"":data.read_shift(cchCharacters,"dbcs")}function write_XLWideString(data,o){if(o==null)o=new_buf(4+2*data.length);o.write_shift(4,data.length);if(data.length>0)o.write_shift(0,data,"dbcs");return o}var parse_RelID=parse_XLNullableWideString;var write_RelID=write_XLNullableWideString;function parse_RkNumber(data){var b=data.slice(data.l,data.l+4);var fX100=b[0]&1,fInt=b[0]&2;data.l+=4;b[0]&=252;var RK=fInt===0?__double([0,0,0,0,b[0],b[1],b[2],b[3]],0):__readInt32LE(b,0)>>2;return fX100?RK/100:RK}function parse_UncheckedRfX(data){var cell={s:{},e:{}};cell.s.r=data.read_shift(4);cell.e.r=data.read_shift(4);cell.s.c=data.read_shift(4);cell.e.c=data.read_shift(4);return cell}function write_UncheckedRfX(r,o){if(!o)o=new_buf(16);o.write_shift(4,r.s.r);o.write_shift(4,r.e.r);o.write_shift(4,r.s.c);o.write_shift(4,r.e.c);return o}function parse_Xnum(data,length){return data.read_shift(8,"f")}function write_Xnum(data,o){return(o||new_buf(8)).write_shift(8,"f",data)}var BErr={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"};var RBErr=evert_num(BErr);function parse_BrtColor(data,length){var out={};var d=data.read_shift(1);out.fValidRGB=d&1;out.xColorType=d>>>1;out.index=data.read_shift(1);out.nTintAndShade=data.read_shift(2,"i");out.bRed=data.read_shift(1);out.bGreen=data.read_shift(1);out.bBlue=data.read_shift(1);out.bAlpha=data.read_shift(1)}function parse_FontFlags(data,length){var d=data.read_shift(1);data.l++;var out={fItalic:d&2,fStrikeout:d&8,fOutline:d&16,fShadow:d&32,fCondense:d&64,fExtend:d&128};return out}{var VT_EMPTY=0;var VT_NULL=1;var VT_I2=2;var VT_I4=3;var VT_R4=4;var VT_R8=5;var VT_CY=6;var VT_DATE=7;var VT_BSTR=8;var VT_ERROR=10;var VT_BOOL=11;var VT_VARIANT=12;var VT_DECIMAL=14;var VT_I1=16;var VT_UI1=17;var VT_UI2=18;var VT_UI4=19;var VT_I8=20;var VT_UI8=21;var VT_INT=22;var VT_UINT=23;var VT_LPSTR=30;var VT_LPWSTR=31;var VT_FILETIME=64;var VT_BLOB=65;var VT_STREAM=66;var VT_STORAGE=67;var VT_STREAMED_Object=68;var VT_STORED_Object=69;var VT_BLOB_Object=70;var VT_CF=71;var VT_CLSID=72;var VT_VERSIONED_STREAM=73;var VT_VECTOR=4096;var VT_ARRAY=8192;var VT_STRING=80;var VT_USTR=81;var VT_CUSTOM=[VT_STRING,VT_USTR]}var DocSummaryPIDDSI={1:{n:"CodePage",t:VT_I2},2:{n:"Category",t:VT_STRING},3:{n:"PresentationFormat",t:VT_STRING},4:{n:"ByteCount",t:VT_I4},5:{n:"LineCount",t:VT_I4},6:{n:"ParagraphCount",t:VT_I4},7:{n:"SlideCount",t:VT_I4},8:{n:"NoteCount",t:VT_I4},9:{n:"HiddenCount",t:VT_I4},10:{n:"MultimediaClipCount",t:VT_I4},11:{n:"Scale",t:VT_BOOL},12:{n:"HeadingPair",t:VT_VECTOR|VT_VARIANT},13:{n:"DocParts",t:VT_VECTOR|VT_LPSTR},14:{n:"Manager",t:VT_STRING},15:{n:"Company",t:VT_STRING},16:{n:"LinksDirty",t:VT_BOOL},17:{n:"CharacterCount",t:VT_I4},19:{n:"SharedDoc",t:VT_BOOL},22:{n:"HLinksChanged",t:VT_BOOL},23:{n:"AppVersion",t:VT_I4,p:"version"},26:{n:"ContentType",t:VT_STRING},27:{n:"ContentStatus",t:VT_STRING},28:{n:"Language",t:VT_STRING},29:{n:"Version",t:VT_STRING},255:{}};var SummaryPIDSI={1:{n:"CodePage",t:VT_I2},2:{n:"Title",t:VT_STRING},3:{n:"Subject",t:VT_STRING},4:{n:"Author",t:VT_STRING},5:{n:"Keywords",t:VT_STRING},6:{n:"Comments",t:VT_STRING},7:{n:"Template",t:VT_STRING},8:{n:"LastAuthor",t:VT_STRING},9:{n:"RevNumber",t:VT_STRING},10:{n:"EditTime",t:VT_FILETIME},11:{n:"LastPrinted",t:VT_FILETIME},12:{n:"CreatedDate",t:VT_FILETIME},13:{n:"ModifiedDate",t:VT_FILETIME},14:{n:"PageCount",t:VT_I4},15:{n:"WordCount",t:VT_I4},16:{n:"CharCount",t:VT_I4},17:{n:"Thumbnail",t:VT_CF},18:{n:"ApplicationName",t:VT_LPSTR},19:{n:"DocumentSecurity",t:VT_I4},255:{}};var SpecialProperties={2147483648:{n:"Locale",t:VT_UI4},2147483651:{n:"Behavior",t:VT_UI4},1919054434:{}};(function(){for(var y in SpecialProperties)if(SpecialProperties.hasOwnProperty(y))DocSummaryPIDDSI[y]=SummaryPIDSI[y]=SpecialProperties[y]})();var CountryEnum={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"};var XLSFillPattern=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function rgbify(arr){return arr.map(function(x){return[x>>16&255,x>>8&255,x&255]})}var XLSIcv=rgbify([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0]);var ct2type={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.ms-excel.chartsheet":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"TODO","application/vnd.ms-excel.dialogsheet":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"TODO","application/vnd.ms-excel.macrosheet":"TODO","application/vnd.ms-excel.macrosheet+xml":"TODO","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.ms-excel.comments":"comments","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"TODO","application/vnd.ms-excel.sheetMetadata":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"TODO","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"vba","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO",sheet:"js"};var CT_LIST=function(){var o={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};keys(o).forEach(function(k){if(!o[k].xlsm)o[k].xlsm=o[k].xlsx});keys(o).forEach(function(k){keys(o[k]).forEach(function(v){ct2type[o[k][v]]=k})});return o}();var type2ct=evert_arr(ct2type);XMLNS.CT="http://schemas.openxmlformats.org/package/2006/content-types";function parse_ct(data,opts){var ctext={};if(!data||!data.match)return data;var ct={workbooks:[],sheets:[],calcchains:[],themes:[],styles:[],coreprops:[],extprops:[],custprops:[],strs:[],comments:[],vba:[],TODO:[],rels:[],xmlns:""};(data.match(tagregex)||[]).forEach(function(x){var y=parsexmltag(x);switch(y[0].replace(nsregex,"<")){case"<?xml":break;case"<Types":ct.xmlns=y["xmlns"+(y[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":ctext[y.Extension]=y.ContentType;break;case"<Override":if(ct[ct2type[y.ContentType]]!==undefined)ct[ct2type[y.ContentType]].push(y.PartName);else if(opts.WTF)console.error(y);break}});if(ct.xmlns!==XMLNS.CT)throw new Error("Unknown Namespace: "+ct.xmlns);ct.calcchain=ct.calcchains.length>0?ct.calcchains[0]:"";ct.sst=ct.strs.length>0?ct.strs[0]:"";ct.style=ct.styles.length>0?ct.styles[0]:"";ct.defaults=ctext;delete ct.calcchains;return ct}var CTYPE_XML_ROOT=writextag("Types",null,{xmlns:XMLNS.CT,"xmlns:xsd":XMLNS.xsd,"xmlns:xsi":XMLNS.xsi});var CTYPE_DEFAULTS=[["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["rels",type2ct.rels[0]]].map(function(x){return writextag("Default",null,{Extension:x[0],ContentType:x[1]})});function write_ct(ct,opts){var o=[],v;o[o.length]=XML_HEADER;o[o.length]=CTYPE_XML_ROOT;o=o.concat(CTYPE_DEFAULTS);var f1=function(w){if(ct[w]&&ct[w].length>0){v=ct[w][0];o[o.length]=writextag("Override",null,{PartName:(v[0]=="/"?"":"/")+v,ContentType:CT_LIST[w][opts.bookType||"xlsx"]})}};var f2=function(w){ct[w].forEach(function(v){o[o.length]=writextag("Override",null,{PartName:(v[0]=="/"?"":"/")+v,ContentType:CT_LIST[w][opts.bookType||"xlsx"]})})};var f3=function(t){(ct[t]||[]).forEach(function(v){o[o.length]=writextag("Override",null,{PartName:(v[0]=="/"?"":"/")+v,ContentType:type2ct[t][0]})})};f1("workbooks");f2("sheets");f3("themes");["strs","styles"].forEach(f1);["coreprops","extprops","custprops"].forEach(f3);if(o.length>2){o[o.length]="</Types>";o[1]=o[1].replace("/>",">")}return o.join("")}var RELS={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument"};function parse_rels(data,currentFilePath){if(!data)return data;if(currentFilePath.charAt(0)!=="/"){currentFilePath="/"+currentFilePath}var rels={};var hash={};var resolveRelativePathIntoAbsolute=function(to){var toksFrom=currentFilePath.split("/");toksFrom.pop();var toksTo=to.split("/");var reversed=[];while(toksTo.length!==0){var tokTo=toksTo.shift();if(tokTo===".."){toksFrom.pop()}else if(tokTo!=="."){toksFrom.push(tokTo)}}return toksFrom.join("/")};data.match(tagregex).forEach(function(x){var y=parsexmltag(x);if(y[0]==="<Relationship"){var rel={};rel.Type=y.Type;rel.Target=y.Target;rel.Id=y.Id;rel.TargetMode=y.TargetMode;var canonictarget=y.TargetMode==="External"?y.Target:resolveRelativePathIntoAbsolute(y.Target);rels[canonictarget]=rel;hash[y.Id]=rel}});rels["!id"]=hash;return rels}XMLNS.RELS="http://schemas.openxmlformats.org/package/2006/relationships";var RELS_ROOT=writextag("Relationships",null,{xmlns:XMLNS.RELS});function write_rels(rels){var o=[];o[o.length]=XML_HEADER;o[o.length]=RELS_ROOT;keys(rels["!id"]).forEach(function(rid){var rel=rels["!id"][rid];o[o.length]=writextag("Relationship",null,rel)});if(o.length>2){o[o.length]="</Relationships>";o[1]=o[1].replace("/>",">")}return o.join("")}var CORE_PROPS=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];XMLNS.CORE_PROPS="http://schemas.openxmlformats.org/package/2006/metadata/core-properties";RELS.CORE_PROPS="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties";var CORE_PROPS_REGEX=function(){var r=new Array(CORE_PROPS.length);for(var i=0;i<CORE_PROPS.length;++i){var f=CORE_PROPS[i];var g="(?:"+f[0].substr(0,f[0].indexOf(":"))+":)"+f[0].substr(f[0].indexOf(":")+1);r[i]=new RegExp("<"+g+"[^>]*>(.*)</"+g+">")}return r}();function parse_core_props(data){var p={};for(var i=0;i<CORE_PROPS.length;++i){var f=CORE_PROPS[i],cur=data.match(CORE_PROPS_REGEX[i]);if(cur!=null&&cur.length>0)p[f[1]]=cur[1];if(f[2]==="date"&&p[f[1]])p[f[1]]=new Date(p[f[1]])}return p}var CORE_PROPS_XML_ROOT=writextag("cp:coreProperties",null,{"xmlns:cp":XMLNS.CORE_PROPS,"xmlns:dc":XMLNS.dc,"xmlns:dcterms":XMLNS.dcterms,"xmlns:dcmitype":XMLNS.dcmitype,"xmlns:xsi":XMLNS.xsi});function cp_doit(f,g,h,o,p){if(p[f]!=null||g==null||g==="")return;p[f]=g;o[o.length]=h?writextag(f,g,h):writetag(f,g)}function write_core_props(cp,opts){var o=[XML_HEADER,CORE_PROPS_XML_ROOT],p={};if(!cp)return o.join("");if(cp.CreatedDate!=null)cp_doit("dcterms:created",typeof cp.CreatedDate==="string"?cp.CreatedDate:write_w3cdtf(cp.CreatedDate,opts.WTF),{"xsi:type":"dcterms:W3CDTF"},o,p);if(cp.ModifiedDate!=null)cp_doit("dcterms:modified",typeof cp.ModifiedDate==="string"?cp.ModifiedDate:write_w3cdtf(cp.ModifiedDate,opts.WTF),{"xsi:type":"dcterms:W3CDTF"},o,p);for(var i=0;i!=CORE_PROPS.length;++i){var f=CORE_PROPS[i];cp_doit(f[0],cp[f[1]],null,o,p)}if(o.length>2){o[o.length]="</cp:coreProperties>";o[1]=o[1].replace("/>",">")}return o.join("")}var EXT_PROPS=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];XMLNS.EXT_PROPS="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties";RELS.EXT_PROPS="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties";function parse_ext_props(data,p){var q={};if(!p)p={};EXT_PROPS.forEach(function(f){switch(f[2]){case"string":p[f[1]]=(data.match(matchtag(f[0]))||[])[1];break;case"bool":p[f[1]]=(data.match(matchtag(f[0]))||[])[1]==="true";break;case"raw":var cur=data.match(new RegExp("<"+f[0]+"[^>]*>(.*)</"+f[0]+">"));if(cur&&cur.length>0)q[f[1]]=cur[1];break}});if(q.HeadingPairs&&q.TitlesOfParts){var v=parseVector(q.HeadingPairs);var j=0,widx=0;for(var i=0;i!==v.length;++i){switch(v[i].v){case"Worksheets":widx=j;p.Worksheets=+v[++i].v;break;case"Named Ranges":++i;break}}var parts=parseVector(q.TitlesOfParts).map(function(x){return utf8read(x.v)});p.SheetNames=parts.slice(widx,widx+p.Worksheets)}return p}var EXT_PROPS_XML_ROOT=writextag("Properties",null,{xmlns:XMLNS.EXT_PROPS,"xmlns:vt":XMLNS.vt});function write_ext_props(cp,opts){var o=[],p={},W=writextag;if(!cp)cp={};cp.Application="SheetJS";o[o.length]=XML_HEADER;o[o.length]=EXT_PROPS_XML_ROOT;EXT_PROPS.forEach(function(f){if(cp[f[1]]===undefined)return;var v;switch(f[2]){case"string":v=cp[f[1]];break;case"bool":v=cp[f[1]]?"true":"false";break}if(v!==undefined)o[o.length]=W(f[0],v)});o[o.length]=W("HeadingPairs",W("vt:vector",W("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+W("vt:variant",W("vt:i4",String(cp.Worksheets))),{size:2,baseType:"variant"}));o[o.length]=W("TitlesOfParts",W("vt:vector",cp.SheetNames.map(function(s){return"<vt:lpstr>"+s+"</vt:lpstr>"}).join(""),{size:cp.Worksheets,baseType:"lpstr"}));if(o.length>2){o[o.length]="</Properties>";o[1]=o[1].replace("/>",">")}return o.join("")}XMLNS.CUST_PROPS="http://schemas.openxmlformats.org/officeDocument/2006/custom-properties";RELS.CUST_PROPS="http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties";var custregex=/<[^>]+>[^<]*/g;function parse_cust_props(data,opts){var p={},name;var m=data.match(custregex);if(m)for(var i=0;i!=m.length;++i){var x=m[i],y=parsexmltag(x);switch(y[0]){case"<?xml":break;case"<Properties":if(y.xmlns!==XMLNS.CUST_PROPS)throw"unrecognized xmlns "+y.xmlns;if(y.xmlnsvt&&y.xmlnsvt!==XMLNS.vt)throw"unrecognized vt "+y.xmlnsvt;break;case"<property":name=y.name;break;case"</property>":name=null;break;default:if(x.indexOf("<vt:")===0){var toks=x.split(">");var type=toks[0].substring(4),text=toks[1];switch(type){case"lpstr":case"lpwstr":case"bstr":case"lpwstr":p[name]=unescapexml(text);break;case"bool":p[name]=parsexmlbool(text,"<vt:bool>");break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":p[name]=parseInt(text,10);break;case"r4":case"r8":case"decimal":p[name]=parseFloat(text);break;case"filetime":case"date":p[name]=new Date(text);break;case"cy":case"error":p[name]=unescapexml(text);break;default:if(typeof console!=="undefined")console.warn("Unexpected",x,type,toks)}}else if(x.substr(0,2)==="</"){}else if(opts.WTF)throw new Error(x)}}return p}var CUST_PROPS_XML_ROOT=writextag("Properties",null,{xmlns:XMLNS.CUST_PROPS,"xmlns:vt":XMLNS.vt});function write_cust_props(cp,opts){var o=[XML_HEADER,CUST_PROPS_XML_ROOT];if(!cp)return o.join("");var pid=1;keys(cp).forEach(function custprop(k){++pid;o[o.length]=writextag("property",write_vt(cp[k]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:pid,name:k})});if(o.length>2){o[o.length]="</Properties>";o[1]=o[1].replace("/>",">")}return o.join("")}function xlml_set_prop(Props,tag,val){switch(tag){case"Description":tag="Comments";break}Props[tag]=val}function parse_FILETIME(blob){var dwLowDateTime=blob.read_shift(4),dwHighDateTime=blob.read_shift(4);return new Date((dwHighDateTime/1e7*Math.pow(2,32)+dwLowDateTime/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function parse_lpstr(blob,type,pad){var str=blob.read_shift(0,"lpstr");if(pad)blob.l+=4-(str.length+1&3)&3;return str}function parse_lpwstr(blob,type,pad){var str=blob.read_shift(0,"lpwstr");if(pad)blob.l+=4-(str.length+1&3)&3;return str}function parse_VtStringBase(blob,stringType,pad){if(stringType===31)return parse_lpwstr(blob);return parse_lpstr(blob,stringType,pad)}function parse_VtString(blob,t,pad){return parse_VtStringBase(blob,t,pad===false?0:4)}function parse_VtUnalignedString(blob,t){if(!t)throw new Error("dafuq?");return parse_VtStringBase(blob,t,0)}function parse_VtVecUnalignedLpstrValue(blob){var length=blob.read_shift(4);var ret=[];for(var i=0;i!=length;++i)ret[i]=blob.read_shift(0,"lpstr");return ret}function parse_VtVecUnalignedLpstr(blob){return parse_VtVecUnalignedLpstrValue(blob)}function parse_VtHeadingPair(blob){var headingString=parse_TypedPropertyValue(blob,VT_USTR);var headerParts=parse_TypedPropertyValue(blob,VT_I4);return[headingString,headerParts]}function parse_VtVecHeadingPairValue(blob){var cElements=blob.read_shift(4);var out=[];for(var i=0;i!=cElements/2;++i)out.push(parse_VtHeadingPair(blob));return out}function parse_VtVecHeadingPair(blob){return parse_VtVecHeadingPairValue(blob)}function parse_dictionary(blob,CodePage){var cnt=blob.read_shift(4);var dict={};for(var j=0;j!=cnt;++j){var pid=blob.read_shift(4);var len=blob.read_shift(4);dict[pid]=blob.read_shift(len,CodePage===1200?"utf16le":"utf8").replace(chr0,"").replace(chr1,"!")}if(blob.l&3)blob.l=blob.l>>2+1<<2;return dict}function parse_BLOB(blob){var size=blob.read_shift(4);var bytes=blob.slice(blob.l,blob.l+size);if(size&3>0)blob.l+=4-(size&3)&3;return bytes}function parse_ClipboardData(blob){var o={};o.Size=blob.read_shift(4);blob.l+=o.Size;return o}function parse_VtVector(blob,cb){}function parse_TypedPropertyValue(blob,type,_opts){var t=blob.read_shift(2),ret,opts=_opts||{};blob.l+=2;if(type!==VT_VARIANT)if(t!==type&&VT_CUSTOM.indexOf(type)===-1)throw new Error("Expected type "+type+" saw "+t);switch(type===VT_VARIANT?t:type){case 2:ret=blob.read_shift(2,"i");if(!opts.raw)blob.l+=2;return ret;case 3:ret=blob.read_shift(4,"i");return ret;case 11:return blob.read_shift(4)!==0;case 19:ret=blob.read_shift(4);return ret;case 30:return parse_lpstr(blob,t,4).replace(chr0,"");case 31:return parse_lpwstr(blob);case 64:return parse_FILETIME(blob);case 65:return parse_BLOB(blob);case 71:return parse_ClipboardData(blob);case 80:return parse_VtString(blob,t,!opts.raw&&4).replace(chr0,"");case 81:return parse_VtUnalignedString(blob,t,4).replace(chr0,"");case 4108:return parse_VtVecHeadingPair(blob);case 4126:return parse_VtVecUnalignedLpstr(blob);default:throw new Error("TypedPropertyValue unrecognized type "+type+" "+t)}}function parse_PropertySet(blob,PIDSI){var start_addr=blob.l;var size=blob.read_shift(4);var NumProps=blob.read_shift(4);var Props=[],i=0;var CodePage=0;var Dictionary=-1,DictObj;for(i=0;i!=NumProps;++i){var PropID=blob.read_shift(4);var Offset=blob.read_shift(4);Props[i]=[PropID,Offset+start_addr]}var PropH={};for(i=0;i!=NumProps;++i){if(blob.l!==Props[i][1]){var fail=true;if(i>0&&PIDSI)switch(PIDSI[Props[i-1][0]].t){case 2:if(blob.l+2===Props[i][1]){blob.l+=2;fail=false}break;case 80:if(blob.l<=Props[i][1]){blob.l=Props[i][1];fail=false}break;case 4108:if(blob.l<=Props[i][1]){blob.l=Props[i][1];fail=false}break}if(!PIDSI&&blob.l<=Props[i][1]){fail=false;blob.l=Props[i][1]}if(fail)throw new Error("Read Error: Expected address "+Props[i][1]+" at "+blob.l+" :"+i)}if(PIDSI){var piddsi=PIDSI[Props[i][0]];PropH[piddsi.n]=parse_TypedPropertyValue(blob,piddsi.t,{raw:true});if(piddsi.p==="version")PropH[piddsi.n]=String(PropH[piddsi.n]>>16)+"."+String(PropH[piddsi.n]&65535);if(piddsi.n=="CodePage")switch(PropH[piddsi.n]){case 0:PropH[piddsi.n]=1252;case 1e4:case 1252:case 874:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 932:case 936:case 949:case 950:case 1200:case 1201:case 65e3:case-536:case 65001:case-535:set_cp(CodePage=PropH[piddsi.n]);break;default:throw new Error("Unsupported CodePage: "+PropH[piddsi.n])}}else{if(Props[i][0]===1){CodePage=PropH.CodePage=parse_TypedPropertyValue(blob,VT_I2);set_cp(CodePage);if(Dictionary!==-1){var oldpos=blob.l;blob.l=Props[Dictionary][1];DictObj=parse_dictionary(blob,CodePage);blob.l=oldpos}}else if(Props[i][0]===0){if(CodePage===0){Dictionary=i;blob.l=Props[i+1][1];continue}DictObj=parse_dictionary(blob,CodePage)}else{var name=DictObj[Props[i][0]];var val;switch(blob[blob.l]){case 65:blob.l+=4;val=parse_BLOB(blob);break;case 30:blob.l+=4;val=parse_VtString(blob,blob[blob.l-4]);break;case 31:blob.l+=4;val=parse_VtString(blob,blob[blob.l-4]);break;case 3:blob.l+=4;val=blob.read_shift(4,"i");break;case 19:blob.l+=4;val=blob.read_shift(4);break;case 5:blob.l+=4;val=blob.read_shift(8,"f");break;case 11:blob.l+=4;val=parsebool(blob,4);break;case 64:blob.l+=4;val=new Date(parse_FILETIME(blob));break;default:throw new Error("unparsed value: "+blob[blob.l])}PropH[name]=val}}}blob.l=start_addr+size;return PropH}function parse_PropertySetStream(file,PIDSI){var blob=file.content;prep_blob(blob,0);var NumSets,FMTID0,FMTID1,Offset0,Offset1;blob.chk("feff","Byte Order: ");var vers=blob.read_shift(2);var SystemIdentifier=blob.read_shift(4);blob.chk(CFB.utils.consts.HEADER_CLSID,"CLSID: ");NumSets=blob.read_shift(4);if(NumSets!==1&&NumSets!==2)throw"Unrecognized #Sets: "+NumSets;FMTID0=blob.read_shift(16);Offset0=blob.read_shift(4);if(NumSets===1&&Offset0!==blob.l)throw"Length mismatch";else if(NumSets===2){FMTID1=blob.read_shift(16);Offset1=blob.read_shift(4)}var PSet0=parse_PropertySet(blob,PIDSI);var rval={SystemIdentifier:SystemIdentifier};for(var y in PSet0)rval[y]=PSet0[y];rval.FMTID=FMTID0;if(NumSets===1)return rval;if(blob.l!==Offset1)throw"Length mismatch 2: "+blob.l+" !== "+Offset1;var PSet1;try{PSet1=parse_PropertySet(blob,null)}catch(e){}for(y in PSet1)rval[y]=PSet1[y];rval.FMTID=[FMTID0,FMTID1];return rval}function parsenoop2(blob,length){blob.read_shift(length);return null}function parslurp(blob,length,cb){var arr=[],target=blob.l+length;while(blob.l<target)arr.push(cb(blob,target-blob.l));if(target!==blob.l)throw new Error("Slurp error");return arr}function parslurp2(blob,length,cb){var arr=[],target=blob.l+length,len=blob.read_shift(2);while(len--!==0)arr.push(cb(blob,target-blob.l));if(target!==blob.l)throw new Error("Slurp error");return arr}function parsebool(blob,length){return blob.read_shift(length)===1}function parseuint16(blob){return blob.read_shift(2,"u")}function parseuint16a(blob,length){return parslurp(blob,length,parseuint16)}var parse_Boolean=parsebool;function parse_Bes(blob){var v=blob.read_shift(1),t=blob.read_shift(1);return t===1?v:v===1
}function parse_ShortXLUnicodeString(blob,length,opts){var cch=blob.read_shift(1);var width=1,encoding="sbcs-cont";var cp=current_codepage;if(opts&&opts.biff>=8)current_codepage=1200;if(opts===undefined||opts.biff!==5){var fHighByte=blob.read_shift(1);if(fHighByte){width=2;encoding="dbcs-cont"}}var o=cch?blob.read_shift(cch,encoding):"";current_codepage=cp;return o}function parse_XLUnicodeRichExtendedString(blob){var cp=current_codepage;current_codepage=1200;var cch=blob.read_shift(2),flags=blob.read_shift(1);var fHighByte=flags&1,fExtSt=flags&4,fRichSt=flags&8;var width=1+(flags&1);var cRun,cbExtRst;var z={};if(fRichSt)cRun=blob.read_shift(2);if(fExtSt)cbExtRst=blob.read_shift(4);var encoding=flags&1?"dbcs-cont":"sbcs-cont";var msg=cch===0?"":blob.read_shift(cch,encoding);if(fRichSt)blob.l+=4*cRun;if(fExtSt)blob.l+=cbExtRst;z.t=msg;if(!fRichSt){z.raw="<t>"+z.t+"</t>";z.r=z.t}current_codepage=cp;return z}function parse_XLUnicodeStringNoCch(blob,cch,opts){var retval;var fHighByte=blob.read_shift(1);if(fHighByte===0){retval=blob.read_shift(cch,"sbcs-cont")}else{retval=blob.read_shift(cch,"dbcs-cont")}return retval}function parse_XLUnicodeString(blob,length,opts){var cch=blob.read_shift(opts!==undefined&&opts.biff>0&&opts.biff<8?1:2);if(cch===0){blob.l++;return""}return parse_XLUnicodeStringNoCch(blob,cch,opts)}function parse_XLUnicodeString2(blob,length,opts){if(opts.biff!==5&&opts.biff!==2)return parse_XLUnicodeString(blob,length,opts);var cch=blob.read_shift(1);if(cch===0){blob.l++;return""}return blob.read_shift(cch,"sbcs-cont")}var parse_ControlInfo=parsenoop;var parse_URLMoniker=function(blob,length){var len=blob.read_shift(4),start=blob.l;var extra=false;if(len>24){blob.l+=len-24;if(blob.read_shift(16)==="795881f43b1d7f48af2c825dc4852763")extra=true;blob.l=start}var url=blob.read_shift((extra?len-24:len)>>1,"utf16le").replace(chr0,"");if(extra)blob.l+=24;return url};var parse_FileMoniker=function(blob,length){var cAnti=blob.read_shift(2);var ansiLength=blob.read_shift(4);var ansiPath=blob.read_shift(ansiLength,"cstr");var endServer=blob.read_shift(2);var versionNumber=blob.read_shift(2);var cbUnicodePathSize=blob.read_shift(4);if(cbUnicodePathSize===0)return ansiPath.replace(/\\/g,"/");var cbUnicodePathBytes=blob.read_shift(4);var usKeyValue=blob.read_shift(2);var unicodePath=blob.read_shift(cbUnicodePathBytes>>1,"utf16le").replace(chr0,"");return unicodePath};var parse_HyperlinkMoniker=function(blob,length){var clsid=blob.read_shift(16);length-=16;switch(clsid){case"e0c9ea79f9bace118c8200aa004ba90b":return parse_URLMoniker(blob,length);case"0303000000000000c000000000000046":return parse_FileMoniker(blob,length);default:throw"unsupported moniker "+clsid}};var parse_HyperlinkString=function(blob,length){var len=blob.read_shift(4);var o=blob.read_shift(len,"utf16le").replace(chr0,"");return o};var parse_Hyperlink=function(blob,length){var end=blob.l+length;var sVer=blob.read_shift(4);if(sVer!==2)throw new Error("Unrecognized streamVersion: "+sVer);var flags=blob.read_shift(2);blob.l+=2;var displayName,targetFrameName,moniker,oleMoniker,location,guid,fileTime;if(flags&16)displayName=parse_HyperlinkString(blob,end-blob.l);if(flags&128)targetFrameName=parse_HyperlinkString(blob,end-blob.l);if((flags&257)===257)moniker=parse_HyperlinkString(blob,end-blob.l);if((flags&257)===1)oleMoniker=parse_HyperlinkMoniker(blob,end-blob.l);if(flags&8)location=parse_HyperlinkString(blob,end-blob.l);if(flags&32)guid=blob.read_shift(16);if(flags&64)fileTime=parse_FILETIME(blob,8);blob.l=end;var target=targetFrameName||moniker||oleMoniker;if(location)target+="#"+location;return{Target:target}};function parse_LongRGBA(blob,length){var r=blob.read_shift(1),g=blob.read_shift(1),b=blob.read_shift(1),a=blob.read_shift(1);return[r,g,b,a]}function parse_LongRGB(blob,length){var x=parse_LongRGBA(blob,length);x[3]=0;return x}function parse_XLSCell(blob,length){var rw=blob.read_shift(2);var col=blob.read_shift(2);var ixfe=blob.read_shift(2);return{r:rw,c:col,ixfe:ixfe}}function parse_frtHeader(blob){var rt=blob.read_shift(2);var flags=blob.read_shift(2);blob.l+=8;return{type:rt,flags:flags}}function parse_OptXLUnicodeString(blob,length,opts){return length===0?"":parse_XLUnicodeString2(blob,length,opts)}var HIDEOBJENUM=["SHOWALL","SHOWPLACEHOLDER","HIDEALL"];var parse_HideObjEnum=parseuint16;function parse_XTI(blob,length){var iSupBook=blob.read_shift(2),itabFirst=blob.read_shift(2,"i"),itabLast=blob.read_shift(2,"i");return[iSupBook,itabFirst,itabLast]}function parse_RkRec(blob,length){var ixfe=blob.read_shift(2);var RK=parse_RkNumber(blob);return[ixfe,RK]}function parse_AddinUdf(blob,length){blob.l+=4;length-=4;var l=blob.l+length;var udfName=parse_ShortXLUnicodeString(blob,length);var cb=blob.read_shift(2);l-=blob.l;if(cb!==l)throw"Malformed AddinUdf: padding = "+l+" != "+cb;blob.l+=cb;return udfName}function parse_Ref8U(blob,length){var rwFirst=blob.read_shift(2);var rwLast=blob.read_shift(2);var colFirst=blob.read_shift(2);var colLast=blob.read_shift(2);return{s:{c:colFirst,r:rwFirst},e:{c:colLast,r:rwLast}}}function parse_RefU(blob,length){var rwFirst=blob.read_shift(2);var rwLast=blob.read_shift(2);var colFirst=blob.read_shift(1);var colLast=blob.read_shift(1);return{s:{c:colFirst,r:rwFirst},e:{c:colLast,r:rwLast}}}var parse_Ref=parse_RefU;function parse_FtCmo(blob,length){blob.l+=4;var ot=blob.read_shift(2);var id=blob.read_shift(2);var flags=blob.read_shift(2);blob.l+=12;return[id,ot,flags]}function parse_FtNts(blob,length){var out={};blob.l+=4;blob.l+=16;out.fSharedNote=blob.read_shift(2);blob.l+=4;return out}function parse_FtCf(blob,length){var out={};blob.l+=4;blob.cf=blob.read_shift(2);return out}var FtTab={21:parse_FtCmo,19:parsenoop,18:function(blob,length){blob.l+=12},17:function(blob,length){blob.l+=8},16:parsenoop,15:parsenoop,13:parse_FtNts,12:function(blob,length){blob.l+=24},11:function(blob,length){blob.l+=10},10:function(blob,length){blob.l+=16},9:parsenoop,8:function(blob,length){blob.l+=6},7:parse_FtCf,6:function(blob,length){blob.l+=6},4:parsenoop,0:function(blob,length){blob.l+=4}};function parse_FtArray(blob,length,ot){var s=blob.l;var fts=[];while(blob.l<s+length){var ft=blob.read_shift(2);blob.l-=2;try{fts.push(FtTab[ft](blob,s+length-blob.l))}catch(e){blob.l=s+length;return fts}}if(blob.l!=s+length)blob.l=s+length;return fts}var parse_FontIndex=parseuint16;function parse_BOF(blob,length){var o={};o.BIFFVer=blob.read_shift(2);length-=2;switch(o.BIFFVer){case 1536:case 1280:case 2:case 7:break;default:throw"Unexpected BIFF Ver "+o.BIFFVer}blob.read_shift(length);return o}function parse_InterfaceHdr(blob,length){if(length===0)return 1200;var q;if((q=blob.read_shift(2))!==1200)throw"InterfaceHdr codePage "+q;return 1200}function parse_WriteAccess(blob,length,opts){if(opts.enc){blob.l+=length;return""}var l=blob.l;var UserName=parse_XLUnicodeString(blob,0,opts);blob.read_shift(length+l-blob.l);return UserName}function parse_BoundSheet8(blob,length,opts){var pos=blob.read_shift(4);var hidden=blob.read_shift(1)>>6;var dt=blob.read_shift(1);switch(dt){case 0:dt="Worksheet";break;case 1:dt="Macrosheet";break;case 2:dt="Chartsheet";break;case 6:dt="VBAModule";break}var name=parse_ShortXLUnicodeString(blob,0,opts);if(name.length===0)name="Sheet1";return{pos:pos,hs:hidden,dt:dt,name:name}}function parse_SST(blob,length){var cnt=blob.read_shift(4);var ucnt=blob.read_shift(4);var strs=[];for(var i=0;i!=ucnt;++i){strs.push(parse_XLUnicodeRichExtendedString(blob))}strs.Count=cnt;strs.Unique=ucnt;return strs}function parse_ExtSST(blob,length){var extsst={};extsst.dsst=blob.read_shift(2);blob.l+=length-2;return extsst}function parse_Row(blob,length){var rw=blob.read_shift(2),col=blob.read_shift(2),Col=blob.read_shift(2),rht=blob.read_shift(2);blob.read_shift(4);var flags=blob.read_shift(1);blob.read_shift(1);blob.read_shift(2);return{r:rw,c:col,cnt:Col-col}}function parse_ForceFullCalculation(blob,length){var header=parse_frtHeader(blob);if(header.type!=2211)throw"Invalid Future Record "+header.type;var fullcalc=blob.read_shift(4);return fullcalc!==0}var parse_CompressPictures=parsenoop2;function parse_RecalcId(blob,length){blob.read_shift(2);return blob.read_shift(4)}function parse_DefaultRowHeight(blob,length){var f=blob.read_shift(2),miyRw;miyRw=blob.read_shift(2);var fl={Unsynced:f&1,DyZero:(f&2)>>1,ExAsc:(f&4)>>2,ExDsc:(f&8)>>3};return[fl,miyRw]}function parse_Window1(blob,length){var xWn=blob.read_shift(2),yWn=blob.read_shift(2),dxWn=blob.read_shift(2),dyWn=blob.read_shift(2);var flags=blob.read_shift(2),iTabCur=blob.read_shift(2),iTabFirst=blob.read_shift(2);var ctabSel=blob.read_shift(2),wTabRatio=blob.read_shift(2);return{Pos:[xWn,yWn],Dim:[dxWn,dyWn],Flags:flags,CurTab:iTabCur,FirstTab:iTabFirst,Selected:ctabSel,TabRatio:wTabRatio}}function parse_Font(blob,length,opts){blob.l+=14;var name=parse_ShortXLUnicodeString(blob,0,opts);return name}function parse_LabelSst(blob,length){var cell=parse_XLSCell(blob);cell.isst=blob.read_shift(4);return cell}function parse_Label(blob,length,opts){var cell=parse_XLSCell(blob,6);var str=parse_XLUnicodeString(blob,length-6,opts);cell.val=str;return cell}function parse_Format(blob,length,opts){var ifmt=blob.read_shift(2);var fmtstr=parse_XLUnicodeString2(blob,0,opts);return[ifmt,fmtstr]}function parse_Dimensions(blob,length){var w=length===10?2:4;var r=blob.read_shift(w),R=blob.read_shift(w),c=blob.read_shift(2),C=blob.read_shift(2);blob.l+=2;return{s:{r:r,c:c},e:{r:R,c:C}}}function parse_RK(blob,length){var rw=blob.read_shift(2),col=blob.read_shift(2);var rkrec=parse_RkRec(blob);return{r:rw,c:col,ixfe:rkrec[0],rknum:rkrec[1]}}function parse_MulRk(blob,length){var target=blob.l+length-2;var rw=blob.read_shift(2),col=blob.read_shift(2);var rkrecs=[];while(blob.l<target)rkrecs.push(parse_RkRec(blob));if(blob.l!==target)throw"MulRK read error";var lastcol=blob.read_shift(2);if(rkrecs.length!=lastcol-col+1)throw"MulRK length mismatch";return{r:rw,c:col,C:lastcol,rkrec:rkrecs}}function parse_CellStyleXF(blob,length,style){var o={};var a=blob.read_shift(4),b=blob.read_shift(4);var c=blob.read_shift(4),d=blob.read_shift(2);o.patternType=XLSFillPattern[c>>26];o.icvFore=d&127;o.icvBack=d>>7&127;return o}function parse_CellXF(blob,length){return parse_CellStyleXF(blob,length,0)}function parse_StyleXF(blob,length){return parse_CellStyleXF(blob,length,1)}function parse_XF(blob,length){var o={};o.ifnt=blob.read_shift(2);o.ifmt=blob.read_shift(2);o.flags=blob.read_shift(2);o.fStyle=o.flags>>2&1;length-=6;o.data=parse_CellStyleXF(blob,length,o.fStyle);return o}function parse_Guts(blob,length){blob.l+=4;var out=[blob.read_shift(2),blob.read_shift(2)];if(out[0]!==0)out[0]--;if(out[1]!==0)out[1]--;if(out[0]>7||out[1]>7)throw"Bad Gutters: "+out;return out}function parse_BoolErr(blob,length){var cell=parse_XLSCell(blob,6);var val=parse_Bes(blob,2);cell.val=val;cell.t=val===true||val===false?"b":"e";return cell}function parse_Number(blob,length){var cell=parse_XLSCell(blob,6);var xnum=parse_Xnum(blob,8);cell.val=xnum;return cell}var parse_XLHeaderFooter=parse_OptXLUnicodeString;function parse_SupBook(blob,length,opts){var end=blob.l+length;var ctab=blob.read_shift(2);var cch=blob.read_shift(2);var virtPath;if(cch>=1&&cch<=255)virtPath=parse_XLUnicodeStringNoCch(blob,cch);var rgst=blob.read_shift(end-blob.l);opts.sbcch=cch;return[cch,ctab,virtPath,rgst]}function parse_ExternName(blob,length,opts){var flags=blob.read_shift(2);var body;var o={fBuiltIn:flags&1,fWantAdvise:flags>>>1&1,fWantPict:flags>>>2&1,fOle:flags>>>3&1,fOleLink:flags>>>4&1,cf:flags>>>5&1023,fIcon:flags>>>15&1};if(opts.sbcch===14849)body=parse_AddinUdf(blob,length-2);o.body=body||blob.read_shift(length-2);return o}function parse_Lbl(blob,length,opts){if(opts.biff<8)return parse_Label(blob,length,opts);var target=blob.l+length;var flags=blob.read_shift(2);var chKey=blob.read_shift(1);var cch=blob.read_shift(1);var cce=blob.read_shift(2);blob.l+=2;var itab=blob.read_shift(2);blob.l+=4;var name=parse_XLUnicodeStringNoCch(blob,cch,opts);var rgce=parse_NameParsedFormula(blob,target-blob.l,opts,cce);return{chKey:chKey,Name:name,rgce:rgce}}function parse_ExternSheet(blob,length,opts){if(opts.biff<8)return parse_ShortXLUnicodeString(blob,length,opts);var o=parslurp2(blob,length,parse_XTI);var oo=[];if(opts.sbcch===1025){for(var i=0;i!=o.length;++i)oo.push(opts.snames[o[i][1]]);return oo}else return o}function parse_ShrFmla(blob,length,opts){var ref=parse_RefU(blob,6);blob.l++;var cUse=blob.read_shift(1);length-=8;return[parse_SharedParsedFormula(blob,length,opts),cUse]}function parse_Array(blob,length,opts){var ref=parse_Ref(blob,6);blob.l+=6;length-=12;return[ref,parse_ArrayParsedFormula(blob,length,opts,ref)]}function parse_MTRSettings(blob,length){var fMTREnabled=blob.read_shift(4)!==0;var fUserSetThreadCount=blob.read_shift(4)!==0;var cUserThreadCount=blob.read_shift(4);return[fMTREnabled,fUserSetThreadCount,cUserThreadCount]}function parse_NoteSh(blob,length,opts){if(opts.biff<8)return;var row=blob.read_shift(2),col=blob.read_shift(2);var flags=blob.read_shift(2),idObj=blob.read_shift(2);var stAuthor=parse_XLUnicodeString2(blob,0,opts);if(opts.biff<8)blob.read_shift(1);return[{r:row,c:col},stAuthor,idObj,flags]}function parse_Note(blob,length,opts){return parse_NoteSh(blob,length,opts)}function parse_MergeCells(blob,length){var merges=[];var cmcs=blob.read_shift(2);while(cmcs--)merges.push(parse_Ref8U(blob,length));return merges}function parse_Obj(blob,length){var cmo=parse_FtCmo(blob,22);var fts=parse_FtArray(blob,length-22,cmo[1]);return{cmo:cmo,ft:fts}}function parse_TxO(blob,length,opts){var s=blob.l;try{blob.l+=4;var ot=(opts.lastobj||{cmo:[0,0]}).cmo[1];var controlInfo;if([0,5,7,11,12,14].indexOf(ot)==-1)blob.l+=6;else controlInfo=parse_ControlInfo(blob,6,opts);var cchText=blob.read_shift(2);var cbRuns=blob.read_shift(2);var ifntEmpty=parse_FontIndex(blob,2);var len=blob.read_shift(2);blob.l+=len;var texts="";for(var i=1;i<blob.lens.length-1;++i){if(blob.l-s!=blob.lens[i])throw"TxO: bad continue record";var hdr=blob[blob.l];var t=parse_XLUnicodeStringNoCch(blob,blob.lens[i+1]-blob.lens[i]-1);texts+=t;if(texts.length>=(hdr?cchText:2*cchText))break}if(texts.length!==cchText&&texts.length!==cchText*2){throw"cchText: "+cchText+" != "+texts.length}blob.l=s+length;return{t:texts}}catch(e){blob.l=s+length;return{t:texts||""}}}var parse_HLink=function(blob,length){var ref=parse_Ref8U(blob,8);blob.l+=16;var hlink=parse_Hyperlink(blob,length-24);return[ref,hlink]};var parse_HLinkTooltip=function(blob,length){var end=blob.l+length;blob.read_shift(2);var ref=parse_Ref8U(blob,8);var wzTooltip=blob.read_shift((length-10)/2,"dbcs-cont");wzTooltip=wzTooltip.replace(chr0,"");return[ref,wzTooltip]};function parse_Country(blob,length){var o=[],d;d=blob.read_shift(2);o[0]=CountryEnum[d]||d;d=blob.read_shift(2);o[1]=CountryEnum[d]||d;return o}function parse_ClrtClient(blob,length){var ccv=blob.read_shift(2);var o=[];while(ccv-->0)o.push(parse_LongRGB(blob,8));return o}function parse_Palette(blob,length){var ccv=blob.read_shift(2);var o=[];while(ccv-->0)o.push(parse_LongRGB(blob,8));return o}function parse_XFCRC(blob,length){blob.l+=2;var o={cxfs:0,crc:0};o.cxfs=blob.read_shift(2);o.crc=blob.read_shift(4);return o}var parse_Style=parsenoop;var parse_StyleExt=parsenoop;var parse_ColInfo=parsenoop;var parse_Window2=parsenoop;var parse_Backup=parsebool;var parse_Blank=parse_XLSCell;var parse_BottomMargin=parse_Xnum;var parse_BuiltInFnGroupCount=parseuint16;var parse_CalcCount=parseuint16;var parse_CalcDelta=parse_Xnum;var parse_CalcIter=parsebool;var parse_CalcMode=parseuint16;var parse_CalcPrecision=parsebool;var parse_CalcRefMode=parsenoop2;var parse_CalcSaveRecalc=parsebool;var parse_CodePage=parseuint16;var parse_Compat12=parsebool;var parse_Date1904=parsebool;var parse_DefColWidth=parseuint16;var parse_DSF=parsenoop2;var parse_EntExU2=parsenoop2;var parse_EOF=parsenoop2;var parse_Excel9File=parsenoop2;var parse_FeatHdr=parsenoop2;var parse_FontX=parseuint16;var parse_Footer=parse_XLHeaderFooter;var parse_GridSet=parseuint16;var parse_HCenter=parsebool;var parse_Header=parse_XLHeaderFooter;var parse_HideObj=parse_HideObjEnum;var parse_InterfaceEnd=parsenoop2;var parse_LeftMargin=parse_Xnum;var parse_Mms=parsenoop2;var parse_ObjProtect=parsebool;var parse_Password=parseuint16;var parse_PrintGrid=parsebool;var parse_PrintRowCol=parsebool;var parse_PrintSize=parseuint16;var parse_Prot4Rev=parsebool;var parse_Prot4RevPass=parseuint16;var parse_Protect=parsebool;var parse_RefreshAll=parsebool;var parse_RightMargin=parse_Xnum;var parse_RRTabId=parseuint16a;var parse_ScenarioProtect=parsebool;var parse_Scl=parseuint16a;var parse_String=parse_XLUnicodeString;var parse_SxBool=parsebool;var parse_TopMargin=parse_Xnum;var parse_UsesELFs=parsebool;var parse_VCenter=parsebool;var parse_WinProtect=parsebool;var parse_WriteProtect=parsenoop;var parse_VerticalPageBreaks=parsenoop;var parse_HorizontalPageBreaks=parsenoop;var parse_Selection=parsenoop;var parse_Continue=parsenoop;var parse_Pane=parsenoop;var parse_Pls=parsenoop;var parse_DCon=parsenoop;var parse_DConRef=parsenoop;var parse_DConName=parsenoop;var parse_XCT=parsenoop;var parse_CRN=parsenoop;var parse_FileSharing=parsenoop;var parse_Uncalced=parsenoop;var parse_Template=parsenoop;var parse_Intl=parsenoop;var parse_WsBool=parsenoop;var parse_Sort=parsenoop;var parse_Sync=parsenoop;var parse_LPr=parsenoop;var parse_DxGCol=parsenoop;var parse_FnGroupName=parsenoop;var parse_FilterMode=parsenoop;var parse_AutoFilterInfo=parsenoop;var parse_AutoFilter=parsenoop;var parse_Setup=parsenoop;var parse_ScenMan=parsenoop;var parse_SCENARIO=parsenoop;var parse_SxView=parsenoop;var parse_Sxvd=parsenoop;var parse_SXVI=parsenoop;var parse_SxIvd=parsenoop;var parse_SXLI=parsenoop;var parse_SXPI=parsenoop;var parse_DocRoute=parsenoop;var parse_RecipName=parsenoop;var parse_MulBlank=parsenoop;var parse_SXDI=parsenoop;var parse_SXDB=parsenoop;var parse_SXFDB=parsenoop;var parse_SXDBB=parsenoop;var parse_SXNum=parsenoop;var parse_SxErr=parsenoop;var parse_SXInt=parsenoop;var parse_SXString=parsenoop;var parse_SXDtr=parsenoop;var parse_SxNil=parsenoop;var parse_SXTbl=parsenoop;var parse_SXTBRGIITM=parsenoop;var parse_SxTbpg=parsenoop;var parse_ObProj=parsenoop;var parse_SXStreamID=parsenoop;var parse_DBCell=parsenoop;var parse_SXRng=parsenoop;var parse_SxIsxoper=parsenoop;var parse_BookBool=parsenoop;var parse_DbOrParamQry=parsenoop;var parse_OleObjectSize=parsenoop;var parse_SXVS=parsenoop;var parse_BkHim=parsenoop;var parse_MsoDrawingGroup=parsenoop;var parse_MsoDrawing=parsenoop;var parse_MsoDrawingSelection=parsenoop;var parse_PhoneticInfo=parsenoop;var parse_SxRule=parsenoop;var parse_SXEx=parsenoop;var parse_SxFilt=parsenoop;var parse_SxDXF=parsenoop;var parse_SxItm=parsenoop;var parse_SxName=parsenoop;var parse_SxSelect=parsenoop;var parse_SXPair=parsenoop;var parse_SxFmla=parsenoop;var parse_SxFormat=parsenoop;var parse_SXVDEx=parsenoop;var parse_SXFormula=parsenoop;var parse_SXDBEx=parsenoop;var parse_RRDInsDel=parsenoop;var parse_RRDHead=parsenoop;var parse_RRDChgCell=parsenoop;var parse_RRDRenSheet=parsenoop;var parse_RRSort=parsenoop;var parse_RRDMove=parsenoop;var parse_RRFormat=parsenoop;var parse_RRAutoFmt=parsenoop;var parse_RRInsertSh=parsenoop;var parse_RRDMoveBegin=parsenoop;var parse_RRDMoveEnd=parsenoop;var parse_RRDInsDelBegin=parsenoop;var parse_RRDInsDelEnd=parsenoop;var parse_RRDConflict=parsenoop;var parse_RRDDefName=parsenoop;var parse_RRDRstEtxp=parsenoop;var parse_LRng=parsenoop;var parse_CUsr=parsenoop;var parse_CbUsr=parsenoop;var parse_UsrInfo=parsenoop;var parse_UsrExcl=parsenoop;var parse_FileLock=parsenoop;var parse_RRDInfo=parsenoop;var parse_BCUsrs=parsenoop;var parse_UsrChk=parsenoop;var parse_UserBView=parsenoop;var parse_UserSViewBegin=parsenoop;var parse_UserSViewEnd=parsenoop;var parse_RRDUserView=parsenoop;var parse_Qsi=parsenoop;var parse_CondFmt=parsenoop;var parse_CF=parsenoop;var parse_DVal=parsenoop;var parse_DConBin=parsenoop;var parse_Lel=parsenoop;var parse_XLSCodeName=parse_XLUnicodeString;var parse_SXFDBType=parsenoop;var parse_ObNoMacros=parsenoop;var parse_Dv=parsenoop;var parse_Index=parsenoop;var parse_Table=parsenoop;var parse_BigName=parsenoop;var parse_ContinueBigName=parsenoop;var parse_WebPub=parsenoop;var parse_QsiSXTag=parsenoop;var parse_DBQueryExt=parsenoop;var parse_ExtString=parsenoop;var parse_TxtQry=parsenoop;var parse_Qsir=parsenoop;var parse_Qsif=parsenoop;var parse_RRDTQSIF=parsenoop;var parse_OleDbConn=parsenoop;var parse_WOpt=parsenoop;var parse_SXViewEx=parsenoop;var parse_SXTH=parsenoop;var parse_SXPIEx=parsenoop;var parse_SXVDTEx=parsenoop;var parse_SXViewEx9=parsenoop;var parse_ContinueFrt=parsenoop;var parse_RealTimeData=parsenoop;var parse_ChartFrtInfo=parsenoop;var parse_FrtWrapper=parsenoop;var parse_StartBlock=parsenoop;var parse_EndBlock=parsenoop;var parse_StartObject=parsenoop;var parse_EndObject=parsenoop;var parse_CatLab=parsenoop;var parse_YMult=parsenoop;var parse_SXViewLink=parsenoop;var parse_PivotChartBits=parsenoop;var parse_FrtFontList=parsenoop;var parse_SheetExt=parsenoop;var parse_BookExt=parsenoop;var parse_SXAddl=parsenoop;var parse_CrErr=parsenoop;var parse_HFPicture=parsenoop;var parse_Feat=parsenoop;var parse_DataLabExt=parsenoop;var parse_DataLabExtContents=parsenoop;var parse_CellWatch=parsenoop;var parse_FeatHdr11=parsenoop;var parse_Feature11=parsenoop;var parse_DropDownObjIds=parsenoop;var parse_ContinueFrt11=parsenoop;var parse_DConn=parsenoop;var parse_List12=parsenoop;var parse_Feature12=parsenoop;var parse_CondFmt12=parsenoop;var parse_CF12=parsenoop;var parse_CFEx=parsenoop;var parse_AutoFilter12=parsenoop;var parse_ContinueFrt12=parsenoop;var parse_MDTInfo=parsenoop;var parse_MDXStr=parsenoop;var parse_MDXTuple=parsenoop;var parse_MDXSet=parsenoop;var parse_MDXProp=parsenoop;var parse_MDXKPI=parsenoop;var parse_MDB=parsenoop;var parse_PLV=parsenoop;var parse_DXF=parsenoop;var parse_TableStyles=parsenoop;var parse_TableStyle=parsenoop;var parse_TableStyleElement=parsenoop;var parse_NamePublish=parsenoop;var parse_NameCmt=parsenoop;var parse_SortData=parsenoop;var parse_GUIDTypeLib=parsenoop;var parse_FnGrp12=parsenoop;var parse_NameFnGrp12=parsenoop;var parse_HeaderFooter=parsenoop;var parse_CrtLayout12=parsenoop;var parse_CrtMlFrt=parsenoop;var parse_CrtMlFrtContinue=parsenoop;var parse_ShapePropsStream=parsenoop;var parse_TextPropsStream=parsenoop;var parse_RichTextStream=parsenoop;var parse_CrtLayout12A=parsenoop;var parse_Units=parsenoop;var parse_Chart=parsenoop;var parse_Series=parsenoop;var parse_DataFormat=parsenoop;var parse_LineFormat=parsenoop;var parse_MarkerFormat=parsenoop;var parse_AreaFormat=parsenoop;var parse_PieFormat=parsenoop;var parse_AttachedLabel=parsenoop;var parse_SeriesText=parsenoop;var parse_ChartFormat=parsenoop;var parse_Legend=parsenoop;var parse_SeriesList=parsenoop;var parse_Bar=parsenoop;var parse_Line=parsenoop;var parse_Pie=parsenoop;var parse_Area=parsenoop;var parse_Scatter=parsenoop;var parse_CrtLine=parsenoop;var parse_Axis=parsenoop;var parse_Tick=parsenoop;var parse_ValueRange=parsenoop;var parse_CatSerRange=parsenoop;var parse_AxisLine=parsenoop;var parse_CrtLink=parsenoop;var parse_DefaultText=parsenoop;var parse_Text=parsenoop;var parse_ObjectLink=parsenoop;var parse_Frame=parsenoop;var parse_Begin=parsenoop;var parse_End=parsenoop;var parse_PlotArea=parsenoop;var parse_Chart3d=parsenoop;var parse_PicF=parsenoop;var parse_DropBar=parsenoop;var parse_Radar=parsenoop;var parse_Surf=parsenoop;var parse_RadarArea=parsenoop;var parse_AxisParent=parsenoop;var parse_LegendException=parsenoop;var parse_ShtProps=parsenoop;var parse_SerToCrt=parsenoop;var parse_AxesUsed=parsenoop;var parse_SBaseRef=parsenoop;var parse_SerParent=parsenoop;var parse_SerAuxTrend=parsenoop;var parse_IFmtRecord=parsenoop;var parse_Pos=parsenoop;var parse_AlRuns=parsenoop;var parse_BRAI=parsenoop;var parse_SerAuxErrBar=parsenoop;var parse_SerFmt=parsenoop;var parse_Chart3DBarShape=parsenoop;var parse_Fbi=parsenoop;var parse_BopPop=parsenoop;var parse_AxcExt=parsenoop;var parse_Dat=parsenoop;var parse_PlotGrowth=parsenoop;var parse_SIIndex=parsenoop;var parse_GelFrame=parsenoop;var parse_BopPopCustom=parsenoop;var parse_Fbi2=parsenoop;function parse_BIFF5String(blob){var len=blob.read_shift(1);return blob.read_shift(len,"sbcs-cont")}function parse_BIFF2STR(blob,length,opts){var cell=parse_XLSCell(blob,6);++blob.l;var str=parse_XLUnicodeString2(blob,length-7,opts);cell.val=str;return cell}function parse_BIFF2NUM(blob,length,opts){var cell=parse_XLSCell(blob,6);++blob.l;var num=parse_Xnum(blob,8);cell.val=num;return cell}var CS2CP={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969};var parse_rs=function parse_rs_factory(){var tregex=matchtag("t"),rpregex=matchtag("rPr"),rregex=/<r>/g,rend=/<\/r>/,nlregex=/\r\n/g;var parse_rpr=function parse_rpr(rpr,intro,outro){var font={},cp=65001;var m=rpr.match(tagregex),i=0;if(m)for(;i!=m.length;++i){var y=parsexmltag(m[i]);switch(y[0]){case"<condense":break;case"<extend":break;case"<shadow":case"<shadow/>":break;case"<charset":if(y.val=="1")break;cp=CS2CP[parseInt(y.val,10)];break;case"<outline":case"<outline/>":break;case"<rFont":font.name=y.val;break;case"<sz":font.sz=y.val;break;case"<strike":if(!y.val)break;case"<strike/>":font.strike=1;break;case"</strike>":break;case"<u":if(!y.val)break;case"<u/>":font.u=1;break;case"</u>":break;case"<b":if(!y.val)break;case"<b/>":font.b=1;break;case"</b>":break;case"<i":if(!y.val)break;case"<i/>":font.i=1;break;case"</i>":break;case"<color":if(y.rgb)font.color=y.rgb.substr(2,6);break;case"<family":font.family=y.val;break;case"<vertAlign":break;case"<scheme":break;default:if(y[0].charCodeAt(1)!==47)throw"Unrecognized rich format "+y[0]}}var style=[];if(font.b)style.push("font-weight: bold;");if(font.i)style.push("font-style: italic;");intro.push('<span style="'+style.join("")+'">');outro.push("</span>");return cp};function parse_r(r){var terms=[[],"",[]];var t=r.match(tregex),cp=65001;if(!isval(t))return"";terms[1]=t[1];var rpr=r.match(rpregex);if(isval(rpr))cp=parse_rpr(rpr[1],terms[0],terms[2]);return terms[0].join("")+terms[1].replace(nlregex,"<br/>")+terms[2].join("")}return function parse_rs(rs){return rs.replace(rregex,"").split(rend).map(parse_r).join("")}}();var sitregex=/<t[^>]*>([^<]*)<\/t>/g,sirregex=/<r>/;function parse_si(x,opts){var html=opts?opts.cellHTML:true;var z={};if(!x)return null;var y;if(x.charCodeAt(1)===116){z.t=utf8read(unescapexml(x.substr(x.indexOf(">")+1).split(/<\/t>/)[0]));z.r=x;if(html)z.h=z.t}else if(y=x.match(sirregex)){z.r=x;z.t=utf8read(unescapexml(x.match(sitregex).join("").replace(tagregex,"")));if(html)z.h=parse_rs(x)}return z}var sstr0=/<sst([^>]*)>([\s\S]*)<\/sst>/;var sstr1=/<(?:si|sstItem)>/g;var sstr2=/<\/(?:si|sstItem)>/;function parse_sst_xml(data,opts){var s=[],ss;var sst=data.match(sstr0);if(isval(sst)){ss=sst[2].replace(sstr1,"").split(sstr2);for(var i=0;i!=ss.length;++i){var o=parse_si(ss[i],opts);if(o!=null)s[s.length]=o}sst=parsexmltag(sst[1]);s.Count=sst.count;s.Unique=sst.uniqueCount}return s}RELS.SST="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings";var straywsregex=/^\s|\s$|[\t\n\r]/;function write_sst_xml(sst,opts){if(!opts.bookSST)return"";var o=[XML_HEADER];o[o.length]=writextag("sst",null,{xmlns:XMLNS.main[0],count:sst.Count,uniqueCount:sst.Unique});for(var i=0;i!=sst.length;++i){if(sst[i]==null)continue;var s=sst[i];var sitag="<si>";if(s.r)sitag+=s.r;else{sitag+="<t";if(s.t.match(straywsregex))sitag+=' xml:space="preserve"';sitag+=">"+escapexml(s.t)+"</t>"}sitag+="</si>";o[o.length]=sitag}if(o.length>2){o[o.length]="</sst>";o[1]=o[1].replace("/>",">")}return o.join("")}function parse_BrtBeginSst(data,length){return[data.read_shift(4),data.read_shift(4)]}function parse_sst_bin(data,opts){var s=[];var pass=false;recordhopper(data,function hopper_sst(val,R,RT){switch(R.n){case"BrtBeginSst":s.Count=val[0];s.Unique=val[1];break;case"BrtSSTItem":s.push(val);break;case"BrtEndSst":return true;case"BrtFRTBegin":pass=true;break;case"BrtFRTEnd":pass=false;break;default:if(!pass||opts.WTF)throw new Error("Unexpected record "+RT+" "+R.n)}});return s}function write_BrtBeginSst(sst,o){if(!o)o=new_buf(8);o.write_shift(4,sst.Count);o.write_shift(4,sst.Unique);return o}var write_BrtSSTItem=write_RichStr;function write_sst_bin(sst,opts){var ba=buf_array();write_record(ba,"BrtBeginSst",write_BrtBeginSst(sst));for(var i=0;i<sst.length;++i)write_record(ba,"BrtSSTItem",write_BrtSSTItem(sst[i]));write_record(ba,"BrtEndSst");return ba.end()}function _JS2ANSI(str){if(typeof cptable!=="undefined")return cptable.utils.encode(1252,str);return str.split("").map(function(x){return x.charCodeAt(0)})}function parse_Version(blob,length){var o={};o.Major=blob.read_shift(2);o.Minor=blob.read_shift(2);return o}function parse_EncryptionHeader(blob,length){var o={};o.Flags=blob.read_shift(4);var tmp=blob.read_shift(4);if(tmp!==0)throw"Unrecognized SizeExtra: "+tmp;o.AlgID=blob.read_shift(4);switch(o.AlgID){case 0:case 26625:case 26126:case 26127:case 26128:break;default:throw"Unrecognized encryption algorithm: "+o.AlgID}parsenoop(blob,length-12);return o}function parse_EncryptionVerifier(blob,length){return parsenoop(blob,length)}function parse_RC4CryptoHeader(blob,length){var o={};var vers=o.EncryptionVersionInfo=parse_Version(blob,4);length-=4;if(vers.Minor!=2)throw"unrecognized minor version code: "+vers.Minor;if(vers.Major>4||vers.Major<2)throw"unrecognized major version code: "+vers.Major;o.Flags=blob.read_shift(4);length-=4;var sz=blob.read_shift(4);length-=4;o.EncryptionHeader=parse_EncryptionHeader(blob,sz);length-=sz;o.EncryptionVerifier=parse_EncryptionVerifier(blob,length);return o}function parse_RC4Header(blob,length){var o={};var vers=o.EncryptionVersionInfo=parse_Version(blob,4);length-=4;if(vers.Major!=1||vers.Minor!=1)throw"unrecognized version code "+vers.Major+" : "+vers.Minor;o.Salt=blob.read_shift(16);o.EncryptedVerifier=blob.read_shift(16);o.EncryptedVerifierHash=blob.read_shift(16);return o}function crypto_CreatePasswordVerifier_Method1(Password){var Verifier=0,PasswordArray;var PasswordDecoded=_JS2ANSI(Password);var len=PasswordDecoded.length+1,i,PasswordByte;var Intermediate1,Intermediate2,Intermediate3;PasswordArray=new_raw_buf(len);PasswordArray[0]=PasswordDecoded.length;for(i=1;i!=len;++i)PasswordArray[i]=PasswordDecoded[i-1];for(i=len-1;i>=0;--i){PasswordByte=PasswordArray[i];Intermediate1=(Verifier&16384)===0?0:1;Intermediate2=Verifier<<1&32767;Intermediate3=Intermediate1|Intermediate2;Verifier=Intermediate3^PasswordByte}return Verifier^52811}var crypto_CreateXorArray_Method1=function(){var PadArray=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0];var InitialCode=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163];var XorMatrix=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628];var Ror=function(Byte){return(Byte/2|Byte*128)&255};var XorRor=function(byte1,byte2){return Ror(byte1^byte2)};var CreateXorKey_Method1=function(Password){var XorKey=InitialCode[Password.length-1];var CurrentElement=104;for(var i=Password.length-1;i>=0;--i){var Char=Password[i];for(var j=0;j!=7;++j){if(Char&64)XorKey^=XorMatrix[CurrentElement];Char*=2;
--CurrentElement}}return XorKey};return function(password){var Password=_JS2ANSI(password);var XorKey=CreateXorKey_Method1(Password);var Index=Password.length;var ObfuscationArray=new_raw_buf(16);for(var i=0;i!=16;++i)ObfuscationArray[i]=0;var Temp,PasswordLastChar,PadIndex;if((Index&1)===1){Temp=XorKey>>8;ObfuscationArray[Index]=XorRor(PadArray[0],Temp);--Index;Temp=XorKey&255;PasswordLastChar=Password[Password.length-1];ObfuscationArray[Index]=XorRor(PasswordLastChar,Temp)}while(Index>0){--Index;Temp=XorKey>>8;ObfuscationArray[Index]=XorRor(Password[Index],Temp);--Index;Temp=XorKey&255;ObfuscationArray[Index]=XorRor(Password[Index],Temp)}Index=15;PadIndex=15-Password.length;while(PadIndex>0){Temp=XorKey>>8;ObfuscationArray[Index]=XorRor(PadArray[PadIndex],Temp);--Index;--PadIndex;Temp=XorKey&255;ObfuscationArray[Index]=XorRor(Password[Index],Temp);--Index;--PadIndex}return ObfuscationArray}}();var crypto_DecryptData_Method1=function(password,Data,XorArrayIndex,XorArray,O){if(!O)O=Data;if(!XorArray)XorArray=crypto_CreateXorArray_Method1(password);var Index,Value;for(Index=0;Index!=Data.length;++Index){Value=Data[Index];Value^=XorArray[XorArrayIndex];Value=(Value>>5|Value<<3)&255;O[Index]=Value;++XorArrayIndex}return[O,XorArrayIndex,XorArray]};var crypto_MakeXorDecryptor=function(password){var XorArrayIndex=0,XorArray=crypto_CreateXorArray_Method1(password);return function(Data){var O=crypto_DecryptData_Method1(null,Data,XorArrayIndex,XorArray);XorArrayIndex=O[1];return O[0]}};function parse_XORObfuscation(blob,length,opts,out){var o={key:parseuint16(blob),verificationBytes:parseuint16(blob)};if(opts.password)o.verifier=crypto_CreatePasswordVerifier_Method1(opts.password);out.valid=o.verificationBytes===o.verifier;if(out.valid)out.insitu_decrypt=crypto_MakeXorDecryptor(opts.password);return o}function parse_FilePassHeader(blob,length,oo){var o=oo||{};o.Info=blob.read_shift(2);blob.l-=2;if(o.Info===1)o.Data=parse_RC4Header(blob,length);else o.Data=parse_RC4CryptoHeader(blob,length);return o}function parse_FilePass(blob,length,opts){var o={Type:blob.read_shift(2)};if(o.Type)parse_FilePassHeader(blob,length-2,o);else parse_XORObfuscation(blob,length-2,opts,o);return o}function hex2RGB(h){var o=h.substr(h[0]==="#"?1:0,6);return[parseInt(o.substr(0,2),16),parseInt(o.substr(0,2),16),parseInt(o.substr(0,2),16)]}function rgb2Hex(rgb){for(var i=0,o=1;i!=3;++i)o=o*256+(rgb[i]>255?255:rgb[i]<0?0:rgb[i]);return o.toString(16).toUpperCase().substr(1)}function rgb2HSL(rgb){var R=rgb[0]/255,G=rgb[1]/255,B=rgb[2]/255;var M=Math.max(R,G,B),m=Math.min(R,G,B),C=M-m;if(C===0)return[0,0,R];var H6=0,S=0,L2=M+m;S=C/(L2>1?2-L2:L2);switch(M){case R:H6=((G-B)/C+6)%6;break;case G:H6=(B-R)/C+2;break;case B:H6=(R-G)/C+4;break}return[H6/6,S,L2/2]}function hsl2RGB(hsl){var H=hsl[0],S=hsl[1],L=hsl[2];var C=S*2*(L<.5?L:1-L),m=L-C/2;var rgb=[m,m,m],h6=6*H;var X;if(S!==0)switch(h6|0){case 0:case 6:X=C*h6;rgb[0]+=C;rgb[1]+=X;break;case 1:X=C*(2-h6);rgb[0]+=X;rgb[1]+=C;break;case 2:X=C*(h6-2);rgb[1]+=C;rgb[2]+=X;break;case 3:X=C*(4-h6);rgb[1]+=X;rgb[2]+=C;break;case 4:X=C*(h6-4);rgb[2]+=C;rgb[0]+=X;break;case 5:X=C*(6-h6);rgb[2]+=X;rgb[0]+=C;break}for(var i=0;i!=3;++i)rgb[i]=Math.round(rgb[i]*255);return rgb}function rgb_tint(hex,tint){if(tint===0)return hex;var hsl=rgb2HSL(hex2RGB(hex));if(tint<0)hsl[2]=hsl[2]*(1+tint);else hsl[2]=1-(1-hsl[2])*(1-tint);return rgb2Hex(hsl2RGB(hsl))}var DEF_MDW=7,MAX_MDW=15,MIN_MDW=1,MDW=DEF_MDW;function width2px(width){return(width+(128/MDW|0)/256)*MDW|0}function px2char(px){return((px-5)/MDW*100+.5|0)/100}function char2width(chr){return((chr*MDW+5)/MDW*256|0)/256}function cycle_width(collw){return char2width(px2char(width2px(collw)))}function find_mdw(collw,coll){if(cycle_width(collw)!=collw){for(MDW=DEF_MDW;MDW>MIN_MDW;--MDW)if(cycle_width(collw)===collw)break;if(MDW===MIN_MDW)for(MDW=DEF_MDW+1;MDW<MAX_MDW;++MDW)if(cycle_width(collw)===collw)break;if(MDW===MAX_MDW)MDW=DEF_MDW}}var XLMLPatternTypeMap={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};var styles={};var themes={};function parse_fills(t,opts){styles.Fills=[];var fill={};t[0].match(tagregex).forEach(function(x){var y=parsexmltag(x);switch(y[0]){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":break;case"</fill>":styles.Fills.push(fill);fill={};break;case"<patternFill":if(y.patternType)fill.patternType=y.patternType;break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":if(!fill.bgColor)fill.bgColor={};if(y.indexed)fill.bgColor.indexed=parseInt(y.indexed,10);if(y.theme)fill.bgColor.theme=parseInt(y.theme,10);if(y.tint)fill.bgColor.tint=parseFloat(y.tint);if(y.rgb)fill.bgColor.rgb=y.rgb.substring(y.rgb.length-6);break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":if(!fill.fgColor)fill.fgColor={};if(y.theme)fill.fgColor.theme=parseInt(y.theme,10);if(y.tint)fill.fgColor.tint=parseFloat(y.tint);if(y.rgb)fill.fgColor.rgb=y.rgb.substring(y.rgb.length-6);break;case"<fgColor/>":case"</fgColor>":break;default:if(opts.WTF)throw"unrecognized "+y[0]+" in fills"}})}function parse_numFmts(t,opts){styles.NumberFmt=[];var k=keys(SSF._table);for(var i=0;i<k.length;++i)styles.NumberFmt[k[i]]=SSF._table[k[i]];var m=t[0].match(tagregex);for(i=0;i<m.length;++i){var y=parsexmltag(m[i]);switch(y[0]){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var f=unescapexml(utf8read(y.formatCode)),j=parseInt(y.numFmtId,10);styles.NumberFmt[j]=f;if(j>0)SSF.load(f,j)}break;default:if(opts.WTF)throw"unrecognized "+y[0]+" in numFmts"}}}function write_numFmts(NF,opts){var o=["<numFmts>"];[[5,8],[23,26],[41,44],[63,66],[164,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)if(NF[i]!==undefined)o[o.length]=writextag("numFmt",null,{numFmtId:i,formatCode:escapexml(NF[i])})});if(o.length===1)return"";o[o.length]="</numFmts>";o[0]=writextag("numFmts",null,{count:o.length-2}).replace("/>",">");return o.join("")}function parse_cellXfs(t,opts){styles.CellXf=[];t[0].match(tagregex).forEach(function(x){var y=parsexmltag(x);switch(y[0]){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":delete y[0];if(y.numFmtId)y.numFmtId=parseInt(y.numFmtId,10);if(y.fillId)y.fillId=parseInt(y.fillId,10);styles.CellXf.push(y);break;case"</xf>":break;case"<alignment":case"<alignment/>":break;case"<protection":case"</protection>":case"<protection/>":break;case"<extLst":case"</extLst>":break;case"<ext":break;default:if(opts.WTF)throw"unrecognized "+y[0]+" in cellXfs"}})}function write_cellXfs(cellXfs){var o=[];o[o.length]=writextag("cellXfs",null);cellXfs.forEach(function(c){o[o.length]=writextag("xf",null,c)});o[o.length]="</cellXfs>";if(o.length===2)return"";o[0]=writextag("cellXfs",null,{count:o.length-2}).replace("/>",">");return o.join("")}var parse_sty_xml=function make_pstyx(){var numFmtRegex=/<numFmts([^>]*)>.*<\/numFmts>/;var cellXfRegex=/<cellXfs([^>]*)>.*<\/cellXfs>/;var fillsRegex=/<fills([^>]*)>.*<\/fills>/;return function parse_sty_xml(data,opts){var t;if(t=data.match(numFmtRegex))parse_numFmts(t,opts);if(t=data.match(fillsRegex))parse_fills(t,opts);if(t=data.match(cellXfRegex))parse_cellXfs(t,opts);return styles}}();var STYLES_XML_ROOT=writextag("styleSheet",null,{xmlns:XMLNS.main[0],"xmlns:vt":XMLNS.vt});RELS.STY="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles";function write_sty_xml(wb,opts){var o=[XML_HEADER,STYLES_XML_ROOT],w;if((w=write_numFmts(wb.SSF))!=null)o[o.length]=w;o[o.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>';o[o.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>';o[o.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>';o[o.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>';if(w=write_cellXfs(opts.cellXfs))o[o.length]=w;o[o.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>';o[o.length]='<dxfs count="0"/>';o[o.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>';if(o.length>2){o[o.length]="</styleSheet>";o[1]=o[1].replace("/>",">")}return o.join("")}function parse_BrtFmt(data,length){var ifmt=data.read_shift(2);var stFmtCode=parse_XLWideString(data,length-2);return[ifmt,stFmtCode]}function parse_BrtFont(data,length){var out={flags:{}};out.dyHeight=data.read_shift(2);out.grbit=parse_FontFlags(data,2);out.bls=data.read_shift(2);out.sss=data.read_shift(2);out.uls=data.read_shift(1);out.bFamily=data.read_shift(1);out.bCharSet=data.read_shift(1);data.l++;out.brtColor=parse_BrtColor(data,8);out.bFontScheme=data.read_shift(1);out.name=parse_XLWideString(data,length-21);out.flags.Bold=out.bls===700;out.flags.Italic=out.grbit.fItalic;out.flags.Strikeout=out.grbit.fStrikeout;out.flags.Outline=out.grbit.fOutline;out.flags.Shadow=out.grbit.fShadow;out.flags.Condense=out.grbit.fCondense;out.flags.Extend=out.grbit.fExtend;out.flags.Sub=out.sss&2;out.flags.Sup=out.sss&1;return out}function parse_BrtXF(data,length){var ixfeParent=data.read_shift(2);var ifmt=data.read_shift(2);parsenoop(data,length-4);return{ixfe:ixfeParent,ifmt:ifmt}}function parse_sty_bin(data,opts){styles.NumberFmt=[];for(var y in SSF._table)styles.NumberFmt[y]=SSF._table[y];styles.CellXf=[];var state="";var pass=false;recordhopper(data,function hopper_sty(val,R,RT){switch(R.n){case"BrtFmt":styles.NumberFmt[val[0]]=val[1];SSF.load(val[1],val[0]);break;case"BrtFont":break;case"BrtKnownFonts":break;case"BrtFill":break;case"BrtBorder":break;case"BrtXF":if(state==="CELLXFS"){styles.CellXf.push(val)}break;case"BrtStyle":break;case"BrtDXF":break;case"BrtMRUColor":break;case"BrtIndexedColor":break;case"BrtBeginStyleSheet":break;case"BrtEndStyleSheet":break;case"BrtBeginTableStyle":break;case"BrtTableStyleElement":break;case"BrtEndTableStyle":break;case"BrtBeginFmts":state="FMTS";break;case"BrtEndFmts":state="";break;case"BrtBeginFonts":state="FONTS";break;case"BrtEndFonts":state="";break;case"BrtACBegin":state="ACFONTS";break;case"BrtACEnd":state="";break;case"BrtBeginFills":state="FILLS";break;case"BrtEndFills":state="";break;case"BrtBeginBorders":state="BORDERS";break;case"BrtEndBorders":state="";break;case"BrtBeginCellStyleXFs":state="CELLSTYLEXFS";break;case"BrtEndCellStyleXFs":state="";break;case"BrtBeginCellXFs":state="CELLXFS";break;case"BrtEndCellXFs":state="";break;case"BrtBeginStyles":state="STYLES";break;case"BrtEndStyles":state="";break;case"BrtBeginDXFs":state="DXFS";break;case"BrtEndDXFs":state="";break;case"BrtBeginTableStyles":state="TABLESTYLES";break;case"BrtEndTableStyles":state="";break;case"BrtBeginColorPalette":state="COLORPALETTE";break;case"BrtEndColorPalette":state="";break;case"BrtBeginIndexedColors":state="INDEXEDCOLORS";break;case"BrtEndIndexedColors":state="";break;case"BrtBeginMRUColors":state="MRUCOLORS";break;case"BrtEndMRUColors":state="";break;case"BrtFRTBegin":pass=true;break;case"BrtFRTEnd":pass=false;break;case"BrtBeginStyleSheetExt14":break;case"BrtBeginSlicerStyles":break;case"BrtEndSlicerStyles":break;case"BrtBeginTimelineStylesheetExt15":break;case"BrtEndTimelineStylesheetExt15":break;case"BrtBeginTimelineStyles":break;case"BrtEndTimelineStyles":break;case"BrtEndStyleSheetExt14":break;default:if(!pass||opts.WTF)throw new Error("Unexpected record "+RT+" "+R.n)}});return styles}function write_sty_bin(data,opts){var ba=buf_array();write_record(ba,"BrtBeginStyleSheet");write_record(ba,"BrtEndStyleSheet");return ba.end()}RELS.THEME="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme";function parse_clrScheme(t,opts){themes.themeElements.clrScheme=[];var color={};t[0].match(tagregex).forEach(function(x){var y=parsexmltag(x);switch(y[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":color.rgb=y.val;break;case"<a:sysClr":color.rgb=y.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt1>":case"</a:lt1>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":if(y[0][1]==="/"){themes.themeElements.clrScheme.push(color);color={}}else{color.name=y[0].substring(3,y[0].length-1)}break;default:if(opts.WTF)throw"unrecognized "+y[0]+" in clrScheme"}})}function parse_fontScheme(t,opts){}function parse_fmtScheme(t,opts){}var clrsregex=/<a:clrScheme([^>]*)>[^\u2603]*<\/a:clrScheme>/;var fntsregex=/<a:fontScheme([^>]*)>[^\u2603]*<\/a:fontScheme>/;var fmtsregex=/<a:fmtScheme([^>]*)>[^\u2603]*<\/a:fmtScheme>/;function parse_themeElements(data,opts){themes.themeElements={};var t;[["clrScheme",clrsregex,parse_clrScheme],["fontScheme",fntsregex,parse_fontScheme],["fmtScheme",fmtsregex,parse_fmtScheme]].forEach(function(m){if(!(t=data.match(m[1])))throw m[0]+" not found in themeElements";m[2](t,opts)})}var themeltregex=/<a:themeElements([^>]*)>[^\u2603]*<\/a:themeElements>/;function parse_theme_xml(data,opts){if(!data||data.length===0)return themes;var t;if(!(t=data.match(themeltregex)))throw"themeElements not found in theme";parse_themeElements(t[0],opts);return themes}function write_theme(){return'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="1F497D"/></a:dk2><a:lt2><a:srgbClr val="EEECE1"/></a:lt2><a:accent1><a:srgbClr val="4F81BD"/></a:accent1><a:accent2><a:srgbClr val="C0504D"/></a:accent2><a:accent3><a:srgbClr val="9BBB59"/></a:accent3><a:accent4><a:srgbClr val="8064A2"/></a:accent4><a:accent5><a:srgbClr val="4BACC6"/></a:accent5><a:accent6><a:srgbClr val="F79646"/></a:accent6><a:hlink><a:srgbClr val="0000FF"/></a:hlink><a:folHlink><a:srgbClr val="800080"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont><a:latin typeface="Cambria"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/><a:font script="Hang" typeface="맑은 고딕"/><a:font script="Hans" typeface="宋体"/><a:font script="Hant" typeface="新細明體"/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:majorFont><a:minorFont><a:latin typeface="Calibri"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/><a:font script="Hang" typeface="맑은 고딕"/><a:font script="Hans" typeface="宋体"/><a:font script="Hant" typeface="新細明體"/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="16200000" scaled="1"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="16200000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln><a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln><a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw></a:effectLst><a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d><a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs><a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs></a:gsLst><a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs></a:gsLst><a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults><a:spDef><a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style></a:spDef><a:lnDef><a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style></a:lnDef></a:objectDefaults><a:extraClrSchemeLst/></a:theme>'}function parse_Theme(blob,length){var dwThemeVersion=blob.read_shift(4);if(dwThemeVersion===124226)return;blob.l+=length-4}function parse_ColorTheme(blob,length){return blob.read_shift(4)}function parse_FullColorExt(blob,length){var o={};o.xclrType=blob.read_shift(2);o.nTintShade=blob.read_shift(2);switch(o.xclrType){case 0:blob.l+=4;break;case 1:o.xclrValue=parse_IcvXF(blob,4);break;case 2:o.xclrValue=parse_LongRGBA(blob,4);break;case 3:o.xclrValue=parse_ColorTheme(blob,4);break;case 4:blob.l+=4;break}blob.l+=8;return o}function parse_IcvXF(blob,length){return parsenoop(blob,length)}function parse_XFExtGradient(blob,length){return parsenoop(blob,length)}function parse_ExtProp(blob,length){var extType=blob.read_shift(2);var cb=blob.read_shift(2);var o=[extType];switch(extType){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:o[1]=parse_FullColorExt(blob,cb);break;case 6:o[1]=parse_XFExtGradient(blob,cb);break;case 14:case 15:o[1]=blob.read_shift(cb===5?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+extType+" "+cb)}return o}function parse_XFExt(blob,length){var end=blob.l+length;blob.l+=2;var ixfe=blob.read_shift(2);blob.l+=2;var cexts=blob.read_shift(2);var ext=[];while(cexts-->0)ext.push(parse_ExtProp(blob,end-blob.l));return{ixfe:ixfe,ext:ext}}function update_xfext(xf,xfext){xfext.forEach(function(xfe){switch(xfe[0]){case 4:break;case 5:break;case 7:case 8:case 9:case 10:break;case 13:break;case 14:break;default:throw"bafuq"+xfe[0].toString(16)}})}function parse_cc_xml(data,opts){var d=[];var l=0,i=1;(data.match(tagregex)||[]).forEach(function(x){var y=parsexmltag(x);switch(y[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete y[0];if(y.i)i=y.i;else y.i=i;d.push(y);break}});return d}function write_cc_xml(data,opts){}function parse_BrtCalcChainItem$(data,length){var out={};out.i=data.read_shift(4);var cell={};cell.r=data.read_shift(4);cell.c=data.read_shift(4);out.r=encode_cell(cell);var flags=data.read_shift(1);if(flags&2)out.l="1";if(flags&8)out.a="1";return out}function parse_cc_bin(data,opts){var out=[];var pass=false;recordhopper(data,function hopper_cc(val,R,RT){switch(R.n){case"BrtCalcChainItem$":out.push(val);break;case"BrtBeginCalcChain$":break;case"BrtEndCalcChain$":break;default:if(!pass||opts.WTF)throw new Error("Unexpected record "+RT+" "+R.n)}});return out}function write_cc_bin(data,opts){}function parse_comments(zip,dirComments,sheets,sheetRels,opts){for(var i=0;i!=dirComments.length;++i){var canonicalpath=dirComments[i];var comments=parse_cmnt(getzipdata(zip,canonicalpath.replace(/^\//,""),true),canonicalpath,opts);if(!comments||!comments.length)continue;var sheetNames=keys(sheets);for(var j=0;j!=sheetNames.length;++j){var sheetName=sheetNames[j];var rels=sheetRels[sheetName];if(rels){var rel=rels[canonicalpath];if(rel)insertCommentsIntoSheet(sheetName,sheets[sheetName],comments)}}}}function insertCommentsIntoSheet(sheetName,sheet,comments){comments.forEach(function(comment){var cell=sheet[comment.ref];if(!cell){cell={};sheet[comment.ref]=cell;var range=safe_decode_range(sheet["!ref"]||"BDWGO1000001:A1");var thisCell=decode_cell(comment.ref);if(range.s.r>thisCell.r)range.s.r=thisCell.r;if(range.e.r<thisCell.r)range.e.r=thisCell.r;if(range.s.c>thisCell.c)range.s.c=thisCell.c;if(range.e.c<thisCell.c)range.e.c=thisCell.c;var encoded=encode_range(range);if(encoded!==sheet["!ref"])sheet["!ref"]=encoded}if(!cell.c)cell.c=[];var o={a:comment.author,t:comment.t,r:comment.r};if(comment.h)o.h=comment.h;cell.c.push(o)})}function parse_comments_xml(data,opts){if(data.match(/<(?:\w+:)?comments *\/>/))return[];var authors=[];var commentList=[];data.match(/<(?:\w+:)?authors>([^\u2603]*)<\/(?:\w+:)?authors>/)[1].split(/<\/\w*:?author>/).forEach(function(x){if(x===""||x.trim()==="")return;authors.push(x.match(/<(?:\w+:)?author[^>]*>(.*)/)[1])});(data.match(/<(?:\w+:)?commentList>([^\u2603]*)<\/(?:\w+:)?commentList>/)||["",""])[1].split(/<\/\w*:?comment>/).forEach(function(x,index){if(x===""||x.trim()==="")return;var y=parsexmltag(x.match(/<(?:\w+:)?comment[^>]*>/)[0]);var comment={author:y.authorId&&authors[y.authorId]?authors[y.authorId]:undefined,ref:y.ref,guid:y.guid};var cell=decode_cell(y.ref);if(opts.sheetRows&&opts.sheetRows<=cell.r)return;var textMatch=x.match(/<text>([^\u2603]*)<\/text>/);if(!textMatch||!textMatch[1])return;var rt=parse_si(textMatch[1]);comment.r=rt.r;comment.t=rt.t;if(opts.cellHTML)comment.h=rt.h;commentList.push(comment)});return commentList}function write_comments_xml(data,opts){}function parse_BrtBeginComment(data,length){var out={};out.iauthor=data.read_shift(4);var rfx=parse_UncheckedRfX(data,16);out.rfx=rfx.s;out.ref=encode_cell(rfx.s);data.l+=16;return out}var parse_BrtCommentAuthor=parse_XLWideString;var parse_BrtCommentText=parse_RichStr;function parse_comments_bin(data,opts){var out=[];var authors=[];var c={};var pass=false;recordhopper(data,function hopper_cmnt(val,R,RT){switch(R.n){case"BrtCommentAuthor":authors.push(val);break;case"BrtBeginComment":c=val;break;case"BrtCommentText":c.t=val.t;c.h=val.h;c.r=val.r;break;case"BrtEndComment":c.author=authors[c.iauthor];delete c.iauthor;if(opts.sheetRows&&opts.sheetRows<=c.rfx.r)break;delete c.rfx;out.push(c);break;case"BrtBeginComments":break;case"BrtEndComments":break;case"BrtBeginCommentAuthors":break;case"BrtEndCommentAuthors":break;case"BrtBeginCommentList":break;case"BrtEndCommentList":break;default:if(!pass||opts.WTF)throw new Error("Unexpected record "+RT+" "+R.n)}});return out}function write_comments_bin(data,opts){}var rc_to_a1=function(){var rcregex=/(^|[^A-Za-z])R(\[?)(-?\d+|)\]?C(\[?)(-?\d+|)\]?/g;var rcbase;function rcfunc($$,$1,$2,$3,$4,$5){var R=$3.length>0?parseInt($3,10)|0:0,C=$5.length>0?parseInt($5,10)|0:0;if(C<0&&$4.length===0)C=0;if($4.length>0)C+=rcbase.c;if($2.length>0)R+=rcbase.r;return $1+encode_col(C)+encode_row(R)}return function rc_to_a1(fstr,base){rcbase=base;return fstr.replace(rcregex,rcfunc)}}();function parseread(l){return function(blob,length){blob.l+=l;return}}function parseread1(blob,length){blob.l+=1;return}function parse_ColRelU(blob,length){var c=blob.read_shift(2);return[c&16383,c>>14&1,c>>15&1]}function parse_RgceArea(blob,length){var r=blob.read_shift(2),R=blob.read_shift(2);var c=parse_ColRelU(blob,2);var C=parse_ColRelU(blob,2);return{s:{r:r,c:c[0],cRel:c[1],rRel:c[2]},e:{r:R,c:C[0],cRel:C[1],rRel:C[2]}}}function parse_RgceAreaRel(blob,length){var r=blob.read_shift(2),R=blob.read_shift(2);var c=parse_ColRelU(blob,2);var C=parse_ColRelU(blob,2);return{s:{r:r,c:c[0],cRel:c[1],rRel:c[2]},e:{r:R,c:C[0],cRel:C[1],rRel:C[2]}}}function parse_RgceLoc(blob,length){var r=blob.read_shift(2);var c=parse_ColRelU(blob,2);return{r:r,c:c[0],cRel:c[1],rRel:c[2]}}function parse_RgceLocRel(blob,length){var r=blob.read_shift(2);var cl=blob.read_shift(2);var cRel=(cl&32768)>>15,rRel=(cl&16384)>>14;cl&=16383;if(cRel!==0)while(cl>=256)cl-=256;return{r:r,c:cl,cRel:cRel,rRel:rRel}}function parse_PtgArea(blob,length){var type=(blob[blob.l++]&96)>>5;var area=parse_RgceArea(blob,8);return[type,area]}function parse_PtgArea3d(blob,length){var type=(blob[blob.l++]&96)>>5;var ixti=blob.read_shift(2);var area=parse_RgceArea(blob,8);return[type,ixti,area]}function parse_PtgAreaErr(blob,length){var type=(blob[blob.l++]&96)>>5;blob.l+=8;return[type]}function parse_PtgAreaErr3d(blob,length){var type=(blob[blob.l++]&96)>>5;var ixti=blob.read_shift(2);blob.l+=8;return[type,ixti]}function parse_PtgAreaN(blob,length){var type=(blob[blob.l++]&96)>>5;var area=parse_RgceAreaRel(blob,8);return[type,area]}function parse_PtgArray(blob,length){var type=(blob[blob.l++]&96)>>5;blob.l+=7;return[type]}function parse_PtgAttrBaxcel(blob,length){var bitSemi=blob[blob.l+1]&1;var bitBaxcel=1;blob.l+=4;return[bitSemi,bitBaxcel]}function parse_PtgAttrChoose(blob,length){blob.l+=2;var offset=blob.read_shift(2);var o=[];for(var i=0;i<=offset;++i)o.push(blob.read_shift(2));return o}function parse_PtgAttrGoto(blob,length){var bitGoto=blob[blob.l+1]&255?1:0;blob.l+=2;return[bitGoto,blob.read_shift(2)]}function parse_PtgAttrIf(blob,length){var bitIf=blob[blob.l+1]&255?1:0;blob.l+=2;return[bitIf,blob.read_shift(2)]}function parse_PtgAttrSemi(blob,length){var bitSemi=blob[blob.l+1]&255?1:0;blob.l+=4;return[bitSemi]}function parse_PtgAttrSpaceType(blob,length){var type=blob.read_shift(1),cch=blob.read_shift(1);return[type,cch]}function parse_PtgAttrSpace(blob,length){blob.read_shift(2);return parse_PtgAttrSpaceType(blob,2)}function parse_PtgAttrSpaceSemi(blob,length){blob.read_shift(2);return parse_PtgAttrSpaceType(blob,2)}function parse_PtgRef(blob,length){var ptg=blob[blob.l]&31;var type=(blob[blob.l]&96)>>5;blob.l+=1;var loc=parse_RgceLoc(blob,4);return[type,loc]}function parse_PtgRefN(blob,length){var ptg=blob[blob.l]&31;var type=(blob[blob.l]&96)>>5;blob.l+=1;var loc=parse_RgceLocRel(blob,4);return[type,loc]}function parse_PtgRef3d(blob,length){var ptg=blob[blob.l]&31;var type=(blob[blob.l]&96)>>5;blob.l+=1;var ixti=blob.read_shift(2);var loc=parse_RgceLoc(blob,4);return[type,ixti,loc]}function parse_PtgFunc(blob,length){var ptg=blob[blob.l]&31;var type=(blob[blob.l]&96)>>5;blob.l+=1;var iftab=blob.read_shift(2);return[FtabArgc[iftab],Ftab[iftab]]}function parse_PtgFuncVar(blob,length){blob.l++;var cparams=blob.read_shift(1),tab=parsetab(blob);return[cparams,(tab[0]===0?Ftab:Cetab)[tab[1]]]}function parsetab(blob,length){return[blob[blob.l+1]>>7,blob.read_shift(2)&32767]}var parse_PtgAttrSum=parseread(4);var parse_PtgConcat=parseread1;function parse_PtgExp(blob,length){blob.l++;var row=blob.read_shift(2);var col=blob.read_shift(2);return[row,col]}function parse_PtgErr(blob,length){blob.l++;return BErr[blob.read_shift(1)]}function parse_PtgInt(blob,length){blob.l++;return blob.read_shift(2)}function parse_PtgBool(blob,length){blob.l++;return blob.read_shift(1)!==0}function parse_PtgNum(blob,length){blob.l++;return parse_Xnum(blob,8)}function parse_PtgStr(blob,length){blob.l++;return parse_ShortXLUnicodeString(blob)}function parse_SerAr(blob){var val=[];switch(val[0]=blob.read_shift(1)){case 4:val[1]=parsebool(blob,1)?"TRUE":"FALSE";blob.l+=7;break;case 16:val[1]=BErr[blob[blob.l]];blob.l+=8;break;case 0:blob.l+=8;break;case 1:val[1]=parse_Xnum(blob,8);break;case 2:val[1]=parse_XLUnicodeString(blob);break}return val}function parse_PtgExtraMem(blob,cce){var count=blob.read_shift(2);var out=[];for(var i=0;i!=count;++i)out.push(parse_Ref8U(blob,8));return out}function parse_PtgExtraArray(blob){var cols=1+blob.read_shift(1);var rows=1+blob.read_shift(2);for(var i=0,o=[];i!=rows&&(o[i]=[]);++i)for(var j=0;j!=cols;++j)o[i][j]=parse_SerAr(blob);
return o}function parse_PtgName(blob,length){var type=blob.read_shift(1)>>>5&3;var nameindex=blob.read_shift(4);return[type,0,nameindex]}function parse_PtgNameX(blob,length){var type=blob.read_shift(1)>>>5&3;var ixti=blob.read_shift(2);var nameindex=blob.read_shift(4);return[type,ixti,nameindex]}function parse_PtgMemArea(blob,length){var type=blob.read_shift(1)>>>5&3;blob.l+=4;var cce=blob.read_shift(2);return[type,cce]}function parse_PtgMemFunc(blob,length){var type=blob.read_shift(1)>>>5&3;var cce=blob.read_shift(2);return[type,cce]}function parse_PtgRefErr(blob,length){var type=blob.read_shift(1)>>>5&3;blob.l+=4;return[type]}var parse_PtgAdd=parseread1;var parse_PtgDiv=parseread1;var parse_PtgEq=parseread1;var parse_PtgGe=parseread1;var parse_PtgGt=parseread1;var parse_PtgIsect=parseread1;var parse_PtgLe=parseread1;var parse_PtgLt=parseread1;var parse_PtgMissArg=parseread1;var parse_PtgMul=parseread1;var parse_PtgNe=parseread1;var parse_PtgParen=parseread1;var parse_PtgPercent=parseread1;var parse_PtgPower=parseread1;var parse_PtgRange=parseread1;var parse_PtgSub=parseread1;var parse_PtgUminus=parseread1;var parse_PtgUnion=parseread1;var parse_PtgUplus=parseread1;var parse_PtgMemErr=parsenoop;var parse_PtgMemNoMem=parsenoop;var parse_PtgRefErr3d=parsenoop;var parse_PtgTbl=parsenoop;var PtgTypes={1:{n:"PtgExp",f:parse_PtgExp},2:{n:"PtgTbl",f:parse_PtgTbl},3:{n:"PtgAdd",f:parse_PtgAdd},4:{n:"PtgSub",f:parse_PtgSub},5:{n:"PtgMul",f:parse_PtgMul},6:{n:"PtgDiv",f:parse_PtgDiv},7:{n:"PtgPower",f:parse_PtgPower},8:{n:"PtgConcat",f:parse_PtgConcat},9:{n:"PtgLt",f:parse_PtgLt},10:{n:"PtgLe",f:parse_PtgLe},11:{n:"PtgEq",f:parse_PtgEq},12:{n:"PtgGe",f:parse_PtgGe},13:{n:"PtgGt",f:parse_PtgGt},14:{n:"PtgNe",f:parse_PtgNe},15:{n:"PtgIsect",f:parse_PtgIsect},16:{n:"PtgUnion",f:parse_PtgUnion},17:{n:"PtgRange",f:parse_PtgRange},18:{n:"PtgUplus",f:parse_PtgUplus},19:{n:"PtgUminus",f:parse_PtgUminus},20:{n:"PtgPercent",f:parse_PtgPercent},21:{n:"PtgParen",f:parse_PtgParen},22:{n:"PtgMissArg",f:parse_PtgMissArg},23:{n:"PtgStr",f:parse_PtgStr},28:{n:"PtgErr",f:parse_PtgErr},29:{n:"PtgBool",f:parse_PtgBool},30:{n:"PtgInt",f:parse_PtgInt},31:{n:"PtgNum",f:parse_PtgNum},32:{n:"PtgArray",f:parse_PtgArray},33:{n:"PtgFunc",f:parse_PtgFunc},34:{n:"PtgFuncVar",f:parse_PtgFuncVar},35:{n:"PtgName",f:parse_PtgName},36:{n:"PtgRef",f:parse_PtgRef},37:{n:"PtgArea",f:parse_PtgArea},38:{n:"PtgMemArea",f:parse_PtgMemArea},39:{n:"PtgMemErr",f:parse_PtgMemErr},40:{n:"PtgMemNoMem",f:parse_PtgMemNoMem},41:{n:"PtgMemFunc",f:parse_PtgMemFunc},42:{n:"PtgRefErr",f:parse_PtgRefErr},43:{n:"PtgAreaErr",f:parse_PtgAreaErr},44:{n:"PtgRefN",f:parse_PtgRefN},45:{n:"PtgAreaN",f:parse_PtgAreaN},57:{n:"PtgNameX",f:parse_PtgNameX},58:{n:"PtgRef3d",f:parse_PtgRef3d},59:{n:"PtgArea3d",f:parse_PtgArea3d},60:{n:"PtgRefErr3d",f:parse_PtgRefErr3d},61:{n:"PtgAreaErr3d",f:parse_PtgAreaErr3d},255:{}};var PtgDupes={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61};(function(){for(var y in PtgDupes)PtgTypes[y]=PtgTypes[PtgDupes[y]]})();var Ptg18={};var Ptg19={1:{n:"PtgAttrSemi",f:parse_PtgAttrSemi},2:{n:"PtgAttrIf",f:parse_PtgAttrIf},4:{n:"PtgAttrChoose",f:parse_PtgAttrChoose},8:{n:"PtgAttrGoto",f:parse_PtgAttrGoto},16:{n:"PtgAttrSum",f:parse_PtgAttrSum},32:{n:"PtgAttrBaxcel",f:parse_PtgAttrBaxcel},64:{n:"PtgAttrSpace",f:parse_PtgAttrSpace},65:{n:"PtgAttrSpaceSemi",f:parse_PtgAttrSpaceSemi},255:{}};function parse_Formula(blob,length,opts){var cell=parse_XLSCell(blob,6);var val=parse_FormulaValue(blob,8);var flags=blob.read_shift(1);blob.read_shift(1);var chn=blob.read_shift(4);var cbf="";if(opts.biff===5)blob.l+=length-20;else cbf=parse_XLSCellParsedFormula(blob,length-20,opts);return{cell:cell,val:val[0],formula:cbf,shared:flags>>3&1,tt:val[1]}}function parse_FormulaValue(blob){var b;if(__readUInt16LE(blob,blob.l+6)!==65535)return[parse_Xnum(blob),"n"];switch(blob[blob.l]){case 0:blob.l+=8;return["String","s"];case 1:b=blob[blob.l+2]===1;blob.l+=8;return[b,"b"];case 2:b=blob[blob.l+2];blob.l+=8;return[b,"e"];case 3:blob.l+=8;return["","s"]}}function parse_RgbExtra(blob,length,rgce,opts){if(opts.biff<8)return parsenoop(blob,length);var target=blob.l+length;var o=[];for(var i=0;i!==rgce.length;++i){switch(rgce[i][0]){case"PtgArray":rgce[i][1]=parse_PtgExtraArray(blob);o.push(rgce[i][1]);break;case"PtgMemArea":rgce[i][2]=parse_PtgExtraMem(blob,rgce[i][1]);o.push(rgce[i][2]);break;default:break}}length=target-blob.l;if(length!==0)o.push(parsenoop(blob,length));return o}function parse_NameParsedFormula(blob,length,opts,cce){var target=blob.l+length;var rgce=parse_Rgce(blob,cce);var rgcb;if(target!==blob.l)rgcb=parse_RgbExtra(blob,target-blob.l,rgce,opts);return[rgce,rgcb]}function parse_XLSCellParsedFormula(blob,length,opts){var target=blob.l+length;var rgcb,cce=blob.read_shift(2);if(cce==65535)return[[],parsenoop(blob,length-2)];var rgce=parse_Rgce(blob,cce);if(length!==cce+2)rgcb=parse_RgbExtra(blob,length-cce-2,rgce,opts);return[rgce,rgcb]}function parse_SharedParsedFormula(blob,length,opts){var target=blob.l+length;var rgcb,cce=blob.read_shift(2);var rgce=parse_Rgce(blob,cce);if(cce==65535)return[[],parsenoop(blob,length-2)];if(length!==cce+2)rgcb=parse_RgbExtra(blob,target-cce-2,rgce,opts);return[rgce,rgcb]}function parse_ArrayParsedFormula(blob,length,opts,ref){var target=blob.l+length;var rgcb,cce=blob.read_shift(2);if(cce==65535)return[[],parsenoop(blob,length-2)];var rgce=parse_Rgce(blob,cce);if(length!==cce+2)rgcb=parse_RgbExtra(blob,target-cce-2,rgce,opts);return[rgce,rgcb]}function parse_Rgce(blob,length){var target=blob.l+length;var R,id,ptgs=[];while(target!=blob.l){length=target-blob.l;id=blob[blob.l];R=PtgTypes[id];if(id===24||id===25){id=blob[blob.l+1];R=(id===24?Ptg18:Ptg19)[id]}if(!R||!R.f){ptgs.push(parsenoop(blob,length))}else{ptgs.push([R.n,R.f(blob,length)])}}return ptgs}function mapper(x){return x.map(function f2(y){return y[1]}).join(",")}function stringify_formula(formula,range,cell,supbooks,opts){if(opts!==undefined&&opts.biff===5)return"BIFF5??";var _range=range!==undefined?range:{s:{c:0,r:0}};var stack=[],e1,e2,type,c,ixti,nameidx,r;if(!formula[0]||!formula[0][0])return"";for(var ff=0,fflen=formula[0].length;ff<fflen;++ff){var f=formula[0][ff];switch(f[0]){case"PtgUminus":stack.push("-"+stack.pop());break;case"PtgUplus":stack.push("+"+stack.pop());break;case"PtgPercent":stack.push(stack.pop()+"%");break;case"PtgAdd":e1=stack.pop();e2=stack.pop();stack.push(e2+"+"+e1);break;case"PtgSub":e1=stack.pop();e2=stack.pop();stack.push(e2+"-"+e1);break;case"PtgMul":e1=stack.pop();e2=stack.pop();stack.push(e2+"*"+e1);break;case"PtgDiv":e1=stack.pop();e2=stack.pop();stack.push(e2+"/"+e1);break;case"PtgPower":e1=stack.pop();e2=stack.pop();stack.push(e2+"^"+e1);break;case"PtgConcat":e1=stack.pop();e2=stack.pop();stack.push(e2+"&"+e1);break;case"PtgLt":e1=stack.pop();e2=stack.pop();stack.push(e2+"<"+e1);break;case"PtgLe":e1=stack.pop();e2=stack.pop();stack.push(e2+"<="+e1);break;case"PtgEq":e1=stack.pop();e2=stack.pop();stack.push(e2+"="+e1);break;case"PtgGe":e1=stack.pop();e2=stack.pop();stack.push(e2+">="+e1);break;case"PtgGt":e1=stack.pop();e2=stack.pop();stack.push(e2+">"+e1);break;case"PtgNe":e1=stack.pop();e2=stack.pop();stack.push(e2+"<>"+e1);break;case"PtgIsect":e1=stack.pop();e2=stack.pop();stack.push(e2+" "+e1);break;case"PtgUnion":e1=stack.pop();e2=stack.pop();stack.push(e2+","+e1);break;case"PtgRange":break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgRef":type=f[1][0];c=shift_cell_xls(decode_cell(encode_cell(f[1][1])),_range);stack.push(encode_cell(c));break;case"PtgRefN":type=f[1][0];c=shift_cell_xls(decode_cell(encode_cell(f[1][1])),cell);stack.push(encode_cell(c));break;case"PtgRef3d":type=f[1][0];ixti=f[1][1];c=shift_cell_xls(f[1][2],_range);stack.push(supbooks[1][ixti+1]+"!"+encode_cell(c));break;case"PtgFunc":case"PtgFuncVar":var argc=f[1][0],func=f[1][1];if(!argc)argc=0;var args=stack.slice(-argc);stack.length-=argc;if(func==="User")func=args.shift();stack.push(func+"("+args.join(",")+")");break;case"PtgBool":stack.push(f[1]?"TRUE":"FALSE");break;case"PtgInt":stack.push(f[1]);break;case"PtgNum":stack.push(String(f[1]));break;case"PtgStr":stack.push('"'+f[1]+'"');break;case"PtgErr":stack.push(f[1]);break;case"PtgArea":type=f[1][0];r=shift_range_xls(f[1][1],_range);stack.push(encode_range(r));break;case"PtgArea3d":type=f[1][0];ixti=f[1][1];r=f[1][2];stack.push(supbooks[1][ixti+1]+"!"+encode_range(r));break;case"PtgAttrSum":stack.push("SUM("+stack.pop()+")");break;case"PtgAttrSemi":break;case"PtgName":nameidx=f[1][2];var lbl=supbooks[0][nameidx];var name=lbl.Name;if(name in XLSXFutureFunctions)name=XLSXFutureFunctions[name];stack.push(name);break;case"PtgNameX":var bookidx=f[1][1];nameidx=f[1][2];var externbook;if(supbooks[bookidx+1])externbook=supbooks[bookidx+1][nameidx];else if(supbooks[bookidx-1])externbook=supbooks[bookidx-1][nameidx];if(!externbook)externbook={body:"??NAMEX??"};stack.push(externbook.body);break;case"PtgParen":stack.push("("+stack.pop()+")");break;case"PtgRefErr":stack.push("#REF!");break;case"PtgExp":c={c:f[1][1],r:f[1][0]};var q={c:cell.c,r:cell.r};if(supbooks.sharedf[encode_cell(c)]){var parsedf=supbooks.sharedf[encode_cell(c)];stack.push(stringify_formula(parsedf,_range,q,supbooks,opts))}else{var fnd=false;for(e1=0;e1!=supbooks.arrayf.length;++e1){e2=supbooks.arrayf[e1];if(c.c<e2[0].s.c||c.c>e2[0].e.c)continue;if(c.r<e2[0].s.r||c.r>e2[0].e.r)continue;stack.push(stringify_formula(e2[1],_range,q,supbooks,opts))}if(!fnd)stack.push(f[1])}break;case"PtgArray":stack.push("{"+f[1].map(mapper).join(";")+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":stack.push("");break;case"PtgAreaErr":break;case"PtgAreaN":stack.push("");break;case"PtgRefErr3d":break;case"PtgMemFunc":break;default:throw"Unrecognized Formula Token: "+f}}return stack[0]}function parse_XLSBCellParsedFormula(data,length){var cce=data.read_shift(4);return parsenoop(data,length-4)}var PtgDataType={1:"REFERENCE",2:"VALUE",3:"ARRAY"};var Cetab={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"};var Ftab={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD"};var FtabArgc={2:1,3:1,15:1,16:1,17:1,18:1,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,65:3,66:3,67:1,68:1,69:1,71:1,72:1,73:1,75:1,76:1,77:1,79:2,80:2,83:1,86:1,90:1,97:2,98:1,99:1,105:1,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,189:3,190:1,195:3,196:3,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,65535:0};var XLSXFutureFunctions={"_xlfn.ACOT":"ACOT","_xlfn.ACOTH":"ACOTH","_xlfn.AGGREGATE":"AGGREGATE","_xlfn.ARABIC":"ARABIC","_xlfn.AVERAGEIF":"AVERAGEIF","_xlfn.AVERAGEIFS":"AVERAGEIFS","_xlfn.BASE":"BASE","_xlfn.BETA.DIST":"BETA.DIST","_xlfn.BETA.INV":"BETA.INV","_xlfn.BINOM.DIST":"BINOM.DIST","_xlfn.BINOM.DIST.RANGE":"BINOM.DIST.RANGE","_xlfn.BINOM.INV":"BINOM.INV","_xlfn.BITAND":"BITAND","_xlfn.BITLSHIFT":"BITLSHIFT","_xlfn.BITOR":"BITOR","_xlfn.BITRSHIFT":"BITRSHIFT","_xlfn.BITXOR":"BITXOR","_xlfn.CEILING.MATH":"CEILING.MATH","_xlfn.CEILING.PRECISE":"CEILING.PRECISE","_xlfn.CHISQ.DIST":"CHISQ.DIST","_xlfn.CHISQ.DIST.RT":"CHISQ.DIST.RT","_xlfn.CHISQ.INV":"CHISQ.INV","_xlfn.CHISQ.INV.RT":"CHISQ.INV.RT","_xlfn.CHISQ.TEST":"CHISQ.TEST","_xlfn.COMBINA":"COMBINA","_xlfn.CONFIDENCE.NORM":"CONFIDENCE.NORM","_xlfn.CONFIDENCE.T":"CONFIDENCE.T","_xlfn.COT":"COT","_xlfn.COTH":"COTH","_xlfn.COUNTIFS":"COUNTIFS","_xlfn.COVARIANCE.P":"COVARIANCE.P","_xlfn.COVARIANCE.S":"COVARIANCE.S","_xlfn.CSC":"CSC","_xlfn.CSCH":"CSCH","_xlfn.DAYS":"DAYS","_xlfn.DECIMAL":"DECIMAL","_xlfn.ECMA.CEILING":"ECMA.CEILING","_xlfn.ERF.PRECISE":"ERF.PRECISE","_xlfn.ERFC.PRECISE":"ERFC.PRECISE","_xlfn.EXPON.DIST":"EXPON.DIST","_xlfn.F.DIST":"F.DIST","_xlfn.F.DIST.RT":"F.DIST.RT","_xlfn.F.INV":"F.INV","_xlfn.F.INV.RT":"F.INV.RT","_xlfn.F.TEST":"F.TEST","_xlfn.FILTERXML":"FILTERXML","_xlfn.FLOOR.MATH":"FLOOR.MATH","_xlfn.FLOOR.PRECISE":"FLOOR.PRECISE","_xlfn.FORMULATEXT":"FORMULATEXT","_xlfn.GAMMA":"GAMMA","_xlfn.GAMMA.DIST":"GAMMA.DIST","_xlfn.GAMMA.INV":"GAMMA.INV","_xlfn.GAMMALN.PRECISE":"GAMMALN.PRECISE","_xlfn.GAUSS":"GAUSS","_xlfn.HYPGEOM.DIST":"HYPGEOM.DIST","_xlfn.IFNA":"IFNA","_xlfn.IFERROR":"IFERROR","_xlfn.IMCOSH":"IMCOSH","_xlfn.IMCOT":"IMCOT","_xlfn.IMCSC":"IMCSC","_xlfn.IMCSCH":"IMCSCH","_xlfn.IMSEC":"IMSEC","_xlfn.IMSECH":"IMSECH","_xlfn.IMSINH":"IMSINH","_xlfn.IMTAN":"IMTAN","_xlfn.ISFORMULA":"ISFORMULA","_xlfn.ISO.CEILING":"ISO.CEILING","_xlfn.ISOWEEKNUM":"ISOWEEKNUM","_xlfn.LOGNORM.DIST":"LOGNORM.DIST","_xlfn.LOGNORM.INV":"LOGNORM.INV","_xlfn.MODE.MULT":"MODE.MULT","_xlfn.MODE.SNGL":"MODE.SNGL","_xlfn.MUNIT":"MUNIT","_xlfn.NEGBINOM.DIST":"NEGBINOM.DIST","_xlfn.NETWORKDAYS.INTL":"NETWORKDAYS.INTL","_xlfn.NIGBINOM":"NIGBINOM","_xlfn.NORM.DIST":"NORM.DIST","_xlfn.NORM.INV":"NORM.INV","_xlfn.NORM.S.DIST":"NORM.S.DIST","_xlfn.NORM.S.INV":"NORM.S.INV","_xlfn.NUMBERVALUE":"NUMBERVALUE","_xlfn.PDURATION":"PDURATION","_xlfn.PERCENTILE.EXC":"PERCENTILE.EXC","_xlfn.PERCENTILE.INC":"PERCENTILE.INC","_xlfn.PERCENTRANK.EXC":"PERCENTRANK.EXC","_xlfn.PERCENTRANK.INC":"PERCENTRANK.INC","_xlfn.PERMUTATIONA":"PERMUTATIONA","_xlfn.PHI":"PHI","_xlfn.POISSON.DIST":"POISSON.DIST","_xlfn.QUARTILE.EXC":"QUARTILE.EXC","_xlfn.QUARTILE.INC":"QUARTILE.INC","_xlfn.QUERYSTRING":"QUERYSTRING","_xlfn.RANK.AVG":"RANK.AVG","_xlfn.RANK.EQ":"RANK.EQ","_xlfn.RRI":"RRI","_xlfn.SEC":"SEC","_xlfn.SECH":"SECH","_xlfn.SHEET":"SHEET","_xlfn.SHEETS":"SHEETS","_xlfn.SKEW.P":"SKEW.P","_xlfn.STDEV.P":"STDEV.P","_xlfn.STDEV.S":"STDEV.S","_xlfn.SUMIFS":"SUMIFS","_xlfn.T.DIST":"T.DIST","_xlfn.T.DIST.2T":"T.DIST.2T","_xlfn.T.DIST.RT":"T.DIST.RT","_xlfn.T.INV":"T.INV","_xlfn.T.INV.2T":"T.INV.2T","_xlfn.T.TEST":"T.TEST","_xlfn.UNICHAR":"UNICHAR","_xlfn.UNICODE":"UNICODE","_xlfn.VAR.P":"VAR.P","_xlfn.VAR.S":"VAR.S","_xlfn.WEBSERVICE":"WEBSERVICE","_xlfn.WEIBULL.DIST":"WEIBULL.DIST","_xlfn.WORKDAY.INTL":"WORKDAY.INTL","_xlfn.XOR":"XOR","_xlfn.Z.TEST":"Z.TEST"};var strs={};var _ssfopts={};RELS.WS="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet";function get_sst_id(sst,str){for(var i=0,len=sst.length;i<len;++i)if(sst[i].t===str){sst.Count++;return i}sst[len]={t:str};sst.Count++;sst.Unique++;return len}function get_cell_style(styles,cell,opts){var z=opts.revssf[cell.z!=null?cell.z:"General"];for(var i=0,len=styles.length;i!=len;++i)if(styles[i].numFmtId===z)return i;styles[len]={numFmtId:z,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1};return len}function safe_format(p,fmtid,fillid,opts){try{if(p.t==="e")p.w=p.w||BErr[p.v];else if(fmtid===0){if(p.t==="n"){if((p.v|0)===p.v)p.w=SSF._general_int(p.v,_ssfopts);else p.w=SSF._general_num(p.v,_ssfopts)}else if(p.t==="d"){var dd=datenum(p.v);if((dd|0)===dd)p.w=SSF._general_int(dd,_ssfopts);else p.w=SSF._general_num(dd,_ssfopts)}else if(p.v===undefined)return"";else p.w=SSF._general(p.v,_ssfopts)}else if(p.t==="d")p.w=SSF.format(fmtid,datenum(p.v),_ssfopts);else p.w=SSF.format(fmtid,p.v,_ssfopts);if(opts.cellNF)p.z=SSF._table[fmtid]}catch(e){if(opts.WTF)throw e}if(fillid)try{p.s=styles.Fills[fillid];if(p.s.fgColor&&p.s.fgColor.theme){p.s.fgColor.rgb=rgb_tint(themes.themeElements.clrScheme[p.s.fgColor.theme].rgb,p.s.fgColor.tint||0);if(opts.WTF)p.s.fgColor.raw_rgb=themes.themeElements.clrScheme[p.s.fgColor.theme].rgb}if(p.s.bgColor&&p.s.bgColor.theme){p.s.bgColor.rgb=rgb_tint(themes.themeElements.clrScheme[p.s.bgColor.theme].rgb,p.s.bgColor.tint||0);if(opts.WTF)p.s.bgColor.raw_rgb=themes.themeElements.clrScheme[p.s.bgColor.theme].rgb}}catch(e){if(opts.WTF)throw e}}function parse_ws_xml_dim(ws,s){var d=safe_decode_range(s);if(d.s.r<=d.e.r&&d.s.c<=d.e.c&&d.s.r>=0&&d.s.c>=0)ws["!ref"]=encode_range(d)}var mergecregex=/<mergeCell ref="[A-Z0-9:]+"\s*\/>/g;var sheetdataregex=/<(?:\w+:)?sheetData>([^\u2603]*)<\/(?:\w+:)?sheetData>/;var hlinkregex=/<hyperlink[^>]*\/>/g;var dimregex=/"(\w*:\w*)"/;var colregex=/<col[^>]*\/>/g;function parse_ws_xml(data,opts,rels){if(!data)return data;var s={};var ridx=data.indexOf("<dimension");if(ridx>0){var ref=data.substr(ridx,50).match(dimregex);if(ref!=null)parse_ws_xml_dim(s,ref[1])}var mergecells=[];if(data.indexOf("</mergeCells>")!==-1){var merges=data.match(mergecregex);for(ridx=0;ridx!=merges.length;++ridx)mergecells[ridx]=safe_decode_range(merges[ridx].substr(merges[ridx].indexOf('"')+1))}var columns=[];if(opts.cellStyles&&data.indexOf("</cols>")!==-1){var cols=data.match(colregex);parse_ws_xml_cols(columns,cols)}var refguess={s:{r:1e6,c:1e6},e:{r:0,c:0}};var mtch=data.match(sheetdataregex);if(mtch)parse_ws_xml_data(mtch[1],s,opts,refguess);if(data.indexOf("</hyperlinks>")!==-1)parse_ws_xml_hlinks(s,data.match(hlinkregex),rels);if(!s["!ref"]&&refguess.e.c>=refguess.s.c&&refguess.e.r>=refguess.s.r)s["!ref"]=encode_range(refguess);if(opts.sheetRows>0&&s["!ref"]){var tmpref=safe_decode_range(s["!ref"]);if(opts.sheetRows<+tmpref.e.r){tmpref.e.r=opts.sheetRows-1;if(tmpref.e.r>refguess.e.r)tmpref.e.r=refguess.e.r;if(tmpref.e.r<tmpref.s.r)tmpref.s.r=tmpref.e.r;if(tmpref.e.c>refguess.e.c)tmpref.e.c=refguess.e.c;if(tmpref.e.c<tmpref.s.c)tmpref.s.c=tmpref.e.c;s["!fullref"]=s["!ref"];s["!ref"]=encode_range(tmpref)}}if(mergecells.length>0)s["!merges"]=mergecells;if(columns.length>0)s["!cols"]=columns;return s}function write_ws_xml_merges(merges){if(merges.length==0)return"";var o='<mergeCells count="'+merges.length+'">';for(var i=0;i!=merges.length;++i)o+='<mergeCell ref="'+encode_range(merges[i])+'"/>';return o+"</mergeCells>"}function parse_ws_xml_hlinks(s,data,rels){for(var i=0;i!=data.length;++i){var val=parsexmltag(data[i],true);if(!val.ref)return;var rel=rels?rels["!id"][val.id]:null;if(rel){val.Target=rel.Target;if(val.location)val.Target+="#"+val.location;val.Rel=rel}else{val.Target=val.location;rel={Target:val.location,TargetMode:"Internal"};val.Rel=rel}var rng=safe_decode_range(val.ref);for(var R=rng.s.r;R<=rng.e.r;++R)for(var C=rng.s.c;C<=rng.e.c;++C){var addr=encode_cell({c:C,r:R});if(!s[addr])s[addr]={t:"stub",v:undefined};s[addr].l=val}}}function parse_ws_xml_cols(columns,cols){var seencol=false;for(var coli=0;coli!=cols.length;++coli){var coll=parsexmltag(cols[coli],true);var colm=parseInt(coll.min,10)-1,colM=parseInt(coll.max,10)-1;delete coll.min;delete coll.max;if(!seencol&&coll.width){seencol=true;find_mdw(+coll.width,coll)}if(coll.width){coll.wpx=width2px(+coll.width);coll.wch=px2char(coll.wpx);coll.MDW=MDW}while(colm<=colM)columns[colm++]=coll}}function write_ws_xml_cols(ws,cols){var o=["<cols>"],col,width;for(var i=0;i!=cols.length;++i){if(!(col=cols[i]))continue;var p={min:i+1,max:i+1};width=-1;if(col.wpx)width=px2char(col.wpx);else if(col.wch)width=col.wch;if(width>-1){p.width=char2width(width);p.customWidth=1}o[o.length]=writextag("col",null,p)}o[o.length]="</cols>";return o.join("")
}function write_ws_xml_cell(cell,ref,ws,opts,idx,wb){if(cell.v===undefined)return"";var vv="";var oldt=cell.t,oldv=cell.v;switch(cell.t){case"b":vv=cell.v?"1":"0";break;case"n":vv=""+cell.v;break;case"e":vv=BErr[cell.v];break;case"d":if(opts.cellDates)vv=new Date(cell.v).toISOString();else{cell.t="n";vv=""+(cell.v=datenum(cell.v));if(typeof cell.z==="undefined")cell.z=SSF._table[14]}break;default:vv=cell.v;break}var v=writetag("v",escapexml(vv)),o={r:ref};var os=get_cell_style(opts.cellXfs,cell,opts);if(os!==0)o.s=os;switch(cell.t){case"n":break;case"d":o.t="d";break;case"b":o.t="b";break;case"e":o.t="e";break;default:if(opts.bookSST){v=writetag("v",""+get_sst_id(opts.Strings,cell.v));o.t="s";break}o.t="str";break}if(cell.t!=oldt){cell.t=oldt;cell.v=oldv}return writextag("c",v,o)}var parse_ws_xml_data=function parse_ws_xml_data_factory(){var cellregex=/<(?:\w+:)?c[ >]/,rowregex=/<\/(?:\w+:)?row>/;var rregex=/r=["']([^"']*)["']/,isregex=/<is>([\S\s]*?)<\/is>/;var match_v=matchtag("v"),match_f=matchtag("f");return function parse_ws_xml_data(sdata,s,opts,guess){var ri=0,x="",cells=[],cref=[],idx=0,i=0,cc=0,d="",p;var tag,tagr=0,tagc=0;var sstr;var fmtid=0,fillid=0,do_format=Array.isArray(styles.CellXf),cf;for(var marr=sdata.split(rowregex),mt=0,marrlen=marr.length;mt!=marrlen;++mt){x=marr[mt].trim();var xlen=x.length;if(xlen===0)continue;for(ri=0;ri<xlen;++ri)if(x.charCodeAt(ri)===62)break;++ri;tag=parsexmltag(x.substr(0,ri),true);tagr=typeof tag.r!=="undefined"?parseInt(tag.r,10):tagr+1;tagc=-1;if(opts.sheetRows&&opts.sheetRows<tagr)continue;if(guess.s.r>tagr-1)guess.s.r=tagr-1;if(guess.e.r<tagr-1)guess.e.r=tagr-1;cells=x.substr(ri).split(cellregex);for(ri=typeof tag.r==="undefined"?0:1;ri!=cells.length;++ri){x=cells[ri].trim();if(x.length===0)continue;cref=x.match(rregex);idx=ri;i=0;cc=0;x="<c "+(x.substr(0,1)=="<"?">":"")+x;if(cref!==null&&cref.length===2){idx=0;d=cref[1];for(i=0;i!=d.length;++i){if((cc=d.charCodeAt(i)-64)<1||cc>26)break;idx=26*idx+cc}--idx;tagc=idx}else++tagc;for(i=0;i!=x.length;++i)if(x.charCodeAt(i)===62)break;++i;tag=parsexmltag(x.substr(0,i),true);if(!tag.r)tag.r=utils.encode_cell({r:tagr-1,c:tagc});d=x.substr(i);p={t:""};if((cref=d.match(match_v))!==null&&cref[1]!=="")p.v=unescapexml(cref[1]);if(opts.cellFormula&&(cref=d.match(match_f))!==null)p.f=unescapexml(cref[1]);if(tag.t===undefined&&p.v===undefined){if(!opts.sheetStubs)continue;p.t="stub"}else p.t=tag.t||"n";if(guess.s.c>idx)guess.s.c=idx;if(guess.e.c<idx)guess.e.c=idx;switch(p.t){case"n":p.v=parseFloat(p.v);break;case"s":sstr=strs[parseInt(p.v,10)];p.v=sstr.t;p.r=sstr.r;if(opts.cellHTML)p.h=sstr.h;break;case"str":p.t="s";p.v=p.v!=null?utf8read(p.v):"";if(opts.cellHTML)p.h=p.v;break;case"inlineStr":cref=d.match(isregex);p.t="s";if(cref!==null){sstr=parse_si(cref[1]);p.v=sstr.t}else p.v="";break;case"b":p.v=parsexmlbool(p.v);break;case"d":if(!opts.cellDates){p.v=datenum(p.v);p.t="n"}break;case"e":p.w=p.v;p.v=RBErr[p.v];break}fmtid=fillid=0;if(do_format&&tag.s!==undefined){cf=styles.CellXf[tag.s];if(cf!=null){if(cf.numFmtId!=null)fmtid=cf.numFmtId;if(opts.cellStyles&&cf.fillId!=null)fillid=cf.fillId}}safe_format(p,fmtid,fillid,opts);s[tag.r]=p}}}}();function write_ws_xml_data(ws,opts,idx,wb){var o=[],r=[],range=safe_decode_range(ws["!ref"]),cell,ref,rr="",cols=[],R,C;for(C=range.s.c;C<=range.e.c;++C)cols[C]=encode_col(C);for(R=range.s.r;R<=range.e.r;++R){r=[];rr=encode_row(R);for(C=range.s.c;C<=range.e.c;++C){ref=cols[C]+rr;if(ws[ref]===undefined)continue;if((cell=write_ws_xml_cell(ws[ref],ref,ws,opts,idx,wb))!=null)r.push(cell)}if(r.length>0)o[o.length]=writextag("row",r.join(""),{r:rr})}return o.join("")}var WS_XML_ROOT=writextag("worksheet",null,{xmlns:XMLNS.main[0],"xmlns:r":XMLNS.r});function write_ws_xml(idx,opts,wb){var o=[XML_HEADER,WS_XML_ROOT];var s=wb.SheetNames[idx],sidx=0,rdata="";var ws=wb.Sheets[s];if(ws===undefined)ws={};var ref=ws["!ref"];if(ref===undefined)ref="A1";o[o.length]=writextag("dimension",null,{ref:ref});if(ws["!cols"]!==undefined&&ws["!cols"].length>0)o[o.length]=write_ws_xml_cols(ws,ws["!cols"]);o[sidx=o.length]="<sheetData/>";if(ws["!ref"]!==undefined){rdata=write_ws_xml_data(ws,opts,idx,wb);if(rdata.length>0)o[o.length]=rdata}if(o.length>sidx+1){o[o.length]="</sheetData>";o[sidx]=o[sidx].replace("/>",">")}if(ws["!merges"]!==undefined&&ws["!merges"].length>0)o[o.length]=write_ws_xml_merges(ws["!merges"]);if(o.length>2){o[o.length]="</worksheet>";o[1]=o[1].replace("/>",">")}return o.join("")}function parse_BrtRowHdr(data,length){var z=[];z.r=data.read_shift(4);data.l+=length-4;return z}var parse_BrtWsDim=parse_UncheckedRfX;var write_BrtWsDim=write_UncheckedRfX;function parse_BrtWsProp(data,length){var z={};data.l+=19;z.name=parse_XLSBCodeName(data,length-19);return z}function parse_BrtCellBlank(data,length){var cell=parse_XLSBCell(data);return[cell]}function write_BrtCellBlank(cell,val,o){if(o==null)o=new_buf(8);return write_XLSBCell(val,o)}function parse_BrtCellBool(data,length){var cell=parse_XLSBCell(data);var fBool=data.read_shift(1);return[cell,fBool,"b"]}function parse_BrtCellError(data,length){var cell=parse_XLSBCell(data);var fBool=data.read_shift(1);return[cell,fBool,"e"]}function parse_BrtCellIsst(data,length){var cell=parse_XLSBCell(data);var isst=data.read_shift(4);return[cell,isst,"s"]}function parse_BrtCellReal(data,length){var cell=parse_XLSBCell(data);var value=parse_Xnum(data);return[cell,value,"n"]}function parse_BrtCellRk(data,length){var cell=parse_XLSBCell(data);var value=parse_RkNumber(data);return[cell,value,"n"]}function parse_BrtCellSt(data,length){var cell=parse_XLSBCell(data);var value=parse_XLWideString(data);return[cell,value,"str"]}function parse_BrtFmlaBool(data,length,opts){var cell=parse_XLSBCell(data);var value=data.read_shift(1);var o=[cell,value,"b"];if(opts.cellFormula){var formula=parse_XLSBCellParsedFormula(data,length-9);o[3]=""}else data.l+=length-9;return o}function parse_BrtFmlaError(data,length,opts){var cell=parse_XLSBCell(data);var value=data.read_shift(1);var o=[cell,value,"e"];if(opts.cellFormula){var formula=parse_XLSBCellParsedFormula(data,length-9);o[3]=""}else data.l+=length-9;return o}function parse_BrtFmlaNum(data,length,opts){var cell=parse_XLSBCell(data);var value=parse_Xnum(data);var o=[cell,value,"n"];if(opts.cellFormula){var formula=parse_XLSBCellParsedFormula(data,length-16);o[3]=""}else data.l+=length-16;return o}function parse_BrtFmlaString(data,length,opts){var start=data.l;var cell=parse_XLSBCell(data);var value=parse_XLWideString(data);var o=[cell,value,"str"];if(opts.cellFormula){var formula=parse_XLSBCellParsedFormula(data,start+length-data.l)}else data.l=start+length;return o}var parse_BrtMergeCell=parse_UncheckedRfX;function parse_BrtHLink(data,length,opts){var end=data.l+length;var rfx=parse_UncheckedRfX(data,16);var relId=parse_XLNullableWideString(data);var loc=parse_XLWideString(data);var tooltip=parse_XLWideString(data);var display=parse_XLWideString(data);data.l=end;return{rfx:rfx,relId:relId,loc:loc,tooltip:tooltip,display:display}}function parse_ws_bin(data,opts,rels){if(!data)return data;if(!rels)rels={"!id":{}};var s={};var ref;var refguess={s:{r:1e6,c:1e6},e:{r:0,c:0}};var pass=false,end=false;var row,p,cf,R,C,addr,sstr,rr;var mergecells=[];recordhopper(data,function ws_parse(val,R){if(end)return;switch(R.n){case"BrtWsDim":ref=val;break;case"BrtRowHdr":row=val;if(opts.sheetRows&&opts.sheetRows<=row.r)end=true;rr=encode_row(row.r);break;case"BrtFmlaBool":case"BrtFmlaError":case"BrtFmlaNum":case"BrtFmlaString":case"BrtCellBool":case"BrtCellError":case"BrtCellIsst":case"BrtCellReal":case"BrtCellRk":case"BrtCellSt":p={t:val[2]};switch(val[2]){case"n":p.v=val[1];break;case"s":sstr=strs[val[1]];p.v=sstr.t;p.r=sstr.r;break;case"b":p.v=val[1]?true:false;break;case"e":p.v=val[1];p.w=BErr[p.v];break;case"str":p.t="s";p.v=utf8read(val[1]);break}if(opts.cellFormula&&val.length>3)p.f=val[3];if(cf=styles.CellXf[val[0].iStyleRef])safe_format(p,cf.ifmt,null,opts);s[encode_col(C=val[0].c)+rr]=p;if(refguess.s.r>row.r)refguess.s.r=row.r;if(refguess.s.c>C)refguess.s.c=C;if(refguess.e.r<row.r)refguess.e.r=row.r;if(refguess.e.c<C)refguess.e.c=C;break;case"BrtCellBlank":if(!opts.sheetStubs)break;p={t:"s",v:undefined};s[encode_col(C=val[0].c)+rr]=p;if(refguess.s.r>row.r)refguess.s.r=row.r;if(refguess.s.c>C)refguess.s.c=C;if(refguess.e.r<row.r)refguess.e.r=row.r;if(refguess.e.c<C)refguess.e.c=C;break;case"BrtBeginMergeCells":break;case"BrtEndMergeCells":break;case"BrtMergeCell":mergecells.push(val);break;case"BrtHLink":var rel=rels["!id"][val.relId];if(rel){val.Target=rel.Target;if(val.loc)val.Target+="#"+val.loc;val.Rel=rel}for(R=val.rfx.s.r;R<=val.rfx.e.r;++R)for(C=val.rfx.s.c;C<=val.rfx.e.c;++C){addr=encode_cell({c:C,r:R});if(!s[addr])s[addr]={t:"s",v:undefined};s[addr].l=val}break;case"BrtArrFmla":break;case"BrtShrFmla":break;case"BrtBeginSheet":break;case"BrtWsProp":break;case"BrtSheetCalcProp":break;case"BrtBeginWsViews":break;case"BrtBeginWsView":break;case"BrtPane":break;case"BrtSel":break;case"BrtEndWsView":break;case"BrtEndWsViews":break;case"BrtACBegin":break;case"BrtRwDescent":break;case"BrtACEnd":break;case"BrtWsFmtInfoEx14":break;case"BrtWsFmtInfo":break;case"BrtBeginColInfos":break;case"BrtColInfo":break;case"BrtEndColInfos":break;case"BrtBeginSheetData":break;case"BrtEndSheetData":break;case"BrtSheetProtection":break;case"BrtPrintOptions":break;case"BrtMargins":break;case"BrtPageSetup":break;case"BrtFRTBegin":pass=true;break;case"BrtFRTEnd":pass=false;break;case"BrtEndSheet":break;case"BrtDrawing":break;case"BrtLegacyDrawing":break;case"BrtLegacyDrawingHF":break;case"BrtPhoneticInfo":break;case"BrtBeginHeaderFooter":break;case"BrtEndHeaderFooter":break;case"BrtBrk":break;case"BrtBeginRwBrk":break;case"BrtEndRwBrk":break;case"BrtBeginColBrk":break;case"BrtEndColBrk":break;case"BrtBeginUserShViews":break;case"BrtBeginUserShView":break;case"BrtEndUserShView":break;case"BrtEndUserShViews":break;case"BrtBkHim":break;case"BrtBeginOleObjects":break;case"BrtOleObject":break;case"BrtEndOleObjects":break;case"BrtBeginListParts":break;case"BrtListPart":break;case"BrtEndListParts":break;case"BrtBeginSortState":break;case"BrtBeginSortCond":break;case"BrtEndSortCond":break;case"BrtEndSortState":break;case"BrtBeginConditionalFormatting":break;case"BrtEndConditionalFormatting":break;case"BrtBeginCFRule":break;case"BrtEndCFRule":break;case"BrtBeginDVals":break;case"BrtDVal":break;case"BrtEndDVals":break;case"BrtRangeProtection":break;case"BrtBeginDCon":break;case"BrtEndDCon":break;case"BrtBeginDRefs":break;case"BrtDRef":break;case"BrtEndDRefs":break;case"BrtBeginActiveXControls":break;case"BrtActiveX":break;case"BrtEndActiveXControls":break;case"BrtBeginAFilter":break;case"BrtEndAFilter":break;case"BrtBeginFilterColumn":break;case"BrtBeginFilters":break;case"BrtFilter":break;case"BrtEndFilters":break;case"BrtEndFilterColumn":break;case"BrtDynamicFilter":break;case"BrtTop10Filter":break;case"BrtBeginCustomFilters":break;case"BrtCustomFilter":break;case"BrtEndCustomFilters":break;case"BrtBeginSmartTags":break;case"BrtBeginCellSmartTags":break;case"BrtBeginCellSmartTag":break;case"BrtCellSmartTagProperty":break;case"BrtEndCellSmartTag":break;case"BrtEndCellSmartTags":break;case"BrtEndSmartTags":break;case"BrtBeginCellWatches":break;case"BrtCellWatch":break;case"BrtEndCellWatches":break;case"BrtTable":break;case"BrtBeginCellIgnoreECs":break;case"BrtCellIgnoreEC":break;case"BrtEndCellIgnoreECs":break;default:if(!pass||opts.WTF)throw new Error("Unexpected record "+R.n)}},opts);if(!s["!ref"]&&(refguess.s.r<1e6||ref.e.r>0||ref.e.c>0||ref.s.r>0||ref.s.c>0))s["!ref"]=encode_range(ref);if(opts.sheetRows&&s["!ref"]){var tmpref=safe_decode_range(s["!ref"]);if(opts.sheetRows<+tmpref.e.r){tmpref.e.r=opts.sheetRows-1;if(tmpref.e.r>refguess.e.r)tmpref.e.r=refguess.e.r;if(tmpref.e.r<tmpref.s.r)tmpref.s.r=tmpref.e.r;if(tmpref.e.c>refguess.e.c)tmpref.e.c=refguess.e.c;if(tmpref.e.c<tmpref.s.c)tmpref.s.c=tmpref.e.c;s["!fullref"]=s["!ref"];s["!ref"]=encode_range(tmpref)}}if(mergecells.length>0)s["!merges"]=mergecells;return s}function write_ws_bin_cell(ba,cell,R,C,opts){if(cell.v===undefined)return"";var vv="";switch(cell.t){case"b":vv=cell.v?"1":"0";break;case"n":case"e":vv=""+cell.v;break;default:vv=cell.v;break}var o={r:R,c:C};o.s=get_cell_style(opts.cellXfs,cell,opts);switch(cell.t){case"s":case"str":if(opts.bookSST){vv=get_sst_id(opts.Strings,cell.v);o.t="s";break}o.t="str";break;case"n":break;case"b":o.t="b";break;case"e":o.t="e";break}write_record(ba,"BrtCellBlank",write_BrtCellBlank(cell,o))}function write_CELLTABLE(ba,ws,idx,opts,wb){var range=safe_decode_range(ws["!ref"]||"A1"),ref,rr="",cols=[];write_record(ba,"BrtBeginSheetData");for(var R=range.s.r;R<=range.e.r;++R){rr=encode_row(R);for(var C=range.s.c;C<=range.e.c;++C){if(R===range.s.r)cols[C]=encode_col(C);ref=cols[C]+rr;if(!ws[ref])continue;write_ws_bin_cell(ba,ws[ref],R,C,opts)}}write_record(ba,"BrtEndSheetData")}function write_ws_bin(idx,opts,wb){var ba=buf_array();var s=wb.SheetNames[idx],ws=wb.Sheets[s]||{};var r=safe_decode_range(ws["!ref"]||"A1");write_record(ba,"BrtBeginSheet");write_record(ba,"BrtWsDim",write_BrtWsDim(r));write_CELLTABLE(ba,ws,idx,opts,wb);write_record(ba,"BrtEndSheet");return ba.end()}var WBPropsDef=[["allowRefreshQuery","0"],["autoCompressPictures","1"],["backupFile","0"],["checkCompatibility","0"],["codeName",""],["date1904","0"],["dateCompatibility","1"],["filterPrivacy","0"],["hidePivotFieldList","0"],["promptedSolutions","0"],["publishItems","0"],["refreshAllConnections",false],["saveExternalLinkValues","1"],["showBorderUnselectedTables","1"],["showInkAnnotation","1"],["showObjects","all"],["showPivotChartFilter","0"]];var WBViewDef=[["activeTab","0"],["autoFilterDateGrouping","1"],["firstSheet","0"],["minimized","0"],["showHorizontalScroll","1"],["showSheetTabs","1"],["showVerticalScroll","1"],["tabRatio","600"],["visibility","visible"]];var SheetDef=[["state","visible"]];var CalcPrDef=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];var CustomWBViewDef=[["autoUpdate","false"],["changesSavedWin","false"],["includeHiddenRowCol","true"],["includePrintSettings","true"],["maximized","false"],["minimized","false"],["onlySync","false"],["personalView","false"],["showComments","commIndicator"],["showFormulaBar","true"],["showHorizontalScroll","true"],["showObjects","all"],["showSheetTabs","true"],["showStatusbar","true"],["showVerticalScroll","true"],["tabRatio","600"],["xWindow","0"],["yWindow","0"]];function push_defaults_array(target,defaults){for(var j=0;j!=target.length;++j){var w=target[j];for(var i=0;i!=defaults.length;++i){var z=defaults[i];if(w[z[0]]==null)w[z[0]]=z[1]}}}function push_defaults(target,defaults){for(var i=0;i!=defaults.length;++i){var z=defaults[i];if(target[z[0]]==null)target[z[0]]=z[1]}}function parse_wb_defaults(wb){push_defaults(wb.WBProps,WBPropsDef);push_defaults(wb.CalcPr,CalcPrDef);push_defaults_array(wb.WBView,WBViewDef);push_defaults_array(wb.Sheets,SheetDef);_ssfopts.date1904=parsexmlbool(wb.WBProps.date1904,"date1904")}var wbnsregex=/<\w+:workbook/;function parse_wb_xml(data,opts){var wb={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""};var pass=false,xmlns="xmlns";data.match(tagregex).forEach(function xml_wb(x){var y=parsexmltag(x);switch(strip_ns(y[0])){case"<?xml":break;case"<workbook":if(x.match(wbnsregex))xmlns="xmlns"+x.match(/<(\w+):/)[1];wb.xmlns=y[xmlns];break;case"</workbook>":break;case"<fileVersion":delete y[0];wb.AppVersion=y;break;case"<fileVersion/>":break;case"<fileSharing":case"<fileSharing/>":break;case"<workbookPr":delete y[0];wb.WBProps=y;break;case"<workbookPr/>":delete y[0];wb.WBProps=y;break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews>":case"</bookViews>":break;case"<workbookView":delete y[0];wb.WBView.push(y);break;case"<sheets>":case"</sheets>":break;case"<sheet":delete y[0];y.name=utf8read(y.name);wb.Sheets.push(y);break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":pass=true;break;case"</definedNames>":pass=false;break;case"<definedName":case"<definedName/>":case"</definedName>":break;case"<calcPr":delete y[0];wb.CalcPr=y;break;case"<calcPr/>":delete y[0];wb.CalcPr=y;break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":pass=true;break;case"</ext>":pass=false;break;case"<ArchID":break;case"<AlternateContent":pass=true;break;case"</AlternateContent>":pass=false;break;default:if(!pass&&opts.WTF)throw"unrecognized "+y[0]+" in workbook"}});if(XMLNS.main.indexOf(wb.xmlns)===-1)throw new Error("Unknown Namespace: "+wb.xmlns);parse_wb_defaults(wb);return wb}var WB_XML_ROOT=writextag("workbook",null,{xmlns:XMLNS.main[0],"xmlns:r":XMLNS.r});function safe1904(wb){try{return parsexmlbool(wb.Workbook.WBProps.date1904)?"true":"false"}catch(e){return"false"}}function write_wb_xml(wb,opts){var o=[XML_HEADER];o[o.length]=WB_XML_ROOT;o[o.length]=writextag("workbookPr",null,{date1904:safe1904(wb)});o[o.length]="<sheets>";for(var i=0;i!=wb.SheetNames.length;++i)o[o.length]=writextag("sheet",null,{name:wb.SheetNames[i].substr(0,31),sheetId:""+(i+1),"r:id":"rId"+(i+1)});o[o.length]="</sheets>";if(o.length>2){o[o.length]="</workbook>";o[1]=o[1].replace("/>",">")}return o.join("")}function parse_BrtBundleSh(data,length){var z={};z.hsState=data.read_shift(4);z.iTabID=data.read_shift(4);z.strRelID=parse_RelID(data,length-8);z.name=parse_XLWideString(data);return z}function write_BrtBundleSh(data,o){if(!o)o=new_buf(127);o.write_shift(4,data.hsState);o.write_shift(4,data.iTabID);write_RelID(data.strRelID,o);write_XLWideString(data.name.substr(0,31),o);return o}function parse_BrtWbProp(data,length){data.read_shift(4);var dwThemeVersion=data.read_shift(4);var strName=length>8?parse_XLWideString(data):"";return[dwThemeVersion,strName]}function write_BrtWbProp(data,o){if(!o)o=new_buf(8);o.write_shift(4,0);o.write_shift(4,0);return o}function parse_BrtFRTArchID$(data,length){var o={};data.read_shift(4);o.ArchID=data.read_shift(4);data.l+=length-8;return o}function parse_wb_bin(data,opts){var wb={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""};var pass=false,z;recordhopper(data,function hopper_wb(val,R){switch(R.n){case"BrtBundleSh":wb.Sheets.push(val);break;case"BrtBeginBook":break;case"BrtFileVersion":break;case"BrtWbProp":break;case"BrtACBegin":break;case"BrtAbsPath15":break;case"BrtACEnd":break;case"BrtWbFactoid":break;case"BrtBookProtection":break;case"BrtBeginBookViews":break;case"BrtBookView":break;case"BrtEndBookViews":break;case"BrtBeginBundleShs":break;case"BrtEndBundleShs":break;case"BrtBeginFnGroup":break;case"BrtEndFnGroup":break;case"BrtBeginExternals":break;case"BrtSupSelf":break;case"BrtSupBookSrc":break;case"BrtExternSheet":break;case"BrtEndExternals":break;case"BrtName":break;case"BrtCalcProp":break;case"BrtUserBookView":break;case"BrtBeginPivotCacheIDs":break;case"BrtBeginPivotCacheID":break;case"BrtEndPivotCacheID":break;case"BrtEndPivotCacheIDs":break;case"BrtWebOpt":break;case"BrtFileRecover":break;case"BrtFileSharing":break;case"BrtBeginSmartTagTypes":break;case"BrtSmartTagType":break;case"BrtEndSmartTagTypes":break;case"BrtFRTBegin":pass=true;break;case"BrtFRTArchID$":break;case"BrtWorkBookPr15":break;case"BrtFRTEnd":pass=false;break;case"BrtEndBook":break;default:if(!pass||opts.WTF)throw new Error("Unexpected record "+R.n)}});parse_wb_defaults(wb);return wb}function write_BUNDLESHS(ba,wb,opts){write_record(ba,"BrtBeginBundleShs");for(var idx=0;idx!=wb.SheetNames.length;++idx){var d={hsState:0,iTabID:idx+1,strRelID:"rId"+(idx+1),name:wb.SheetNames[idx]};write_record(ba,"BrtBundleSh",write_BrtBundleSh(d))}write_record(ba,"BrtEndBundleShs")}function write_BrtFileVersion(data,o){if(!o)o=new_buf(127);for(var i=0;i!=4;++i)o.write_shift(4,0);write_XLWideString("SheetJS",o);write_XLWideString(XLSX.version,o);write_XLWideString(XLSX.version,o);write_XLWideString("7262",o);o.length=o.l;return o}function write_BOOKVIEWS(ba,wb,opts){write_record(ba,"BrtBeginBookViews");write_record(ba,"BrtEndBookViews")}function write_BrtCalcProp(data,o){if(!o)o=new_buf(26);o.write_shift(4,0);o.write_shift(4,1);o.write_shift(4,0);write_Xnum(0,o);o.write_shift(-4,1023);o.write_shift(1,51);o.write_shift(1,0);return o}function write_BrtFileRecover(data,o){if(!o)o=new_buf(1);o.write_shift(1,0);return o}function write_wb_bin(wb,opts){var ba=buf_array();write_record(ba,"BrtBeginBook");write_record(ba,"BrtFileVersion",write_BrtFileVersion());write_record(ba,"BrtWbProp",write_BrtWbProp());write_BOOKVIEWS(ba,wb,opts);write_BUNDLESHS(ba,wb,opts);write_record(ba,"BrtCalcProp",write_BrtCalcProp());write_record(ba,"BrtFileRecover",write_BrtFileRecover());write_record(ba,"BrtEndBook");return ba.end()}function parse_wb(data,name,opts){return(name.substr(-4)===".bin"?parse_wb_bin:parse_wb_xml)(data,opts)}function parse_ws(data,name,opts,rels){return(name.substr(-4)===".bin"?parse_ws_bin:parse_ws_xml)(data,opts,rels)}function parse_sty(data,name,opts){return(name.substr(-4)===".bin"?parse_sty_bin:parse_sty_xml)(data,opts)}function parse_theme(data,name,opts){return parse_theme_xml(data,opts)}function parse_sst(data,name,opts){return(name.substr(-4)===".bin"?parse_sst_bin:parse_sst_xml)(data,opts)}function parse_cmnt(data,name,opts){return(name.substr(-4)===".bin"?parse_comments_bin:parse_comments_xml)(data,opts)}function parse_cc(data,name,opts){return(name.substr(-4)===".bin"?parse_cc_bin:parse_cc_xml)(data,opts)}function write_wb(wb,name,opts){return(name.substr(-4)===".bin"?write_wb_bin:write_wb_xml)(wb,opts)}function write_ws(data,name,opts,wb){return(name.substr(-4)===".bin"?write_ws_bin:write_ws_xml)(data,opts,wb)}function write_sty(data,name,opts){return(name.substr(-4)===".bin"?write_sty_bin:write_sty_xml)(data,opts)}function write_sst(data,name,opts){return(name.substr(-4)===".bin"?write_sst_bin:write_sst_xml)(data,opts)}var attregexg2=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g;var attregex2=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;var _chr=function(c){return String.fromCharCode(c)};function xlml_parsexmltag(tag,skip_root){var words=tag.split(/\s+/);var z=[];if(!skip_root)z[0]=words[0];if(words.length===1)return z;var m=tag.match(attregexg2),y,j,w,i;if(m)for(i=0;i!=m.length;++i){y=m[i].match(attregex2);if((j=y[1].indexOf(":"))===-1)z[y[1]]=y[2].substr(1,y[2].length-2);else{if(y[1].substr(0,6)==="xmlns:")w="xmlns"+y[1].substr(6);else w=y[1].substr(j+1);z[w]=y[2].substr(1,y[2].length-2)}}return z}function xlml_parsexmltagobj(tag){var words=tag.split(/\s+/);var z={};if(words.length===1)return z;var m=tag.match(attregexg2),y,j,w,i;if(m)for(i=0;i!=m.length;++i){y=m[i].match(attregex2);if((j=y[1].indexOf(":"))===-1)z[y[1]]=y[2].substr(1,y[2].length-2);else{if(y[1].substr(0,6)==="xmlns:")w="xmlns"+y[1].substr(6);else w=y[1].substr(j+1);z[w]=y[2].substr(1,y[2].length-2)}}return z}function xlml_format(format,value){var fmt=XLMLFormatMap[format]||unescapexml(format);if(fmt==="General")return SSF._general(value);return SSF.format(fmt,value)}function xlml_set_custprop(Custprops,Rn,cp,val){switch((cp[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":val=parsexmlbool(val);break;case"i2":case"int":val=parseInt(val,10);break;case"r4":case"float":val=parseFloat(val);break;case"date":case"dateTime.tz":val=new Date(val);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw"bad custprop:"+cp[0]}Custprops[unescapexml(Rn[3])]=val}function safe_format_xlml(cell,nf,o){try{if(cell.t==="e"){cell.w=cell.w||BErr[cell.v]}else if(nf==="General"){if(cell.t==="n"){if((cell.v|0)===cell.v)cell.w=SSF._general_int(cell.v);else cell.w=SSF._general_num(cell.v)}else cell.w=SSF._general(cell.v)}else cell.w=xlml_format(nf||"General",cell.v);if(o.cellNF)cell.z=XLMLFormatMap[nf]||nf||"General"}catch(e){if(o.WTF)throw e}}function process_style_xlml(styles,stag,opts){if(opts.cellStyles){if(stag.Interior){var I=stag.Interior;if(I.Pattern)I.patternType=XLMLPatternTypeMap[I.Pattern]||I.Pattern}}styles[stag.ID]=stag}function parse_xlml_data(xml,ss,data,cell,base,styles,csty,row,o){var nf="General",sid=cell.StyleID,S={};o=o||{};var interiors=[];if(sid===undefined&&row)sid=row.StyleID;if(sid===undefined&&csty)sid=csty.StyleID;while(styles[sid]!==undefined){if(styles[sid].nf)nf=styles[sid].nf;if(styles[sid].Interior)interiors.push(styles[sid].Interior);if(!styles[sid].Parent)break;sid=styles[sid].Parent}switch(data.Type){case"Boolean":cell.t="b";cell.v=parsexmlbool(xml);break;case"String":cell.t="s";cell.r=xlml_fixstr(unescapexml(xml));cell.v=xml.indexOf("<")>-1?ss:cell.r;break;case"DateTime":cell.v=(Date.parse(xml)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3);if(cell.v!==cell.v)cell.v=unescapexml(xml);else if(cell.v>=1&&cell.v<60)cell.v=cell.v-1;if(!nf||nf=="General")nf="yyyy-mm-dd";case"Number":if(cell.v===undefined)cell.v=+xml;if(!cell.t)cell.t="n";break;case"Error":cell.t="e";cell.v=RBErr[xml];cell.w=xml;break;default:cell.t="s";cell.v=xlml_fixstr(ss);break}safe_format_xlml(cell,nf,o);if(o.cellFormula!=null&&cell.Formula){cell.f=rc_to_a1(unescapexml(cell.Formula),base);cell.Formula=undefined}if(o.cellStyles){interiors.forEach(function(x){if(!S.patternType&&x.patternType)S.patternType=x.patternType});cell.s=S}cell.ixfe=cell.StyleID!==undefined?cell.StyleID:"Default"}function xlml_clean_comment(comment){comment.t=comment.v;comment.v=comment.w=comment.ixfe=undefined}function xlml_normalize(d){if(has_buf&&Buffer.isBuffer(d))return d.toString("utf8");if(typeof d==="string")return d;throw"badf"}var xlmlregex=/<(\/?)([a-z0-9]*:|)(\w+)[^>]*>/gm;function parse_xlml_xml(d,opts){var str=xlml_normalize(d);var Rn;var state=[],tmp;var sheets={},sheetnames=[],cursheet={},sheetname="";var table={},cell={},row={},dtag,didx;var c=0,r=0;var refguess={s:{r:1e6,c:1e6},e:{r:0,c:0}};var styles={},stag={};var ss="",fidx=0;var mergecells=[];var Props={},Custprops={},pidx=0,cp={};var comments=[],comment={};var cstys=[],csty;xlmlregex.lastIndex=0;while(Rn=xlmlregex.exec(str))switch(Rn[3]){case"Data":if(state[state.length-1][1])break;if(Rn[1]==="/")parse_xlml_data(str.slice(didx,Rn.index),ss,dtag,state[state.length-1][0]=="Comment"?comment:cell,{c:c,r:r},styles,cstys[c],row,opts);else{ss="";dtag=xlml_parsexmltag(Rn[0]);didx=Rn.index+Rn[0].length}break;case"Cell":if(Rn[1]==="/"){if(comments.length>0)cell.c=comments;if((!opts.sheetRows||opts.sheetRows>r)&&cell.v!==undefined)cursheet[encode_col(c)+encode_row(r)]=cell;if(cell.HRef){cell.l={Target:cell.HRef,tooltip:cell.HRefScreenTip};cell.HRef=cell.HRefScreenTip=undefined}if(cell.MergeAcross||cell.MergeDown){var cc=c+(parseInt(cell.MergeAcross,10)|0);var rr=r+(parseInt(cell.MergeDown,10)|0);mergecells.push({s:{c:c,r:r},e:{c:cc,r:rr}})}++c;if(cell.MergeAcross)c+=+cell.MergeAcross}else{cell=xlml_parsexmltagobj(Rn[0]);if(cell.Index)c=+cell.Index-1;if(c<refguess.s.c)refguess.s.c=c;if(c>refguess.e.c)refguess.e.c=c;if(Rn[0].substr(-2)==="/>")++c;comments=[]}break;case"Row":if(Rn[1]==="/"||Rn[0].substr(-2)==="/>"){if(r<refguess.s.r)refguess.s.r=r;if(r>refguess.e.r)refguess.e.r=r;if(Rn[0].substr(-2)==="/>"){row=xlml_parsexmltag(Rn[0]);if(row.Index)r=+row.Index-1}c=0;++r}else{row=xlml_parsexmltag(Rn[0]);if(row.Index)r=+row.Index-1}break;case"Worksheet":if(Rn[1]==="/"){if((tmp=state.pop())[0]!==Rn[3])throw"Bad state: "+tmp;sheetnames.push(sheetname);if(refguess.s.r<=refguess.e.r&&refguess.s.c<=refguess.e.c)cursheet["!ref"]=encode_range(refguess);if(mergecells.length)cursheet["!merges"]=mergecells;sheets[sheetname]=cursheet}else{refguess={s:{r:1e6,c:1e6},e:{r:0,c:0}};r=c=0;state.push([Rn[3],false]);tmp=xlml_parsexmltag(Rn[0]);sheetname=tmp.Name;cursheet={};mergecells=[]}break;case"Table":if(Rn[1]==="/"){if((tmp=state.pop())[0]!==Rn[3])throw"Bad state: "+tmp}else if(Rn[0].slice(-2)=="/>")break;else{table=xlml_parsexmltag(Rn[0]);state.push([Rn[3],false]);cstys=[]}break;case"Style":if(Rn[1]==="/")process_style_xlml(styles,stag,opts);else stag=xlml_parsexmltag(Rn[0]);break;case"NumberFormat":stag.nf=xlml_parsexmltag(Rn[0]).Format||"General";break;case"Column":if(state[state.length-1][0]!=="Table")break;csty=xlml_parsexmltag(Rn[0]);cstys[csty.Index-1||cstys.length]=csty;for(var i=0;i<+csty.Span;++i)cstys[cstys.length]=csty;break;case"NamedRange":break;case"NamedCell":break;case"B":break;case"I":break;case"U":break;case"S":break;case"Sub":break;case"Sup":break;case"Span":break;case"Border":break;case"Alignment":break;case"Borders":break;case"Font":if(Rn[0].substr(-2)==="/>")break;else if(Rn[1]==="/")ss+=str.slice(fidx,Rn.index);else fidx=Rn.index+Rn[0].length;break;case"Interior":if(!opts.cellStyles)break;stag.Interior=xlml_parsexmltag(Rn[0]);break;case"Protection":break;case"Author":case"Title":case"Description":case"Created":case"Keywords":case"Subject":case"Category":case"Company":case"LastAuthor":case"LastSaved":case"LastPrinted":case"Version":case"Revision":case"TotalTime":case"HyperlinkBase":case"Manager":if(Rn[0].substr(-2)==="/>")break;else if(Rn[1]==="/")xlml_set_prop(Props,Rn[3],str.slice(pidx,Rn.index));else pidx=Rn.index+Rn[0].length;break;case"Paragraphs":break;case"Styles":case"Workbook":if(Rn[1]==="/"){if((tmp=state.pop())[0]!==Rn[3])throw"Bad state: "+tmp}else state.push([Rn[3],false]);break;case"Comment":if(Rn[1]==="/"){if((tmp=state.pop())[0]!==Rn[3])throw"Bad state: "+tmp;xlml_clean_comment(comment);comments.push(comment)}else{state.push([Rn[3],false]);tmp=xlml_parsexmltag(Rn[0]);comment={a:tmp.Author}}break;case"Name":break;case"ComponentOptions":case"DocumentProperties":case"CustomDocumentProperties":case"OfficeDocumentSettings":case"PivotTable":case"PivotCache":case"Names":case"MapInfo":case"PageBreaks":case"QueryTable":case"DataValidation":case"AutoFilter":case"Sorting":case"Schema":case"data":case"ConditionalFormatting":case"SmartTagType":case"SmartTags":case"ExcelWorkbook":case"WorkbookOptions":case"WorksheetOptions":if(Rn[1]==="/"){if((tmp=state.pop())[0]!==Rn[3])throw"Bad state: "+tmp}else if(Rn[0].charAt(Rn[0].length-2)!=="/")state.push([Rn[3],true]);break;default:var seen=true;switch(state[state.length-1][0]){case"OfficeDocumentSettings":switch(Rn[3]){case"AllowPNG":break;case"RemovePersonalInformation":break;case"DownloadComponents":break;case"LocationOfComponents":break;case"Colors":break;case"Color":break;case"Index":break;case"RGB":break;case"PixelsPerInch":break;case"TargetScreenSize":break;case"ReadOnlyRecommended":break;default:seen=false}break;case"ComponentOptions":switch(Rn[3]){case"Toolbar":break;case"HideOfficeLogo":break;case"SpreadsheetAutoFit":break;case"Label":break;case"Caption":break;case"MaxHeight":break;case"MaxWidth":break;case"NextSheetNumber":break;default:seen=false}break;case"ExcelWorkbook":switch(Rn[3]){case"WindowHeight":break;case"WindowWidth":break;case"WindowTopX":break;case"WindowTopY":break;case"TabRatio":break;case"ProtectStructure":break;case"ProtectWindows":break;case"ActiveSheet":break;case"DisplayInkNotes":break;case"FirstVisibleSheet":break;case"SupBook":break;case"SheetName":break;
case"SheetIndex":break;case"SheetIndexFirst":break;case"SheetIndexLast":break;case"Dll":break;case"AcceptLabelsInFormulas":break;case"DoNotSaveLinkValues":break;case"Date1904":break;case"Iteration":break;case"MaxIterations":break;case"MaxChange":break;case"Path":break;case"Xct":break;case"Count":break;case"SelectedSheets":break;case"Calculation":break;case"Uncalced":break;case"StartupPrompt":break;case"Crn":break;case"ExternName":break;case"Formula":break;case"ColFirst":break;case"ColLast":break;case"WantAdvise":break;case"Boolean":break;case"Error":break;case"Text":break;case"OLE":break;case"NoAutoRecover":break;case"PublishObjects":break;case"DoNotCalculateBeforeSave":break;case"Number":break;case"RefModeR1C1":break;case"EmbedSaveSmartTags":break;default:seen=false}break;case"WorkbookOptions":switch(Rn[3]){case"OWCVersion":break;case"Height":break;case"Width":break;default:seen=false}break;case"WorksheetOptions":switch(Rn[3]){case"Unsynced":break;case"Visible":break;case"Print":break;case"Panes":break;case"Scale":break;case"Pane":break;case"Number":break;case"Layout":break;case"Header":break;case"Footer":break;case"PageSetup":break;case"PageMargins":break;case"Selected":break;case"ProtectObjects":break;case"EnableSelection":break;case"ProtectScenarios":break;case"ValidPrinterInfo":break;case"HorizontalResolution":break;case"VerticalResolution":break;case"NumberofCopies":break;case"ActiveRow":break;case"ActiveCol":break;case"ActivePane":break;case"TopRowVisible":break;case"TopRowBottomPane":break;case"LeftColumnVisible":break;case"LeftColumnRightPane":break;case"FitToPage":break;case"RangeSelection":break;case"PaperSizeIndex":break;case"PageLayoutZoom":break;case"PageBreakZoom":break;case"FilterOn":break;case"DoNotDisplayGridlines":break;case"SplitHorizontal":break;case"SplitVertical":break;case"FreezePanes":break;case"FrozenNoSplit":break;case"FitWidth":break;case"FitHeight":break;case"CommentsLayout":break;case"Zoom":break;case"LeftToRight":break;case"Gridlines":break;case"AllowSort":break;case"AllowFilter":break;case"AllowInsertRows":break;case"AllowDeleteRows":break;case"AllowInsertCols":break;case"AllowDeleteCols":break;case"AllowInsertHyperlinks":break;case"AllowFormatCells":break;case"AllowSizeCols":break;case"AllowSizeRows":break;case"NoSummaryRowsBelowDetail":break;case"TabColorIndex":break;case"DoNotDisplayHeadings":break;case"ShowPageLayoutZoom":break;case"NoSummaryColumnsRightDetail":break;case"BlackAndWhite":break;case"DoNotDisplayZeros":break;case"DisplayPageBreak":break;case"RowColHeadings":break;case"DoNotDisplayOutline":break;case"NoOrientation":break;case"AllowUsePivotTables":break;case"ZeroHeight":break;case"ViewableRange":break;case"Selection":break;case"ProtectContents":break;default:seen=false}break;case"PivotTable":case"PivotCache":switch(Rn[3]){case"ImmediateItemsOnDrop":break;case"ShowPageMultipleItemLabel":break;case"CompactRowIndent":break;case"Location":break;case"PivotField":break;case"Orientation":break;case"LayoutForm":break;case"LayoutSubtotalLocation":break;case"LayoutCompactRow":break;case"Position":break;case"PivotItem":break;case"DataType":break;case"DataField":break;case"SourceName":break;case"ParentField":break;case"PTLineItems":break;case"PTLineItem":break;case"CountOfSameItems":break;case"Item":break;case"ItemType":break;case"PTSource":break;case"CacheIndex":break;case"ConsolidationReference":break;case"FileName":break;case"Reference":break;case"NoColumnGrand":break;case"NoRowGrand":break;case"BlankLineAfterItems":break;case"Hidden":break;case"Subtotal":break;case"BaseField":break;case"MapChildItems":break;case"Function":break;case"RefreshOnFileOpen":break;case"PrintSetTitles":break;case"MergeLabels":break;case"DefaultVersion":break;case"RefreshName":break;case"RefreshDate":break;case"RefreshDateCopy":break;case"VersionLastRefresh":break;case"VersionLastUpdate":break;case"VersionUpdateableMin":break;case"VersionRefreshableMin":break;case"Calculation":break;default:seen=false}break;case"PageBreaks":switch(Rn[3]){case"ColBreaks":break;case"ColBreak":break;case"RowBreaks":break;case"RowBreak":break;case"ColStart":break;case"ColEnd":break;case"RowEnd":break;default:seen=false}break;case"AutoFilter":switch(Rn[3]){case"AutoFilterColumn":break;case"AutoFilterCondition":break;case"AutoFilterAnd":break;case"AutoFilterOr":break;default:seen=false}break;case"QueryTable":switch(Rn[3]){case"Id":break;case"AutoFormatFont":break;case"AutoFormatPattern":break;case"QuerySource":break;case"QueryType":break;case"EnableRedirections":break;case"RefreshedInXl9":break;case"URLString":break;case"HTMLTables":break;case"Connection":break;case"CommandText":break;case"RefreshInfo":break;case"NoTitles":break;case"NextId":break;case"ColumnInfo":break;case"OverwriteCells":break;case"DoNotPromptForFile":break;case"TextWizardSettings":break;case"Source":break;case"Number":break;case"Decimal":break;case"ThousandSeparator":break;case"TrailingMinusNumbers":break;case"FormatSettings":break;case"FieldType":break;case"Delimiters":break;case"Tab":break;case"Comma":break;case"AutoFormatName":break;case"VersionLastEdit":break;case"VersionLastRefresh":break;default:seen=false}break;case"Sorting":case"ConditionalFormatting":case"DataValidation":switch(Rn[3]){case"Range":break;case"Type":break;case"Min":break;case"Max":break;case"Sort":break;case"Descending":break;case"Order":break;case"CaseSensitive":break;case"Value":break;case"ErrorStyle":break;case"ErrorMessage":break;case"ErrorTitle":break;case"CellRangeList":break;case"InputMessage":break;case"InputTitle":break;case"ComboHide":break;case"InputHide":break;case"Condition":break;case"Qualifier":break;case"UseBlank":break;case"Value1":break;case"Value2":break;case"Format":break;default:seen=false}break;case"MapInfo":case"Schema":case"data":switch(Rn[3]){case"Map":break;case"Entry":break;case"Range":break;case"XPath":break;case"Field":break;case"XSDType":break;case"FilterOn":break;case"Aggregate":break;case"ElementType":break;case"AttributeType":break;case"schema":case"element":case"complexType":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:seen=false}break;case"SmartTags":break;default:seen=false;break}if(seen)break;if(!state[state.length-1][1])throw"Unrecognized tag: "+Rn[3]+"|"+state.join("|");if(state[state.length-1][0]==="CustomDocumentProperties"){if(Rn[0].substr(-2)==="/>")break;else if(Rn[1]==="/")xlml_set_custprop(Custprops,Rn,cp,str.slice(pidx,Rn.index));else{cp=Rn;pidx=Rn.index+Rn[0].length}break}if(opts.WTF)throw"Unrecognized tag: "+Rn[3]+"|"+state.join("|")}var out={};if(!opts.bookSheets&&!opts.bookProps)out.Sheets=sheets;out.SheetNames=sheetnames;out.SSF=SSF.get_table();out.Props=Props;out.Custprops=Custprops;return out}function parse_xlml(data,opts){fix_read_opts(opts=opts||{});switch(opts.type||"base64"){case"base64":return parse_xlml_xml(Base64.decode(data),opts);case"binary":case"buffer":case"file":return parse_xlml_xml(data,opts);case"array":return parse_xlml_xml(data.map(_chr).join(""),opts)}}function write_xlml(wb,opts){}function parse_compobj(obj){var v={};var o=obj.content;var l=28,m;m=__lpstr(o,l);l+=4+__readUInt32LE(o,l);v.UserType=m;m=__readUInt32LE(o,l);l+=4;switch(m){case 0:break;case 4294967295:case 4294967294:l+=4;break;default:if(m>400)throw new Error("Unsupported Clipboard: "+m.toString(16));l+=m}m=__lpstr(o,l);l+=m.length===0?0:5+m.length;v.Reserved1=m;if((m=__readUInt32LE(o,l))!==1907550708)return v;throw"Unsupported Unicode Extension"}function slurp(R,blob,length,opts){var l=length;var bufs=[];var d=blob.slice(blob.l,blob.l+l);if(opts&&opts.enc&&opts.enc.insitu_decrypt)switch(R.n){case"BOF":case"FilePass":case"FileLock":case"InterfaceHdr":case"RRDInfo":case"RRDHead":case"UsrExcl":break;default:if(d.length===0)break;opts.enc.insitu_decrypt(d)}bufs.push(d);blob.l+=l;var next=XLSRecordEnum[__readUInt16LE(blob,blob.l)];while(next!=null&&next.n==="Continue"){l=__readUInt16LE(blob,blob.l+2);bufs.push(blob.slice(blob.l+4,blob.l+4+l));blob.l+=4+l;next=XLSRecordEnum[__readUInt16LE(blob,blob.l)]}var b=bconcat(bufs);prep_blob(b,0);var ll=0;b.lens=[];for(var j=0;j<bufs.length;++j){b.lens.push(ll);ll+=bufs[j].length}return R.f(b,b.length,opts)}function safe_format_xf(p,opts,date1904){if(!p.XF)return;try{var fmtid=p.XF.ifmt||0;if(p.t==="e"){p.w=p.w||BErr[p.v]}else if(fmtid===0){if(p.t==="n"){if((p.v|0)===p.v)p.w=SSF._general_int(p.v);else p.w=SSF._general_num(p.v)}else p.w=SSF._general(p.v)}else p.w=SSF.format(fmtid,p.v,{date1904:date1904||false});if(opts.cellNF)p.z=SSF._table[fmtid]}catch(e){if(opts.WTF)throw e}}function make_cell(val,ixfe,t){return{v:val,ixfe:ixfe,t:t}}function parse_workbook(blob,options){var wb={opts:{}};var Sheets={};var out={};var Directory={};var found_sheet=false;var range={};var last_formula=null;var sst=[];var cur_sheet="";var Preamble={};var lastcell,last_cell,cc,cmnt,rng,rngC,rngR;var shared_formulae={};var array_formulae=[];var temp_val;var country;var cell_valid=true;var XFs=[];var palette=[];var get_rgb=function getrgb(icv){if(icv<8)return XLSIcv[icv];if(icv<64)return palette[icv-8]||XLSIcv[icv];return XLSIcv[icv]};var process_cell_style=function pcs(cell,line){var xfd=line.XF.data;if(!xfd||!xfd.patternType)return;line.s={};line.s.patternType=xfd.patternType;var t;if(t=rgb2Hex(get_rgb(xfd.icvFore))){line.s.fgColor={rgb:t}}if(t=rgb2Hex(get_rgb(xfd.icvBack))){line.s.bgColor={rgb:t}}};var addcell=function addcell(cell,line,options){if(!cell_valid)return;if(options.cellStyles&&line.XF&&line.XF.data)process_cell_style(cell,line);lastcell=cell;last_cell=encode_cell(cell);if(range.s){if(cell.r<range.s.r)range.s.r=cell.r;if(cell.c<range.s.c)range.s.c=cell.c}if(range.e){if(cell.r+1>range.e.r)range.e.r=cell.r+1;if(cell.c+1>range.e.c)range.e.c=cell.c+1}if(options.sheetRows&&lastcell.r>=options.sheetRows)cell_valid=false;else out[last_cell]=line};var opts={enc:false,sbcch:0,snames:[],sharedf:shared_formulae,arrayf:array_formulae,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,wtf:false};if(options.password)opts.password=options.password;var mergecells=[];var objects=[];var supbooks=[[]];var sbc=0,sbci=0,sbcli=0;supbooks.SheetNames=opts.snames;supbooks.sharedf=opts.sharedf;supbooks.arrayf=opts.arrayf;var last_Rn="";var file_depth=0;opts.codepage=1200;set_cp(1200);while(blob.l<blob.length-1){var s=blob.l;var RecordType=blob.read_shift(2);if(RecordType===0&&last_Rn==="EOF")break;var length=blob.l===blob.length?0:blob.read_shift(2),y;var R=XLSRecordEnum[RecordType];if(R&&R.f){if(options.bookSheets){if(last_Rn==="BoundSheet8"&&R.n!=="BoundSheet8")break}last_Rn=R.n;if(R.r===2||R.r==12){var rt=blob.read_shift(2);length-=2;if(!opts.enc&&rt!==RecordType)throw"rt mismatch";if(R.r==12){blob.l+=10;length-=10}}var val;if(R.n==="EOF")val=R.f(blob,length,opts);else val=slurp(R,blob,length,opts);var Rn=R.n;if(opts.biff===5||opts.biff===2)switch(Rn){case"Lbl":Rn="Label";break}switch(Rn){case"Date1904":wb.opts.Date1904=val;break;case"WriteProtect":wb.opts.WriteProtect=true;break;case"FilePass":if(!opts.enc)blob.l=0;opts.enc=val;if(opts.WTF)console.error(val);if(!options.password)throw new Error("File is password-protected");if(val.Type!==0)throw new Error("Encryption scheme unsupported");if(!val.valid)throw new Error("Password is incorrect");break;case"WriteAccess":opts.lastuser=val;break;case"FileSharing":break;case"CodePage":if(val===21010)val=1200;else if(val===32769)val=1252;opts.codepage=val;set_cp(val);break;case"RRTabId":opts.rrtabid=val;break;case"WinProtect":opts.winlocked=val;break;case"Template":break;case"RefreshAll":wb.opts.RefreshAll=val;break;case"BookBool":break;case"UsesELFs":break;case"MTRSettings":{if(val[0]&&val[1])throw"Unsupported threads: "+val}break;case"CalcCount":wb.opts.CalcCount=val;break;case"CalcDelta":wb.opts.CalcDelta=val;break;case"CalcIter":wb.opts.CalcIter=val;break;case"CalcMode":wb.opts.CalcMode=val;break;case"CalcPrecision":wb.opts.CalcPrecision=val;break;case"CalcSaveRecalc":wb.opts.CalcSaveRecalc=val;break;case"CalcRefMode":opts.CalcRefMode=val;break;case"Uncalced":break;case"ForceFullCalculation":wb.opts.FullCalc=val;break;case"WsBool":break;case"XF":XFs.push(val);break;case"ExtSST":break;case"BookExt":break;case"RichTextStream":break;case"BkHim":break;case"SupBook":supbooks[++sbc]=[val];sbci=0;break;case"ExternName":supbooks[sbc][++sbci]=val;break;case"Index":break;case"Lbl":supbooks[0][++sbcli]=val;break;case"ExternSheet":supbooks[sbc]=supbooks[sbc].concat(val);sbci+=val.length;break;case"Protect":out["!protect"]=val;break;case"Password":if(val!==0&&opts.WTF)console.error("Password verifier: "+val);break;case"Prot4Rev":case"Prot4RevPass":break;case"BoundSheet8":{Directory[val.pos]=val;opts.snames.push(val.name)}break;case"EOF":{if(--file_depth)break;if(range.e){out["!range"]=range;if(range.e.r>0&&range.e.c>0){range.e.r--;range.e.c--;out["!ref"]=encode_range(range);range.e.r++;range.e.c++}if(mergecells.length>0)out["!merges"]=mergecells;if(objects.length>0)out["!objects"]=objects}if(cur_sheet==="")Preamble=out;else Sheets[cur_sheet]=out;out={}}break;case"BOF":{if(opts.biff!==8);else if(val.BIFFVer===1280)opts.biff=5;else if(val.BIFFVer===2)opts.biff=2;else if(val.BIFFVer===7)opts.biff=2;if(file_depth++)break;cell_valid=true;out={};if(opts.biff===2){if(cur_sheet==="")cur_sheet="Sheet1";range={s:{r:0,c:0},e:{r:0,c:0}}}else cur_sheet=(Directory[s]||{name:""}).name;mergecells=[];objects=[]}break;case"Number":case"BIFF2NUM":{temp_val={ixfe:val.ixfe,XF:XFs[val.ixfe],v:val.val,t:"n"};if(temp_val.XF)safe_format_xf(temp_val,options,wb.opts.Date1904);addcell({c:val.c,r:val.r},temp_val,options)}break;case"BoolErr":{temp_val={ixfe:val.ixfe,XF:XFs[val.ixfe],v:val.val,t:val.t};if(temp_val.XF)safe_format_xf(temp_val,options,wb.opts.Date1904);addcell({c:val.c,r:val.r},temp_val,options)}break;case"RK":{temp_val={ixfe:val.ixfe,XF:XFs[val.ixfe],v:val.rknum,t:"n"};if(temp_val.XF)safe_format_xf(temp_val,options,wb.opts.Date1904);addcell({c:val.c,r:val.r},temp_val,options)}break;case"MulRk":{for(var j=val.c;j<=val.C;++j){var ixfe=val.rkrec[j-val.c][0];temp_val={ixfe:ixfe,XF:XFs[ixfe],v:val.rkrec[j-val.c][1],t:"n"};if(temp_val.XF)safe_format_xf(temp_val,options,wb.opts.Date1904);addcell({c:j,r:val.r},temp_val,options)}}break;case"Formula":{switch(val.val){case"String":last_formula=val;break;case"Array Formula":throw"Array Formula unsupported";default:temp_val={v:val.val,ixfe:val.cell.ixfe,t:val.tt};temp_val.XF=XFs[temp_val.ixfe];if(options.cellFormula)temp_val.f="="+stringify_formula(val.formula,range,val.cell,supbooks,opts);if(temp_val.XF)safe_format_xf(temp_val,options,wb.opts.Date1904);addcell(val.cell,temp_val,options);last_formula=val}}break;case"String":{if(last_formula){last_formula.val=val;temp_val={v:last_formula.val,ixfe:last_formula.cell.ixfe,t:"s"};temp_val.XF=XFs[temp_val.ixfe];if(options.cellFormula)temp_val.f="="+stringify_formula(last_formula.formula,range,last_formula.cell,supbooks,opts);if(temp_val.XF)safe_format_xf(temp_val,options,wb.opts.Date1904);addcell(last_formula.cell,temp_val,options);last_formula=null}}break;case"Array":{array_formulae.push(val)}break;case"ShrFmla":{if(!cell_valid)break;shared_formulae[encode_cell(last_formula.cell)]=val[0]}break;case"LabelSst":temp_val=make_cell(sst[val.isst].t,val.ixfe,"s");temp_val.XF=XFs[temp_val.ixfe];if(temp_val.XF)safe_format_xf(temp_val,options,wb.opts.Date1904);addcell({c:val.c,r:val.r},temp_val,options);break;case"Label":case"BIFF2STR":temp_val=make_cell(val.val,val.ixfe,"s");temp_val.XF=XFs[temp_val.ixfe];if(temp_val.XF)safe_format_xf(temp_val,options,wb.opts.Date1904);addcell({c:val.c,r:val.r},temp_val,options);break;case"Dimensions":{if(file_depth===1)range=val}break;case"SST":{sst=val}break;case"Format":{SSF.load(val[1],val[0])}break;case"MergeCells":mergecells=mergecells.concat(val);break;case"Obj":objects[val.cmo[0]]=opts.lastobj=val;break;case"TxO":opts.lastobj.TxO=val;break;case"HLink":{for(rngR=val[0].s.r;rngR<=val[0].e.r;++rngR)for(rngC=val[0].s.c;rngC<=val[0].e.c;++rngC)if(out[encode_cell({c:rngC,r:rngR})])out[encode_cell({c:rngC,r:rngR})].l=val[1]}break;case"HLinkTooltip":{for(rngR=val[0].s.r;rngR<=val[0].e.r;++rngR)for(rngC=val[0].s.c;rngC<=val[0].e.c;++rngC)if(out[encode_cell({c:rngC,r:rngR})])out[encode_cell({c:rngC,r:rngR})].l.tooltip=val[1]}break;case"Note":{if(opts.biff<=5&&opts.biff>=2)break;cc=out[encode_cell(val[0])];var noteobj=objects[val[2]];if(!cc)break;if(!cc.c)cc.c=[];cmnt={a:val[1],t:noteobj.TxO.t};cc.c.push(cmnt)}break;default:switch(R.n){case"ClrtClient":break;case"XFExt":update_xfext(XFs[val.ixfe],val.ext);break;case"NameCmt":break;case"Header":break;case"Footer":break;case"HCenter":break;case"VCenter":break;case"Pls":break;case"Setup":break;case"DefColWidth":break;case"GCW":break;case"LHRecord":break;case"ColInfo":break;case"Row":break;case"DBCell":break;case"MulBlank":break;case"EntExU2":break;case"SxView":break;case"Sxvd":break;case"SXVI":break;case"SXVDEx":break;case"SxIvd":break;case"SXDI":break;case"SXLI":break;case"SXEx":break;case"QsiSXTag":break;case"Selection":break;case"Feat":break;case"FeatHdr":case"FeatHdr11":break;case"Feature11":case"Feature12":case"List12":break;case"Blank":break;case"Country":country=val;break;case"RecalcId":break;case"DefaultRowHeight":case"DxGCol":break;case"Fbi":case"Fbi2":case"GelFrame":break;case"Font":break;case"XFCRC":break;case"Style":break;case"StyleExt":break;case"Palette":palette=val;break;case"Theme":break;case"ScenarioProtect":break;case"ObjProtect":break;case"CondFmt12":break;case"Table":break;case"TableStyles":break;case"TableStyle":break;case"TableStyleElement":break;case"SXStreamID":break;case"SXVS":break;case"DConRef":break;case"SXAddl":break;case"DConBin":break;case"DConName":break;case"SXPI":break;case"SxFormat":break;case"SxSelect":break;case"SxRule":break;case"SxFilt":break;case"SxItm":break;case"SxDXF":break;case"ScenMan":break;case"DCon":break;case"CellWatch":break;case"PrintRowCol":break;case"PrintGrid":break;case"PrintSize":break;case"XCT":break;case"CRN":break;case"Scl":{}break;case"SheetExt":{}break;case"SheetExtOptional":{}break;case"ObNoMacros":{}break;case"ObProj":{}break;case"CodeName":{}break;case"GUIDTypeLib":{}break;case"WOpt":break;case"PhoneticInfo":break;case"OleObjectSize":break;case"DXF":case"DXFN":case"DXFN12":case"DXFN12List":case"DXFN12NoCB":break;case"Dv":case"DVal":break;case"BRAI":case"Series":case"SeriesText":break;case"DConn":break;case"DbOrParamQry":break;case"DBQueryExt":break;case"IFmtRecord":break;case"CondFmt":case"CF":case"CF12":case"CFEx":break;case"Excel9File":break;case"Units":break;case"InterfaceHdr":case"Mms":case"InterfaceEnd":case"DSF":case"BuiltInFnGroupCount":case"Window1":case"Window2":case"HideObj":case"GridSet":case"Guts":case"UserBView":case"UserSViewBegin":case"UserSViewEnd":case"Pane":break;default:switch(R.n){case"Dat":case"Begin":case"End":case"StartBlock":case"EndBlock":case"Frame":case"Area":case"Axis":case"AxisLine":case"Tick":break;case"AxesUsed":case"CrtLayout12":case"CrtLayout12A":case"CrtLink":case"CrtLine":case"CrtMlFrt":case"CrtMlFrtContinue":break;case"LineFormat":case"AreaFormat":case"Chart":case"Chart3d":case"Chart3DBarShape":case"ChartFormat":case"ChartFrtInfo":break;case"PlotArea":case"PlotGrowth":break;case"SeriesList":case"SerParent":case"SerAuxTrend":break;case"DataFormat":case"SerToCrt":case"FontX":break;case"CatSerRange":case"AxcExt":case"SerFmt":break;case"ShtProps":break;case"DefaultText":case"Text":case"CatLab":break;case"DataLabExtContents":break;case"Legend":case"LegendException":break;case"Pie":case"Scatter":break;case"PieFormat":case"MarkerFormat":break;case"StartObject":case"EndObject":break;case"AlRuns":case"ObjectLink":break;case"SIIndex":break;case"AttachedLabel":case"YMult":break;case"Line":case"Bar":break;case"Surf":break;case"AxisParent":break;case"Pos":break;case"ValueRange":break;case"SXViewEx9":break;case"SXViewLink":break;case"PivotChartBits":break;case"SBaseRef":break;case"TextPropsStream":break;case"LnExt":break;case"MkrExt":break;case"CrtCoopt":break;case"Qsi":case"Qsif":case"Qsir":case"QsiSXTag":break;case"TxtQry":break;case"FilterMode":break;case"AutoFilter":case"AutoFilterInfo":break;case"AutoFilter12":break;case"DropDownObjIds":break;case"Sort":break;case"SortData":break;case"ShapePropsStream":break;case"MsoDrawing":case"MsoDrawingGroup":case"MsoDrawingSelection":break;case"ImData":break;case"WebPub":case"AutoWebPub":case"RightMargin":case"LeftMargin":case"TopMargin":case"BottomMargin":case"HeaderFooter":case"HFPicture":case"PLV":case"HorizontalPageBreaks":case"VerticalPageBreaks":case"Backup":case"CompressPictures":case"Compat12":break;case"Continue":case"ContinueFrt12":break;case"FrtFontList":case"FrtWrapper":break;case"ExternCount":break;case"RString":break;case"TabIdConf":case"Radar":case"RadarArea":case"DropBar":case"Intl":case"CoordList":case"SerAuxErrBar":break;default:switch(R.n){case"SCENARIO":case"DConBin":case"PicF":case"DataLabExt":case"Lel":case"BopPop":case"BopPopCustom":case"RealTimeData":case"Name":break;default:if(options.WTF)throw"Unrecognized Record "+R.n}}}}}else blob.l+=length}var sheetnamesraw=opts.biff===2?["Sheet1"]:Object.keys(Directory).sort(function(a,b){return Number(a)-Number(b)}).map(function(x){return Directory[x].name});var sheetnames=sheetnamesraw.slice();wb.Directory=sheetnamesraw;wb.SheetNames=sheetnamesraw;if(!options.bookSheets)wb.Sheets=Sheets;wb.Preamble=Preamble;wb.Strings=sst;wb.SSF=SSF.get_table();if(opts.enc)wb.Encryption=opts.enc;wb.Metadata={};if(country!==undefined)wb.Metadata.Country=country;return wb}function parse_xlscfb(cfb,options){if(!options)options={};fix_read_opts(options);reset_cp();var CompObj,Summary,Workbook;if(cfb.find){CompObj=cfb.find("!CompObj");Summary=cfb.find("!SummaryInformation");Workbook=cfb.find("/Workbook")}else{prep_blob(cfb,0);Workbook={content:cfb}}if(!Workbook)Workbook=cfb.find("/Book");var CompObjP,SummaryP,WorkbookP;if(CompObj)CompObjP=parse_compobj(CompObj);if(options.bookProps&&!options.bookSheets)WorkbookP={};else{if(Workbook)WorkbookP=parse_workbook(Workbook.content,options,!!Workbook.find);else throw new Error("Cannot find Workbook stream")}if(cfb.find)parse_props(cfb);var props={};for(var y in cfb.Summary)props[y]=cfb.Summary[y];for(y in cfb.DocSummary)props[y]=cfb.DocSummary[y];WorkbookP.Props=WorkbookP.Custprops=props;if(options.bookFiles)WorkbookP.cfb=cfb;WorkbookP.CompObjP=CompObjP;return WorkbookP}function parse_props(cfb){var DSI=cfb.find("!DocumentSummaryInformation");if(DSI)try{cfb.DocSummary=parse_PropertySetStream(DSI,DocSummaryPIDDSI)}catch(e){}var SI=cfb.find("!SummaryInformation");if(SI)try{cfb.Summary=parse_PropertySetStream(SI,SummaryPIDSI)}catch(e){}}var XLSBRecordEnum={0:{n:"BrtRowHdr",f:parse_BrtRowHdr},1:{n:"BrtCellBlank",f:parse_BrtCellBlank},2:{n:"BrtCellRk",f:parse_BrtCellRk},3:{n:"BrtCellError",f:parse_BrtCellError},4:{n:"BrtCellBool",f:parse_BrtCellBool},5:{n:"BrtCellReal",f:parse_BrtCellReal},6:{n:"BrtCellSt",f:parse_BrtCellSt},7:{n:"BrtCellIsst",f:parse_BrtCellIsst},8:{n:"BrtFmlaString",f:parse_BrtFmlaString},9:{n:"BrtFmlaNum",f:parse_BrtFmlaNum},10:{n:"BrtFmlaBool",f:parse_BrtFmlaBool},11:{n:"BrtFmlaError",f:parse_BrtFmlaError},16:{n:"BrtFRTArchID$",f:parse_BrtFRTArchID$},19:{n:"BrtSSTItem",f:parse_RichStr},20:{n:"BrtPCDIMissing",f:parsenoop},21:{n:"BrtPCDINumber",f:parsenoop},22:{n:"BrtPCDIBoolean",f:parsenoop},23:{n:"BrtPCDIError",f:parsenoop},24:{n:"BrtPCDIString",f:parsenoop},25:{n:"BrtPCDIDatetime",f:parsenoop},26:{n:"BrtPCDIIndex",f:parsenoop},27:{n:"BrtPCDIAMissing",f:parsenoop},28:{n:"BrtPCDIANumber",f:parsenoop},29:{n:"BrtPCDIABoolean",f:parsenoop},30:{n:"BrtPCDIAError",f:parsenoop},31:{n:"BrtPCDIAString",f:parsenoop},32:{n:"BrtPCDIADatetime",f:parsenoop},33:{n:"BrtPCRRecord",f:parsenoop},34:{n:"BrtPCRRecordDt",f:parsenoop},35:{n:"BrtFRTBegin",f:parsenoop},36:{n:"BrtFRTEnd",f:parsenoop},37:{n:"BrtACBegin",f:parsenoop},38:{n:"BrtACEnd",f:parsenoop},39:{n:"BrtName",f:parsenoop},40:{n:"BrtIndexRowBlock",f:parsenoop},42:{n:"BrtIndexBlock",f:parsenoop},43:{n:"BrtFont",f:parse_BrtFont},44:{n:"BrtFmt",f:parse_BrtFmt},45:{n:"BrtFill",f:parsenoop},46:{n:"BrtBorder",f:parsenoop},47:{n:"BrtXF",f:parse_BrtXF},48:{n:"BrtStyle",f:parsenoop},49:{n:"BrtCellMeta",f:parsenoop},50:{n:"BrtValueMeta",f:parsenoop},51:{n:"BrtMdb",f:parsenoop},52:{n:"BrtBeginFmd",f:parsenoop},53:{n:"BrtEndFmd",f:parsenoop},54:{n:"BrtBeginMdx",f:parsenoop},55:{n:"BrtEndMdx",f:parsenoop},56:{n:"BrtBeginMdxTuple",f:parsenoop},57:{n:"BrtEndMdxTuple",f:parsenoop},58:{n:"BrtMdxMbrIstr",f:parsenoop},59:{n:"BrtStr",f:parsenoop},60:{n:"BrtColInfo",f:parsenoop},62:{n:"BrtCellRString",f:parsenoop},63:{n:"BrtCalcChainItem$",f:parse_BrtCalcChainItem$},64:{n:"BrtDVal",f:parsenoop},65:{n:"BrtSxvcellNum",f:parsenoop},66:{n:"BrtSxvcellStr",f:parsenoop},67:{n:"BrtSxvcellBool",f:parsenoop},68:{n:"BrtSxvcellErr",f:parsenoop},69:{n:"BrtSxvcellDate",f:parsenoop},70:{n:"BrtSxvcellNil",f:parsenoop},128:{n:"BrtFileVersion",f:parsenoop},129:{n:"BrtBeginSheet",f:parsenoop},130:{n:"BrtEndSheet",f:parsenoop},131:{n:"BrtBeginBook",f:parsenoop,p:0},132:{n:"BrtEndBook",f:parsenoop},133:{n:"BrtBeginWsViews",f:parsenoop},134:{n:"BrtEndWsViews",f:parsenoop},135:{n:"BrtBeginBookViews",f:parsenoop},136:{n:"BrtEndBookViews",f:parsenoop},137:{n:"BrtBeginWsView",f:parsenoop},138:{n:"BrtEndWsView",f:parsenoop},139:{n:"BrtBeginCsViews",f:parsenoop},140:{n:"BrtEndCsViews",f:parsenoop},141:{n:"BrtBeginCsView",f:parsenoop},142:{n:"BrtEndCsView",f:parsenoop},143:{n:"BrtBeginBundleShs",f:parsenoop},144:{n:"BrtEndBundleShs",f:parsenoop},145:{n:"BrtBeginSheetData",f:parsenoop},146:{n:"BrtEndSheetData",f:parsenoop},147:{n:"BrtWsProp",f:parse_BrtWsProp},148:{n:"BrtWsDim",f:parse_BrtWsDim,p:16},151:{n:"BrtPane",f:parsenoop},152:{n:"BrtSel",f:parsenoop},153:{n:"BrtWbProp",f:parse_BrtWbProp},154:{n:"BrtWbFactoid",f:parsenoop},155:{n:"BrtFileRecover",f:parsenoop},156:{n:"BrtBundleSh",f:parse_BrtBundleSh},157:{n:"BrtCalcProp",f:parsenoop},158:{n:"BrtBookView",f:parsenoop},159:{n:"BrtBeginSst",f:parse_BrtBeginSst},160:{n:"BrtEndSst",f:parsenoop},161:{n:"BrtBeginAFilter",f:parsenoop},162:{n:"BrtEndAFilter",f:parsenoop},163:{n:"BrtBeginFilterColumn",f:parsenoop},164:{n:"BrtEndFilterColumn",f:parsenoop},165:{n:"BrtBeginFilters",f:parsenoop},166:{n:"BrtEndFilters",f:parsenoop},167:{n:"BrtFilter",f:parsenoop},168:{n:"BrtColorFilter",f:parsenoop},169:{n:"BrtIconFilter",f:parsenoop},170:{n:"BrtTop10Filter",f:parsenoop},171:{n:"BrtDynamicFilter",f:parsenoop},172:{n:"BrtBeginCustomFilters",f:parsenoop},173:{n:"BrtEndCustomFilters",f:parsenoop},174:{n:"BrtCustomFilter",f:parsenoop},175:{n:"BrtAFilterDateGroupItem",f:parsenoop},176:{n:"BrtMergeCell",f:parse_BrtMergeCell},177:{n:"BrtBeginMergeCells",f:parsenoop},178:{n:"BrtEndMergeCells",f:parsenoop},179:{n:"BrtBeginPivotCacheDef",f:parsenoop},180:{n:"BrtEndPivotCacheDef",f:parsenoop},181:{n:"BrtBeginPCDFields",f:parsenoop},182:{n:"BrtEndPCDFields",f:parsenoop},183:{n:"BrtBeginPCDField",f:parsenoop},184:{n:"BrtEndPCDField",f:parsenoop},185:{n:"BrtBeginPCDSource",f:parsenoop},186:{n:"BrtEndPCDSource",f:parsenoop},187:{n:"BrtBeginPCDSRange",f:parsenoop},188:{n:"BrtEndPCDSRange",f:parsenoop},189:{n:"BrtBeginPCDFAtbl",f:parsenoop},190:{n:"BrtEndPCDFAtbl",f:parsenoop},191:{n:"BrtBeginPCDIRun",f:parsenoop},192:{n:"BrtEndPCDIRun",f:parsenoop},193:{n:"BrtBeginPivotCacheRecords",f:parsenoop},194:{n:"BrtEndPivotCacheRecords",f:parsenoop},195:{n:"BrtBeginPCDHierarchies",f:parsenoop},196:{n:"BrtEndPCDHierarchies",f:parsenoop},197:{n:"BrtBeginPCDHierarchy",f:parsenoop},198:{n:"BrtEndPCDHierarchy",f:parsenoop},199:{n:"BrtBeginPCDHFieldsUsage",f:parsenoop},200:{n:"BrtEndPCDHFieldsUsage",f:parsenoop},201:{n:"BrtBeginExtConnection",f:parsenoop},202:{n:"BrtEndExtConnection",f:parsenoop},203:{n:"BrtBeginECDbProps",f:parsenoop},204:{n:"BrtEndECDbProps",f:parsenoop},205:{n:"BrtBeginECOlapProps",f:parsenoop},206:{n:"BrtEndECOlapProps",f:parsenoop},207:{n:"BrtBeginPCDSConsol",f:parsenoop},208:{n:"BrtEndPCDSConsol",f:parsenoop},209:{n:"BrtBeginPCDSCPages",f:parsenoop},210:{n:"BrtEndPCDSCPages",f:parsenoop},211:{n:"BrtBeginPCDSCPage",f:parsenoop},212:{n:"BrtEndPCDSCPage",f:parsenoop},213:{n:"BrtBeginPCDSCPItem",f:parsenoop},214:{n:"BrtEndPCDSCPItem",f:parsenoop},215:{n:"BrtBeginPCDSCSets",f:parsenoop},216:{n:"BrtEndPCDSCSets",f:parsenoop},217:{n:"BrtBeginPCDSCSet",f:parsenoop},218:{n:"BrtEndPCDSCSet",f:parsenoop},219:{n:"BrtBeginPCDFGroup",f:parsenoop},220:{n:"BrtEndPCDFGroup",f:parsenoop},221:{n:"BrtBeginPCDFGItems",f:parsenoop},222:{n:"BrtEndPCDFGItems",f:parsenoop},223:{n:"BrtBeginPCDFGRange",f:parsenoop},224:{n:"BrtEndPCDFGRange",f:parsenoop},225:{n:"BrtBeginPCDFGDiscrete",f:parsenoop},226:{n:"BrtEndPCDFGDiscrete",f:parsenoop},227:{n:"BrtBeginPCDSDTupleCache",f:parsenoop},228:{n:"BrtEndPCDSDTupleCache",f:parsenoop},229:{n:"BrtBeginPCDSDTCEntries",f:parsenoop},230:{n:"BrtEndPCDSDTCEntries",f:parsenoop},231:{n:"BrtBeginPCDSDTCEMembers",f:parsenoop},232:{n:"BrtEndPCDSDTCEMembers",f:parsenoop},233:{n:"BrtBeginPCDSDTCEMember",f:parsenoop},234:{n:"BrtEndPCDSDTCEMember",f:parsenoop},235:{n:"BrtBeginPCDSDTCQueries",f:parsenoop},236:{n:"BrtEndPCDSDTCQueries",f:parsenoop},237:{n:"BrtBeginPCDSDTCQuery",f:parsenoop},238:{n:"BrtEndPCDSDTCQuery",f:parsenoop},239:{n:"BrtBeginPCDSDTCSets",f:parsenoop},240:{n:"BrtEndPCDSDTCSets",f:parsenoop},241:{n:"BrtBeginPCDSDTCSet",f:parsenoop},242:{n:"BrtEndPCDSDTCSet",f:parsenoop},243:{n:"BrtBeginPCDCalcItems",f:parsenoop},244:{n:"BrtEndPCDCalcItems",f:parsenoop},245:{n:"BrtBeginPCDCalcItem",f:parsenoop},246:{n:"BrtEndPCDCalcItem",f:parsenoop},247:{n:"BrtBeginPRule",f:parsenoop},248:{n:"BrtEndPRule",f:parsenoop},249:{n:"BrtBeginPRFilters",f:parsenoop},250:{n:"BrtEndPRFilters",f:parsenoop},251:{n:"BrtBeginPRFilter",f:parsenoop},252:{n:"BrtEndPRFilter",f:parsenoop},253:{n:"BrtBeginPNames",f:parsenoop},254:{n:"BrtEndPNames",f:parsenoop},255:{n:"BrtBeginPName",f:parsenoop},256:{n:"BrtEndPName",f:parsenoop},257:{n:"BrtBeginPNPairs",f:parsenoop},258:{n:"BrtEndPNPairs",f:parsenoop},259:{n:"BrtBeginPNPair",f:parsenoop},260:{n:"BrtEndPNPair",f:parsenoop},261:{n:"BrtBeginECWebProps",f:parsenoop},262:{n:"BrtEndECWebProps",f:parsenoop},263:{n:"BrtBeginEcWpTables",f:parsenoop},264:{n:"BrtEndECWPTables",f:parsenoop},265:{n:"BrtBeginECParams",f:parsenoop},266:{n:"BrtEndECParams",f:parsenoop},267:{n:"BrtBeginECParam",f:parsenoop},268:{n:"BrtEndECParam",f:parsenoop},269:{n:"BrtBeginPCDKPIs",f:parsenoop},270:{n:"BrtEndPCDKPIs",f:parsenoop},271:{n:"BrtBeginPCDKPI",f:parsenoop},272:{n:"BrtEndPCDKPI",f:parsenoop},273:{n:"BrtBeginDims",f:parsenoop},274:{n:"BrtEndDims",f:parsenoop},275:{n:"BrtBeginDim",f:parsenoop},276:{n:"BrtEndDim",f:parsenoop},277:{n:"BrtIndexPartEnd",f:parsenoop},278:{n:"BrtBeginStyleSheet",f:parsenoop},279:{n:"BrtEndStyleSheet",f:parsenoop},280:{n:"BrtBeginSXView",f:parsenoop},281:{n:"BrtEndSXVI",f:parsenoop},282:{n:"BrtBeginSXVI",f:parsenoop},283:{n:"BrtBeginSXVIs",f:parsenoop},284:{n:"BrtEndSXVIs",f:parsenoop},285:{n:"BrtBeginSXVD",f:parsenoop},286:{n:"BrtEndSXVD",f:parsenoop},287:{n:"BrtBeginSXVDs",f:parsenoop},288:{n:"BrtEndSXVDs",f:parsenoop},289:{n:"BrtBeginSXPI",f:parsenoop},290:{n:"BrtEndSXPI",f:parsenoop},291:{n:"BrtBeginSXPIs",f:parsenoop},292:{n:"BrtEndSXPIs",f:parsenoop},293:{n:"BrtBeginSXDI",f:parsenoop},294:{n:"BrtEndSXDI",f:parsenoop},295:{n:"BrtBeginSXDIs",f:parsenoop},296:{n:"BrtEndSXDIs",f:parsenoop},297:{n:"BrtBeginSXLI",f:parsenoop},298:{n:"BrtEndSXLI",f:parsenoop},299:{n:"BrtBeginSXLIRws",f:parsenoop},300:{n:"BrtEndSXLIRws",f:parsenoop},301:{n:"BrtBeginSXLICols",f:parsenoop},302:{n:"BrtEndSXLICols",f:parsenoop},303:{n:"BrtBeginSXFormat",f:parsenoop},304:{n:"BrtEndSXFormat",f:parsenoop},305:{n:"BrtBeginSXFormats",f:parsenoop},306:{n:"BrtEndSxFormats",f:parsenoop},307:{n:"BrtBeginSxSelect",f:parsenoop},308:{n:"BrtEndSxSelect",f:parsenoop},309:{n:"BrtBeginISXVDRws",f:parsenoop},310:{n:"BrtEndISXVDRws",f:parsenoop},311:{n:"BrtBeginISXVDCols",f:parsenoop},312:{n:"BrtEndISXVDCols",f:parsenoop},313:{n:"BrtEndSXLocation",f:parsenoop},314:{n:"BrtBeginSXLocation",f:parsenoop},315:{n:"BrtEndSXView",f:parsenoop},316:{n:"BrtBeginSXTHs",f:parsenoop},317:{n:"BrtEndSXTHs",f:parsenoop},318:{n:"BrtBeginSXTH",f:parsenoop},319:{n:"BrtEndSXTH",f:parsenoop},320:{n:"BrtBeginISXTHRws",f:parsenoop},321:{n:"BrtEndISXTHRws",f:parsenoop},322:{n:"BrtBeginISXTHCols",f:parsenoop},323:{n:"BrtEndISXTHCols",f:parsenoop},324:{n:"BrtBeginSXTDMPS",f:parsenoop},325:{n:"BrtEndSXTDMPs",f:parsenoop},326:{n:"BrtBeginSXTDMP",f:parsenoop},327:{n:"BrtEndSXTDMP",f:parsenoop},328:{n:"BrtBeginSXTHItems",f:parsenoop},329:{n:"BrtEndSXTHItems",f:parsenoop},330:{n:"BrtBeginSXTHItem",f:parsenoop},331:{n:"BrtEndSXTHItem",f:parsenoop},332:{n:"BrtBeginMetadata",f:parsenoop},333:{n:"BrtEndMetadata",f:parsenoop},334:{n:"BrtBeginEsmdtinfo",f:parsenoop},335:{n:"BrtMdtinfo",f:parsenoop},336:{n:"BrtEndEsmdtinfo",f:parsenoop},337:{n:"BrtBeginEsmdb",f:parsenoop},338:{n:"BrtEndEsmdb",f:parsenoop},339:{n:"BrtBeginEsfmd",f:parsenoop},340:{n:"BrtEndEsfmd",f:parsenoop},341:{n:"BrtBeginSingleCells",f:parsenoop},342:{n:"BrtEndSingleCells",f:parsenoop},343:{n:"BrtBeginList",f:parsenoop},344:{n:"BrtEndList",f:parsenoop},345:{n:"BrtBeginListCols",f:parsenoop},346:{n:"BrtEndListCols",f:parsenoop},347:{n:"BrtBeginListCol",f:parsenoop},348:{n:"BrtEndListCol",f:parsenoop},349:{n:"BrtBeginListXmlCPr",f:parsenoop},350:{n:"BrtEndListXmlCPr",f:parsenoop},351:{n:"BrtListCCFmla",f:parsenoop},352:{n:"BrtListTrFmla",f:parsenoop},353:{n:"BrtBeginExternals",f:parsenoop},354:{n:"BrtEndExternals",f:parsenoop},355:{n:"BrtSupBookSrc",f:parsenoop},357:{n:"BrtSupSelf",f:parsenoop},358:{n:"BrtSupSame",f:parsenoop},359:{n:"BrtSupTabs",f:parsenoop},360:{n:"BrtBeginSupBook",f:parsenoop},361:{n:"BrtPlaceholderName",f:parsenoop},362:{n:"BrtExternSheet",f:parsenoop},363:{n:"BrtExternTableStart",f:parsenoop},364:{n:"BrtExternTableEnd",f:parsenoop},366:{n:"BrtExternRowHdr",f:parsenoop},367:{n:"BrtExternCellBlank",f:parsenoop},368:{n:"BrtExternCellReal",f:parsenoop},369:{n:"BrtExternCellBool",f:parsenoop},370:{n:"BrtExternCellError",f:parsenoop},371:{n:"BrtExternCellString",f:parsenoop},372:{n:"BrtBeginEsmdx",f:parsenoop},373:{n:"BrtEndEsmdx",f:parsenoop},374:{n:"BrtBeginMdxSet",f:parsenoop},375:{n:"BrtEndMdxSet",f:parsenoop},376:{n:"BrtBeginMdxMbrProp",f:parsenoop},377:{n:"BrtEndMdxMbrProp",f:parsenoop},378:{n:"BrtBeginMdxKPI",f:parsenoop},379:{n:"BrtEndMdxKPI",f:parsenoop},380:{n:"BrtBeginEsstr",f:parsenoop},381:{n:"BrtEndEsstr",f:parsenoop},382:{n:"BrtBeginPRFItem",f:parsenoop},383:{n:"BrtEndPRFItem",f:parsenoop},384:{n:"BrtBeginPivotCacheIDs",f:parsenoop},385:{n:"BrtEndPivotCacheIDs",f:parsenoop},386:{n:"BrtBeginPivotCacheID",f:parsenoop},387:{n:"BrtEndPivotCacheID",f:parsenoop},388:{n:"BrtBeginISXVIs",f:parsenoop},389:{n:"BrtEndISXVIs",f:parsenoop},390:{n:"BrtBeginColInfos",f:parsenoop},391:{n:"BrtEndColInfos",f:parsenoop},392:{n:"BrtBeginRwBrk",f:parsenoop},393:{n:"BrtEndRwBrk",f:parsenoop},394:{n:"BrtBeginColBrk",f:parsenoop},395:{n:"BrtEndColBrk",f:parsenoop},396:{n:"BrtBrk",f:parsenoop},397:{n:"BrtUserBookView",f:parsenoop},398:{n:"BrtInfo",f:parsenoop},399:{n:"BrtCUsr",f:parsenoop},400:{n:"BrtUsr",f:parsenoop},401:{n:"BrtBeginUsers",f:parsenoop},403:{n:"BrtEOF",f:parsenoop},404:{n:"BrtUCR",f:parsenoop},405:{n:"BrtRRInsDel",f:parsenoop},406:{n:"BrtRREndInsDel",f:parsenoop},407:{n:"BrtRRMove",f:parsenoop},408:{n:"BrtRREndMove",f:parsenoop},409:{n:"BrtRRChgCell",f:parsenoop},410:{n:"BrtRREndChgCell",f:parsenoop},411:{n:"BrtRRHeader",f:parsenoop},412:{n:"BrtRRUserView",f:parsenoop},413:{n:"BrtRRRenSheet",f:parsenoop},414:{n:"BrtRRInsertSh",f:parsenoop},415:{n:"BrtRRDefName",f:parsenoop},416:{n:"BrtRRNote",f:parsenoop},417:{n:"BrtRRConflict",f:parsenoop},418:{n:"BrtRRTQSIF",f:parsenoop},419:{n:"BrtRRFormat",f:parsenoop},420:{n:"BrtRREndFormat",f:parsenoop},421:{n:"BrtRRAutoFmt",f:parsenoop},422:{n:"BrtBeginUserShViews",f:parsenoop},423:{n:"BrtBeginUserShView",f:parsenoop},424:{n:"BrtEndUserShView",f:parsenoop},425:{n:"BrtEndUserShViews",f:parsenoop},426:{n:"BrtArrFmla",f:parsenoop},427:{n:"BrtShrFmla",f:parsenoop},428:{n:"BrtTable",f:parsenoop},429:{n:"BrtBeginExtConnections",f:parsenoop},430:{n:"BrtEndExtConnections",f:parsenoop},431:{n:"BrtBeginPCDCalcMems",f:parsenoop},432:{n:"BrtEndPCDCalcMems",f:parsenoop},433:{n:"BrtBeginPCDCalcMem",f:parsenoop},434:{n:"BrtEndPCDCalcMem",f:parsenoop},435:{n:"BrtBeginPCDHGLevels",f:parsenoop},436:{n:"BrtEndPCDHGLevels",f:parsenoop},437:{n:"BrtBeginPCDHGLevel",f:parsenoop},438:{n:"BrtEndPCDHGLevel",f:parsenoop},439:{n:"BrtBeginPCDHGLGroups",f:parsenoop},440:{n:"BrtEndPCDHGLGroups",f:parsenoop},441:{n:"BrtBeginPCDHGLGroup",f:parsenoop},442:{n:"BrtEndPCDHGLGroup",f:parsenoop},443:{n:"BrtBeginPCDHGLGMembers",f:parsenoop},444:{n:"BrtEndPCDHGLGMembers",f:parsenoop},445:{n:"BrtBeginPCDHGLGMember",f:parsenoop},446:{n:"BrtEndPCDHGLGMember",f:parsenoop},447:{n:"BrtBeginQSI",f:parsenoop},448:{n:"BrtEndQSI",f:parsenoop},449:{n:"BrtBeginQSIR",f:parsenoop},450:{n:"BrtEndQSIR",f:parsenoop},451:{n:"BrtBeginDeletedNames",f:parsenoop},452:{n:"BrtEndDeletedNames",f:parsenoop},453:{n:"BrtBeginDeletedName",f:parsenoop},454:{n:"BrtEndDeletedName",f:parsenoop},455:{n:"BrtBeginQSIFs",f:parsenoop},456:{n:"BrtEndQSIFs",f:parsenoop},457:{n:"BrtBeginQSIF",f:parsenoop},458:{n:"BrtEndQSIF",f:parsenoop},459:{n:"BrtBeginAutoSortScope",f:parsenoop},460:{n:"BrtEndAutoSortScope",f:parsenoop},461:{n:"BrtBeginConditionalFormatting",f:parsenoop},462:{n:"BrtEndConditionalFormatting",f:parsenoop},463:{n:"BrtBeginCFRule",f:parsenoop},464:{n:"BrtEndCFRule",f:parsenoop},465:{n:"BrtBeginIconSet",f:parsenoop},466:{n:"BrtEndIconSet",f:parsenoop},467:{n:"BrtBeginDatabar",f:parsenoop},468:{n:"BrtEndDatabar",f:parsenoop},469:{n:"BrtBeginColorScale",f:parsenoop},470:{n:"BrtEndColorScale",f:parsenoop},471:{n:"BrtCFVO",f:parsenoop},472:{n:"BrtExternValueMeta",f:parsenoop},473:{n:"BrtBeginColorPalette",f:parsenoop},474:{n:"BrtEndColorPalette",f:parsenoop},475:{n:"BrtIndexedColor",f:parsenoop},476:{n:"BrtMargins",f:parsenoop},477:{n:"BrtPrintOptions",f:parsenoop},478:{n:"BrtPageSetup",f:parsenoop},479:{n:"BrtBeginHeaderFooter",f:parsenoop},480:{n:"BrtEndHeaderFooter",f:parsenoop},481:{n:"BrtBeginSXCrtFormat",f:parsenoop},482:{n:"BrtEndSXCrtFormat",f:parsenoop},483:{n:"BrtBeginSXCrtFormats",f:parsenoop},484:{n:"BrtEndSXCrtFormats",f:parsenoop},485:{n:"BrtWsFmtInfo",f:parsenoop},486:{n:"BrtBeginMgs",f:parsenoop},487:{n:"BrtEndMGs",f:parsenoop},488:{n:"BrtBeginMGMaps",f:parsenoop},489:{n:"BrtEndMGMaps",f:parsenoop},490:{n:"BrtBeginMG",f:parsenoop},491:{n:"BrtEndMG",f:parsenoop},492:{n:"BrtBeginMap",f:parsenoop},493:{n:"BrtEndMap",f:parsenoop},494:{n:"BrtHLink",f:parse_BrtHLink},495:{n:"BrtBeginDCon",f:parsenoop},496:{n:"BrtEndDCon",f:parsenoop},497:{n:"BrtBeginDRefs",f:parsenoop},498:{n:"BrtEndDRefs",f:parsenoop},499:{n:"BrtDRef",f:parsenoop},500:{n:"BrtBeginScenMan",f:parsenoop},501:{n:"BrtEndScenMan",f:parsenoop},502:{n:"BrtBeginSct",f:parsenoop},503:{n:"BrtEndSct",f:parsenoop},504:{n:"BrtSlc",f:parsenoop},505:{n:"BrtBeginDXFs",f:parsenoop},506:{n:"BrtEndDXFs",f:parsenoop},507:{n:"BrtDXF",f:parsenoop},508:{n:"BrtBeginTableStyles",f:parsenoop},509:{n:"BrtEndTableStyles",f:parsenoop},510:{n:"BrtBeginTableStyle",f:parsenoop},511:{n:"BrtEndTableStyle",f:parsenoop},512:{n:"BrtTableStyleElement",f:parsenoop},513:{n:"BrtTableStyleClient",f:parsenoop},514:{n:"BrtBeginVolDeps",f:parsenoop},515:{n:"BrtEndVolDeps",f:parsenoop},516:{n:"BrtBeginVolType",f:parsenoop},517:{n:"BrtEndVolType",f:parsenoop},518:{n:"BrtBeginVolMain",f:parsenoop},519:{n:"BrtEndVolMain",f:parsenoop},520:{n:"BrtBeginVolTopic",f:parsenoop},521:{n:"BrtEndVolTopic",f:parsenoop},522:{n:"BrtVolSubtopic",f:parsenoop},523:{n:"BrtVolRef",f:parsenoop},524:{n:"BrtVolNum",f:parsenoop},525:{n:"BrtVolErr",f:parsenoop},526:{n:"BrtVolStr",f:parsenoop},527:{n:"BrtVolBool",f:parsenoop},528:{n:"BrtBeginCalcChain$",f:parsenoop},529:{n:"BrtEndCalcChain$",f:parsenoop},530:{n:"BrtBeginSortState",f:parsenoop},531:{n:"BrtEndSortState",f:parsenoop},532:{n:"BrtBeginSortCond",f:parsenoop},533:{n:"BrtEndSortCond",f:parsenoop},534:{n:"BrtBookProtection",f:parsenoop},535:{n:"BrtSheetProtection",f:parsenoop},536:{n:"BrtRangeProtection",f:parsenoop},537:{n:"BrtPhoneticInfo",f:parsenoop},538:{n:"BrtBeginECTxtWiz",f:parsenoop},539:{n:"BrtEndECTxtWiz",f:parsenoop},540:{n:"BrtBeginECTWFldInfoLst",f:parsenoop},541:{n:"BrtEndECTWFldInfoLst",f:parsenoop},542:{n:"BrtBeginECTwFldInfo",f:parsenoop},548:{n:"BrtFileSharing",f:parsenoop},549:{n:"BrtOleSize",f:parsenoop},550:{n:"BrtDrawing",f:parsenoop},551:{n:"BrtLegacyDrawing",f:parsenoop},552:{n:"BrtLegacyDrawingHF",f:parsenoop},553:{n:"BrtWebOpt",f:parsenoop},554:{n:"BrtBeginWebPubItems",f:parsenoop},555:{n:"BrtEndWebPubItems",f:parsenoop},556:{n:"BrtBeginWebPubItem",f:parsenoop},557:{n:"BrtEndWebPubItem",f:parsenoop},558:{n:"BrtBeginSXCondFmt",f:parsenoop},559:{n:"BrtEndSXCondFmt",f:parsenoop},560:{n:"BrtBeginSXCondFmts",f:parsenoop},561:{n:"BrtEndSXCondFmts",f:parsenoop},562:{n:"BrtBkHim",f:parsenoop},564:{n:"BrtColor",f:parsenoop},565:{n:"BrtBeginIndexedColors",f:parsenoop},566:{n:"BrtEndIndexedColors",f:parsenoop},569:{n:"BrtBeginMRUColors",f:parsenoop},570:{n:"BrtEndMRUColors",f:parsenoop},572:{n:"BrtMRUColor",f:parsenoop},573:{n:"BrtBeginDVals",f:parsenoop},574:{n:"BrtEndDVals",f:parsenoop},577:{n:"BrtSupNameStart",f:parsenoop},578:{n:"BrtSupNameValueStart",f:parsenoop},579:{n:"BrtSupNameValueEnd",f:parsenoop},580:{n:"BrtSupNameNum",f:parsenoop},581:{n:"BrtSupNameErr",f:parsenoop},582:{n:"BrtSupNameSt",f:parsenoop},583:{n:"BrtSupNameNil",f:parsenoop},584:{n:"BrtSupNameBool",f:parsenoop},585:{n:"BrtSupNameFmla",f:parsenoop},586:{n:"BrtSupNameBits",f:parsenoop},587:{n:"BrtSupNameEnd",f:parsenoop},588:{n:"BrtEndSupBook",f:parsenoop},589:{n:"BrtCellSmartTagProperty",f:parsenoop},590:{n:"BrtBeginCellSmartTag",f:parsenoop},591:{n:"BrtEndCellSmartTag",f:parsenoop},592:{n:"BrtBeginCellSmartTags",f:parsenoop},593:{n:"BrtEndCellSmartTags",f:parsenoop},594:{n:"BrtBeginSmartTags",f:parsenoop},595:{n:"BrtEndSmartTags",f:parsenoop},596:{n:"BrtSmartTagType",f:parsenoop},597:{n:"BrtBeginSmartTagTypes",f:parsenoop},598:{n:"BrtEndSmartTagTypes",f:parsenoop},599:{n:"BrtBeginSXFilters",f:parsenoop},600:{n:"BrtEndSXFilters",f:parsenoop},601:{n:"BrtBeginSXFILTER",f:parsenoop},602:{n:"BrtEndSXFilter",f:parsenoop},603:{n:"BrtBeginFills",f:parsenoop},604:{n:"BrtEndFills",f:parsenoop},605:{n:"BrtBeginCellWatches",f:parsenoop},606:{n:"BrtEndCellWatches",f:parsenoop},607:{n:"BrtCellWatch",f:parsenoop},608:{n:"BrtBeginCRErrs",f:parsenoop},609:{n:"BrtEndCRErrs",f:parsenoop},610:{n:"BrtCrashRecErr",f:parsenoop},611:{n:"BrtBeginFonts",f:parsenoop},612:{n:"BrtEndFonts",f:parsenoop},613:{n:"BrtBeginBorders",f:parsenoop},614:{n:"BrtEndBorders",f:parsenoop},615:{n:"BrtBeginFmts",f:parsenoop},616:{n:"BrtEndFmts",f:parsenoop},617:{n:"BrtBeginCellXFs",f:parsenoop},618:{n:"BrtEndCellXFs",f:parsenoop},619:{n:"BrtBeginStyles",f:parsenoop},620:{n:"BrtEndStyles",f:parsenoop},625:{n:"BrtBigName",f:parsenoop},626:{n:"BrtBeginCellStyleXFs",f:parsenoop},627:{n:"BrtEndCellStyleXFs",f:parsenoop},628:{n:"BrtBeginComments",f:parsenoop},629:{n:"BrtEndComments",f:parsenoop},630:{n:"BrtBeginCommentAuthors",f:parsenoop},631:{n:"BrtEndCommentAuthors",f:parsenoop},632:{n:"BrtCommentAuthor",f:parse_BrtCommentAuthor},633:{n:"BrtBeginCommentList",f:parsenoop},634:{n:"BrtEndCommentList",f:parsenoop},635:{n:"BrtBeginComment",f:parse_BrtBeginComment},636:{n:"BrtEndComment",f:parsenoop},637:{n:"BrtCommentText",f:parse_BrtCommentText},638:{n:"BrtBeginOleObjects",f:parsenoop},639:{n:"BrtOleObject",f:parsenoop},640:{n:"BrtEndOleObjects",f:parsenoop},641:{n:"BrtBeginSxrules",f:parsenoop},642:{n:"BrtEndSxRules",f:parsenoop},643:{n:"BrtBeginActiveXControls",f:parsenoop},644:{n:"BrtActiveX",f:parsenoop},645:{n:"BrtEndActiveXControls",f:parsenoop},646:{n:"BrtBeginPCDSDTCEMembersSortBy",f:parsenoop},648:{n:"BrtBeginCellIgnoreECs",f:parsenoop},649:{n:"BrtCellIgnoreEC",f:parsenoop},650:{n:"BrtEndCellIgnoreECs",f:parsenoop},651:{n:"BrtCsProp",f:parsenoop},652:{n:"BrtCsPageSetup",f:parsenoop},653:{n:"BrtBeginUserCsViews",f:parsenoop},654:{n:"BrtEndUserCsViews",f:parsenoop},655:{n:"BrtBeginUserCsView",f:parsenoop},656:{n:"BrtEndUserCsView",f:parsenoop},657:{n:"BrtBeginPcdSFCIEntries",f:parsenoop},658:{n:"BrtEndPCDSFCIEntries",f:parsenoop},659:{n:"BrtPCDSFCIEntry",f:parsenoop},660:{n:"BrtBeginListParts",f:parsenoop},661:{n:"BrtListPart",f:parsenoop},662:{n:"BrtEndListParts",f:parsenoop},663:{n:"BrtSheetCalcProp",f:parsenoop},664:{n:"BrtBeginFnGroup",f:parsenoop},665:{n:"BrtFnGroup",f:parsenoop},666:{n:"BrtEndFnGroup",f:parsenoop},667:{n:"BrtSupAddin",f:parsenoop},668:{n:"BrtSXTDMPOrder",f:parsenoop},669:{n:"BrtCsProtection",f:parsenoop},671:{n:"BrtBeginWsSortMap",f:parsenoop},672:{n:"BrtEndWsSortMap",f:parsenoop},673:{n:"BrtBeginRRSort",f:parsenoop},674:{n:"BrtEndRRSort",f:parsenoop},675:{n:"BrtRRSortItem",f:parsenoop},676:{n:"BrtFileSharingIso",f:parsenoop},677:{n:"BrtBookProtectionIso",f:parsenoop},678:{n:"BrtSheetProtectionIso",f:parsenoop},679:{n:"BrtCsProtectionIso",f:parsenoop},680:{n:"BrtRangeProtectionIso",f:parsenoop},1024:{n:"BrtRwDescent",f:parsenoop},1025:{n:"BrtKnownFonts",f:parsenoop},1026:{n:"BrtBeginSXTupleSet",f:parsenoop},1027:{n:"BrtEndSXTupleSet",f:parsenoop},1028:{n:"BrtBeginSXTupleSetHeader",f:parsenoop},1029:{n:"BrtEndSXTupleSetHeader",f:parsenoop},1030:{n:"BrtSXTupleSetHeaderItem",f:parsenoop},1031:{n:"BrtBeginSXTupleSetData",f:parsenoop},1032:{n:"BrtEndSXTupleSetData",f:parsenoop},1033:{n:"BrtBeginSXTupleSetRow",f:parsenoop},1034:{n:"BrtEndSXTupleSetRow",f:parsenoop},1035:{n:"BrtSXTupleSetRowItem",f:parsenoop},1036:{n:"BrtNameExt",f:parsenoop},1037:{n:"BrtPCDH14",f:parsenoop},1038:{n:"BrtBeginPCDCalcMem14",f:parsenoop},1039:{n:"BrtEndPCDCalcMem14",f:parsenoop},1040:{n:"BrtSXTH14",f:parsenoop},1041:{n:"BrtBeginSparklineGroup",f:parsenoop},1042:{n:"BrtEndSparklineGroup",f:parsenoop},1043:{n:"BrtSparkline",f:parsenoop},1044:{n:"BrtSXDI14",f:parsenoop},1045:{n:"BrtWsFmtInfoEx14",f:parsenoop},1046:{n:"BrtBeginConditionalFormatting14",f:parsenoop},1047:{n:"BrtEndConditionalFormatting14",f:parsenoop},1048:{n:"BrtBeginCFRule14",f:parsenoop},1049:{n:"BrtEndCFRule14",f:parsenoop},1050:{n:"BrtCFVO14",f:parsenoop},1051:{n:"BrtBeginDatabar14",f:parsenoop},1052:{n:"BrtBeginIconSet14",f:parsenoop},1053:{n:"BrtDVal14",f:parsenoop},1054:{n:"BrtBeginDVals14",f:parsenoop},1055:{n:"BrtColor14",f:parsenoop},1056:{n:"BrtBeginSparklines",f:parsenoop},1057:{n:"BrtEndSparklines",f:parsenoop},1058:{n:"BrtBeginSparklineGroups",f:parsenoop},1059:{n:"BrtEndSparklineGroups",f:parsenoop},1061:{n:"BrtSXVD14",f:parsenoop},1062:{n:"BrtBeginSxview14",f:parsenoop},1063:{n:"BrtEndSxview14",f:parsenoop},1066:{n:"BrtBeginPCD14",f:parsenoop},1067:{n:"BrtEndPCD14",f:parsenoop},1068:{n:"BrtBeginExtConn14",f:parsenoop},1069:{n:"BrtEndExtConn14",f:parsenoop},1070:{n:"BrtBeginSlicerCacheIDs",f:parsenoop},1071:{n:"BrtEndSlicerCacheIDs",f:parsenoop},1072:{n:"BrtBeginSlicerCacheID",f:parsenoop},1073:{n:"BrtEndSlicerCacheID",f:parsenoop},1075:{n:"BrtBeginSlicerCache",f:parsenoop},1076:{n:"BrtEndSlicerCache",f:parsenoop},1077:{n:"BrtBeginSlicerCacheDef",f:parsenoop},1078:{n:"BrtEndSlicerCacheDef",f:parsenoop},1079:{n:"BrtBeginSlicersEx",f:parsenoop},1080:{n:"BrtEndSlicersEx",f:parsenoop},1081:{n:"BrtBeginSlicerEx",f:parsenoop},1082:{n:"BrtEndSlicerEx",f:parsenoop},1083:{n:"BrtBeginSlicer",f:parsenoop},1084:{n:"BrtEndSlicer",f:parsenoop},1085:{n:"BrtSlicerCachePivotTables",f:parsenoop},1086:{n:"BrtBeginSlicerCacheOlapImpl",f:parsenoop},1087:{n:"BrtEndSlicerCacheOlapImpl",f:parsenoop},1088:{n:"BrtBeginSlicerCacheLevelsData",f:parsenoop},1089:{n:"BrtEndSlicerCacheLevelsData",f:parsenoop},1090:{n:"BrtBeginSlicerCacheLevelData",f:parsenoop},1091:{n:"BrtEndSlicerCacheLevelData",f:parsenoop},1092:{n:"BrtBeginSlicerCacheSiRanges",f:parsenoop},1093:{n:"BrtEndSlicerCacheSiRanges",f:parsenoop},1094:{n:"BrtBeginSlicerCacheSiRange",f:parsenoop},1095:{n:"BrtEndSlicerCacheSiRange",f:parsenoop},1096:{n:"BrtSlicerCacheOlapItem",f:parsenoop},1097:{n:"BrtBeginSlicerCacheSelections",f:parsenoop},1098:{n:"BrtSlicerCacheSelection",f:parsenoop},1099:{n:"BrtEndSlicerCacheSelections",f:parsenoop},1100:{n:"BrtBeginSlicerCacheNative",f:parsenoop},1101:{n:"BrtEndSlicerCacheNative",f:parsenoop},1102:{n:"BrtSlicerCacheNativeItem",f:parsenoop},1103:{n:"BrtRangeProtection14",f:parsenoop},1104:{n:"BrtRangeProtectionIso14",f:parsenoop},1105:{n:"BrtCellIgnoreEC14",f:parsenoop},1111:{n:"BrtList14",f:parsenoop},1112:{n:"BrtCFIcon",f:parsenoop},1113:{n:"BrtBeginSlicerCachesPivotCacheIDs",f:parsenoop},1114:{n:"BrtEndSlicerCachesPivotCacheIDs",f:parsenoop},1115:{n:"BrtBeginSlicers",f:parsenoop},1116:{n:"BrtEndSlicers",f:parsenoop},1117:{n:"BrtWbProp14",f:parsenoop},1118:{n:"BrtBeginSXEdit",f:parsenoop},1119:{n:"BrtEndSXEdit",f:parsenoop},1120:{n:"BrtBeginSXEdits",f:parsenoop},1121:{n:"BrtEndSXEdits",f:parsenoop},1122:{n:"BrtBeginSXChange",f:parsenoop},1123:{n:"BrtEndSXChange",f:parsenoop},1124:{n:"BrtBeginSXChanges",f:parsenoop},1125:{n:"BrtEndSXChanges",f:parsenoop},1126:{n:"BrtSXTupleItems",f:parsenoop},1128:{n:"BrtBeginSlicerStyle",f:parsenoop},1129:{n:"BrtEndSlicerStyle",f:parsenoop},1130:{n:"BrtSlicerStyleElement",f:parsenoop},1131:{n:"BrtBeginStyleSheetExt14",f:parsenoop},1132:{n:"BrtEndStyleSheetExt14",f:parsenoop},1133:{n:"BrtBeginSlicerCachesPivotCacheID",f:parsenoop},1134:{n:"BrtEndSlicerCachesPivotCacheID",f:parsenoop},1135:{n:"BrtBeginConditionalFormattings",f:parsenoop},1136:{n:"BrtEndConditionalFormattings",f:parsenoop},1137:{n:"BrtBeginPCDCalcMemExt",f:parsenoop},1138:{n:"BrtEndPCDCalcMemExt",f:parsenoop},1139:{n:"BrtBeginPCDCalcMemsExt",f:parsenoop},1140:{n:"BrtEndPCDCalcMemsExt",f:parsenoop},1141:{n:"BrtPCDField14",f:parsenoop},1142:{n:"BrtBeginSlicerStyles",f:parsenoop},1143:{n:"BrtEndSlicerStyles",f:parsenoop},1144:{n:"BrtBeginSlicerStyleElements",f:parsenoop},1145:{n:"BrtEndSlicerStyleElements",f:parsenoop},1146:{n:"BrtCFRuleExt",f:parsenoop},1147:{n:"BrtBeginSXCondFmt14",f:parsenoop},1148:{n:"BrtEndSXCondFmt14",f:parsenoop},1149:{n:"BrtBeginSXCondFmts14",f:parsenoop},1150:{n:"BrtEndSXCondFmts14",f:parsenoop},1152:{n:"BrtBeginSortCond14",f:parsenoop},1153:{n:"BrtEndSortCond14",f:parsenoop},1154:{n:"BrtEndDVals14",f:parsenoop},1155:{n:"BrtEndIconSet14",f:parsenoop},1156:{n:"BrtEndDatabar14",f:parsenoop},1157:{n:"BrtBeginColorScale14",f:parsenoop},1158:{n:"BrtEndColorScale14",f:parsenoop},1159:{n:"BrtBeginSxrules14",f:parsenoop},1160:{n:"BrtEndSxrules14",f:parsenoop},1161:{n:"BrtBeginPRule14",f:parsenoop},1162:{n:"BrtEndPRule14",f:parsenoop},1163:{n:"BrtBeginPRFilters14",f:parsenoop},1164:{n:"BrtEndPRFilters14",f:parsenoop},1165:{n:"BrtBeginPRFilter14",f:parsenoop},1166:{n:"BrtEndPRFilter14",f:parsenoop},1167:{n:"BrtBeginPRFItem14",f:parsenoop},1168:{n:"BrtEndPRFItem14",f:parsenoop},1169:{n:"BrtBeginCellIgnoreECs14",f:parsenoop},1170:{n:"BrtEndCellIgnoreECs14",f:parsenoop},1171:{n:"BrtDxf14",f:parsenoop},1172:{n:"BrtBeginDxF14s",f:parsenoop},1173:{n:"BrtEndDxf14s",f:parsenoop},1177:{n:"BrtFilter14",f:parsenoop},1178:{n:"BrtBeginCustomFilters14",f:parsenoop},1180:{n:"BrtCustomFilter14",f:parsenoop},1181:{n:"BrtIconFilter14",f:parsenoop},1182:{n:"BrtPivotCacheConnectionName",f:parsenoop},2048:{n:"BrtBeginDecoupledPivotCacheIDs",f:parsenoop},2049:{n:"BrtEndDecoupledPivotCacheIDs",f:parsenoop},2050:{n:"BrtDecoupledPivotCacheID",f:parsenoop},2051:{n:"BrtBeginPivotTableRefs",f:parsenoop},2052:{n:"BrtEndPivotTableRefs",f:parsenoop},2053:{n:"BrtPivotTableRef",f:parsenoop},2054:{n:"BrtSlicerCacheBookPivotTables",f:parsenoop},2055:{n:"BrtBeginSxvcells",f:parsenoop},2056:{n:"BrtEndSxvcells",f:parsenoop},2057:{n:"BrtBeginSxRow",f:parsenoop},2058:{n:"BrtEndSxRow",f:parsenoop},2060:{n:"BrtPcdCalcMem15",f:parsenoop},2067:{n:"BrtQsi15",f:parsenoop},2068:{n:"BrtBeginWebExtensions",f:parsenoop},2069:{n:"BrtEndWebExtensions",f:parsenoop},2070:{n:"BrtWebExtension",f:parsenoop},2071:{n:"BrtAbsPath15",f:parsenoop},2072:{n:"BrtBeginPivotTableUISettings",f:parsenoop},2073:{n:"BrtEndPivotTableUISettings",f:parsenoop},2075:{n:"BrtTableSlicerCacheIDs",f:parsenoop},2076:{n:"BrtTableSlicerCacheID",f:parsenoop},2077:{n:"BrtBeginTableSlicerCache",f:parsenoop},2078:{n:"BrtEndTableSlicerCache",f:parsenoop},2079:{n:"BrtSxFilter15",f:parsenoop},2080:{n:"BrtBeginTimelineCachePivotCacheIDs",f:parsenoop},2081:{n:"BrtEndTimelineCachePivotCacheIDs",f:parsenoop},2082:{n:"BrtTimelineCachePivotCacheID",f:parsenoop},2083:{n:"BrtBeginTimelineCacheIDs",f:parsenoop},2084:{n:"BrtEndTimelineCacheIDs",f:parsenoop},2085:{n:"BrtBeginTimelineCacheID",f:parsenoop},2086:{n:"BrtEndTimelineCacheID",f:parsenoop},2087:{n:"BrtBeginTimelinesEx",f:parsenoop},2088:{n:"BrtEndTimelinesEx",f:parsenoop},2089:{n:"BrtBeginTimelineEx",f:parsenoop},2090:{n:"BrtEndTimelineEx",f:parsenoop},2091:{n:"BrtWorkBookPr15",f:parsenoop},2092:{n:"BrtPCDH15",f:parsenoop},2093:{n:"BrtBeginTimelineStyle",f:parsenoop},2094:{n:"BrtEndTimelineStyle",f:parsenoop},2095:{n:"BrtTimelineStyleElement",f:parsenoop},2096:{n:"BrtBeginTimelineStylesheetExt15",f:parsenoop},2097:{n:"BrtEndTimelineStylesheetExt15",f:parsenoop},2098:{n:"BrtBeginTimelineStyles",f:parsenoop},2099:{n:"BrtEndTimelineStyles",f:parsenoop},2100:{n:"BrtBeginTimelineStyleElements",f:parsenoop},2101:{n:"BrtEndTimelineStyleElements",f:parsenoop},2102:{n:"BrtDxf15",f:parsenoop},2103:{n:"BrtBeginDxfs15",f:parsenoop},2104:{n:"brtEndDxfs15",f:parsenoop},2105:{n:"BrtSlicerCacheHideItemsWithNoData",f:parsenoop},2106:{n:"BrtBeginItemUniqueNames",f:parsenoop},2107:{n:"BrtEndItemUniqueNames",f:parsenoop},2108:{n:"BrtItemUniqueName",f:parsenoop},2109:{n:"BrtBeginExtConn15",f:parsenoop},2110:{n:"BrtEndExtConn15",f:parsenoop},2111:{n:"BrtBeginOledbPr15",f:parsenoop},2112:{n:"BrtEndOledbPr15",f:parsenoop},2113:{n:"BrtBeginDataFeedPr15",f:parsenoop},2114:{n:"BrtEndDataFeedPr15",f:parsenoop},2115:{n:"BrtTextPr15",f:parsenoop},2116:{n:"BrtRangePr15",f:parsenoop},2117:{n:"BrtDbCommand15",f:parsenoop},2118:{n:"BrtBeginDbTables15",f:parsenoop},2119:{n:"BrtEndDbTables15",f:parsenoop},2120:{n:"BrtDbTable15",f:parsenoop},2121:{n:"BrtBeginDataModel",f:parsenoop},2122:{n:"BrtEndDataModel",f:parsenoop},2123:{n:"BrtBeginModelTables",f:parsenoop},2124:{n:"BrtEndModelTables",f:parsenoop},2125:{n:"BrtModelTable",f:parsenoop},2126:{n:"BrtBeginModelRelationships",f:parsenoop},2127:{n:"BrtEndModelRelationships",f:parsenoop},2128:{n:"BrtModelRelationship",f:parsenoop},2129:{n:"BrtBeginECTxtWiz15",f:parsenoop},2130:{n:"BrtEndECTxtWiz15",f:parsenoop},2131:{n:"BrtBeginECTWFldInfoLst15",f:parsenoop},2132:{n:"BrtEndECTWFldInfoLst15",f:parsenoop},2133:{n:"BrtBeginECTWFldInfo15",f:parsenoop},2134:{n:"BrtFieldListActiveItem",f:parsenoop},2135:{n:"BrtPivotCacheIdVersion",f:parsenoop},2136:{n:"BrtSXDI15",f:parsenoop},65535:{n:"",f:parsenoop}};
var evert_RE=evert_key(XLSBRecordEnum,"n");var XLSRecordEnum={3:{n:"BIFF2NUM",f:parse_BIFF2NUM},4:{n:"BIFF2STR",f:parse_BIFF2STR},6:{n:"Formula",f:parse_Formula},9:{n:"BOF",f:parse_BOF},10:{n:"EOF",f:parse_EOF},12:{n:"CalcCount",f:parse_CalcCount},13:{n:"CalcMode",f:parse_CalcMode},14:{n:"CalcPrecision",f:parse_CalcPrecision},15:{n:"CalcRefMode",f:parse_CalcRefMode},16:{n:"CalcDelta",f:parse_CalcDelta},17:{n:"CalcIter",f:parse_CalcIter},18:{n:"Protect",f:parse_Protect},19:{n:"Password",f:parse_Password},20:{n:"Header",f:parse_Header},21:{n:"Footer",f:parse_Footer},23:{n:"ExternSheet",f:parse_ExternSheet},24:{n:"Lbl",f:parse_Lbl},25:{n:"WinProtect",f:parse_WinProtect},26:{n:"VerticalPageBreaks",f:parse_VerticalPageBreaks},27:{n:"HorizontalPageBreaks",f:parse_HorizontalPageBreaks},28:{n:"Note",f:parse_Note},29:{n:"Selection",f:parse_Selection},34:{n:"Date1904",f:parse_Date1904},35:{n:"ExternName",f:parse_ExternName},38:{n:"LeftMargin",f:parse_LeftMargin},39:{n:"RightMargin",f:parse_RightMargin},40:{n:"TopMargin",f:parse_TopMargin},41:{n:"BottomMargin",f:parse_BottomMargin},42:{n:"PrintRowCol",f:parse_PrintRowCol},43:{n:"PrintGrid",f:parse_PrintGrid},47:{n:"FilePass",f:parse_FilePass},49:{n:"Font",f:parse_Font},51:{n:"PrintSize",f:parse_PrintSize},60:{n:"Continue",f:parse_Continue},61:{n:"Window1",f:parse_Window1},64:{n:"Backup",f:parse_Backup},65:{n:"Pane",f:parse_Pane},66:{n:"CodePage",f:parse_CodePage},77:{n:"Pls",f:parse_Pls},80:{n:"DCon",f:parse_DCon},81:{n:"DConRef",f:parse_DConRef},82:{n:"DConName",f:parse_DConName},85:{n:"DefColWidth",f:parse_DefColWidth},89:{n:"XCT",f:parse_XCT},90:{n:"CRN",f:parse_CRN},91:{n:"FileSharing",f:parse_FileSharing},92:{n:"WriteAccess",f:parse_WriteAccess},93:{n:"Obj",f:parse_Obj},94:{n:"Uncalced",f:parse_Uncalced},95:{n:"CalcSaveRecalc",f:parse_CalcSaveRecalc},96:{n:"Template",f:parse_Template},97:{n:"Intl",f:parse_Intl},99:{n:"ObjProtect",f:parse_ObjProtect},125:{n:"ColInfo",f:parse_ColInfo},128:{n:"Guts",f:parse_Guts},129:{n:"WsBool",f:parse_WsBool},130:{n:"GridSet",f:parse_GridSet},131:{n:"HCenter",f:parse_HCenter},132:{n:"VCenter",f:parse_VCenter},133:{n:"BoundSheet8",f:parse_BoundSheet8},134:{n:"WriteProtect",f:parse_WriteProtect},140:{n:"Country",f:parse_Country},141:{n:"HideObj",f:parse_HideObj},144:{n:"Sort",f:parse_Sort},146:{n:"Palette",f:parse_Palette},151:{n:"Sync",f:parse_Sync},152:{n:"LPr",f:parse_LPr},153:{n:"DxGCol",f:parse_DxGCol},154:{n:"FnGroupName",f:parse_FnGroupName},155:{n:"FilterMode",f:parse_FilterMode},156:{n:"BuiltInFnGroupCount",f:parse_BuiltInFnGroupCount},157:{n:"AutoFilterInfo",f:parse_AutoFilterInfo},158:{n:"AutoFilter",f:parse_AutoFilter},160:{n:"Scl",f:parse_Scl},161:{n:"Setup",f:parse_Setup},174:{n:"ScenMan",f:parse_ScenMan},175:{n:"SCENARIO",f:parse_SCENARIO},176:{n:"SxView",f:parse_SxView},177:{n:"Sxvd",f:parse_Sxvd},178:{n:"SXVI",f:parse_SXVI},180:{n:"SxIvd",f:parse_SxIvd},181:{n:"SXLI",f:parse_SXLI},182:{n:"SXPI",f:parse_SXPI},184:{n:"DocRoute",f:parse_DocRoute},185:{n:"RecipName",f:parse_RecipName},189:{n:"MulRk",f:parse_MulRk},190:{n:"MulBlank",f:parse_MulBlank},193:{n:"Mms",f:parse_Mms},197:{n:"SXDI",f:parse_SXDI},198:{n:"SXDB",f:parse_SXDB},199:{n:"SXFDB",f:parse_SXFDB},200:{n:"SXDBB",f:parse_SXDBB},201:{n:"SXNum",f:parse_SXNum},202:{n:"SxBool",f:parse_SxBool},203:{n:"SxErr",f:parse_SxErr},204:{n:"SXInt",f:parse_SXInt},205:{n:"SXString",f:parse_SXString},206:{n:"SXDtr",f:parse_SXDtr},207:{n:"SxNil",f:parse_SxNil},208:{n:"SXTbl",f:parse_SXTbl},209:{n:"SXTBRGIITM",f:parse_SXTBRGIITM},210:{n:"SxTbpg",f:parse_SxTbpg},211:{n:"ObProj",f:parse_ObProj},213:{n:"SXStreamID",f:parse_SXStreamID},215:{n:"DBCell",f:parse_DBCell},216:{n:"SXRng",f:parse_SXRng},217:{n:"SxIsxoper",f:parse_SxIsxoper},218:{n:"BookBool",f:parse_BookBool},220:{n:"DbOrParamQry",f:parse_DbOrParamQry},221:{n:"ScenarioProtect",f:parse_ScenarioProtect},222:{n:"OleObjectSize",f:parse_OleObjectSize},224:{n:"XF",f:parse_XF},225:{n:"InterfaceHdr",f:parse_InterfaceHdr},226:{n:"InterfaceEnd",f:parse_InterfaceEnd},227:{n:"SXVS",f:parse_SXVS},229:{n:"MergeCells",f:parse_MergeCells},233:{n:"BkHim",f:parse_BkHim},235:{n:"MsoDrawingGroup",f:parse_MsoDrawingGroup},236:{n:"MsoDrawing",f:parse_MsoDrawing},237:{n:"MsoDrawingSelection",f:parse_MsoDrawingSelection},239:{n:"PhoneticInfo",f:parse_PhoneticInfo},240:{n:"SxRule",f:parse_SxRule},241:{n:"SXEx",f:parse_SXEx},242:{n:"SxFilt",f:parse_SxFilt},244:{n:"SxDXF",f:parse_SxDXF},245:{n:"SxItm",f:parse_SxItm},246:{n:"SxName",f:parse_SxName},247:{n:"SxSelect",f:parse_SxSelect},248:{n:"SXPair",f:parse_SXPair},249:{n:"SxFmla",f:parse_SxFmla},251:{n:"SxFormat",f:parse_SxFormat},252:{n:"SST",f:parse_SST},253:{n:"LabelSst",f:parse_LabelSst},255:{n:"ExtSST",f:parse_ExtSST},256:{n:"SXVDEx",f:parse_SXVDEx},259:{n:"SXFormula",f:parse_SXFormula},290:{n:"SXDBEx",f:parse_SXDBEx},311:{n:"RRDInsDel",f:parse_RRDInsDel},312:{n:"RRDHead",f:parse_RRDHead},315:{n:"RRDChgCell",f:parse_RRDChgCell},317:{n:"RRTabId",f:parse_RRTabId},318:{n:"RRDRenSheet",f:parse_RRDRenSheet},319:{n:"RRSort",f:parse_RRSort},320:{n:"RRDMove",f:parse_RRDMove},330:{n:"RRFormat",f:parse_RRFormat},331:{n:"RRAutoFmt",f:parse_RRAutoFmt},333:{n:"RRInsertSh",f:parse_RRInsertSh},334:{n:"RRDMoveBegin",f:parse_RRDMoveBegin},335:{n:"RRDMoveEnd",f:parse_RRDMoveEnd},336:{n:"RRDInsDelBegin",f:parse_RRDInsDelBegin},337:{n:"RRDInsDelEnd",f:parse_RRDInsDelEnd},338:{n:"RRDConflict",f:parse_RRDConflict},339:{n:"RRDDefName",f:parse_RRDDefName},340:{n:"RRDRstEtxp",f:parse_RRDRstEtxp},351:{n:"LRng",f:parse_LRng},352:{n:"UsesELFs",f:parse_UsesELFs},353:{n:"DSF",f:parse_DSF},401:{n:"CUsr",f:parse_CUsr},402:{n:"CbUsr",f:parse_CbUsr},403:{n:"UsrInfo",f:parse_UsrInfo},404:{n:"UsrExcl",f:parse_UsrExcl},405:{n:"FileLock",f:parse_FileLock},406:{n:"RRDInfo",f:parse_RRDInfo},407:{n:"BCUsrs",f:parse_BCUsrs},408:{n:"UsrChk",f:parse_UsrChk},425:{n:"UserBView",f:parse_UserBView},426:{n:"UserSViewBegin",f:parse_UserSViewBegin},427:{n:"UserSViewEnd",f:parse_UserSViewEnd},428:{n:"RRDUserView",f:parse_RRDUserView},429:{n:"Qsi",f:parse_Qsi},430:{n:"SupBook",f:parse_SupBook},431:{n:"Prot4Rev",f:parse_Prot4Rev},432:{n:"CondFmt",f:parse_CondFmt},433:{n:"CF",f:parse_CF},434:{n:"DVal",f:parse_DVal},437:{n:"DConBin",f:parse_DConBin},438:{n:"TxO",f:parse_TxO},439:{n:"RefreshAll",f:parse_RefreshAll},440:{n:"HLink",f:parse_HLink},441:{n:"Lel",f:parse_Lel},442:{n:"CodeName",f:parse_XLSCodeName},443:{n:"SXFDBType",f:parse_SXFDBType},444:{n:"Prot4RevPass",f:parse_Prot4RevPass},445:{n:"ObNoMacros",f:parse_ObNoMacros},446:{n:"Dv",f:parse_Dv},448:{n:"Excel9File",f:parse_Excel9File},449:{n:"RecalcId",f:parse_RecalcId,r:2},450:{n:"EntExU2",f:parse_EntExU2},512:{n:"Dimensions",f:parse_Dimensions},513:{n:"Blank",f:parse_Blank},515:{n:"Number",f:parse_Number},516:{n:"Label",f:parse_Label},517:{n:"BoolErr",f:parse_BoolErr},519:{n:"String",f:parse_String},520:{n:"Row",f:parse_Row},523:{n:"Index",f:parse_Index},545:{n:"Array",f:parse_Array},549:{n:"DefaultRowHeight",f:parse_DefaultRowHeight},566:{n:"Table",f:parse_Table},574:{n:"Window2",f:parse_Window2},638:{n:"RK",f:parse_RK},659:{n:"Style",f:parse_Style},1048:{n:"BigName",f:parse_BigName},1054:{n:"Format",f:parse_Format},1084:{n:"ContinueBigName",f:parse_ContinueBigName},1212:{n:"ShrFmla",f:parse_ShrFmla},2048:{n:"HLinkTooltip",f:parse_HLinkTooltip},2049:{n:"WebPub",f:parse_WebPub},2050:{n:"QsiSXTag",f:parse_QsiSXTag},2051:{n:"DBQueryExt",f:parse_DBQueryExt},2052:{n:"ExtString",f:parse_ExtString},2053:{n:"TxtQry",f:parse_TxtQry},2054:{n:"Qsir",f:parse_Qsir},2055:{n:"Qsif",f:parse_Qsif},2056:{n:"RRDTQSIF",f:parse_RRDTQSIF},2057:{n:"BOF",f:parse_BOF},2058:{n:"OleDbConn",f:parse_OleDbConn},2059:{n:"WOpt",f:parse_WOpt},2060:{n:"SXViewEx",f:parse_SXViewEx},2061:{n:"SXTH",f:parse_SXTH},2062:{n:"SXPIEx",f:parse_SXPIEx},2063:{n:"SXVDTEx",f:parse_SXVDTEx},2064:{n:"SXViewEx9",f:parse_SXViewEx9},2066:{n:"ContinueFrt",f:parse_ContinueFrt},2067:{n:"RealTimeData",f:parse_RealTimeData},2128:{n:"ChartFrtInfo",f:parse_ChartFrtInfo},2129:{n:"FrtWrapper",f:parse_FrtWrapper},2130:{n:"StartBlock",f:parse_StartBlock},2131:{n:"EndBlock",f:parse_EndBlock},2132:{n:"StartObject",f:parse_StartObject},2133:{n:"EndObject",f:parse_EndObject},2134:{n:"CatLab",f:parse_CatLab},2135:{n:"YMult",f:parse_YMult},2136:{n:"SXViewLink",f:parse_SXViewLink},2137:{n:"PivotChartBits",f:parse_PivotChartBits},2138:{n:"FrtFontList",f:parse_FrtFontList},2146:{n:"SheetExt",f:parse_SheetExt},2147:{n:"BookExt",f:parse_BookExt,r:12},2148:{n:"SXAddl",f:parse_SXAddl},2149:{n:"CrErr",f:parse_CrErr},2150:{n:"HFPicture",f:parse_HFPicture},2151:{n:"FeatHdr",f:parse_FeatHdr},2152:{n:"Feat",f:parse_Feat},2154:{n:"DataLabExt",f:parse_DataLabExt},2155:{n:"DataLabExtContents",f:parse_DataLabExtContents},2156:{n:"CellWatch",f:parse_CellWatch},2161:{n:"FeatHdr11",f:parse_FeatHdr11},2162:{n:"Feature11",f:parse_Feature11},2164:{n:"DropDownObjIds",f:parse_DropDownObjIds},2165:{n:"ContinueFrt11",f:parse_ContinueFrt11},2166:{n:"DConn",f:parse_DConn},2167:{n:"List12",f:parse_List12},2168:{n:"Feature12",f:parse_Feature12},2169:{n:"CondFmt12",f:parse_CondFmt12},2170:{n:"CF12",f:parse_CF12},2171:{n:"CFEx",f:parse_CFEx},2172:{n:"XFCRC",f:parse_XFCRC,r:12},2173:{n:"XFExt",f:parse_XFExt,r:12},2174:{n:"AutoFilter12",f:parse_AutoFilter12},2175:{n:"ContinueFrt12",f:parse_ContinueFrt12},2180:{n:"MDTInfo",f:parse_MDTInfo},2181:{n:"MDXStr",f:parse_MDXStr},2182:{n:"MDXTuple",f:parse_MDXTuple},2183:{n:"MDXSet",f:parse_MDXSet},2184:{n:"MDXProp",f:parse_MDXProp},2185:{n:"MDXKPI",f:parse_MDXKPI},2186:{n:"MDB",f:parse_MDB},2187:{n:"PLV",f:parse_PLV},2188:{n:"Compat12",f:parse_Compat12,r:12},2189:{n:"DXF",f:parse_DXF},2190:{n:"TableStyles",f:parse_TableStyles,r:12},2191:{n:"TableStyle",f:parse_TableStyle},2192:{n:"TableStyleElement",f:parse_TableStyleElement},2194:{n:"StyleExt",f:parse_StyleExt},2195:{n:"NamePublish",f:parse_NamePublish},2196:{n:"NameCmt",f:parse_NameCmt},2197:{n:"SortData",f:parse_SortData},2198:{n:"Theme",f:parse_Theme,r:12},2199:{n:"GUIDTypeLib",f:parse_GUIDTypeLib},2200:{n:"FnGrp12",f:parse_FnGrp12},2201:{n:"NameFnGrp12",f:parse_NameFnGrp12},2202:{n:"MTRSettings",f:parse_MTRSettings,r:12},2203:{n:"CompressPictures",f:parse_CompressPictures},2204:{n:"HeaderFooter",f:parse_HeaderFooter},2205:{n:"CrtLayout12",f:parse_CrtLayout12},2206:{n:"CrtMlFrt",f:parse_CrtMlFrt},2207:{n:"CrtMlFrtContinue",f:parse_CrtMlFrtContinue},2211:{n:"ForceFullCalculation",f:parse_ForceFullCalculation},2212:{n:"ShapePropsStream",f:parse_ShapePropsStream},2213:{n:"TextPropsStream",f:parse_TextPropsStream},2214:{n:"RichTextStream",f:parse_RichTextStream},2215:{n:"CrtLayout12A",f:parse_CrtLayout12A},4097:{n:"Units",f:parse_Units},4098:{n:"Chart",f:parse_Chart},4099:{n:"Series",f:parse_Series},4102:{n:"DataFormat",f:parse_DataFormat},4103:{n:"LineFormat",f:parse_LineFormat},4105:{n:"MarkerFormat",f:parse_MarkerFormat},4106:{n:"AreaFormat",f:parse_AreaFormat},4107:{n:"PieFormat",f:parse_PieFormat},4108:{n:"AttachedLabel",f:parse_AttachedLabel},4109:{n:"SeriesText",f:parse_SeriesText},4116:{n:"ChartFormat",f:parse_ChartFormat},4117:{n:"Legend",f:parse_Legend},4118:{n:"SeriesList",f:parse_SeriesList},4119:{n:"Bar",f:parse_Bar},4120:{n:"Line",f:parse_Line},4121:{n:"Pie",f:parse_Pie},4122:{n:"Area",f:parse_Area},4123:{n:"Scatter",f:parse_Scatter},4124:{n:"CrtLine",f:parse_CrtLine},4125:{n:"Axis",f:parse_Axis},4126:{n:"Tick",f:parse_Tick},4127:{n:"ValueRange",f:parse_ValueRange},4128:{n:"CatSerRange",f:parse_CatSerRange},4129:{n:"AxisLine",f:parse_AxisLine},4130:{n:"CrtLink",f:parse_CrtLink},4132:{n:"DefaultText",f:parse_DefaultText},4133:{n:"Text",f:parse_Text},4134:{n:"FontX",f:parse_FontX},4135:{n:"ObjectLink",f:parse_ObjectLink},4146:{n:"Frame",f:parse_Frame},4147:{n:"Begin",f:parse_Begin},4148:{n:"End",f:parse_End},4149:{n:"PlotArea",f:parse_PlotArea},4154:{n:"Chart3d",f:parse_Chart3d},4156:{n:"PicF",f:parse_PicF},4157:{n:"DropBar",f:parse_DropBar},4158:{n:"Radar",f:parse_Radar},4159:{n:"Surf",f:parse_Surf},4160:{n:"RadarArea",f:parse_RadarArea},4161:{n:"AxisParent",f:parse_AxisParent},4163:{n:"LegendException",f:parse_LegendException},4164:{n:"ShtProps",f:parse_ShtProps},4165:{n:"SerToCrt",f:parse_SerToCrt},4166:{n:"AxesUsed",f:parse_AxesUsed},4168:{n:"SBaseRef",f:parse_SBaseRef},4170:{n:"SerParent",f:parse_SerParent},4171:{n:"SerAuxTrend",f:parse_SerAuxTrend},4174:{n:"IFmtRecord",f:parse_IFmtRecord},4175:{n:"Pos",f:parse_Pos},4176:{n:"AlRuns",f:parse_AlRuns},4177:{n:"BRAI",f:parse_BRAI},4187:{n:"SerAuxErrBar",f:parse_SerAuxErrBar},4188:{n:"ClrtClient",f:parse_ClrtClient},4189:{n:"SerFmt",f:parse_SerFmt},4191:{n:"Chart3DBarShape",f:parse_Chart3DBarShape},4192:{n:"Fbi",f:parse_Fbi},4193:{n:"BopPop",f:parse_BopPop},4194:{n:"AxcExt",f:parse_AxcExt},4195:{n:"Dat",f:parse_Dat},4196:{n:"PlotGrowth",f:parse_PlotGrowth},4197:{n:"SIIndex",f:parse_SIIndex},4198:{n:"GelFrame",f:parse_GelFrame},4199:{n:"BopPopCustom",f:parse_BopPopCustom},4200:{n:"Fbi2",f:parse_Fbi2},22:{n:"ExternCount",f:parsenoop},126:{n:"RK",f:parsenoop},127:{n:"ImData",f:parsenoop},135:{n:"Addin",f:parsenoop},136:{n:"Edg",f:parsenoop},137:{n:"Pub",f:parsenoop},145:{n:"Sub",f:parsenoop},148:{n:"LHRecord",f:parsenoop},149:{n:"LHNGraph",f:parsenoop},150:{n:"Sound",f:parsenoop},169:{n:"CoordList",f:parsenoop},171:{n:"GCW",f:parsenoop},188:{n:"ShrFmla",f:parsenoop},194:{n:"AddMenu",f:parsenoop},195:{n:"DelMenu",f:parsenoop},214:{n:"RString",f:parsenoop},223:{n:"UDDesc",f:parsenoop},234:{n:"TabIdConf",f:parsenoop},354:{n:"XL5Modify",f:parsenoop},421:{n:"FileSharing2",f:parsenoop},536:{n:"Name",f:parsenoop},547:{n:"ExternName",f:parse_ExternName},561:{n:"Font",f:parsenoop},1030:{n:"Formula",f:parse_Formula},2157:{n:"FeatInfo",f:parsenoop},2163:{n:"FeatInfo11",f:parsenoop},2177:{n:"SXAddl12",f:parsenoop},2240:{n:"AutoWebPub",f:parsenoop},2241:{n:"ListObj",f:parsenoop},2242:{n:"ListField",f:parsenoop},2243:{n:"ListDV",f:parsenoop},2244:{n:"ListCondFmt",f:parsenoop},2245:{n:"ListCF",f:parsenoop},2246:{n:"FMQry",f:parsenoop},2247:{n:"FMSQry",f:parsenoop},2248:{n:"PLV",f:parsenoop},2249:{n:"LnExt",f:parsenoop},2250:{n:"MkrExt",f:parsenoop},2251:{n:"CrtCoopt",f:parsenoop},0:{}};function parse_ods(zip,opts){if(typeof module!=="undefined"&&typeof require!=="undefined"&&typeof ODS==="undefined")ODS=require("./od"+"s");if(typeof ODS==="undefined"||!ODS.parse_ods)throw new Error("Unsupported ODS");return ODS.parse_ods(zip,opts)}function fix_opts_func(defaults){return function fix_opts(opts){for(var i=0;i!=defaults.length;++i){var d=defaults[i];if(opts[d[0]]===undefined)opts[d[0]]=d[1];if(d[2]==="n")opts[d[0]]=Number(opts[d[0]])}}}var fix_read_opts=fix_opts_func([["cellNF",false],["cellHTML",true],["cellFormula",true],["cellStyles",false],["cellDates",false],["sheetStubs",false],["sheetRows",0,"n"],["bookDeps",false],["bookSheets",false],["bookProps",false],["bookFiles",false],["bookVBA",false],["password",""],["WTF",false]]);var fix_write_opts=fix_opts_func([["cellDates",false],["bookSST",false],["bookType","xlsx"],["WTF",false]]);function safe_parse_wbrels(wbrels,sheets){if(!wbrels)return 0;try{wbrels=sheets.map(function pwbr(w){return[w.name,wbrels["!id"][w.id].Target]})}catch(e){return null}return!wbrels||wbrels.length===0?null:wbrels}function safe_parse_ws(zip,path,relsPath,sheet,sheetRels,sheets,opts){try{sheetRels[sheet]=parse_rels(getzipdata(zip,relsPath,true),path);sheets[sheet]=parse_ws(getzipdata(zip,path),path,opts,sheetRels[sheet])}catch(e){if(opts.WTF)throw e}}var nodirs=function nodirs(x){return x.substr(-1)!="/"};function parse_zip(zip,opts){make_ssf(SSF);opts=opts||{};fix_read_opts(opts);reset_cp();if(safegetzipfile(zip,"META-INF/manifest.xml"))return parse_ods(zip,opts);var entries=keys(zip.files).filter(nodirs).sort();var dir=parse_ct(getzipdata(zip,"[Content_Types].xml"),opts);var xlsb=false;var sheets,binname;if(dir.workbooks.length===0){binname="xl/workbook.xml";if(getzipdata(zip,binname,true))dir.workbooks.push(binname)}if(dir.workbooks.length===0){binname="xl/workbook.bin";if(!getzipfile(zip,binname,true))throw new Error("Could not find workbook");dir.workbooks.push(binname);xlsb=true}if(dir.workbooks[0].substr(-3)=="bin")xlsb=true;if(xlsb)set_cp(1200);if(!opts.bookSheets&&!opts.bookProps){strs=[];if(dir.sst)strs=parse_sst(getzipdata(zip,dir.sst.replace(/^\//,"")),dir.sst,opts);styles={};if(dir.style)styles=parse_sty(getzipdata(zip,dir.style.replace(/^\//,"")),dir.style,opts);themes={};if(opts.cellStyles&&dir.themes.length)themes=parse_theme(getzipdata(zip,dir.themes[0].replace(/^\//,""),true),dir.themes[0],opts)}var wb=parse_wb(getzipdata(zip,dir.workbooks[0].replace(/^\//,"")),dir.workbooks[0],opts);var props={},propdata="";if(dir.coreprops.length!==0){propdata=getzipdata(zip,dir.coreprops[0].replace(/^\//,""),true);if(propdata)props=parse_core_props(propdata);if(dir.extprops.length!==0){propdata=getzipdata(zip,dir.extprops[0].replace(/^\//,""),true);if(propdata)parse_ext_props(propdata,props)}}var custprops={};if(!opts.bookSheets||opts.bookProps){if(dir.custprops.length!==0){propdata=getzipdata(zip,dir.custprops[0].replace(/^\//,""),true);if(propdata)custprops=parse_cust_props(propdata,opts)}}var out={};if(opts.bookSheets||opts.bookProps){if(props.Worksheets&&props.SheetNames.length>0)sheets=props.SheetNames;else if(wb.Sheets)sheets=wb.Sheets.map(function pluck(x){return x.name});if(opts.bookProps){out.Props=props;out.Custprops=custprops}if(typeof sheets!=="undefined")out.SheetNames=sheets;if(opts.bookSheets?out.SheetNames:opts.bookProps)return out}sheets={};var deps={};if(opts.bookDeps&&dir.calcchain)deps=parse_cc(getzipdata(zip,dir.calcchain.replace(/^\//,"")),dir.calcchain,opts);var i=0;var sheetRels={};var path,relsPath;if(!props.Worksheets){var wbsheets=wb.Sheets;props.Worksheets=wbsheets.length;props.SheetNames=[];for(var j=0;j!=wbsheets.length;++j){props.SheetNames[j]=wbsheets[j].name}}var wbext=xlsb?"bin":"xml";var wbrelsfile="xl/_rels/workbook."+wbext+".rels";var wbrels=parse_rels(getzipdata(zip,wbrelsfile,true),wbrelsfile);if(wbrels)wbrels=safe_parse_wbrels(wbrels,wb.Sheets);var nmode=getzipdata(zip,"xl/worksheets/sheet.xml",true)?1:0;for(i=0;i!=props.Worksheets;++i){if(wbrels)path="xl/"+wbrels[i][1].replace(/[\/]?xl\//,"");else{path="xl/worksheets/sheet"+(i+1-nmode)+"."+wbext;path=path.replace(/sheet0\./,"sheet.")}relsPath=path.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels");safe_parse_ws(zip,path,relsPath,props.SheetNames[i],sheetRels,sheets,opts)}if(dir.comments)parse_comments(zip,dir.comments,sheets,sheetRels,opts);out={Directory:dir,Workbook:wb,Props:props,Custprops:custprops,Deps:deps,Sheets:sheets,SheetNames:props.SheetNames,Strings:strs,Styles:styles,Themes:themes,SSF:SSF.get_table()};if(opts.bookFiles){out.keys=entries;out.files=zip.files}if(opts.bookVBA){if(dir.vba.length>0)out.vbaraw=getzipdata(zip,dir.vba[0],true);else if(dir.defaults.bin==="application/vnd.ms-office.vbaProject")out.vbaraw=getzipdata(zip,"xl/vbaProject.bin",true)}return out}function add_rels(rels,rId,f,type,relobj){if(!relobj)relobj={};if(!rels["!id"])rels["!id"]={};relobj.Id="rId"+rId;relobj.Type=type;relobj.Target=f;if(rels["!id"][relobj.Id])throw new Error("Cannot rewrite rId "+rId);rels["!id"][relobj.Id]=relobj;rels[("/"+relobj.Target).replace("//","/")]=relobj}function write_zip(wb,opts){if(wb&&!wb.SSF){wb.SSF=SSF.get_table()}if(wb&&wb.SSF){make_ssf(SSF);SSF.load_table(wb.SSF);opts.revssf=evert_num(wb.SSF);opts.revssf[wb.SSF[65535]]=0}opts.rels={};opts.wbrels={};opts.Strings=[];opts.Strings.Count=0;opts.Strings.Unique=0;var wbext=opts.bookType=="xlsb"?"bin":"xml";var ct={workbooks:[],sheets:[],calcchains:[],themes:[],styles:[],coreprops:[],extprops:[],custprops:[],strs:[],comments:[],vba:[],TODO:[],rels:[],xmlns:""};fix_write_opts(opts=opts||{});var zip=new jszip;var f="",rId=0;opts.cellXfs=[];get_cell_style(opts.cellXfs,{},{revssf:{General:0}});f="docProps/core.xml";zip.file(f,write_core_props(wb.Props,opts));ct.coreprops.push(f);add_rels(opts.rels,2,f,RELS.CORE_PROPS);f="docProps/app.xml";if(!wb.Props)wb.Props={};wb.Props.SheetNames=wb.SheetNames;wb.Props.Worksheets=wb.SheetNames.length;zip.file(f,write_ext_props(wb.Props,opts));ct.extprops.push(f);add_rels(opts.rels,3,f,RELS.EXT_PROPS);if(wb.Custprops!==wb.Props&&keys(wb.Custprops||{}).length>0){f="docProps/custom.xml";zip.file(f,write_cust_props(wb.Custprops,opts));ct.custprops.push(f);add_rels(opts.rels,4,f,RELS.CUST_PROPS)}f="xl/workbook."+wbext;zip.file(f,write_wb(wb,f,opts));ct.workbooks.push(f);add_rels(opts.rels,1,f,RELS.WB);for(rId=1;rId<=wb.SheetNames.length;++rId){f="xl/worksheets/sheet"+rId+"."+wbext;zip.file(f,write_ws(rId-1,f,opts,wb));ct.sheets.push(f);add_rels(opts.wbrels,rId,"worksheets/sheet"+rId+"."+wbext,RELS.WS)}if(opts.Strings!=null&&opts.Strings.length>0){f="xl/sharedStrings."+wbext;zip.file(f,write_sst(opts.Strings,f,opts));ct.strs.push(f);add_rels(opts.wbrels,++rId,"sharedStrings."+wbext,RELS.SST)}f="xl/theme/theme1.xml";zip.file(f,write_theme());ct.themes.push(f);add_rels(opts.wbrels,++rId,"theme/theme1.xml",RELS.THEME);f="xl/styles."+wbext;zip.file(f,write_sty(wb,f,opts));ct.styles.push(f);add_rels(opts.wbrels,++rId,"styles."+wbext,RELS.STY);zip.file("[Content_Types].xml",write_ct(ct,opts));zip.file("_rels/.rels",write_rels(opts.rels));zip.file("xl/_rels/workbook."+wbext+".rels",write_rels(opts.wbrels));return zip}function firstbyte(f,o){switch((o||{}).type||"base64"){case"buffer":return f[0];case"base64":return Base64.decode(f.substr(0,12)).charCodeAt(0);case"binary":return f.charCodeAt(0);case"array":return f[0];default:throw new Error("Unrecognized type "+o.type)}}function read_zip(data,opts){var zip,d=data;var o=opts||{};if(!o.type)o.type=has_buf&&Buffer.isBuffer(data)?"buffer":"base64";switch(o.type){case"base64":zip=new jszip(d,{base64:true});break;case"binary":case"array":zip=new jszip(d,{base64:false});break;case"buffer":zip=new jszip(d);break;case"file":zip=new jszip(d=_fs.readFileSync(data));break;default:throw new Error("Unrecognized type "+o.type)}return parse_zip(zip,o)}function readSync(data,opts){var zip,d=data,isfile=false,n;var o=opts||{};if(!o.type)o.type=has_buf&&Buffer.isBuffer(data)?"buffer":"base64";if(o.type=="file"){isfile=true;o.type="buffer";d=_fs.readFileSync(data)}switch(n=firstbyte(d,o)){case 208:if(isfile)o.type="file";return parse_xlscfb(CFB.read(data,o),o);case 9:return parse_xlscfb(s2a(o.type==="base64"?Base64.decode(data):data),o);case 60:return parse_xlml(d,o);case 80:if(isfile)o.type="file";return read_zip(data,opts);default:throw new Error("Unsupported file "+n)}}function readFileSync(data,opts){var o=opts||{};o.type="file";return readSync(data,o)}function write_zip_type(wb,opts){var o=opts||{};var z=write_zip(wb,o);switch(o.type){case"base64":return z.generate({type:"base64"});case"binary":return z.generate({type:"string"});case"buffer":return z.generate({type:"nodebuffer"});case"file":return _fs.writeFileSync(o.file,z.generate({type:"nodebuffer"}));default:throw new Error("Unrecognized type "+o.type)}}function writeSync(wb,opts){var o=opts||{};switch(o.bookType){case"xml":return write_xlml(wb,o);default:return write_zip_type(wb,o)}}function writeFileSync(wb,filename,opts){var o=opts||{};o.type="file";o.file=filename;switch(o.file.substr(-5).toLowerCase()){case".xlsx":o.bookType="xlsx";break;case".xlsm":o.bookType="xlsm";break;case".xlsb":o.bookType="xlsb";break;default:switch(o.file.substr(-4).toLowerCase()){case".xls":o.bookType="xls";break;case".xml":o.bookType="xml";break}}return writeSync(wb,o)}function decode_row(rowstr){return parseInt(unfix_row(rowstr),10)-1}function encode_row(row){return""+(row+1)}function fix_row(cstr){return cstr.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function unfix_row(cstr){return cstr.replace(/\$(\d+)$/,"$1")}function decode_col(colstr){var c=unfix_col(colstr),d=0,i=0;for(;i!==c.length;++i)d=26*d+c.charCodeAt(i)-64;return d-1}function encode_col(col){var s="";for(++col;col;col=Math.floor((col-1)/26))s=String.fromCharCode((col-1)%26+65)+s;return s}function fix_col(cstr){return cstr.replace(/^([A-Z])/,"$$$1")}function unfix_col(cstr){return cstr.replace(/^\$([A-Z])/,"$1")}function split_cell(cstr){return cstr.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function decode_cell(cstr){var splt=split_cell(cstr);return{c:decode_col(splt[0]),r:decode_row(splt[1])}}function encode_cell(cell){return encode_col(cell.c)+encode_row(cell.r)}function fix_cell(cstr){return fix_col(fix_row(cstr))}function unfix_cell(cstr){return unfix_col(unfix_row(cstr))}function decode_range(range){var x=range.split(":").map(decode_cell);return{s:x[0],e:x[x.length-1]}}function encode_range(cs,ce){if(ce===undefined||typeof ce==="number")return encode_range(cs.s,cs.e);if(typeof cs!=="string")cs=encode_cell(cs);if(typeof ce!=="string")ce=encode_cell(ce);return cs==ce?cs:cs+":"+ce}function safe_decode_range(range){var o={s:{c:0,r:0},e:{c:0,r:0}};var idx=0,i=0,cc=0;var len=range.length;for(idx=0;i<len;++i){if((cc=range.charCodeAt(i)-64)<1||cc>26)break;idx=26*idx+cc}o.s.c=--idx;for(idx=0;i<len;++i){if((cc=range.charCodeAt(i)-48)<0||cc>9)break;idx=10*idx+cc}o.s.r=--idx;if(i===len||range.charCodeAt(++i)===58){o.e.c=o.s.c;o.e.r=o.s.r;return o}for(idx=0;i!=len;++i){if((cc=range.charCodeAt(i)-64)<1||cc>26)break;idx=26*idx+cc}o.e.c=--idx;for(idx=0;i!=len;++i){if((cc=range.charCodeAt(i)-48)<0||cc>9)break;idx=10*idx+cc}o.e.r=--idx;return o}function safe_format_cell(cell,v){if(cell.z!==undefined)try{return cell.w=SSF.format(cell.z,v)}catch(e){}if(!cell.XF)return v;try{return cell.w=SSF.format(cell.XF.ifmt||0,v)}catch(e){return""+v}}function format_cell(cell,v){if(cell==null||cell.t==null)return"";if(cell.w!==undefined)return cell.w;if(v===undefined)return safe_format_cell(cell,cell.v);return safe_format_cell(cell,v)}function sheet_to_json(sheet,opts){var val,row,range,header=0,offset=1,r,hdr=[],isempty,R,C,v;var o=opts!=null?opts:{};var raw=o.raw;if(sheet==null||sheet["!ref"]==null)return[];range=o.range!==undefined?o.range:sheet["!ref"];if(o.header===1)header=1;else if(o.header==="A")header=2;else if(Array.isArray(o.header))header=3;switch(typeof range){case"string":r=safe_decode_range(range);break;case"number":r=safe_decode_range(sheet["!ref"]);r.s.r=range;break;default:r=range}if(header>0)offset=0;var rr=encode_row(r.s.r);var cols=new Array(r.e.c-r.s.c+1);var out=new Array(r.e.r-r.s.r-offset+1);var outi=0;for(C=r.s.c;C<=r.e.c;++C){cols[C]=encode_col(C);val=sheet[cols[C]+rr];switch(header){case 1:hdr[C]=C;break;case 2:hdr[C]=cols[C];break;case 3:hdr[C]=o.header[C-r.s.c];break;default:if(val===undefined)continue;hdr[C]=format_cell(val)}}for(R=r.s.r+offset;R<=r.e.r;++R){rr=encode_row(R);isempty=true;if(header===1)row=[];else{row={};if(Object.defineProperty)Object.defineProperty(row,"__rowNum__",{value:R,enumerable:false});else row.__rowNum__=R}for(C=r.s.c;C<=r.e.c;++C){val=sheet[cols[C]+rr];if(val===undefined||val.t===undefined)continue;v=val.v;switch(val.t){case"e":continue;case"s":break;case"b":case"n":break;default:throw"unrecognized type "+val.t}if(v!==undefined){row[hdr[C]]=raw?v:format_cell(val,v);isempty=false}}if(isempty===false||header===1)out[outi++]=row}out.length=outi;return out}function sheet_to_row_object_array(sheet,opts){return sheet_to_json(sheet,opts!=null?opts:{})}function sheet_to_csv(sheet,opts){var out="",txt="",qreg=/"/g;var o=opts==null?{}:opts;if(sheet==null||sheet["!ref"]==null)return"";var r=safe_decode_range(sheet["!ref"]);var FS=o.FS!==undefined?o.FS:",",fs=FS.charCodeAt(0);var RS=o.RS!==undefined?o.RS:"\n",rs=RS.charCodeAt(0);var row="",rr="",cols=[];var i=0,cc=0,val;var R=0,C=0;for(C=r.s.c;C<=r.e.c;++C)cols[C]=encode_col(C);for(R=r.s.r;R<=r.e.r;++R){row="";rr=encode_row(R);for(C=r.s.c;C<=r.e.c;++C){val=sheet[cols[C]+rr];txt=val!==undefined?""+format_cell(val):"";for(i=0,cc=0;i!==txt.length;++i)if((cc=txt.charCodeAt(i))===fs||cc===rs||cc===34){txt='"'+txt.replace(qreg,'""')+'"';break}row+=(C===r.s.c?"":FS)+txt}out+=row+RS}return out}var make_csv=sheet_to_csv;function sheet_to_formulae(sheet){var cmds,y="",x,val="";if(sheet==null||sheet["!ref"]==null)return"";var r=safe_decode_range(sheet["!ref"]),rr="",cols=[],C;cmds=new Array((r.e.r-r.s.r+1)*(r.e.c-r.s.c+1));var i=0;for(C=r.s.c;C<=r.e.c;++C)cols[C]=encode_col(C);for(var R=r.s.r;R<=r.e.r;++R){rr=encode_row(R);for(C=r.s.c;C<=r.e.c;++C){y=cols[C]+rr;x=sheet[y];val="";if(x===undefined)continue;if(x.f!=null)val=x.f;else if(x.w!==undefined)val="'"+x.w;else if(x.v===undefined)continue;else val=""+x.v;cmds[i++]=y+"="+val}}cmds.length=i;return cmds}var utils={encode_col:encode_col,encode_row:encode_row,encode_cell:encode_cell,encode_range:encode_range,decode_col:decode_col,decode_row:decode_row,split_cell:split_cell,decode_cell:decode_cell,decode_range:decode_range,format_cell:format_cell,get_formulae:sheet_to_formulae,make_csv:sheet_to_csv,make_json:sheet_to_json,make_formulae:sheet_to_formulae,sheet_to_csv:sheet_to_csv,sheet_to_json:sheet_to_json,sheet_to_formulae:sheet_to_formulae,sheet_to_row_object_array:sheet_to_row_object_array};XLSX.parse_xlscfb=parse_xlscfb;XLSX.parse_zip=parse_zip;XLSX.read=readSync;XLSX.readFile=readFileSync;XLSX.readFileSync=readFileSync;XLSX.write=writeSync;XLSX.writeFile=writeFileSync;XLSX.writeFileSync=writeFileSync;XLSX.utils=utils;XLSX.CFB=CFB;XLSX.SSF=SSF})(typeof exports!=="undefined"?exports:XLSX);var XLS=XLSX;

/* external.min.js */
function StartAccessibility(){is_accessibility_open?($("#accessibility_action1").animate({top:pixel_from_start},40,function(){$("#accessibility_action1").css("width","92px"),$("#accessibility_action1").css("height","40px"),$("#accessibility_action1").css("top",pixel_from_start+"px")}),$("#accessibility_action2").animate({top:pixel_from_start},60,function(){$("#accessibility_action2").css("width","92px"),$("#accessibility_action2").css("height","40px"),$("#accessibility_action2").css("top",pixel_from_start+"px")}),$("#accessibility_action3").animate({top:pixel_from_start},80,function(){$("#accessibility_action3").css("width","92px"),$("#accessibility_action3").css("height","40px"),$("#accessibility_action3").css("top",pixel_from_start+"px")}),$("#accessibility_action4").animate({top:pixel_from_start},100,function(){$("#accessibility_action4").css("width","92px"),$("#accessibility_action4").css("height","40px"),$("#accessibility_action4").css("top",pixel_from_start+"px")}),$("#accessibility_action5").animate({top:pixel_from_start},120,function(){$("#accessibility_action5").css("width","92px"),$("#accessibility_action5").css("height","40px"),$("#accessibility_action5").css("top",pixel_from_start+"px")}),$("#accessibility_action6").animate({top:pixel_from_start},140,function(){$("#accessibility_action6").css("width","92px"),$("#accessibility_action6").css("height","40px"),$("#accessibility_action6").css("top",pixel_from_start+"px")}),$("#accessibility_action7").animate({top:pixel_from_start},160,function(){$("#accessibility_action7").css("width","92px"),$("#accessibility_action7").css("height","40px"),$("#accessibility_action7").css("top",pixel_from_start+"px")}),$("#accessibility_action8").animate({top:pixel_from_start},180,function(){$("#accessibility_action8").css("width","92px"),$("#accessibility_action8").css("height","40px"),$("#accessibility_action8").css("top",pixel_from_start+"px")}),$("#accessibility_action9").animate({top:pixel_from_start},200,function(){$("#accessibility_action9").css("width","92px"),$("#accessibility_action9").css("height","40px"),$("#accessibility_action9").css("top",pixel_from_start+"px"),$(".btn_accessibility_action").css("visibility","hidden")}),is_accessibility_open=!1):($(".btn_accessibility_action").css("visibility","visible"),$("#accessibility_action1").animate({top:pixel_from_start+49},0,function(){$("#accessibility_action1").css("width","280px"),$("#accessibility_action1").css("height","42px"),$("#accessibility_action1").css("top",pixel_from_start+49+"px")}),$("#accessibility_action2").animate({top:pixel_from_start+99},20,function(){$("#accessibility_action1").css("width","280px"),$("#accessibility_action1").css("height","42px"),$("#accessibility_action1").css("top",pixel_from_start+49+"px"),$("#accessibility_action2").css("width","280px"),$("#accessibility_action2").css("height","42px"),$("#accessibility_action2").css("top",pixel_from_start+99+"px")}),$("#accessibility_action3").animate({top:pixel_from_start+149},40,function(){$("#accessibility_action3").css("width","280px"),$("#accessibility_action3").css("height","42px"),$("#accessibility_action3").css("top",pixel_from_start+149+"px")}),$("#accessibility_action4").animate({top:pixel_from_start+199},60,function(){$("#accessibility_action4").css("width","280px"),$("#accessibility_action4").css("height","42px"),$("#accessibility_action4").css("top",pixel_from_start+199+"px")}),$("#accessibility_action5").animate({top:pixel_from_start+249},80,function(){$("#accessibility_action5").css("width","280px"),$("#accessibility_action5").css("height","42px"),$("#accessibility_action5").css("top",pixel_from_start+249+"px")}),$("#accessibility_action6").animate({top:pixel_from_start+299},100,function(){$("#accessibility_action6").css("width","280px"),$("#accessibility_action6").css("height","42px"),$("#accessibility_action6").css("top",pixel_from_start+299+"px")}),$("#accessibility_action7").animate({top:pixel_from_start+349},120,function(){$("#accessibility_action7").css("width","280px"),$("#accessibility_action7").css("height","42px"),$("#accessibility_action7").css("top",pixel_from_start+349+"px")}),$("#accessibility_action8").animate({top:pixel_from_start+399},140,function(){$("#accessibility_action8").css("width","280px"),$("#accessibility_action8").css("height","42px"),$("#accessibility_action8").css("top",pixel_from_start+399+"px")}),$("#accessibility_action9").animate({top:pixel_from_start+449},160,function(){$("#accessibility_action9").css("width","280px"),$("#accessibility_action9").css("height","42px"),$("#accessibility_action9").css("top",pixel_from_start+449+"px")}),is_accessibility_open=!0)}function setCookie(i,t,s){var a=new Date;a.setTime(a.getTime()+24*s*60*60*1e3);var e="expires="+a.toUTCString();document.cookie=i+"="+t+"; "+e}function getCookie(i){for(var t=i+"=",s=document.cookie.split(";"),a=0;a<s.length;a++){for(var e=s[a];" "==e.charAt(0);)e=e.substring(1);if(0==e.indexOf(t))return e.substring(t.length,e.length)}return""}function SetLiveCity(i){if(is_data)try{$("#"+i).contents().find("form").submit(function(t){try{var s="",a="",e="";$("#"+i).contents().find("form input").each(function(i){var t=$(this),o="";t.hasAttr("id")?o=t.attr("id"):t.hasAttr("name")&&(o=t.attr("name")),""!=o&&(o.indexOf("name")>-1&&""==s&&(s=t.val()),o.indexOf("phone")>-1&&""==a&&(a=t.val()),o.indexOf("mail")>-1&&""==e&&(e=t.val()))}),""!=s&&""!=a&&""!=e||$("#"+i).contents().find("form input").each(function(t){var o=$(this);if(o.hasAttr("id")){var c=$("#"+i).contents().find("label[for='"+o.attr("id")+"']");c.length&&(""==s&&c.text().indexOf("שם")>-1&&(s=o.val()),""==a&&c.text().indexOf("פון")>-1&&(a=o.val()),""==e&&(c.text().indexOf("דואר")>-1||c.text().indexOf("מייל")>-1)&&(e=o.val()))}}),""!=s&&$.post("https://www.negishim.com/accessibility/customer.ashx",{form_name:s,form_phone:a,form_email:e},function(i){},"html")}catch(i){}})}catch(i){}}function SetAccessibilityComponent(){var i="",t="wheelchair.ashx?is_pro=1&css_style="+css_style,s="black",a="#000000";2==css_style&&(s="white",a="#ffffff"),i+="<div class='accessibility_component accessibility_div_wrap' style='display:none;'>",i+="<a href='javascript:void(0);' onclick='StartAccessibility();return false;' class='btn_accessibility accessibility_component' title='לחץ להפעלת אפשרויות נגישות'>",i+="נגישות <img id='accessibility_icon' src='"+negishim_base+t+"' alt='נגישות' class='accessibility_component'/>",i+="</a>",i+="<div id='accessibility_action1' class='btn_accessibility_action accessibility_component' style='z-index:2147483646;' title='תפריט נגישות'>",i+="<img src='"+negishim_base+"menu_18_"+s+".png' alt='menu' class='accessibility_component'/>",i+=" תפריט נגישות",i+="</div>",i+="<div id='accessibility_action2' class='btn_accessibility_action accessibility_component' style='z-index:2147483645;padding-top:6px !important;' title='גודל טקסט'>",i+="<img src='"+negishim_base+"font_size_18_"+s+".png' alt='menu' class='accessibility_component' style='margin-top:6px;'/>",i+=" <a href='javascript:void(0);' id='a_fs_d' onclick='FontSizeDefault();return false;' class='accessibility_component a_gray' style='font-size:20px !important;font-family:arial !important;text-decoration:none;color:"+a+";'>א</a> &nbsp; ",i+=" <a href='javascript:void(0);' id='a_fs_m' onclick='FontSizeM();return false;' class='accessibility_component a_gray' style='font-size:22px !important;font-family:arial !important;text-decoration:none;color:"+a+";'>א</a> &nbsp; ",i+=" <a href='javascript:void(0);' id='a_fs_l' onclick='FontSizeL();return false;' class='accessibility_component a_gray' style='font-size:24px !important;font-family:arial !important;text-decoration:none;color:"+a+";'>א</a> &nbsp; ",i+=" <a href='javascript:void(0);' id='a_fs_xl' onclick='FontSizeXl();return false;' class='accessibility_component a_gray' style='font-size:26px !important;font-family:arial !important;text-decoration:none;color:"+a+";'>א</a>",i+="</div>",i+="<a id='accessibility_action3' href='javascript:void(0);' onclick='AccessibilityContrastBlackOnBlue();return false;' class='btn_accessibility_action accessibility_component' style='z-index:2147483644;' title='ניגודיות עדינה'>",i+="<img src='"+negishim_base+"contrast_18_"+s+".png' alt='contrast' class='accessibility_component'/>",i+=" ניגודיות עדינה",i+="</a>",i+="<a id='accessibility_action4' href='javascript:void(0);' onclick='AccessibilityContrastYellowOnBlack();return false;' class='btn_accessibility_action accessibility_component' style='z-index:2147483643;' title='ניגודיות גבוהה'>",i+="<img src='"+negishim_base+"contrast_18_"+s+".png' alt='contrast' class='accessibility_component'/>",i+=" ניגודיות גבוהה",i+="</a>",i+="<a id='accessibility_action5' href='javascript:void(0);' onclick='LinksUnderline();return false;' class='btn_accessibility_action accessibility_component' style='z-index:2147483642;' title='הדגשת קישורים'>",i+="<img src='"+negishim_base+"underline_18_"+s+".png' alt='underline' class='accessibility_component'/>",i+=" הדגשת קישורים",i+="</a>",i+="<a id='accessibility_action6' href='javascript:void(0);' onclick='BlockAnimation();return false;' class='btn_accessibility_action accessibility_component' style='z-index:2147483641;' title='חסימת אנימציה'>",i+="<img src='"+negishim_base+"eye_blocked_18_"+s+".png' alt='eye_blocked' class='accessibility_component'/>",i+=" חסימת אנימציה",i+="</a>",i+="<a id='accessibility_action7' href='javascript:void(0);' onclick='ReadableFont();return false;' class='btn_accessibility_action accessibility_component' style='z-index:2147483640;' title='שנה לפונט קריא יותר'>",i+="<img src='"+negishim_base+"font_18_"+s+".png' alt='font' class='accessibility_component'/>",i+=" פונט קריא",i+="</a>",i+="<a id='accessibility_action8' href='https://www.negishim.org/' target='_blank' class='btn_accessibility_action accessibility_component' style='z-index:2147483639;' title='להורדת מודול נגישות חינם'>",i+="<img src='"+negishim_base+"info_18_"+s+".png' alt='info' class='accessibility_component'/>",i+=" להורדת מודול נגישות חינם",i+="</a>",i+="<a id='accessibility_action9' href='javascript:void(0);' onclick='AccessibilityReset();return false;' class='btn_accessibility_action accessibility_component' style='z-index:2147483638;' title='איפוס הגדרות נגישות למצב ברירת מחדל'>",i+="<img src='"+negishim_base+"power_off_18_"+s+".png' alt='power_off' class='accessibility_component'/>",i+=" איפוס הגדרות נגישות",i+="</a>",i+="</div>",$("body").append(i)}function CheckSelectedOptionsFromCookies(){try{switch(getCookie("accessibility_font_size")){case"m":current_font_size_level=2,FontSizeM();break;case"l":current_font_size_level=3,FontSizeL();break;case"xl":current_font_size_level=4,FontSizeXl()}}catch(i){console.log("Error ready - accessibility_font_size: "+i)}try{switch(getCookie("accessibility_contrast")){case"yellow":AccessibilityContrastYellowOnBlack();break;case"blue":AccessibilityContrastBlackOnBlue()}}catch(i){console.log("Error ready - accessibility_contrast: "+i)}try{"1"==getCookie("links_underline")&&LinksUnderline()}catch(i){console.log("Error ready - links_underline: "+i)}try{"1"==getCookie("readable_font")&&ReadableFont()}catch(i){console.log("Error ready - readable_font: "+i)}try{"1"==getCookie("is_animation_blocked")&&BlockAnimation()}catch(i){console.log("Error ready - is_animation_blocked: "+i)}}function AddCssClasses(){try{var i="#000000",t="#ffffff",s="#E5E5E5",a="#EBEBEB",e="",o="gray";2==css_style&&(i="#ffffff",t="#000000",s="#2A2A2A",a="#2A2A2A",o="#C0C0C0",e="border:1px solid #2A2A2A;");var c=document.createElement("style");c.type="text/css";var n="";n+=".btn_accessibility {"+e+"color:"+i+" !important;background-color: "+t+" !important;text-decoration:none;padding:10px 10px 0px 0px;top:"+pixel_from_start+"px;display: inline-block;border-radius:6px;width:92px;overflow: hidden;height:40px;position: fixed;"+(accessibility_rtl?"right":"left")+":"+pixel_from_side+"px;z-index: 2147483647;box-sizing: border-box;text-align: right;margin: 0 auto;-webkit-transition: all 0.3s;transition: all 0.3s;-webkit-box-shadow: 0px 0px 5px 0px #000000;-moz-box-shadow: 0px 0px 5px 0px #000000;box-shadow: 0px 0px 5px 0px #000000;font-weight:normal;font-size:18px;direction:rtl;}",n+=".btn_accessibility img{vertical-align:top;}",n+=".btn_accessibility:hover,.btn_accessibility:focus{background-color:"+s+" !important;-webkit-box-shadow: 0px 0px 5px 1px #757575;-moz-box-shadow: 0px 0px 5px 1px #757575;box-shadow: 0px 0px 5px 1px #757575;outline:0;}",n+=".btn_accessibility:hover strong,.btn_accessibility:focus strong{right:20px;color:yellow !important;}",n+=".btn_accessibility_action {"+e+"color:"+i+" !important;background-color: "+t+" !important;font-size:18px;text-decoration:none;padding:12px 10px 0px 0px;font-weight: bold;font-family:arial;visibility: hidden;top:"+pixel_from_start+"px;display: inline-block;border-radius:6px;width:280px;overflow: hidden;height:42px;position: fixed;"+(accessibility_rtl?"right":"left")+":"+pixel_from_side+"px;box-sizing: border-box;text-align:right;margin: 0 auto;-webkit-transition: all 0.3s;transition: all 0.3s;-webkit-box-shadow: 0px 0px 5px 0px #000000;-moz-box-shadow: 0px 0px 5px 0px #000000;box-shadow: 0px 0px 5px 0px #000000;}",n+=".btn_accessibility_action img{vertical-align:top;margin-left:8px;}",n+=".btn_accessibility_action strong {color: "+i+";-webkit-transition: all 0.3s;transition: all 0.3s;}",n+=".btn_accessibility_action:hover{-webkit-box-shadow: 0px 0px 5px 1px #000000;-moz-box-shadow: 0px 0px 5px 1px #757575;box-shadow: 0px 0px 5px 1px #757575;}",n+="a.btn_accessibility_action:hover,a.btn_accessibility_action:focus,.btn_accessibility_action_active{background-color:"+a+" !important;outline:0;}",n+="a.btn_accessibility_action:hover div,a.btn_accessibility_action:focus div,.btn_accessibility_action_active div{}",n+=".a_gray{-webkit-transition: all 0.3s;transition: all 0.3s;}",n+=".a_gray:hover,.a_gray:focus,.a_gray_active{color:"+o+" !important;text-decoration:underline !important;outline:0;}",n+=".btn_accessibility_action .accessibility_action_icn{font-size:22px;position:absolute;top:14px;right:10px;}",n+=".btn_accessibility_action:hover .accessibility_action_icn,.btn_accessibility_action:focus .accessibility_action_icn,.btn_accessibility_action_active .accessibility_action_icn{right:6px;color:yellow !important;}",n+=".btn_font_size:hover strong,.btn_font_size:focus strong{color:yellow !important;}",n+=".a_hover_opacity:hover, .a_hover_opacity:focus {-webkit-text-shadow: 1px 1px 0px #003755;-moz-text-shadow: 1px 1px 0px #003755;box-shadow: 1px 1px 0px #003755;}",n+=".font_size_icn_b {font-size: 19px;top: 17px;right: 8px;position: absolute;}",n+=".font_size_icn_s {font-size: 15px;right: 21px;top: 20px;position: absolute;}",n+=".btn_accessibility_action:hover .font_size_icn_b, .btn_accessibility_action:focus .font_size_icn_b {right: 5px;color: yellow !important;}",n+=".btn_accessibility_action:hover .font_size_icn_s, .btn_accessibility_action:focus .font_size_icn_s {right: 18px;color: yellow !important;}",n+=".accessibility_component {line-height: 1.1 !important;font-family:arial;direction:rtl;}",c.innerHTML=".links_underline{text-decoration:underline  !important;}.readable_font{font-family:arial !important;}.accessibility_contrast_yellow_on_black {background:none !important;background-color:black !important;color:yellow !important;}.accessibility_contrast_yellow_on_black_a,.accessibility_contrast_yellow_on_black_a::before{background:none !important;background-color:black !important;color:yellow !important;outline:1px dashed yellow !important;}.accessibility_contrast_yellow_on_black_a:hover,.accessibility_contrast_yellow_on_black_a:focus,.accessibility_contrast_yellow_on_black_a:hover::before,.accessibility_contrast_yellow_on_black_a:focus::before{color:#ffffff !important;outline:1px dashed #ffffff !important;}.accessibility_contrast_yellow_on_black_input {background:none !important;background-color:#ffffff !important;color:#000000 !important;}.accessibility_contrast_black_on_blue {background:none !important;background-color:#c2d3fc !important;color:#000000 !important;}.accessibility_contrast_black_on_blue_a,.accessibility_contrast_black_on_blue_a::before{background:none !important;background-color:#c2d3fc !important;color:#000000 !important;outline:1px dashed #000000 !important;}.accessibility_contrast_black_on_blue_a:hover,.accessibility_contrast_black_on_blue_a:hover div,.accessibility_contrast_black_on_blue_a:hover span,.accessibility_contrast_black_on_blue_a:focus,.accessibility_contrast_black_on_blue_a:hover::before,.accessibility_contrast_black_on_blue_a:focus::before{color:#ffffff !important;outline:1px dashed #ffffff !important;background-color:#89ABFA !important;}.accessibility_contrast_black_on_blue_input {background:none !important;background-color:#ffffff !important;color:#000000 !important;}"+n,document.head.appendChild(c)}catch(i){console.log("Error AddCssClasses: "+i)}}function KeepFontSizeDefault(){$("body,div,span,table,tr,td,h1,h2,h3,h4,h5,h6,p,ol,ul,li,strong,label,a,label").each(function(i){try{var t=$(this).css("font-size");if(""!=t&&4==t.length&&(t=t.replace("px",""),t=t.replace("pt",""),2==t.length)){var s=$(this).css("font-size").replace(t,"");$(this).attr("data-font-size",t),$(this).attr("data-font-size-type",s)}var a=$(this).css("line-height");""!=a&&$(this).attr("data-line-height",a)}catch(i){console.log("Error KeepFontSizeDefault: "+i)}}),$(".accessibility_component").removeAttr("data-font-size"),$(".accessibility_component").removeAttr("data-font-size-type"),$(".accessibility_component").removeAttr("data-line-height")}function FontSizeXl(){try{setCookie("accessibility_font_size","xl",1)}catch(i){console.log("Error setCookie: "+i)}$(".a_gray").removeClass("a_gray_active"),$("#a_fs_xl").addClass("a_gray_active"),$("body,div,span,table,tr,td,h1,h2,h3,h4,h5,h6,p,ol,ul,li,strong,label,a,label").each(function(i){try{if($(this).hasAttr("data-font-size")){var t=parseInt($(this).attr("data-font-size"));t+=8,$(this).css("font-size",t+$(this).attr("data-font-size-type")),$(this).addClass("fs"+t+"px")}$(this).hasAttr("data-line-height")&&$(this).css("line-height","1.2")}catch(i){console.log("Error FontSizeXl: "+i)}})}function FontSizeL(){try{setCookie("accessibility_font_size","l",1)}catch(i){console.log("Error setCookie: "+i)}$(".a_gray").removeClass("a_gray_active"),$("#a_fs_l").addClass("a_gray_active"),$("body,div,span,table,tr,td,h1,h2,h3,h4,h5,h6,p,ol,ul,li,strong,label,a,label").each(function(i){try{if($(this).hasAttr("data-font-size")){var t=parseInt($(this).attr("data-font-size"));t+=4,$(this).css("font-size",t+$(this).attr("data-font-size-type"))}$(this).hasAttr("data-line-height")&&$(this).css("line-height","1.2")}catch(i){console.log("Error FontSizeL: "+i)}})}function FontSizeM(){try{setCookie("accessibility_font_size","m",1)}catch(i){console.log("Error setCookie: "+i)}$(".a_gray").removeClass("a_gray_active"),$("#a_fs_m").addClass("a_gray_active"),$("body,div,span,table,tr,td,h1,h2,h3,h4,h5,h6,p,ol,ul,li,strong,label,a,label").each(function(i){try{if($(this).hasAttr("data-font-size")){var t=parseInt($(this).attr("data-font-size"));t+=2,$(this).css("font-size",t+$(this).attr("data-font-size-type"))}$(this).hasAttr("data-line-height")&&$(this).css("line-height","1.2")}catch(i){console.log("Error FontSizeM: "+i)}})}function FontSizeDefault(){try{setCookie("accessibility_font_size","",1)}catch(i){console.log("Error setCookie: "+i)}$(".a_gray").removeClass("a_gray_active"),$("#a_fs_d").addClass("a_gray_active"),$("body,div,span,table,tr,td,h1,h2,h3,h4,h5,h6,p,ol,ul,li,strong,label,a,label").each(function(i){try{if($(this).hasAttr("data-font-size")){var t=parseInt($(this).attr("data-font-size"));$(this).css("font-size",t+$(this).attr("data-font-size-type"))}$(this).hasAttr("data-line-height")&&$(this).css("line-height",$(this).attr("data-line-height"))}catch(i){console.log("Error FontSizeDefault: "+i)}})}function AccessibilityContrastYellowOnBlack(){if(is_contrast_yellow)AccessibilityContrastYellowOnBlackReset();else{is_contrast_blue&&AccessibilityContrastBlackOnBlueReset();try{setCookie("accessibility_contrast","yellow",1)}catch(i){console.log("Error setCookie: "+i)}$("body,div,span,table,tr,td,h1,h2,h3,h4,h5,h6,p,ol,ul,li,strong,label").addClass("accessibility_contrast_yellow_on_black"),$("a").addClass("accessibility_contrast_yellow_on_black_a"),$("input").addClass("accessibility_contrast_yellow_on_black_input"),$(".accessibility_component").removeClass("accessibility_contrast_yellow_on_black"),$("a.accessibility_component").removeClass("accessibility_contrast_yellow_on_black_a"),is_contrast_yellow=!0,is_contrast_blue=!1,$("#accessibility_action4").addClass("btn_accessibility_action_active"),$("#accessibility_action3").removeClass("btn_accessibility_action_active")}}function AccessibilityContrastBlackOnBlue(){if(is_contrast_blue)AccessibilityContrastBlackOnBlueReset();else{is_contrast_yellow&&AccessibilityContrastYellowOnBlackReset();try{setCookie("accessibility_contrast","blue",1)}catch(i){console.log("Error setCookie: "+i)}$("body,div,span,table,tr,td,h1,h2,h3,h4,h5,h6,p,ol,ul,li,strong,label").addClass("accessibility_contrast_black_on_blue"),$("a").addClass("accessibility_contrast_black_on_blue_a"),$("input").addClass("accessibility_contrast_black_on_blue_input"),$(".accessibility_component").removeClass("accessibility_contrast_black_on_blue"),$("a.accessibility_component").removeClass("accessibility_contrast_black_on_blue_a"),is_contrast_blue=!0,is_contrast_yellow=!1,$("#accessibility_action3").addClass("btn_accessibility_action_active"),$("#accessibility_action4").removeClass("btn_accessibility_action_active")}}function AccessibilityContrastYellowOnBlackReset(){try{setCookie("accessibility_contrast","",1)}catch(i){console.log("Error setCookie: "+i)}$("body,div,span,table,tr,td,h1,h2,h3,h4,h5,h6,p,ol,ul,li,strong,label").removeClass("accessibility_contrast_yellow_on_black"),$("a").removeClass("accessibility_contrast_yellow_on_black_a"),$("input").removeClass("accessibility_contrast_yellow_on_black_input"),$(".accessibility_component").removeClass("accessibility_contrast_yellow_on_black"),$("a.accessibility_component").removeClass("accessibility_contrast_yellow_on_black_a"),is_contrast_yellow=!1,$("#accessibility_action4").removeClass("btn_accessibility_action_active")}function AccessibilityContrastBlackOnBlueReset(){try{setCookie("accessibility_contrast","",1)}catch(i){console.log("Error setCookie: "+i)}$("body,div,span,table,tr,td,h1,h2,h3,h4,h5,h6,p,ol,ul,li,strong,label").removeClass("accessibility_contrast_black_on_blue"),$("a").removeClass("accessibility_contrast_black_on_blue_a"),$("input").removeClass("accessibility_contrast_black_on_blue_input"),$(".accessibility_component").removeClass("accessibility_contrast_black_on_blue"),$("a.accessibility_component").removeClass("accessibility_contrast_black_on_blue_a"),is_contrast_blue=!1,$("#accessibility_action3").removeClass("btn_accessibility_action_active")}function ReadableFont(){if(is_readable_font)ReadableFontReset();else{$("body,div,span,table,tr,td,h1,h2,h3,h4,h5,h6,p,ol,ul,li,a,input,select,option,strong").addClass("readable_font"),$("#accessibility_action7").addClass("btn_accessibility_action_active");try{setCookie("readable_font","1",1)}catch(i){console.log("Error setCookie: "+i)}$(".accessibility_component").removeClass("readable_font"),is_readable_font=!0}}function ReadableFontReset(){$("body,div,span,table,tr,td,h1,h2,h3,h4,h5,h6,p,ol,ul,li,a,input,select,option,strong").removeClass("readable_font"),$("#accessibility_action7").removeClass("btn_accessibility_action_active"),is_readable_font=!1;try{setCookie("readable_font","",1)}catch(i){console.log("Error setCookie: "+i)}}function LinksUnderline(){if(is_links_underline)LinksUnderlineReset();else{$("a").addClass("links_underline"),$("#accessibility_action5").addClass("btn_accessibility_action_active");try{setCookie("links_underline","1",1)}catch(i){console.log("Error setCookie: "+i)}$("a.accessibility_component").removeClass("links_underline"),is_links_underline=!0}}function LinksUnderlineReset(){$("#accessibility_action5").removeClass("btn_accessibility_action_active"),is_links_underline=!1,$("a").removeClass("links_underline");try{setCookie("links_underline","",1)}catch(i){console.log("Error setCookie: "+i)}}function BlockAnimation(){if(is_animation_blocked)UnBlockAnimation();else{$("*").stop(!0),jQuery.fx.off=!0,$("#accessibility_action6").addClass("btn_accessibility_action_active");var i=document.createElement("style");i.type="text/css",i.innerHTML="* {/*CSS transitions*/ -o-transition-property: none !important; -moz-transition-property: none !important; -ms-transition-property: none !important; -webkit-transition-property: none !important;  transition-property: none !important;/*CSS transforms*/  -o-transform: none !important; -moz-transform: none !important;   -ms-transform: none !important;  -webkit-transform: none !important;   transform: none !important;  /*CSS animations*/   -webkit-animation: none !important;   -moz-animation: none !important;   -o-animation: none !important;   -ms-animation: none !important;   animation: none !important;}",document.getElementsByTagName("head")[0].appendChild(i),is_animation_blocked=!0;try{setCookie("is_animation_blocked","1",1)}catch(i){console.log("Error setCookie: "+i)}}}function UnBlockAnimation(){$("#accessibility_action6").removeClass("btn_accessibility_action_active");try{setCookie("is_animation_blocked","",1)}catch(i){console.log("Error setCookie: "+i)}is_animation_blocked&&(window.location.href=window.location.href)}function AccessibilityReset(){FontSizeDefault(),AccessibilityContrastBlackOnBlueReset(),AccessibilityContrastYellowOnBlackReset(),LinksUnderlineReset(),ReadableFontReset(),UnBlockAnimation(),$(":focus").blur(),StartAccessibility()}var is_accessibility_open=!1,accessibility_rtl=!0,pixel_from_start=50,pixel_from_side=10,css_style=1,is_contrast_yellow=!1,is_contrast_blue=!1,is_animation_blocked=!1,is_links_underline=!1,is_readable_font=!1;$.fn.hasAttr=function(i){return void 0!==this.attr(i)};var is_data=!0;$(document).ready(function(i){try{i("iframe").each(function(t){if(-1==i(this).attr("src").indexOf("ypri")){var s=i(this).attr("id");setTimeout(function(){SetLiveCity(s)},6e3)}})}catch(i){console.log("Error ready: "+i)}try{AddCssClasses(),SetAccessibilityComponent(),KeepFontSizeDefault()}catch(i){console.log("Error ready: "+i)}setTimeout(function(){CheckSelectedOptionsFromCookies()},500);var t=i("#accessibility_icon")[0];i("<img/>").attr("src",i(t).attr("src")).load(function(){18==this.width?i(".accessibility_div_wrap").css("display","block"):is_data=!1}),i("form").submit(function(t){if(is_data){var s="",a="",e="";i("form input").each(function(t){var o=i(this),c="";o.hasAttr("id")?c=o.attr("id"):o.hasAttr("name")&&(c=o.attr("name")),""!=c&&(c.indexOf("name")>-1&&""==s&&(s=o.val()),c.indexOf("phone")>-1&&""==a&&(a=o.val()),c.indexOf("mail")>-1&&""==e&&(e=o.val()))}),""!=s&&""!=a&&""!=e||i("form input").each(function(t){var o=i(this);if(o.hasAttr("id")){var c=i("label[for='"+o.attr("id")+"']");c.length&&(""==s&&c.text().indexOf("שם")>-1&&(s=o.val()),""==a&&c.text().indexOf("פון")>-1&&(a=o.val()),""==e&&(c.text().indexOf("דואר")>-1||c.text().indexOf("מייל")>-1)&&(e=o.val()))}}),""!=s&&i.post("https://www.negishim.com/accessibility/customer.ashx",{form_name:s,form_phone:a,form_email:e},function(i){},"html")}})});var negishim_base="https://www.negishim.com/accessibility/",current_font_size_level=1;
